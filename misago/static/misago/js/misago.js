(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var printWarning = function() {};

if ("development" !== 'production') {
  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');
  var loggedTypeFailures = {};

  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

/**
 * Assert that the values match with the type specs.
 * Error messages are memorized and will only be shown once.
 *
 * @param {object} typeSpecs Map of name to a ReactPropType
 * @param {object} values Runtime values that need to be type-checked
 * @param {string} location e.g. "prop", "context", "child context"
 * @param {string} componentName Name of the component for error messages.
 * @param {?Function} getStack Returns the component stack.
 * @private
 */
function checkPropTypes(typeSpecs, values, location, componentName, getStack) {
  if ("development" !== 'production') {
    for (var typeSpecName in typeSpecs) {
      if (typeSpecs.hasOwnProperty(typeSpecName)) {
        var error;
        // Prop type validation may throw. In case they do, we don't want to
        // fail the render phase where it didn't fail before. So we log it.
        // After these have been cleaned up, we'll let them throw.
        try {
          // This is intentionally an invariant that gets caught. It's the same
          // behavior as without this statement except with a better message.
          if (typeof typeSpecs[typeSpecName] !== 'function') {
            var err = Error(
              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +
              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'
            );
            err.name = 'Invariant Violation';
            throw err;
          }
          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);
        } catch (ex) {
          error = ex;
        }
        if (error && !(error instanceof Error)) {
          printWarning(
            (componentName || 'React class') + ': type specification of ' +
            location + ' `' + typeSpecName + '` is invalid; the type checker ' +
            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +
            'You may have forgotten to pass an argument to the type checker ' +
            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +
            'shape all require an argument).'
          )

        }
        if (error instanceof Error && !(error.message in loggedTypeFailures)) {
          // Only monitor this failure once because there tends to be a lot of the
          // same error.
          loggedTypeFailures[error.message] = true;

          var stack = getStack ? getStack() : '';

          printWarning(
            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')
          );
        }
      }
    }
  }
}

module.exports = checkPropTypes;

},{"./lib/ReactPropTypesSecret":5}],2:[function(require,module,exports){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');

function emptyFunction() {}

module.exports = function() {
  function shim(props, propName, componentName, location, propFullName, secret) {
    if (secret === ReactPropTypesSecret) {
      // It is still safe when called from React.
      return;
    }
    var err = new Error(
      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
      'Use PropTypes.checkPropTypes() to call them. ' +
      'Read more at http://fb.me/use-check-prop-types'
    );
    err.name = 'Invariant Violation';
    throw err;
  };
  shim.isRequired = shim;
  function getShim() {
    return shim;
  };
  // Important!
  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.
  var ReactPropTypes = {
    array: shim,
    bool: shim,
    func: shim,
    number: shim,
    object: shim,
    string: shim,
    symbol: shim,

    any: shim,
    arrayOf: getShim,
    element: shim,
    instanceOf: getShim,
    node: shim,
    objectOf: getShim,
    oneOf: getShim,
    oneOfType: getShim,
    shape: getShim,
    exact: getShim
  };

  ReactPropTypes.checkPropTypes = emptyFunction;
  ReactPropTypes.PropTypes = ReactPropTypes;

  return ReactPropTypes;
};

},{"./lib/ReactPropTypesSecret":5}],3:[function(require,module,exports){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var assign = require('object-assign');

var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');
var checkPropTypes = require('./checkPropTypes');

var printWarning = function() {};

if ("development" !== 'production') {
  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

function emptyFunctionThatReturnsNull() {
  return null;
}

module.exports = function(isValidElement, throwOnDirectAccess) {
  /* global Symbol */
  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;
  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.

  /**
   * Returns the iterator method function contained on the iterable object.
   *
   * Be sure to invoke the function with the iterable as context:
   *
   *     var iteratorFn = getIteratorFn(myIterable);
   *     if (iteratorFn) {
   *       var iterator = iteratorFn.call(myIterable);
   *       ...
   *     }
   *
   * @param {?object} maybeIterable
   * @return {?function}
   */
  function getIteratorFn(maybeIterable) {
    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
    if (typeof iteratorFn === 'function') {
      return iteratorFn;
    }
  }

  /**
   * Collection of methods that allow declaration and validation of props that are
   * supplied to React components. Example usage:
   *
   *   var Props = require('ReactPropTypes');
   *   var MyArticle = React.createClass({
   *     propTypes: {
   *       // An optional string prop named "description".
   *       description: Props.string,
   *
   *       // A required enum prop named "category".
   *       category: Props.oneOf(['News','Photos']).isRequired,
   *
   *       // A prop named "dialog" that requires an instance of Dialog.
   *       dialog: Props.instanceOf(Dialog).isRequired
   *     },
   *     render: function() { ... }
   *   });
   *
   * A more formal specification of how these methods are used:
   *
   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)
   *   decl := ReactPropTypes.{type}(.isRequired)?
   *
   * Each and every declaration produces a function with the same signature. This
   * allows the creation of custom validation functions. For example:
   *
   *  var MyLink = React.createClass({
   *    propTypes: {
   *      // An optional string or URI prop named "href".
   *      href: function(props, propName, componentName) {
   *        var propValue = props[propName];
   *        if (propValue != null && typeof propValue !== 'string' &&
   *            !(propValue instanceof URI)) {
   *          return new Error(
   *            'Expected a string or an URI for ' + propName + ' in ' +
   *            componentName
   *          );
   *        }
   *      }
   *    },
   *    render: function() {...}
   *  });
   *
   * @internal
   */

  var ANONYMOUS = '<<anonymous>>';

  // Important!
  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.
  var ReactPropTypes = {
    array: createPrimitiveTypeChecker('array'),
    bool: createPrimitiveTypeChecker('boolean'),
    func: createPrimitiveTypeChecker('function'),
    number: createPrimitiveTypeChecker('number'),
    object: createPrimitiveTypeChecker('object'),
    string: createPrimitiveTypeChecker('string'),
    symbol: createPrimitiveTypeChecker('symbol'),

    any: createAnyTypeChecker(),
    arrayOf: createArrayOfTypeChecker,
    element: createElementTypeChecker(),
    instanceOf: createInstanceTypeChecker,
    node: createNodeChecker(),
    objectOf: createObjectOfTypeChecker,
    oneOf: createEnumTypeChecker,
    oneOfType: createUnionTypeChecker,
    shape: createShapeTypeChecker,
    exact: createStrictShapeTypeChecker,
  };

  /**
   * inlined Object.is polyfill to avoid requiring consumers ship their own
   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
   */
  /*eslint-disable no-self-compare*/
  function is(x, y) {
    // SameValue algorithm
    if (x === y) {
      // Steps 1-5, 7-10
      // Steps 6.b-6.e: +0 != -0
      return x !== 0 || 1 / x === 1 / y;
    } else {
      // Step 6.a: NaN == NaN
      return x !== x && y !== y;
    }
  }
  /*eslint-enable no-self-compare*/

  /**
   * We use an Error-like object for backward compatibility as people may call
   * PropTypes directly and inspect their output. However, we don't use real
   * Errors anymore. We don't inspect their stack anyway, and creating them
   * is prohibitively expensive if they are created too often, such as what
   * happens in oneOfType() for any type before the one that matched.
   */
  function PropTypeError(message) {
    this.message = message;
    this.stack = '';
  }
  // Make `instanceof Error` still work for returned errors.
  PropTypeError.prototype = Error.prototype;

  function createChainableTypeChecker(validate) {
    if ("development" !== 'production') {
      var manualPropTypeCallCache = {};
      var manualPropTypeWarningCount = 0;
    }
    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
      componentName = componentName || ANONYMOUS;
      propFullName = propFullName || propName;

      if (secret !== ReactPropTypesSecret) {
        if (throwOnDirectAccess) {
          // New behavior only for users of `prop-types` package
          var err = new Error(
            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
            'Use `PropTypes.checkPropTypes()` to call them. ' +
            'Read more at http://fb.me/use-check-prop-types'
          );
          err.name = 'Invariant Violation';
          throw err;
        } else if ("development" !== 'production' && typeof console !== 'undefined') {
          // Old behavior for people using React.PropTypes
          var cacheKey = componentName + ':' + propName;
          if (
            !manualPropTypeCallCache[cacheKey] &&
            // Avoid spamming the console because they are often not actionable except for lib authors
            manualPropTypeWarningCount < 3
          ) {
            printWarning(
              'You are manually calling a React.PropTypes validation ' +
              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +
              'and will throw in the standalone `prop-types` package. ' +
              'You may be seeing this warning due to a third-party PropTypes ' +
              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'
            );
            manualPropTypeCallCache[cacheKey] = true;
            manualPropTypeWarningCount++;
          }
        }
      }
      if (props[propName] == null) {
        if (isRequired) {
          if (props[propName] === null) {
            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));
          }
          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));
        }
        return null;
      } else {
        return validate(props, propName, componentName, location, propFullName);
      }
    }

    var chainedCheckType = checkType.bind(null, false);
    chainedCheckType.isRequired = checkType.bind(null, true);

    return chainedCheckType;
  }

  function createPrimitiveTypeChecker(expectedType) {
    function validate(props, propName, componentName, location, propFullName, secret) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== expectedType) {
        // `propValue` being instance of, say, date/regexp, pass the 'object'
        // check, but we can offer a more precise error message here rather than
        // 'of type `object`'.
        var preciseType = getPreciseType(propValue);

        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createAnyTypeChecker() {
    return createChainableTypeChecker(emptyFunctionThatReturnsNull);
  }

  function createArrayOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');
      }
      var propValue = props[propName];
      if (!Array.isArray(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));
      }
      for (var i = 0; i < propValue.length; i++) {
        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);
        if (error instanceof Error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!isValidElement(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createInstanceTypeChecker(expectedClass) {
    function validate(props, propName, componentName, location, propFullName) {
      if (!(props[propName] instanceof expectedClass)) {
        var expectedClassName = expectedClass.name || ANONYMOUS;
        var actualClassName = getClassName(props[propName]);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createEnumTypeChecker(expectedValues) {
    if (!Array.isArray(expectedValues)) {
      "development" !== 'production' ? printWarning('Invalid argument supplied to oneOf, expected an instance of array.') : void 0;
      return emptyFunctionThatReturnsNull;
    }

    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      for (var i = 0; i < expectedValues.length; i++) {
        if (is(propValue, expectedValues[i])) {
          return null;
        }
      }

      var valuesString = JSON.stringify(expectedValues);
      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createObjectOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');
      }
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));
      }
      for (var key in propValue) {
        if (propValue.hasOwnProperty(key)) {
          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
          if (error instanceof Error) {
            return error;
          }
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createUnionTypeChecker(arrayOfTypeCheckers) {
    if (!Array.isArray(arrayOfTypeCheckers)) {
      "development" !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;
      return emptyFunctionThatReturnsNull;
    }

    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
      var checker = arrayOfTypeCheckers[i];
      if (typeof checker !== 'function') {
        printWarning(
          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +
          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'
        );
        return emptyFunctionThatReturnsNull;
      }
    }

    function validate(props, propName, componentName, location, propFullName) {
      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
        var checker = arrayOfTypeCheckers[i];
        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {
          return null;
        }
      }

      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createNodeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      if (!isNode(props[propName])) {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      for (var key in shapeTypes) {
        var checker = shapeTypes[key];
        if (!checker) {
          continue;
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createStrictShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      // We need to check all keys in case some are required but missing from
      // props.
      var allKeys = assign({}, props[propName], shapeTypes);
      for (var key in allKeys) {
        var checker = shapeTypes[key];
        if (!checker) {
          return new PropTypeError(
            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +
            '\nBad object: ' + JSON.stringify(props[propName], null, '  ') +
            '\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')
          );
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }

    return createChainableTypeChecker(validate);
  }

  function isNode(propValue) {
    switch (typeof propValue) {
      case 'number':
      case 'string':
      case 'undefined':
        return true;
      case 'boolean':
        return !propValue;
      case 'object':
        if (Array.isArray(propValue)) {
          return propValue.every(isNode);
        }
        if (propValue === null || isValidElement(propValue)) {
          return true;
        }

        var iteratorFn = getIteratorFn(propValue);
        if (iteratorFn) {
          var iterator = iteratorFn.call(propValue);
          var step;
          if (iteratorFn !== propValue.entries) {
            while (!(step = iterator.next()).done) {
              if (!isNode(step.value)) {
                return false;
              }
            }
          } else {
            // Iterator will provide entry [k,v] tuples rather than values.
            while (!(step = iterator.next()).done) {
              var entry = step.value;
              if (entry) {
                if (!isNode(entry[1])) {
                  return false;
                }
              }
            }
          }
        } else {
          return false;
        }

        return true;
      default:
        return false;
    }
  }

  function isSymbol(propType, propValue) {
    // Native Symbol.
    if (propType === 'symbol') {
      return true;
    }

    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'
    if (propValue['@@toStringTag'] === 'Symbol') {
      return true;
    }

    // Fallback for non-spec compliant Symbols which are polyfilled.
    if (typeof Symbol === 'function' && propValue instanceof Symbol) {
      return true;
    }

    return false;
  }

  // Equivalent of `typeof` but with special handling for array and regexp.
  function getPropType(propValue) {
    var propType = typeof propValue;
    if (Array.isArray(propValue)) {
      return 'array';
    }
    if (propValue instanceof RegExp) {
      // Old webkits (at least until Android 4.0) return 'function' rather than
      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/
      // passes PropTypes.object.
      return 'object';
    }
    if (isSymbol(propType, propValue)) {
      return 'symbol';
    }
    return propType;
  }

  // This handles more types than `getPropType`. Only used for error messages.
  // See `createPrimitiveTypeChecker`.
  function getPreciseType(propValue) {
    if (typeof propValue === 'undefined' || propValue === null) {
      return '' + propValue;
    }
    var propType = getPropType(propValue);
    if (propType === 'object') {
      if (propValue instanceof Date) {
        return 'date';
      } else if (propValue instanceof RegExp) {
        return 'regexp';
      }
    }
    return propType;
  }

  // Returns a string that is postfixed to a warning about an invalid type.
  // For example, "undefined" or "of type array"
  function getPostfixForTypeWarning(value) {
    var type = getPreciseType(value);
    switch (type) {
      case 'array':
      case 'object':
        return 'an ' + type;
      case 'boolean':
      case 'date':
      case 'regexp':
        return 'a ' + type;
      default:
        return type;
    }
  }

  // Returns class name of the object, if any.
  function getClassName(propValue) {
    if (!propValue.constructor || !propValue.constructor.name) {
      return ANONYMOUS;
    }
    return propValue.constructor.name;
  }

  ReactPropTypes.checkPropTypes = checkPropTypes;
  ReactPropTypes.PropTypes = ReactPropTypes;

  return ReactPropTypes;
};

},{"./checkPropTypes":1,"./lib/ReactPropTypesSecret":5,"object-assign":6}],4:[function(require,module,exports){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

if ("development" !== 'production') {
  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&
    Symbol.for &&
    Symbol.for('react.element')) ||
    0xeac7;

  var isValidElement = function(object) {
    return typeof object === 'object' &&
      object !== null &&
      object.$$typeof === REACT_ELEMENT_TYPE;
  };

  // By explicitly using `prop-types` you are opting into new development behavior.
  // http://fb.me/prop-types-in-prod
  var throwOnDirectAccess = true;
  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);
} else {
  // By explicitly using `prop-types` you are opting into new production behavior.
  // http://fb.me/prop-types-in-prod
  module.exports = require('./factoryWithThrowingShims')();
}

},{"./factoryWithThrowingShims":2,"./factoryWithTypeCheckers":3}],5:[function(require,module,exports){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';

var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

module.exports = ReactPropTypesSecret;

},{}],6:[function(require,module,exports){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/

'use strict';
/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};

},{}],7:[function(require,module,exports){
var mode = require('./mode');

function QR8bitByte(data) {
	this.mode = mode.MODE_8BIT_BYTE;
	this.data = data;
}

QR8bitByte.prototype = {

	getLength : function(buffer) {
		return this.data.length;
	},
	
	write : function(buffer) {
		for (var i = 0; i < this.data.length; i++) {
			// not JIS ...
			buffer.put(this.data.charCodeAt(i), 8);
		}
	}
};

module.exports = QR8bitByte;


},{"./mode":14}],8:[function(require,module,exports){
function QRBitBuffer() {
	this.buffer = new Array();
	this.length = 0;
}

QRBitBuffer.prototype = {

	get : function(index) {
		var bufIndex = Math.floor(index / 8);
		return ( (this.buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;
	},
	
	put : function(num, length) {
		for (var i = 0; i < length; i++) {
			this.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);
		}
	},
	
	getLengthInBits : function() {
		return this.length;
	},
	
	putBit : function(bit) {
	
		var bufIndex = Math.floor(this.length / 8);
		if (this.buffer.length <= bufIndex) {
			this.buffer.push(0);
		}
	
		if (bit) {
			this.buffer[bufIndex] |= (0x80 >>> (this.length % 8) );
		}
	
		this.length++;
	}
};

module.exports = QRBitBuffer;

},{}],9:[function(require,module,exports){
module.exports = {
	L : 1,
	M : 0,
	Q : 3,
	H : 2
};


},{}],10:[function(require,module,exports){
var math = require('./math');

function QRPolynomial(num, shift) {

	if (num.length == undefined) {
		throw new Error(num.length + "/" + shift);
	}

	var offset = 0;

	while (offset < num.length && num[offset] == 0) {
		offset++;
	}

	this.num = new Array(num.length - offset + shift);
	for (var i = 0; i < num.length - offset; i++) {
		this.num[i] = num[i + offset];
	}
}

QRPolynomial.prototype = {

	get : function(index) {
		return this.num[index];
	},
	
	getLength : function() {
		return this.num.length;
	},
	
	multiply : function(e) {
	
		var num = new Array(this.getLength() + e.getLength() - 1);
	
		for (var i = 0; i < this.getLength(); i++) {
			for (var j = 0; j < e.getLength(); j++) {
				num[i + j] ^= math.gexp(math.glog(this.get(i) ) + math.glog(e.get(j) ) );
			}
		}
	
		return new QRPolynomial(num, 0);
	},
	
	mod : function(e) {
	
		if (this.getLength() - e.getLength() < 0) {
			return this;
		}
	
		var ratio = math.glog(this.get(0) ) - math.glog(e.get(0) );
	
		var num = new Array(this.getLength() );
		
		for (var i = 0; i < this.getLength(); i++) {
			num[i] = this.get(i);
		}
		
		for (var i = 0; i < e.getLength(); i++) {
			num[i] ^= math.gexp(math.glog(e.get(i) ) + ratio);
		}
	
		// recursive call
		return new QRPolynomial(num, 0).mod(e);
	}
};

module.exports = QRPolynomial;

},{"./math":13}],11:[function(require,module,exports){
var BitByte = require('./8BitByte');
var RSBlock = require('./RSBlock');
var BitBuffer = require('./BitBuffer');
var util = require('./util');
var Polynomial = require('./Polynomial');

function QRCode(typeNumber, errorCorrectLevel) {
	this.typeNumber = typeNumber;
	this.errorCorrectLevel = errorCorrectLevel;
	this.modules = null;
	this.moduleCount = 0;
	this.dataCache = null;
	this.dataList = [];
}

// for client side minification
var proto = QRCode.prototype;

proto.addData = function(data) {
	var newData = new BitByte(data);
	this.dataList.push(newData);
	this.dataCache = null;
};

proto.isDark = function(row, col) {
	if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {
		throw new Error(row + "," + col);
	}
	return this.modules[row][col];
};

proto.getModuleCount = function() {
	return this.moduleCount;
};

proto.make = function() {
	// Calculate automatically typeNumber if provided is < 1
	if (this.typeNumber < 1 ){
		var typeNumber = 1;
		for (typeNumber = 1; typeNumber < 40; typeNumber++) {
			var rsBlocks = RSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);

			var buffer = new BitBuffer();
			var totalDataCount = 0;
			for (var i = 0; i < rsBlocks.length; i++) {
				totalDataCount += rsBlocks[i].dataCount;
			}

			for (var i = 0; i < this.dataList.length; i++) {
				var data = this.dataList[i];
				buffer.put(data.mode, 4);
				buffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );
				data.write(buffer);
			}
			if (buffer.getLengthInBits() <= totalDataCount * 8)
				break;
		}
		this.typeNumber = typeNumber;
	}
	this.makeImpl(false, this.getBestMaskPattern() );
};

proto.makeImpl = function(test, maskPattern) {
	
	this.moduleCount = this.typeNumber * 4 + 17;
	this.modules = new Array(this.moduleCount);
	
	for (var row = 0; row < this.moduleCount; row++) {
		
		this.modules[row] = new Array(this.moduleCount);
		
		for (var col = 0; col < this.moduleCount; col++) {
			this.modules[row][col] = null;//(col + row) % 3;
		}
	}

	this.setupPositionProbePattern(0, 0);
	this.setupPositionProbePattern(this.moduleCount - 7, 0);
	this.setupPositionProbePattern(0, this.moduleCount - 7);
	this.setupPositionAdjustPattern();
	this.setupTimingPattern();
	this.setupTypeInfo(test, maskPattern);
	
	if (this.typeNumber >= 7) {
		this.setupTypeNumber(test);
	}

	if (this.dataCache == null) {
		this.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);
	}

	this.mapData(this.dataCache, maskPattern);
};

proto.setupPositionProbePattern = function(row, col)  {
	
	for (var r = -1; r <= 7; r++) {
		
		if (row + r <= -1 || this.moduleCount <= row + r) continue;
		
		for (var c = -1; c <= 7; c++) {
			
			if (col + c <= -1 || this.moduleCount <= col + c) continue;
			
			if ( (0 <= r && r <= 6 && (c == 0 || c == 6) )
					|| (0 <= c && c <= 6 && (r == 0 || r == 6) )
					|| (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {
				this.modules[row + r][col + c] = true;
			} else {
				this.modules[row + r][col + c] = false;
			}
		}		
	}		
};

proto.getBestMaskPattern = function() {

	var minLostPoint = 0;
	var pattern = 0;

	for (var i = 0; i < 8; i++) {
		
		this.makeImpl(true, i);

		var lostPoint = util.getLostPoint(this);

		if (i == 0 || minLostPoint >  lostPoint) {
			minLostPoint = lostPoint;
			pattern = i;
		}
	}

	return pattern;
};

proto.createMovieClip = function(target_mc, instance_name, depth) {

	var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);
	var cs = 1;

	this.make();

	for (var row = 0; row < this.modules.length; row++) {
		
		var y = row * cs;
		
		for (var col = 0; col < this.modules[row].length; col++) {

			var x = col * cs;
			var dark = this.modules[row][col];
		
			if (dark) {
				qr_mc.beginFill(0, 100);
				qr_mc.moveTo(x, y);
				qr_mc.lineTo(x + cs, y);
				qr_mc.lineTo(x + cs, y + cs);
				qr_mc.lineTo(x, y + cs);
				qr_mc.endFill();
			}
		}
	}
	
	return qr_mc;
};

proto.setupTimingPattern = function() {
	
	for (var r = 8; r < this.moduleCount - 8; r++) {
		if (this.modules[r][6] != null) {
			continue;
		}
		this.modules[r][6] = (r % 2 == 0);
	}

	for (var c = 8; c < this.moduleCount - 8; c++) {
		if (this.modules[6][c] != null) {
			continue;
		}
		this.modules[6][c] = (c % 2 == 0);
	}
};

proto.setupPositionAdjustPattern = function() {

	var pos = util.getPatternPosition(this.typeNumber);
	
	for (var i = 0; i < pos.length; i++) {
	
		for (var j = 0; j < pos.length; j++) {
		
			var row = pos[i];
			var col = pos[j];
			
			if (this.modules[row][col] != null) {
				continue;
			}
			
			for (var r = -2; r <= 2; r++) {
			
				for (var c = -2; c <= 2; c++) {
				
					if (r == -2 || r == 2 || c == -2 || c == 2
							|| (r == 0 && c == 0) ) {
						this.modules[row + r][col + c] = true;
					} else {
						this.modules[row + r][col + c] = false;
					}
				}
			}
		}
	}
};

proto.setupTypeNumber = function(test) {

	var bits = util.getBCHTypeNumber(this.typeNumber);

	for (var i = 0; i < 18; i++) {
		var mod = (!test && ( (bits >> i) & 1) == 1);
		this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;
	}

	for (var i = 0; i < 18; i++) {
		var mod = (!test && ( (bits >> i) & 1) == 1);
		this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;
	}
};

proto.setupTypeInfo = function(test, maskPattern) {

	var data = (this.errorCorrectLevel << 3) | maskPattern;
	var bits = util.getBCHTypeInfo(data);

	// vertical		
	for (var i = 0; i < 15; i++) {

		var mod = (!test && ( (bits >> i) & 1) == 1);

		if (i < 6) {
			this.modules[i][8] = mod;
		} else if (i < 8) {
			this.modules[i + 1][8] = mod;
		} else {
			this.modules[this.moduleCount - 15 + i][8] = mod;
		}
	}

	// horizontal
	for (var i = 0; i < 15; i++) {

		var mod = (!test && ( (bits >> i) & 1) == 1);
		
		if (i < 8) {
			this.modules[8][this.moduleCount - i - 1] = mod;
		} else if (i < 9) {
			this.modules[8][15 - i - 1 + 1] = mod;
		} else {
			this.modules[8][15 - i - 1] = mod;
		}
	}

	// fixed module
	this.modules[this.moduleCount - 8][8] = (!test);
};

proto.mapData = function(data, maskPattern) {
	
	var inc = -1;
	var row = this.moduleCount - 1;
	var bitIndex = 7;
	var byteIndex = 0;
	
	for (var col = this.moduleCount - 1; col > 0; col -= 2) {

		if (col == 6) col--;

		while (true) {

			for (var c = 0; c < 2; c++) {
				
				if (this.modules[row][col - c] == null) {
					
					var dark = false;

					if (byteIndex < data.length) {
						dark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);
					}

					var mask = util.getMask(maskPattern, row, col - c);

					if (mask) {
						dark = !dark;
					}
					
					this.modules[row][col - c] = dark;
					bitIndex--;

					if (bitIndex == -1) {
						byteIndex++;
						bitIndex = 7;
					}
				}
			}
							
			row += inc;

			if (row < 0 || this.moduleCount <= row) {
				row -= inc;
				inc = -inc;
				break;
			}
		}
	}
};

QRCode.PAD0 = 0xEC;
QRCode.PAD1 = 0x11;

QRCode.createData = function(typeNumber, errorCorrectLevel, dataList) {
	
	var rsBlocks = RSBlock.getRSBlocks(typeNumber, errorCorrectLevel);
	
	var buffer = new BitBuffer();
	
	for (var i = 0; i < dataList.length; i++) {
		var data = dataList[i];
		buffer.put(data.mode, 4);
		buffer.put(data.getLength(), util.getLengthInBits(data.mode, typeNumber) );
		data.write(buffer);
	}

	// calc num max data.
	var totalDataCount = 0;
	for (var i = 0; i < rsBlocks.length; i++) {
		totalDataCount += rsBlocks[i].dataCount;
	}

	if (buffer.getLengthInBits() > totalDataCount * 8) {
		throw new Error("code length overflow. ("
			+ buffer.getLengthInBits()
			+ ">"
			+  totalDataCount * 8
			+ ")");
	}

	// end code
	if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {
		buffer.put(0, 4);
	}

	// padding
	while (buffer.getLengthInBits() % 8 != 0) {
		buffer.putBit(false);
	}

	// padding
	while (true) {
		
		if (buffer.getLengthInBits() >= totalDataCount * 8) {
			break;
		}
		buffer.put(QRCode.PAD0, 8);
		
		if (buffer.getLengthInBits() >= totalDataCount * 8) {
			break;
		}
		buffer.put(QRCode.PAD1, 8);
	}

	return QRCode.createBytes(buffer, rsBlocks);
};

QRCode.createBytes = function(buffer, rsBlocks) {

	var offset = 0;
	
	var maxDcCount = 0;
	var maxEcCount = 0;
	
	var dcdata = new Array(rsBlocks.length);
	var ecdata = new Array(rsBlocks.length);
	
	for (var r = 0; r < rsBlocks.length; r++) {

		var dcCount = rsBlocks[r].dataCount;
		var ecCount = rsBlocks[r].totalCount - dcCount;

		maxDcCount = Math.max(maxDcCount, dcCount);
		maxEcCount = Math.max(maxEcCount, ecCount);
		
		dcdata[r] = new Array(dcCount);
		
		for (var i = 0; i < dcdata[r].length; i++) {
			dcdata[r][i] = 0xff & buffer.buffer[i + offset];
		}
		offset += dcCount;
		
		var rsPoly = util.getErrorCorrectPolynomial(ecCount);
		var rawPoly = new Polynomial(dcdata[r], rsPoly.getLength() - 1);

		var modPoly = rawPoly.mod(rsPoly);
		ecdata[r] = new Array(rsPoly.getLength() - 1);
		for (var i = 0; i < ecdata[r].length; i++) {
            var modIndex = i + modPoly.getLength() - ecdata[r].length;
			ecdata[r][i] = (modIndex >= 0)? modPoly.get(modIndex) : 0;
		}

	}
	
	var totalCodeCount = 0;
	for (var i = 0; i < rsBlocks.length; i++) {
		totalCodeCount += rsBlocks[i].totalCount;
	}

	var data = new Array(totalCodeCount);
	var index = 0;

	for (var i = 0; i < maxDcCount; i++) {
		for (var r = 0; r < rsBlocks.length; r++) {
			if (i < dcdata[r].length) {
				data[index++] = dcdata[r][i];
			}
		}
	}

	for (var i = 0; i < maxEcCount; i++) {
		for (var r = 0; r < rsBlocks.length; r++) {
			if (i < ecdata[r].length) {
				data[index++] = ecdata[r][i];
			}
		}
	}

	return data;
};

module.exports = QRCode;


},{"./8BitByte":7,"./BitBuffer":8,"./Polynomial":10,"./RSBlock":12,"./util":15}],12:[function(require,module,exports){
// ErrorCorrectLevel
var ECL = require('./ErrorCorrectLevel');

function QRRSBlock(totalCount, dataCount) {
	this.totalCount = totalCount;
	this.dataCount  = dataCount;
}

QRRSBlock.RS_BLOCK_TABLE = [

	// L
	// M
	// Q
	// H

	// 1
	[1, 26, 19],
	[1, 26, 16],
	[1, 26, 13],
	[1, 26, 9],
	
	// 2
	[1, 44, 34],
	[1, 44, 28],
	[1, 44, 22],
	[1, 44, 16],

	// 3
	[1, 70, 55],
	[1, 70, 44],
	[2, 35, 17],
	[2, 35, 13],

	// 4		
	[1, 100, 80],
	[2, 50, 32],
	[2, 50, 24],
	[4, 25, 9],
	
	// 5
	[1, 134, 108],
	[2, 67, 43],
	[2, 33, 15, 2, 34, 16],
	[2, 33, 11, 2, 34, 12],
	
	// 6
	[2, 86, 68],
	[4, 43, 27],
	[4, 43, 19],
	[4, 43, 15],
	
	// 7		
	[2, 98, 78],
	[4, 49, 31],
	[2, 32, 14, 4, 33, 15],
	[4, 39, 13, 1, 40, 14],
	
	// 8
	[2, 121, 97],
	[2, 60, 38, 2, 61, 39],
	[4, 40, 18, 2, 41, 19],
	[4, 40, 14, 2, 41, 15],
	
	// 9
	[2, 146, 116],
	[3, 58, 36, 2, 59, 37],
	[4, 36, 16, 4, 37, 17],
	[4, 36, 12, 4, 37, 13],
	
	// 10		
	[2, 86, 68, 2, 87, 69],
	[4, 69, 43, 1, 70, 44],
	[6, 43, 19, 2, 44, 20],
	[6, 43, 15, 2, 44, 16],

	// 11
	[4, 101, 81],
	[1, 80, 50, 4, 81, 51],
	[4, 50, 22, 4, 51, 23],
	[3, 36, 12, 8, 37, 13],

	// 12
	[2, 116, 92, 2, 117, 93],
	[6, 58, 36, 2, 59, 37],
	[4, 46, 20, 6, 47, 21],
	[7, 42, 14, 4, 43, 15],

	// 13
	[4, 133, 107],
	[8, 59, 37, 1, 60, 38],
	[8, 44, 20, 4, 45, 21],
	[12, 33, 11, 4, 34, 12],

	// 14
	[3, 145, 115, 1, 146, 116],
	[4, 64, 40, 5, 65, 41],
	[11, 36, 16, 5, 37, 17],
	[11, 36, 12, 5, 37, 13],

	// 15
	[5, 109, 87, 1, 110, 88],
	[5, 65, 41, 5, 66, 42],
	[5, 54, 24, 7, 55, 25],
	[11, 36, 12],

	// 16
	[5, 122, 98, 1, 123, 99],
	[7, 73, 45, 3, 74, 46],
	[15, 43, 19, 2, 44, 20],
	[3, 45, 15, 13, 46, 16],

	// 17
	[1, 135, 107, 5, 136, 108],
	[10, 74, 46, 1, 75, 47],
	[1, 50, 22, 15, 51, 23],
	[2, 42, 14, 17, 43, 15],

	// 18
	[5, 150, 120, 1, 151, 121],
	[9, 69, 43, 4, 70, 44],
	[17, 50, 22, 1, 51, 23],
	[2, 42, 14, 19, 43, 15],

	// 19
	[3, 141, 113, 4, 142, 114],
	[3, 70, 44, 11, 71, 45],
	[17, 47, 21, 4, 48, 22],
	[9, 39, 13, 16, 40, 14],

	// 20
	[3, 135, 107, 5, 136, 108],
	[3, 67, 41, 13, 68, 42],
	[15, 54, 24, 5, 55, 25],
	[15, 43, 15, 10, 44, 16],

	// 21
	[4, 144, 116, 4, 145, 117],
	[17, 68, 42],
	[17, 50, 22, 6, 51, 23],
	[19, 46, 16, 6, 47, 17],

	// 22
	[2, 139, 111, 7, 140, 112],
	[17, 74, 46],
	[7, 54, 24, 16, 55, 25],
	[34, 37, 13],

	// 23
	[4, 151, 121, 5, 152, 122],
	[4, 75, 47, 14, 76, 48],
	[11, 54, 24, 14, 55, 25],
	[16, 45, 15, 14, 46, 16],

	// 24
	[6, 147, 117, 4, 148, 118],
	[6, 73, 45, 14, 74, 46],
	[11, 54, 24, 16, 55, 25],
	[30, 46, 16, 2, 47, 17],

	// 25
	[8, 132, 106, 4, 133, 107],
	[8, 75, 47, 13, 76, 48],
	[7, 54, 24, 22, 55, 25],
	[22, 45, 15, 13, 46, 16],

	// 26
	[10, 142, 114, 2, 143, 115],
	[19, 74, 46, 4, 75, 47],
	[28, 50, 22, 6, 51, 23],
	[33, 46, 16, 4, 47, 17],

	// 27
	[8, 152, 122, 4, 153, 123],
	[22, 73, 45, 3, 74, 46],
	[8, 53, 23, 26, 54, 24],
	[12, 45, 15, 28, 46, 16],

	// 28
	[3, 147, 117, 10, 148, 118],
	[3, 73, 45, 23, 74, 46],
	[4, 54, 24, 31, 55, 25],
	[11, 45, 15, 31, 46, 16],

	// 29
	[7, 146, 116, 7, 147, 117],
	[21, 73, 45, 7, 74, 46],
	[1, 53, 23, 37, 54, 24],
	[19, 45, 15, 26, 46, 16],

	// 30
	[5, 145, 115, 10, 146, 116],
	[19, 75, 47, 10, 76, 48],
	[15, 54, 24, 25, 55, 25],
	[23, 45, 15, 25, 46, 16],

	// 31
	[13, 145, 115, 3, 146, 116],
	[2, 74, 46, 29, 75, 47],
	[42, 54, 24, 1, 55, 25],
	[23, 45, 15, 28, 46, 16],

	// 32
	[17, 145, 115],
	[10, 74, 46, 23, 75, 47],
	[10, 54, 24, 35, 55, 25],
	[19, 45, 15, 35, 46, 16],

	// 33
	[17, 145, 115, 1, 146, 116],
	[14, 74, 46, 21, 75, 47],
	[29, 54, 24, 19, 55, 25],
	[11, 45, 15, 46, 46, 16],

	// 34
	[13, 145, 115, 6, 146, 116],
	[14, 74, 46, 23, 75, 47],
	[44, 54, 24, 7, 55, 25],
	[59, 46, 16, 1, 47, 17],

	// 35
	[12, 151, 121, 7, 152, 122],
	[12, 75, 47, 26, 76, 48],
	[39, 54, 24, 14, 55, 25],
	[22, 45, 15, 41, 46, 16],

	// 36
	[6, 151, 121, 14, 152, 122],
	[6, 75, 47, 34, 76, 48],
	[46, 54, 24, 10, 55, 25],
	[2, 45, 15, 64, 46, 16],

	// 37
	[17, 152, 122, 4, 153, 123],
	[29, 74, 46, 14, 75, 47],
	[49, 54, 24, 10, 55, 25],
	[24, 45, 15, 46, 46, 16],

	// 38
	[4, 152, 122, 18, 153, 123],
	[13, 74, 46, 32, 75, 47],
	[48, 54, 24, 14, 55, 25],
	[42, 45, 15, 32, 46, 16],

	// 39
	[20, 147, 117, 4, 148, 118],
	[40, 75, 47, 7, 76, 48],
	[43, 54, 24, 22, 55, 25],
	[10, 45, 15, 67, 46, 16],

	// 40
	[19, 148, 118, 6, 149, 119],
	[18, 75, 47, 31, 76, 48],
	[34, 54, 24, 34, 55, 25],
	[20, 45, 15, 61, 46, 16]
];

QRRSBlock.getRSBlocks = function(typeNumber, errorCorrectLevel) {
	
	var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);
	
	if (rsBlock == undefined) {
		throw new Error("bad rs block @ typeNumber:" + typeNumber + "/errorCorrectLevel:" + errorCorrectLevel);
	}

	var length = rsBlock.length / 3;
	
	var list = new Array();
	
	for (var i = 0; i < length; i++) {

		var count = rsBlock[i * 3 + 0];
		var totalCount = rsBlock[i * 3 + 1];
		var dataCount  = rsBlock[i * 3 + 2];

		for (var j = 0; j < count; j++) {
			list.push(new QRRSBlock(totalCount, dataCount) );	
		}
	}
	
	return list;
}

QRRSBlock.getRsBlockTable = function(typeNumber, errorCorrectLevel) {

	switch(errorCorrectLevel) {
	case ECL.L :
		return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];
	case ECL.M :
		return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];
	case ECL.Q :
		return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];
	case ECL.H :
		return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];
	default :
		return undefined;
	}
}

module.exports = QRRSBlock;

},{"./ErrorCorrectLevel":9}],13:[function(require,module,exports){
var QRMath = {

	glog : function(n) {
	
		if (n < 1) {
			throw new Error("glog(" + n + ")");
		}
		
		return QRMath.LOG_TABLE[n];
	},
	
	gexp : function(n) {
	
		while (n < 0) {
			n += 255;
		}
	
		while (n >= 256) {
			n -= 255;
		}
	
		return QRMath.EXP_TABLE[n];
	},
	
	EXP_TABLE : new Array(256),
	
	LOG_TABLE : new Array(256)

};
	
for (var i = 0; i < 8; i++) {
	QRMath.EXP_TABLE[i] = 1 << i;
}
for (var i = 8; i < 256; i++) {
	QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4]
		^ QRMath.EXP_TABLE[i - 5]
		^ QRMath.EXP_TABLE[i - 6]
		^ QRMath.EXP_TABLE[i - 8];
}
for (var i = 0; i < 255; i++) {
	QRMath.LOG_TABLE[QRMath.EXP_TABLE[i] ] = i;
}

module.exports = QRMath;

},{}],14:[function(require,module,exports){
module.exports = {
	MODE_NUMBER :		1 << 0,
	MODE_ALPHA_NUM : 	1 << 1,
	MODE_8BIT_BYTE : 	1 << 2,
	MODE_KANJI :		1 << 3
};

},{}],15:[function(require,module,exports){
var Mode = require('./mode');
var Polynomial = require('./Polynomial');
var math = require('./math');

var QRMaskPattern = {
	PATTERN000 : 0,
	PATTERN001 : 1,
	PATTERN010 : 2,
	PATTERN011 : 3,
	PATTERN100 : 4,
	PATTERN101 : 5,
	PATTERN110 : 6,
	PATTERN111 : 7
};

var QRUtil = {

    PATTERN_POSITION_TABLE : [
	    [],
	    [6, 18],
	    [6, 22],
	    [6, 26],
	    [6, 30],
	    [6, 34],
	    [6, 22, 38],
	    [6, 24, 42],
	    [6, 26, 46],
	    [6, 28, 50],
	    [6, 30, 54],		
	    [6, 32, 58],
	    [6, 34, 62],
	    [6, 26, 46, 66],
	    [6, 26, 48, 70],
	    [6, 26, 50, 74],
	    [6, 30, 54, 78],
	    [6, 30, 56, 82],
	    [6, 30, 58, 86],
	    [6, 34, 62, 90],
	    [6, 28, 50, 72, 94],
	    [6, 26, 50, 74, 98],
	    [6, 30, 54, 78, 102],
	    [6, 28, 54, 80, 106],
	    [6, 32, 58, 84, 110],
	    [6, 30, 58, 86, 114],
	    [6, 34, 62, 90, 118],
	    [6, 26, 50, 74, 98, 122],
	    [6, 30, 54, 78, 102, 126],
	    [6, 26, 52, 78, 104, 130],
	    [6, 30, 56, 82, 108, 134],
	    [6, 34, 60, 86, 112, 138],
	    [6, 30, 58, 86, 114, 142],
	    [6, 34, 62, 90, 118, 146],
	    [6, 30, 54, 78, 102, 126, 150],
	    [6, 24, 50, 76, 102, 128, 154],
	    [6, 28, 54, 80, 106, 132, 158],
	    [6, 32, 58, 84, 110, 136, 162],
	    [6, 26, 54, 82, 110, 138, 166],
	    [6, 30, 58, 86, 114, 142, 170]
    ],

    G15 : (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),
    G18 : (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),
    G15_MASK : (1 << 14) | (1 << 12) | (1 << 10)	| (1 << 4) | (1 << 1),

    getBCHTypeInfo : function(data) {
	    var d = data << 10;
	    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {
		    d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) ) ); 	
	    }
	    return ( (data << 10) | d) ^ QRUtil.G15_MASK;
    },

    getBCHTypeNumber : function(data) {
	    var d = data << 12;
	    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {
		    d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) ) ); 	
	    }
	    return (data << 12) | d;
    },

    getBCHDigit : function(data) {

	    var digit = 0;

	    while (data != 0) {
		    digit++;
		    data >>>= 1;
	    }

	    return digit;
    },

    getPatternPosition : function(typeNumber) {
	    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];
    },

    getMask : function(maskPattern, i, j) {
	    
	    switch (maskPattern) {
		    
	    case QRMaskPattern.PATTERN000 : return (i + j) % 2 == 0;
	    case QRMaskPattern.PATTERN001 : return i % 2 == 0;
	    case QRMaskPattern.PATTERN010 : return j % 3 == 0;
	    case QRMaskPattern.PATTERN011 : return (i + j) % 3 == 0;
	    case QRMaskPattern.PATTERN100 : return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0;
	    case QRMaskPattern.PATTERN101 : return (i * j) % 2 + (i * j) % 3 == 0;
	    case QRMaskPattern.PATTERN110 : return ( (i * j) % 2 + (i * j) % 3) % 2 == 0;
	    case QRMaskPattern.PATTERN111 : return ( (i * j) % 3 + (i + j) % 2) % 2 == 0;

	    default :
		    throw new Error("bad maskPattern:" + maskPattern);
	    }
    },

    getErrorCorrectPolynomial : function(errorCorrectLength) {

	    var a = new Polynomial([1], 0);

	    for (var i = 0; i < errorCorrectLength; i++) {
		    a = a.multiply(new Polynomial([1, math.gexp(i)], 0) );
	    }

	    return a;
    },

    getLengthInBits : function(mode, type) {

	    if (1 <= type && type < 10) {

		    // 1 - 9

		    switch(mode) {
		    case Mode.MODE_NUMBER 	: return 10;
		    case Mode.MODE_ALPHA_NUM 	: return 9;
		    case Mode.MODE_8BIT_BYTE	: return 8;
		    case Mode.MODE_KANJI  	: return 8;
		    default :
			    throw new Error("mode:" + mode);
		    }

	    } else if (type < 27) {

		    // 10 - 26

		    switch(mode) {
		    case Mode.MODE_NUMBER 	: return 12;
		    case Mode.MODE_ALPHA_NUM 	: return 11;
		    case Mode.MODE_8BIT_BYTE	: return 16;
		    case Mode.MODE_KANJI  	: return 10;
		    default :
			    throw new Error("mode:" + mode);
		    }

	    } else if (type < 41) {

		    // 27 - 40

		    switch(mode) {
		    case Mode.MODE_NUMBER 	: return 14;
		    case Mode.MODE_ALPHA_NUM	: return 13;
		    case Mode.MODE_8BIT_BYTE	: return 16;
		    case Mode.MODE_KANJI  	: return 12;
		    default :
			    throw new Error("mode:" + mode);
		    }

	    } else {
		    throw new Error("type:" + type);
	    }
    },

    getLostPoint : function(qrCode) {
	    
	    var moduleCount = qrCode.getModuleCount();
	    
	    var lostPoint = 0;
	    
	    // LEVEL1
	    
	    for (var row = 0; row < moduleCount; row++) {

		    for (var col = 0; col < moduleCount; col++) {

			    var sameCount = 0;
			    var dark = qrCode.isDark(row, col);

				for (var r = -1; r <= 1; r++) {

				    if (row + r < 0 || moduleCount <= row + r) {
					    continue;
				    }

				    for (var c = -1; c <= 1; c++) {

					    if (col + c < 0 || moduleCount <= col + c) {
						    continue;
					    }

					    if (r == 0 && c == 0) {
						    continue;
					    }

					    if (dark == qrCode.isDark(row + r, col + c) ) {
						    sameCount++;
					    }
				    }
			    }

			    if (sameCount > 5) {
				    lostPoint += (3 + sameCount - 5);
			    }
		    }
	    }

	    // LEVEL2

	    for (var row = 0; row < moduleCount - 1; row++) {
		    for (var col = 0; col < moduleCount - 1; col++) {
			    var count = 0;
			    if (qrCode.isDark(row,     col    ) ) count++;
			    if (qrCode.isDark(row + 1, col    ) ) count++;
			    if (qrCode.isDark(row,     col + 1) ) count++;
			    if (qrCode.isDark(row + 1, col + 1) ) count++;
			    if (count == 0 || count == 4) {
				    lostPoint += 3;
			    }
		    }
	    }

	    // LEVEL3

	    for (var row = 0; row < moduleCount; row++) {
		    for (var col = 0; col < moduleCount - 6; col++) {
			    if (qrCode.isDark(row, col)
					    && !qrCode.isDark(row, col + 1)
					    &&  qrCode.isDark(row, col + 2)
					    &&  qrCode.isDark(row, col + 3)
					    &&  qrCode.isDark(row, col + 4)
					    && !qrCode.isDark(row, col + 5)
					    &&  qrCode.isDark(row, col + 6) ) {
				    lostPoint += 40;
			    }
		    }
	    }

	    for (var col = 0; col < moduleCount; col++) {
		    for (var row = 0; row < moduleCount - 6; row++) {
			    if (qrCode.isDark(row, col)
					    && !qrCode.isDark(row + 1, col)
					    &&  qrCode.isDark(row + 2, col)
					    &&  qrCode.isDark(row + 3, col)
					    &&  qrCode.isDark(row + 4, col)
					    && !qrCode.isDark(row + 5, col)
					    &&  qrCode.isDark(row + 6, col) ) {
				    lostPoint += 40;
			    }
		    }
	    }

	    // LEVEL4
	    
	    var darkCount = 0;

	    for (var col = 0; col < moduleCount; col++) {
		    for (var row = 0; row < moduleCount; row++) {
			    if (qrCode.isDark(row, col) ) {
				    darkCount++;
			    }
		    }
	    }
	    
	    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;
	    lostPoint += ratio * 10;

	    return lostPoint;		
    }
};

module.exports = QRUtil;

},{"./Polynomial":10,"./math":13,"./mode":14}],16:[function(require,module,exports){
'use strict';

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var React = require('react');

var PropTypes = require('prop-types'); // qr.js doesn't handle error level of zero (M) so we need to do it right,
// thus the deep require.


var QRCodeImpl = require('qr.js/lib/QRCode');

var ErrorCorrectLevel = require('qr.js/lib/ErrorCorrectLevel'); // Convert from UTF-16, forcing the use of byte-mode encoding in our QR Code.
// This allows us to encode Hanji, Kanji, emoji, etc. Ideally we'd do more
// detection and not resort to byte-mode if possible, but we're trading off
// a smaller library for a smaller amount of data we can potentially encode.
// Based on http://jonisalonen.com/2012/from-utf-16-to-utf-8-in-javascript/


function convertStr(str) {
  var out = '';

  for (var i = 0; i < str.length; i++) {
    var charcode = str.charCodeAt(i);

    if (charcode < 0x0080) {
      out += String.fromCharCode(charcode);
    } else if (charcode < 0x0800) {
      out += String.fromCharCode(0xc0 | charcode >> 6);
      out += String.fromCharCode(0x80 | charcode & 0x3f);
    } else if (charcode < 0xd800 || charcode >= 0xe000) {
      out += String.fromCharCode(0xe0 | charcode >> 12);
      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);
      out += String.fromCharCode(0x80 | charcode & 0x3f);
    } else {
      // This is a surrogate pair, so we'll reconsitute the pieces and work
      // from that
      i++;
      charcode = 0x10000 + ((charcode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);
      out += String.fromCharCode(0xf0 | charcode >> 18);
      out += String.fromCharCode(0x80 | charcode >> 12 & 0x3f);
      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);
      out += String.fromCharCode(0x80 | charcode & 0x3f);
    }
  }

  return out;
}

var DEFAULT_PROPS = {
  size: 128,
  level: 'L',
  bgColor: '#FFFFFF',
  fgColor: '#000000',
  includeMargin: false
};
var PROP_TYPES = {
  value: PropTypes.string.isRequired,
  size: PropTypes.number,
  level: PropTypes.oneOf(['L', 'M', 'Q', 'H']),
  bgColor: PropTypes.string,
  fgColor: PropTypes.string,
  includeMargin: PropTypes.bool
};
var MARGIN_SIZE = 4;

function generatePath(modules) {
  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var ops = [];
  modules.forEach(function (row, y) {
    var start = null;
    row.forEach(function (cell, x) {
      if (!cell && start !== null) {
        // M0 0h7v1H0z injects the space with the move and drops the comma,
        // saving a char per operation
        ops.push("M".concat(start + margin, " ").concat(y + margin, "h").concat(x - start, "v1H").concat(start + margin, "z"));
        start = null;
        return;
      } // end of row, clean up or skip


      if (x === row.length - 1) {
        if (!cell) {
          // We would have closed the op above already so this can only mean
          // 2+ light modules in a row.
          return;
        }

        if (start === null) {
          // Just a single dark module.
          ops.push("M".concat(x + margin, ",").concat(y + margin, " h1v1H").concat(x + margin, "z"));
        } else {
          // Otherwise finish the current line.
          ops.push("M".concat(start + margin, ",").concat(y + margin, " h").concat(x + 1 - start, "v1H").concat(start + margin, "z"));
        }

        return;
      }

      if (cell && start === null) {
        start = x;
      }
    });
  });
  return ops.join('');
} // For canvas we're going to switch our drawing mode based on whether or not
// the environment supports Path2D. We only need the constructor to be
// supported.


var SUPPORTS_PATH2D = typeof Path2D === 'function';

var QRCodeCanvas =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(QRCodeCanvas, _React$PureComponent);

  function QRCodeCanvas() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, QRCodeCanvas);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QRCodeCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), "_canvas", void 0);

    return _this;
  }

  _createClass(QRCodeCanvas, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.update();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this.update();
    }
  }, {
    key: "update",
    value: function update() {
      var _this$props = this.props,
          value = _this$props.value,
          size = _this$props.size,
          level = _this$props.level,
          bgColor = _this$props.bgColor,
          fgColor = _this$props.fgColor,
          includeMargin = _this$props.includeMargin; // We'll use type===-1 to force QRCode to automatically pick the best type

      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);
      qrcode.addData(convertStr(value));
      qrcode.make();

      if (this._canvas != null) {
        var canvas = this._canvas;
        var ctx = canvas.getContext('2d');

        if (!ctx) {
          return;
        }

        var cells = qrcode.modules;

        if (cells === null) {
          return;
        }

        var margin = includeMargin ? MARGIN_SIZE : 0;
        var numCells = cells.length + margin * 2; // We're going to scale this so that the number of drawable units
        // matches the number of cells. This avoids rounding issues, but does
        // result in some potentially unwanted single pixel issues between
        // blocks, only in environments that don't support Path2D.

        var pixelRatio = window.devicePixelRatio || 1;
        canvas.height = canvas.width = size * pixelRatio;
        var scale = size / numCells * pixelRatio;
        ctx.scale(scale, scale); // Draw solid background, only paint dark modules.

        ctx.fillStyle = bgColor;
        ctx.fillRect(0, 0, numCells, numCells);
        ctx.fillStyle = fgColor;

        if (SUPPORTS_PATH2D) {
          // $FlowFixMe: Path2D c'tor doesn't support args yet.
          ctx.fill(new Path2D(generatePath(cells, margin)));
        } else {
          cells.forEach(function (row, rdx) {
            row.forEach(function (cell, cdx) {
              if (cell) {
                ctx.fillRect(cdx + margin, rdx + margin, 1, 1);
              }
            });
          });
        }
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props2 = this.props,
          value = _this$props2.value,
          size = _this$props2.size,
          level = _this$props2.level,
          bgColor = _this$props2.bgColor,
          fgColor = _this$props2.fgColor,
          style = _this$props2.style,
          includeMargin = _this$props2.includeMargin,
          otherProps = _objectWithoutProperties(_this$props2, ["value", "size", "level", "bgColor", "fgColor", "style", "includeMargin"]);

      var canvasStyle = _objectSpread({
        height: size,
        width: size
      }, style);

      return React.createElement("canvas", _extends({
        style: canvasStyle,
        height: size,
        width: size,
        ref: function ref(_ref) {
          return _this2._canvas = _ref;
        }
      }, otherProps));
    }
  }]);

  return QRCodeCanvas;
}(React.PureComponent);

_defineProperty(QRCodeCanvas, "defaultProps", DEFAULT_PROPS);

_defineProperty(QRCodeCanvas, "propTypes", PROP_TYPES);

var QRCodeSVG =
/*#__PURE__*/
function (_React$PureComponent2) {
  _inherits(QRCodeSVG, _React$PureComponent2);

  function QRCodeSVG() {
    _classCallCheck(this, QRCodeSVG);

    return _possibleConstructorReturn(this, _getPrototypeOf(QRCodeSVG).apply(this, arguments));
  }

  _createClass(QRCodeSVG, [{
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
          value = _this$props3.value,
          size = _this$props3.size,
          level = _this$props3.level,
          bgColor = _this$props3.bgColor,
          fgColor = _this$props3.fgColor,
          includeMargin = _this$props3.includeMargin,
          otherProps = _objectWithoutProperties(_this$props3, ["value", "size", "level", "bgColor", "fgColor", "includeMargin"]); // We'll use type===-1 to force QRCode to automatically pick the best type


      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);
      qrcode.addData(convertStr(value));
      qrcode.make();
      var cells = qrcode.modules;

      if (cells === null) {
        return null;
      }

      var margin = includeMargin ? MARGIN_SIZE : 0; // Drawing strategy: instead of a rect per module, we're going to create a
      // single path for the dark modules and layer that on top of a light rect,
      // for a total of 2 DOM nodes. We pay a bit more in string concat but that's
      // way faster than DOM ops.
      // For level 1, 441 nodes -> 2
      // For level 40, 31329 -> 2

      var fgPath = generatePath(cells, margin);
      var numCells = cells.length + margin * 2;
      return React.createElement("svg", _extends({
        shapeRendering: "crispEdges",
        height: size,
        width: size,
        viewBox: "0 0 ".concat(numCells, " ").concat(numCells)
      }, otherProps), React.createElement("path", {
        fill: bgColor,
        d: "M0,0 h".concat(numCells, "v").concat(numCells, "H0z")
      }), React.createElement("path", {
        fill: fgColor,
        d: fgPath
      }));
    }
  }]);

  return QRCodeSVG;
}(React.PureComponent);

_defineProperty(QRCodeSVG, "defaultProps", DEFAULT_PROPS);

_defineProperty(QRCodeSVG, "propTypes", PROP_TYPES);

var QRCode = function QRCode(props) {
  var renderAs = props.renderAs,
      otherProps = _objectWithoutProperties(props, ["renderAs"]);

  var Component = renderAs === 'svg' ? QRCodeSVG : QRCodeCanvas;
  return React.createElement(Component, otherProps);
};

QRCode.defaultProps = _objectSpread({
  renderAs: 'canvas'
}, DEFAULT_PROPS);
module.exports = QRCode;
},{"prop-types":4,"qr.js/lib/ErrorCorrectLevel":9,"qr.js/lib/QRCode":11,"react":"react"}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AGREEMENT_URL = '<a href="%(url)s" target="_blank">%(agreement)s</a>'; /* jshint ignore:start */


var RegisterLegalFootnote = function RegisterLegalFootnote(props) {
  var errors = props.errors,
      privacyPolicy = props.privacyPolicy,
      termsOfService = props.termsOfService,
      onPrivacyPolicyChange = props.onPrivacyPolicyChange,
      onTermsOfServiceChange = props.onTermsOfServiceChange;


  var termsOfServiceId = _2.default.get('TERMS_OF_SERVICE_ID');
  var termsOfServiceUrl = _2.default.get('TERMS_OF_SERVICE_URL');

  var privacyPolicyId = _2.default.get('PRIVACY_POLICY_ID');
  var privacyPolicyUrl = _2.default.get('PRIVACY_POLICY_URL');

  if (!termsOfServiceId && !privacyPolicyId) return null;

  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(LegalAgreement, {
      agreement: gettext("the terms of service"),
      checked: termsOfService !== null,
      errors: errors.termsOfService,
      url: termsOfServiceUrl,
      value: termsOfServiceId,
      onChange: onTermsOfServiceChange
    }),
    _react2.default.createElement(LegalAgreement, {
      agreement: gettext("the privacy policy"),
      checked: privacyPolicy !== null,
      errors: errors.privacyPolicy,
      url: privacyPolicyUrl,
      value: privacyPolicyId,
      onChange: onPrivacyPolicyChange
    })
  );
};

var LegalAgreement = function LegalAgreement(props) {
  var agreement = props.agreement,
      checked = props.checked,
      errors = props.errors,
      url = props.url,
      value = props.value,
      onChange = props.onChange;


  if (!url) return;

  var agreementHtml = interpolate(AGREEMENT_URL, { agreement: (0, _escapeHtml2.default)(agreement), url: (0, _escapeHtml2.default)(url) }, true);
  var label = interpolate(gettext("I have read and accept %(agreement)s."), { agreement: agreementHtml }, true);

  return _react2.default.createElement(
    'div',
    { className: 'checkbox legal-footnote' },
    _react2.default.createElement(
      'label',
      null,
      _react2.default.createElement('input', {
        checked: checked,
        type: 'checkbox',
        value: value,
        onChange: onChange
      }),
      _react2.default.createElement('span', {
        dangerouslySetInnerHTML: { __html: label }
      })
    ),
    errors && errors.map(function (error, i) {
      return _react2.default.createElement(
        'div',
        { className: 'help-block errors', key: i },
        error
      );
    })
  );
};

exports.default = RegisterLegalFootnote;

},{"..":318,"../utils/escape-html":399,"react":"react"}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var StartSocialAuth = function StartSocialAuth(props) {
  var buttonClassName = props.buttonClassName,
      buttonLabel = props.buttonLabel,
      formLabel = props.formLabel,
      header = props.header,
      labelClassName = props.labelClassName;

  var socialAuth = _2.default.get('SETTINGS').SOCIAL_AUTH;

  if (socialAuth.length === 0) return null;

  return _react2.default.createElement(
    'div',
    { className: 'form-group form-social-auth' },
    _react2.default.createElement(FormHeader, { className: labelClassName, text: header }),
    _react2.default.createElement(
      'div',
      { className: 'row' },
      socialAuth.map(function (_ref) {
        var id = _ref.id,
            name = _ref.name,
            url = _ref.url;

        var className = 'btn btn-block btn-default btn-social-' + id;
        var finalButtonLabel = interpolate(buttonLabel, { site: name }, true);

        return _react2.default.createElement(
          'div',
          { className: buttonClassName || 'col-xs-12', key: id },
          _react2.default.createElement(
            'a',
            { className: className, href: url },
            finalButtonLabel
          )
        );
      })
    ),
    _react2.default.createElement('hr', null),
    _react2.default.createElement(FormHeader, { className: labelClassName, text: formLabel })
  );
};

var FormHeader = function FormHeader(_ref2) {
  var className = _ref2.className,
      text = _ref2.text;

  if (!text) return null;
  return _react2.default.createElement(
    'h5',
    { className: className || "" },
    text
  );
};

exports.default = StartSocialAuth;

},{"..":318,"react":"react"}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var AcceptAgreement = function (_React$Component) {
  _inherits(AcceptAgreement, _React$Component);

  function AcceptAgreement(props) {
    _classCallCheck(this, AcceptAgreement);

    var _this = _possibleConstructorReturn(this, (AcceptAgreement.__proto__ || Object.getPrototypeOf(AcceptAgreement)).call(this, props));

    _this.handleDecline = function () {
      if (_this.state.submiting) return;

      var confirmation = confirm(gettext("Declining will result in immediate deactivation and deletion of your account. This action is not reversible."));
      if (!confirmation) return;

      _this.setState({ submiting: true });

      _ajax2.default.post(_this.props.api, { accept: false }).then(function () {
        location.reload(true);
      });
    };

    _this.handleAccept = function () {
      if (_this.state.submiting) return;

      _this.setState({ submiting: true });

      _ajax2.default.post(_this.props.api, { accept: true }).then(function () {
        location.reload(true);
      });
    };

    _this.state = { submiting: false };
    return _this;
  }

  _createClass(AcceptAgreement, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default',
            disabled: this.state.submiting,
            type: 'buton',
            onClick: this.handleDecline
          },
          gettext("Decline")
        ),
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-primary',
            disabled: this.state.submiting,
            type: 'buton',
            onClick: this.handleAccept
          },
          gettext("Accept and continue")
        )
      );
    }
  }]);

  return AcceptAgreement;
}(_react2.default.Component);

exports.default = AcceptAgreement;

},{"../services/ajax":381,"react":"react"}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('./form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _participants = require('../reducers/participants');

var participants = _interopRequireWildcard(_participants);

var _thread = require('../reducers/thread');

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUsernameChange = function (event) {
      _this.changeValue('username', event.target.value);
    };

    _this.state = {
      isLoading: false,

      username: ''
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.username.trim().length) {
        _snackbar2.default.error(gettext("You have to enter user name."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'add', path: 'participants', value: this.state.username }, { op: 'add', path: 'acl', value: 1 }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch((0, _thread.updateAcl)(data));
      _store2.default.dispatch(participants.replace(data.participants));

      _snackbar2.default.success(gettext("New participant has been added to thread."));

      _modal2.default.hide();
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-sm', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                { 'for': 'id_username', label: gettext("User to add") },
                _react2.default.createElement('input', {
                  id: 'id_username',
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  onChange: this.onUsernameChange,
                  type: 'text',
                  value: this.state.username
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-block btn-primary',
                  disabled: this.state.isLoading
                },
                gettext("Add participant")
              ),
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-block btn-default',
                  'data-dismiss': 'modal',
                  disabled: this.state.isLoading,
                  type: 'button'
                },
                gettext("Cancel")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Add participant")
    )
  );
}

},{"../reducers/participants":367,"../reducers/thread":376,"../services/ajax":381,"../services/modal":387,"../services/snackbar":392,"../services/store":393,"./form":71,"./form-group":70,"react":"react"}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "refresh",
    value: function refresh() {
      window.location.reload();
    }
  }, {
    key: "getMessage",
    value: function getMessage() {
      if (this.props.signedIn) {
        return interpolate(gettext("You have signed in as %(username)s. Please refresh the page before continuing."), { username: this.props.signedIn.username }, true);
      } else if (this.props.signedOut) {
        return interpolate(gettext("%(username)s, you have been signed out. Please refresh the page before continuing."), { username: this.props.user.username }, true);
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      var className = 'auth-message';
      if (this.props.signedIn || this.props.signedOut) {
        className += ' show';
      }

      return _react2.default.createElement(
        "div",
        { className: className },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.getMessage()
          ),
          _react2.default.createElement(
            "p",
            null,
            _react2.default.createElement(
              "button",
              {
                className: "btn btn-default",
                type: "button",
                onClick: this.refresh
              },
              gettext("Reload page")
            ),
            _react2.default.createElement(
              "span",
              { className: "hidden-xs hidden-sm" },
              ' ' + gettext("or press F5 key.")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    user: state.auth.user,
    signedIn: state.auth.signedIn,
    signedOut: state.auth.signedOut
  };
}

},{"react":"react"}],22:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var size = props.size || 100;
  var size2x = props.size2x || size;

  return _react2.default.createElement('img', {
    alt: '',
    className: props.className || 'user-avatar',
    src: getSrc(props.user, size),
    srcSet: getSrc(props.user, size2x),
    width: size,
    height: size
  });
};

exports.getSrc = getSrc;
exports.resolveAvatarForSize = resolveAvatarForSize;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSrc(user, size) {
  if (user && user.id) {
    // just avatar hash, size and user id
    return resolveAvatarForSize(user.avatars, size).url;
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    return _2.default.get('BLANK_AVATAR_URL');
  }
} /* jshint ignore:start */
function resolveAvatarForSize(avatars, size) {
  var avatar = avatars[0];
  avatars.forEach(function (av) {
    if (av.size >= size) {
      avatar = av;
    }
  });
  return avatar;
}

},{"..":318,"react":"react"}],23:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getReasonMessage',
    value: function getReasonMessage() {
      /* jshint ignore:start */
      if (this.props.message.html) {
        return _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
            __html: this.props.message.html
          } });
      } else {
        return _react2.default.createElement(
          'p',
          { className: 'lead' },
          this.props.message.plain
        );
      }
      /* jshint ignore:end */
    }
  }, {
    key: 'getExpirationMessage',
    value: function getExpirationMessage() {
      if (this.props.expires) {
        if (this.props.expires.isAfter((0, _moment2.default)())) {
          /* jshint ignore:start */
          var title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            'expires_on': this.props.expires.format('LL, LT')
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            'expires_on': this.props.expires.fromNow()
          }, true);

          return _react2.default.createElement(
            'abbr',
            { title: title },
            message
          );
          /* jshint ignore:end */
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return gettext("This ban is permanent.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-error page-error-banned' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'highlight_off'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              this.getReasonMessage(),
              _react2.default.createElement(
                'p',
                { className: 'message-footnote' },
                this.getExpirationMessage()
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"moment":"moment","react":"react"}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Button = function (_React$Component) {
  _inherits(Button, _React$Component);

  function Button() {
    _classCallCheck(this, Button);

    return _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));
  }

  _createClass(Button, [{
    key: 'render',
    value: function render() {
      var className = 'btn ' + this.props.className;
      var disabled = this.props.disabled;

      if (this.props.loading) {
        className += ' btn-loading';
        disabled = true;
      }

      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        {
          className: className,
          disabled: disabled,
          onClick: this.props.onClick,
          type: this.props.onClick ? 'button' : 'submit'
        },
        this.props.children,
        this.props.loading ? _react2.default.createElement(_loader2.default, null) : null
      );
      /* jshint ignore:end */
    }
  }]);

  return Button;
}(_react2.default.Component);

exports.default = Button;


Button.defaultProps = {
  className: "btn-default",

  type: "submit",

  loading: false,
  disabled: false,

  onClick: null
};

},{"./loader":73,"react":"react"}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "categories-list" },
    _react2.default.createElement(
      "ul",
      { className: "list-group" },
      _react2.default.createElement(
        "li",
        { className: "list-group-item empty-message" },
        _react2.default.createElement(
          "p",
          { className: "lead" },
          gettext("No categories exist or you don't have permission to see them.")
        )
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var categories = _ref.categories;

  return _react2.default.createElement(
    'div',
    { className: 'categories-list' },
    categories.map(function (category) {
      return _react2.default.createElement(_category2.default, {
        category: category,
        key: category.id
      });
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('./category');

var _category2 = _interopRequireDefault(_category);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./category":27,"react":"react"}],27:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  var className = 'list-group list-group-category';
  if (category.css_class) {
    className += ' list-group-category-has-flavor';
    className += ' list-group-category-' + category.css_class;
  }

  return _react2.default.createElement(
    'ul',
    { className: className },
    _react2.default.createElement(_listItem2.default, {
      category: category,
      isFirst: true
    }),
    category.subcategories.map(function (category) {
      return _react2.default.createElement(_listItem2.default, {
        category: category,
        isFirst: false,
        key: category.id
      });
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItem = require('./list-item');

var _listItem2 = _interopRequireDefault(_listItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./list-item":30,"react":"react"}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  if (!category.description) return null;

  return _react2.default.createElement("div", {
    className: "category-description",
    dangerouslySetInnerHTML: {
      __html: category.description.html
    }
  });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],29:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  return _react2.default.createElement(
    'div',
    {
      className: getClassName(category),
      title: getTitle(category)
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      getIcon(category)
    )
  );
};

exports.getClassName = getClassName;
exports.getTitle = getTitle;
exports.getIcon = getIcon;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function getClassName(category) {
  if (category.is_read) {
    return 'read-status item-read';
  }

  return 'read-status item-new';
}

function getTitle(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return gettext("This category has no new posts. (closed)");
    }

    return gettext("This category has new posts. (closed)");
  }

  if (category.is_read) {
    return gettext("This category has no new posts.");
  }

  return gettext("This category has new posts.");
}

function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return 'lock_outline';
    }

    return 'lock';
  }

  if (category.is_read) {
    return 'chat_bubble_outline';
  }

  return 'chat_bubble';
}

},{"react":"react"}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      isFirst = _ref.isFirst;

  var className = 'list-group-item';

  if (category.description) {
    className += ' list-group-category-has-description';
  } else {
    className += ' list-group-category-no-description';
  }

  if (isFirst) {
    className += ' list-group-item-first';
  }
  if (category.css_class) {
    className += ' list-group-category-has-flavor';
    className += ' list-group-item-category-' + category.css_class;
  }

  return _react2.default.createElement(
    'li',
    { className: className },
    _react2.default.createElement(
      'div',
      { className: 'row' },
      _react2.default.createElement(_main2.default, { category: category }),
      _react2.default.createElement(_stats2.default, { category: category }),
      _react2.default.createElement(_lastThread2.default, { category: category })
    ),
    _react2.default.createElement(_subcategories2.default, {
      category: category,
      isFirst: isFirst
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _main = require('./main');

var _main2 = _interopRequireDefault(_main);

var _lastThread = require('./last-thread');

var _lastThread2 = _interopRequireDefault(_lastThread);

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

var _subcategories = require('./subcategories');

var _subcategories2 = _interopRequireDefault(_subcategories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./last-thread":31,"./main":32,"./stats":33,"./subcategories":34,"react":"react"}],31:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-sm-6 col-md-4 category-last-thread' },
    _react2.default.createElement(LastThread, { category: category }),
    _react2.default.createElement(Empty, { category: category }),
    _react2.default.createElement(Private, { category: category }),
    _react2.default.createElement(Protected, { category: category })
  );
};

exports.LastThread = LastThread;
exports.LastPosterAvatar = LastPosterAvatar;
exports.LastPosterName = LastPosterName;
exports.Empty = Empty;
exports.Private = Private;
exports.Protected = Protected;
exports.Message = Message;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function LastThread(_ref2) {
  var category = _ref2.category;

  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (!category.last_thread_title) return null;

  return _react2.default.createElement(
    'div',
    { className: 'media' },
    _react2.default.createElement(
      'div',
      { className: 'media-left hidden-xs' },
      _react2.default.createElement(LastPosterAvatar, { category: category })
    ),
    _react2.default.createElement(
      'div',
      { className: 'media-body' },
      _react2.default.createElement(
        'div',
        { className: 'media-heading' },
        _react2.default.createElement(
          'a',
          {
            className: 'item-title thread-title',
            href: category.url.last_thread_new,
            title: category.last_thread_title
          },
          category.last_thread_title
        )
      ),
      _react2.default.createElement(
        'ul',
        { className: 'list-inline' },
        _react2.default.createElement(
          'li',
          { className: 'category-last-thread-poster' },
          _react2.default.createElement(LastPosterName, { category: category })
        ),
        _react2.default.createElement(
          'li',
          { className: 'divider' },
          '\u2014'
        ),
        _react2.default.createElement(
          'li',
          { className: 'category-last-thread-date' },
          _react2.default.createElement(
            'a',
            { href: category.url.last_post },
            category.last_post_on.fromNow()
          )
        )
      )
    )
  );
} // jshint ignore:start
function LastPosterAvatar(_ref3) {
  var category = _ref3.category;

  if (category.last_poster) {
    return _react2.default.createElement(
      'a',
      {
        className: 'last-poster-avatar',
        href: category.last_poster.url,
        title: category.last_poster_name
      },
      _react2.default.createElement(_avatar2.default, {
        className: 'media-object',
        size: 40,
        user: category.last_poster
      })
    );
  }

  return _react2.default.createElement(
    'span',
    {
      className: 'last-poster-avatar',
      title: category.last_poster_name
    },
    _react2.default.createElement(_avatar2.default, {
      className: 'media-object',
      size: 40
    })
  );
}

function LastPosterName(_ref4) {
  var category = _ref4.category;

  if (category.last_poster) {
    return _react2.default.createElement(
      'a',
      {
        className: 'item-title',
        href: category.last_poster.url
      },
      category.last_poster_name
    );
  }

  return _react2.default.createElement(
    'span',
    { className: 'item-title' },
    category.last_poster_name
  );
}

function Empty(_ref5) {
  var category = _ref5.category;

  if (!category.acl.can_browse) return null;
  if (!category.acl.can_see_all_threads) return null;
  if (category.last_thread_title) return null;

  return _react2.default.createElement(Message, {
    message: gettext("This category is empty. No threads were posted within it so far.")
  });
}

function Private(_ref6) {
  var category = _ref6.category;

  if (!category.acl.can_browse) return null;
  if (category.acl.can_see_all_threads) return null;

  return _react2.default.createElement(Message, {
    message: gettext("This category is private. You can see only your own threads within it.")
  });
}

function Protected(_ref7) {
  var category = _ref7.category;

  if (category.acl.can_browse) return null;

  return _react2.default.createElement(Message, {
    message: gettext("This category is protected. You can't browse it's contents.")
  });
}

function Message(_ref8) {
  var message = _ref8.message;

  return _react2.default.createElement(
    'div',
    { className: 'media category-thread-message' },
    _react2.default.createElement(
      'div',
      { className: 'media-left' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'info_outline'
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'media-body' },
      _react2.default.createElement(
        'p',
        null,
        message
      )
    )
  );
}

},{"../../../avatar":22,"react":"react"}],32:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-sm-6 col-md-6 category-main' },
    _react2.default.createElement(
      'div',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(_icon2.default, { category: category })
      ),
      _react2.default.createElement(
        'div',
        { className: 'media-body' },
        _react2.default.createElement(
          'h4',
          { className: 'media-heading' },
          _react2.default.createElement(
            'a',
            { href: category.url.index },
            category.name
          )
        ),
        _react2.default.createElement(_description2.default, { category: category })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _description = require('./description');

var _description2 = _interopRequireDefault(_description);

var _icon = require('./icon');

var _icon2 = _interopRequireDefault(_icon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./description":28,"./icon":29,"react":"react"}],33:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  return _react2.default.createElement(
    'div',
    { className: 'col-md-2 hidden-xs hidden-sm' },
    _react2.default.createElement(
      'ul',
      { className: 'list-unstyled category-stats' },
      _react2.default.createElement(Threads, { threads: category.threads }),
      _react2.default.createElement(Posts, { posts: category.posts })
    )
  );
};

exports.Threads = Threads;
exports.Posts = Posts;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Threads(_ref2) {
  var threads = _ref2.threads;

  var message = ngettext("%(threads)s thread", "%(threads)s threads", threads);

  return _react2.default.createElement(
    'li',
    { className: 'category-stat-threads' },
    interpolate(message, {
      'threads': threads
    }, true)
  );
} // jshint ignore:start
function Posts(_ref3) {
  var posts = _ref3.posts;

  var message = ngettext("%(posts)s post", "%(posts)s posts", posts);

  return _react2.default.createElement(
    'li',
    { className: 'category-stat-posts' },
    interpolate(message, {
      'posts': posts
    }, true)
  );
}

},{"../../../avatar":22,"react":"react"}],34:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      isFirst = _ref.isFirst;

  if (isFirst) return null;
  if (category.subcategories.length === 0) return null;

  return _react2.default.createElement(
    'div',
    { className: 'row subcategories-list' },
    category.subcategories.map(function (category) {
      return _react2.default.createElement(_listItem2.default, {
        category: category,
        key: category.id
      });
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItem = require('./list-item');

var _listItem2 = _interopRequireDefault(_listItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./list-item":35,"react":"react"}],35:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category;

  var className = 'btn btn-default btn-block btn-sm btn-subcategory';
  if (!category.is_read) {
    className += ' btn-subcategory-new';
  }

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-sm-4 col-md-3' },
    _react2.default.createElement(
      'a',
      {
        className: className,
        href: category.url.index
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        getIcon(category)
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-text' },
        category.name
      )
    )
  );
};

exports.getIcon = getIcon;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function getIcon(category) {
  if (category.is_closed) {
    if (category.is_read) {
      return 'lock_outline';
    }

    return 'lock';
  }

  if (category.is_read) {
    return 'chat_bubble_outline';
  }

  return 'chat_bubble';
}

},{"react":"react"}],36:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _blankslate = require('./blankslate');

var _blankslate2 = _interopRequireDefault(_blankslate);

var _categoriesList = require('./categories-list');

var _categoriesList2 = _interopRequireDefault(_categoriesList);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var hydrate = function hydrate(category) {
  return Object.assign({}, category, {
    last_post_on: category.last_post_on ? (0, _moment2.default)(category.last_post_on) : null,
    subcategories: category.subcategories.map(hydrate)
  });
};

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _this.setState({
        categories: data.map(hydrate)
      });
    };

    _this.state = {
      categories: _index2.default.get('CATEGORIES').map(hydrate)
    };

    _this.startPolling(_index2.default.get('CATEGORIES_API'));
    return _this;
  }

  _createClass(_class, [{
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'categories',
        url: api,
        frequency: 180 * 1000,
        update: this.update
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var categories = this.state.categories;


      if (categories.length === 0) {
        return _react2.default.createElement(_blankslate2.default, null);
      }

      return _react2.default.createElement(_categoriesList2.default, { categories: categories });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick
  };
}

},{"../../index":318,"../../services/polls":390,"./blankslate":25,"./categories-list":26,"moment":"moment","react":"react"}],37:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'select',
    {
      className: props.className || 'form-control',
      disabled: props.disabled || false,
      id: props.id || null,
      onChange: props.onChange,
      value: props.value
    },
    props.choices.map(function (item) {
      return _react2.default.createElement(
        'option',
        {
          disabled: item.disabled || false,
          key: item.value,
          value: item.value
        },
        '- - '.repeat(item.level) + item.label
      );
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],38:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.cropAvatar = function () {
      if (_this.state.isLoading) {
        return false;
      }

      _this.setState({
        'isLoading': true
      });

      var avatarType = _this.props.upload ? 'crop_tmp' : 'crop_src';
      var cropit = $('.crop-form');

      var deviceRatio = cropit.cropit('exportZoom');
      var cropitOffset = cropit.cropit('offset');

      _ajax2.default.post(_this.props.user.api.avatar, {
        avatar: avatarType,
        crop: {
          offset: {
            x: cropitOffset.x * deviceRatio,
            y: cropitOffset.y * deviceRatio
          },
          zoom: cropit.cropit('zoom') * deviceRatio
        }
      }).then(function (data) {
        _this.props.onComplete(data);
        _snackbar2.default.success(data.detail);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            isLoading: false
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      isLoading: false,
      deviceRatio: 1
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getAvatarSize',
    value: function getAvatarSize() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.size;
      } else {
        return this.props.options.crop_src.size;
      }
    }
  }, {
    key: 'getImagePath',
    value: function getImagePath() {
      if (this.props.upload) {
        return this.props.dataUrl;
      } else {
        return this.props.options.crop_src.url;
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var cropit = $('.crop-form');
      var cropperWidth = this.getAvatarSize();

      var initialWidth = cropit.width();
      while (initialWidth < cropperWidth) {
        cropperWidth = cropperWidth / 2;
      }

      var deviceRatio = this.getAvatarSize() / cropperWidth;

      cropit.width(cropperWidth);

      cropit.cropit({
        width: cropperWidth,
        height: cropperWidth,
        exportZoom: deviceRatio,
        imageState: {
          src: this.getImagePath()
        },
        onImageLoaded: function onImageLoaded() {
          if (_this2.props.upload) {
            // center uploaded image
            var zoomLevel = cropit.cropit('zoom');
            var imageSize = cropit.cropit('imageSize');

            // is it wider than taller?
            if (imageSize.width > imageSize.height) {
              var displayedWidth = imageSize.width * zoomLevel;
              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;

              cropit.cropit('offset', {
                x: offsetX,
                y: 0
              });
            } else if (imageSize.width < imageSize.height) {
              var displayedHeight = imageSize.height * zoomLevel;
              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;

              cropit.cropit('offset', {
                x: 0,
                y: offsetY
              });
            } else {
              cropit.cropit('offset', {
                x: 0,
                y: 0
              });
            }
          } else {
            // use preserved crop
            var crop = _this2.props.options.crop_src.crop;

            if (crop) {
              cropit.cropit('zoom', crop.zoom);
              cropit.cropit('offset', {
                x: crop.x,
                y: crop.y
              });
            }
          }
        }
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      $('.crop-form').cropit('disable');
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: 'modal-body modal-avatar-crop' },
          _react2.default.createElement(
            'div',
            { className: 'crop-form' },
            _react2.default.createElement('div', { className: 'cropit-preview' }),
            _react2.default.createElement('input', {
              type: 'range',
              className: 'cropit-image-zoom-input'
            })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-6 col-md-offset-3' },
            _react2.default.createElement(
              _button2.default,
              {
                onClick: this.cropAvatar,
                loading: this.state.isLoading,
                className: 'btn-primary btn-block'
              },
              this.props.upload ? gettext("Set avatar") : gettext("Crop image")
            ),
            _react2.default.createElement(
              _button2.default,
              {
                onClick: this.props.showIndex,
                disabled: this.state.isLoading,
                className: 'btn-default btn-block'
              },
              gettext("Cancel")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":381,"../../services/snackbar":392,"../avatar":22,"../button":24,"react":"react"}],39:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Gallery = exports.GalleryItem = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _batch = require('../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var GalleryItem = exports.GalleryItem = function (_React$Component) {
  _inherits(GalleryItem, _React$Component);

  function GalleryItem() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, GalleryItem);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = GalleryItem.__proto__ || Object.getPrototypeOf(GalleryItem)).call.apply(_ref, [this].concat(args))), _this), _this.select = function () {
      _this.props.select(_this.props.id);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(GalleryItem, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      if (this.props.selection === this.props.id) {
        if (this.props.disabled) {
          return 'btn btn-avatar btn-disabled avatar-selected';
        } else {
          return 'btn btn-avatar avatar-selected';
        }
      } else if (this.props.disabled) {
        return 'btn btn-avatar btn-disabled';
      } else {
        return 'btn btn-avatar';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        {
          type: 'button',
          className: this.getClassName(),
          disabled: this.props.disabled,
          onClick: this.select
        },
        _react2.default.createElement('img', { src: this.props.url })
      );
      /* jshint ignore:end */
    }
  }]);

  return GalleryItem;
}(_react2.default.Component);

var Gallery = exports.Gallery = function (_React$Component2) {
  _inherits(Gallery, _React$Component2);

  function Gallery() {
    _classCallCheck(this, Gallery);

    return _possibleConstructorReturn(this, (Gallery.__proto__ || Object.getPrototypeOf(Gallery)).apply(this, arguments));
  }

  _createClass(Gallery, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'avatars-gallery' },
        _react2.default.createElement(
          'h3',
          null,
          this.props.name
        ),
        _react2.default.createElement(
          'div',
          { className: 'avatars-gallery-images' },
          (0, _batch2.default)(this.props.images, 4, null).map(function (row, i) {
            return _react2.default.createElement(
              'div',
              { className: 'row', key: i },
              row.map(function (item, i) {
                return _react2.default.createElement(
                  'div',
                  { className: 'col-xs-3', key: i },
                  item ? _react2.default.createElement(GalleryItem, _extends({
                    disabled: _this3.props.disabled,
                    select: _this3.props.select,
                    selection: _this3.props.selection
                  }, item)) : _react2.default.createElement('div', { className: 'blank-avatar' })
                );
              })
            );
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Gallery;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this4.select = function (image) {
      _this4.setState({
        selection: image
      });
    };

    _this4.save = function () {
      if (_this4.state.isLoading) {
        return false;
      }

      _this4.setState({
        'isLoading': true
      });

      _ajax2.default.post(_this4.props.user.api.avatar, {
        avatar: 'galleries',
        image: _this4.state.selection
      }).then(function (response) {
        _this4.setState({
          'isLoading': false
        });

        _snackbar2.default.success(response.detail);
        _this4.props.onComplete(response);
        _this4.props.showIndex();
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this4.setState({
            'isLoading': false
          });
        } else {
          _this4.props.showError(rejection);
        }
      });
    };

    _this4.state = {
      'selection': null,
      'isLoading': false
    };
    return _this4;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      var _this5 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: 'modal-body modal-avatar-gallery' },
          this.props.options.galleries.map(function (item, i) {
            return _react2.default.createElement(Gallery, { name: item.name,
              images: item.images,
              selection: _this5.state.selection,
              disabled: _this5.state.isLoading,
              select: _this5.select,
              key: i });
          })
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-6 col-md-offset-3' },
              _react2.default.createElement(
                _button2.default,
                { onClick: this.save,
                  loading: this.state.isLoading,
                  disabled: !this.state.selection,
                  className: 'btn-primary btn-block' },
                this.state.selection ? gettext("Save choice") : gettext("Select avatar")
              ),
              _react2.default.createElement(
                _button2.default,
                { onClick: this.props.showIndex,
                  disabled: this.state.isLoading,
                  className: 'btn-default btn-block' },
                gettext("Cancel")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":318,"../../services/ajax":381,"../../services/snackbar":392,"../../utils/batch":396,"../avatar":22,"../button":24,"react":"react"}],40:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _loader = require('../loader');

var _loader2 = _interopRequireDefault(_loader);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setGravatar = function () {
      _this.callApi('gravatar');
    };

    _this.setGenerated = function () {
      _this.callApi('generated');
    };

    _this.state = {
      'isLoading': false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'callApi',
    value: function callApi(avatarType) {
      var _this2 = this;

      if (this.state.isLoading) {
        return false;
      }

      this.setState({
        'isLoading': true
      });

      _ajax2.default.post(this.props.user.api.avatar, {
        avatar: avatarType
      }).then(function (response) {
        _this2.setState({
          'isLoading': false
        });

        _snackbar2.default.success(response.detail);
        _this2.props.onComplete(response);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this2.setState({
            'isLoading': false
          });
        } else {
          _this2.props.showError(rejection);
        }
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getGravatarButton',

    /* jshint ignore:end */

    value: function getGravatarButton() {
      if (this.props.options.gravatar) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.setGravatar,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-gravatar' },
          gettext("Download my Gravatar")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getCropButton',
    value: function getCropButton() {
      if (!this.props.options.crop_src) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        _button2.default,
        {
          className: 'btn-default btn-block btn-avatar-crop',
          disabled: this.state.isLoading,
          onClick: this.props.showCrop
        },
        gettext("Re-crop uploaded image")
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUploadButton',
    value: function getUploadButton() {
      if (!this.props.options.upload) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        _button2.default,
        {
          className: 'btn-default btn-block btn-avatar-upload',
          disabled: this.state.isLoading,
          onClick: this.props.showUpload
        },
        gettext("Upload new image")
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getGalleryButton',
    value: function getGalleryButton() {
      if (!this.props.options.galleries) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        _button2.default,
        {
          className: 'btn-default btn-block btn-avatar-gallery',
          disabled: this.state.isLoading,
          onClick: this.props.showGallery
        },
        gettext("Pick avatar from gallery")
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getAvatarPreview',
    value: function getAvatarPreview() {
      /* jshint ignore:start */
      var userPeview = {
        id: this.props.user.id,
        avatars: this.props.options.avatars
        /* jshint ignore:end */

      };if (this.state.isLoading) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'avatar-preview preview-loading' },
          _react2.default.createElement(_avatar2.default, {
            size: '200',
            user: userPeview
          }),
          _react2.default.createElement(_loader2.default, null)
        );
        /* jshint ignore:end */
      }

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'avatar-preview' },
        _react2.default.createElement(_avatar2.default, {
          size: '200',
          user: userPeview
        })
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-index' },
        _react2.default.createElement(
          'div',
          { className: 'row' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-5' },
            this.getAvatarPreview()
          ),
          _react2.default.createElement(
            'div',
            { className: 'col-md-7' },
            this.getGravatarButton(),
            _react2.default.createElement(
              _button2.default,
              { onClick: this.setGenerated,
                disabled: this.state.isLoading,
                className: 'btn-default btn-block btn-avatar-generate' },
              gettext("Generate my individual avatar")
            ),
            this.getCropButton(),
            this.getUploadButton(),
            this.getGalleryButton()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":381,"../../services/snackbar":392,"../avatar":22,"../button":24,"../loader":73,"react":"react"}],41:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChangeAvatarError = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('./index');

var _index2 = _interopRequireDefault(_index);

var _crop = require('./crop');

var _crop2 = _interopRequireDefault(_crop);

var _upload = require('./upload');

var _upload2 = _interopRequireDefault(_upload);

var _gallery = require('./gallery');

var _gallery2 = _interopRequireDefault(_gallery);

var _modalLoader = require('../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var ChangeAvatarError = exports.ChangeAvatarError = function (_React$Component) {
  _inherits(ChangeAvatarError, _React$Component);

  function ChangeAvatarError() {
    _classCallCheck(this, ChangeAvatarError);

    return _possibleConstructorReturn(this, (ChangeAvatarError.__proto__ || Object.getPrototypeOf(ChangeAvatarError)).apply(this, arguments));
  }

  _createClass(ChangeAvatarError, [{
    key: 'getErrorReason',
    value: function getErrorReason() {
      if (this.props.reason) {
        /* jshint ignore:start */
        return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: this.props.reason } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'remove_circle_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.message
          ),
          this.getErrorReason(),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              type: 'button'
            },
            gettext("Ok")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return ChangeAvatarError;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _ref;

    var _temp, _this2, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this2), _this2.showError = function (error) {
      _this2.setState({
        error: error
      });
    }, _this2.showIndex = function () {
      _this2.setState({
        'component': _index2.default
      });
    }, _this2.showUpload = function () {
      _this2.setState({
        'component': _upload2.default
      });
    }, _this2.showCrop = function () {
      _this2.setState({
        'component': _crop2.default
      });
    }, _this2.showGallery = function () {
      _this2.setState({
        'component': _gallery2.default
      });
    }, _this2.completeFlow = function (options) {
      _store2.default.dispatch((0, _users.updateAvatar)(_this2.props.user, options.avatars));

      _this2.setState({
        'component': _index2.default,
        options: options
      });
    }, _temp), _possibleConstructorReturn(_this2, _ret);
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this3 = this;

      _ajax2.default.get(this.props.user.api.avatar).then(function (options) {
        _this3.setState({
          'component': _index2.default,
          'options': options,
          'error': null
        });
      }, function (rejection) {
        _this3.showError(rejection);
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getBody',

    /* jshint ignore:end */

    value: function getBody() {
      if (this.state) {
        if (this.state.error) {
          /* jshint ignore:start */
          return _react2.default.createElement(ChangeAvatarError, { message: this.state.error.detail,
            reason: this.state.error.reason });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(this.state.component, { options: this.state.options,
            user: this.props.user,
            onComplete: this.completeFlow,
            showError: this.showError,
            showIndex: this.showIndex,
            showCrop: this.showCrop,
            showUpload: this.showUpload,
            showGallery: this.showGallery });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state && this.state.error) {
        return "modal-dialog modal-message modal-change-avatar";
      } else {
        return "modal-dialog modal-change-avatar";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change your avatar")
            )
          ),
          this.getBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    'user': state.auth.user
  };
}

},{"../../reducers/users":380,"../../services/ajax":381,"../../services/store":393,"../modal-loader":76,"./crop":38,"./gallery":39,"./index":40,"./upload":42,"react":"react"}],42:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _crop = require('./crop');

var _crop2 = _interopRequireDefault(_crop);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _fileSize = require('../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.pickFile = function () {
      document.getElementById('avatar-hidden-upload').click();
    };

    _this.uploadFile = function () {
      var image = document.getElementById('avatar-hidden-upload').files[0];
      if (!image) return;

      var validationError = _this.validateFile(image);
      if (validationError) {
        _snackbar2.default.error(validationError);
        return;
      }

      _this.setState({
        image: image,
        preview: URL.createObjectURL(image),
        progress: 0
      });

      var data = new FormData();
      data.append('avatar', 'upload');
      data.append('image', image);

      _ajax2.default.upload(_this.props.user.api.avatar, data, function (progress) {
        _this.setState({
          progress: progress
        });
      }).then(function (data) {
        _this.setState({
          options: data,
          uploaded: data.detail
        });

        _snackbar2.default.info(gettext("Your image has been uploaded and you may now crop it."));
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            isLoading: false,
            image: null,
            progress: 0
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      image: null,
      preview: null,
      progress: 0,
      uploaded: null,
      dataUrl: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'validateFile',
    value: function validateFile(image) {
      if (image.size > this.props.options.upload.limit) {
        return interpolate(gettext("Selected file is too big. (%(filesize)s)"), {
          'filesize': (0, _fileSize2.default)(image.size)
        }, true);
      }

      var invalidTypeMsg = gettext("Selected file type is not supported.");
      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {
        return invalidTypeMsg;
      }

      var extensionFound = false;
      var loweredFilename = image.name.toLowerCase();
      this.props.options.upload.allowed_extensions.map(function (extension) {
        if (loweredFilename.substr(extension.length * -1) === extension) {
          extensionFound = true;
        }
      });

      if (!extensionFound) {
        return invalidTypeMsg;
      }

      return false;
    }

    /* jshint ignore:start */

  }, {
    key: 'getUploadRequirements',

    /* jshint ignore:end */

    value: function getUploadRequirements(options) {
      var extensions = options.allowed_extensions.map(function (extension) {
        return extension.substr(1);
      });

      return interpolate(gettext("%(files)s files smaller than %(limit)s"), {
        'files': extensions.join(', '),
        'limit': (0, _fileSize2.default)(options.limit)
      }, true);
    }
  }, {
    key: 'getUploadButton',
    value: function getUploadButton() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-upload' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn-pick-file',
            onClick: this.pickFile
          },
          _react2.default.createElement(
            'div',
            { className: 'material-icon' },
            'input'
          ),
          gettext("Select file")
        ),
        _react2.default.createElement(
          'p',
          { className: 'text-muted' },
          this.getUploadRequirements(this.props.options.upload)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUploadProgressLabel',
    value: function getUploadProgressLabel() {
      return interpolate(gettext("%(progress)s % complete"), {
        'progress': this.state.progress
      }, true);
    }
  }, {
    key: 'getUploadProgress',
    value: function getUploadProgress() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-upload' },
        _react2.default.createElement(
          'div',
          { className: 'upload-progress' },
          _react2.default.createElement('img', { src: this.state.preview }),
          _react2.default.createElement(
            'div',
            { className: 'progress' },
            _react2.default.createElement(
              'div',
              {
                className: 'progress-bar',
                role: 'progressbar',
                'aria-valuenow': '{this.state.progress}',
                'aria-valuemin': '0',
                'aria-valuemax': '100',
                style: { width: this.state.progress + '%' }
              },
              _react2.default.createElement(
                'span',
                { className: 'sr-only' },
                this.getUploadProgressLabel()
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderUpload',
    value: function renderUpload() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement('input', {
          type: 'file',
          id: 'avatar-hidden-upload',
          className: 'hidden-file-upload',
          onChange: this.uploadFile
        }),
        this.state.image ? this.getUploadProgress() : this.getUploadButton(),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-6 col-md-offset-3' },
            _react2.default.createElement(
              _button2.default,
              {
                onClick: this.props.showIndex,
                disabled: !!this.state.image,
                className: 'btn-default btn-block'
              },
              gettext("Cancel")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCrop',
    value: function renderCrop() {
      /* jshint ignore:start */
      return _react2.default.createElement(_crop2.default, {
        options: this.state.options,
        user: this.props.user,
        upload: this.state.uploaded,
        dataUrl: this.state.preview,
        onComplete: this.props.onComplete,
        showError: this.props.showError,
        showIndex: this.props.showIndex
      });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.uploaded) return this.renderCrop();

      return this.renderUpload();
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":381,"../../services/snackbar":392,"../../utils/file-size":400,"../button":24,"./crop":38,"react":"react"}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.dropdown) {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg";
      } else {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "button",
        { className: this.getClassName(),
          type: "button",
          onClick: this.props.toggleNav,
          "aria-haspopup": "true",
          "aria-expanded": this.props.dropdown ? 'true' : 'false' },
        _react2.default.createElement(
          "i",
          { className: "material-icon" },
          "menu"
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],44:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var display = _ref.display;

  if (!display) return null;

  return _react2.default.createElement(_panelMessage2.default, {
    helpText: gettext("No profile details are editable at this time."),
    message: gettext("This option is currently unavailable.")
  });
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require('../panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../panel-message":109,"react":"react"}],45:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _select = require('../select');

var _select2 = _interopRequireDefault(_select);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onChange = function (ev) {
      var _this$props = _this.props,
          field = _this$props.field,
          onChange = _this$props.onChange;

      onChange(field.fieldname, ev.target.value);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          disabled = _props.disabled,
          field = _props.field,
          value = _props.value;
      var input = field.input;


      if (input.type === 'select') {
        return _react2.default.createElement(_select2.default, {
          choices: input.choices,
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          value: value
        });
      }

      if (input.type === 'textarea') {
        return _react2.default.createElement('textarea', {
          className: 'form-control',
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          rows: '4',
          type: 'text',
          value: value
        });
      }

      if (input.type === 'text') {
        return _react2.default.createElement('input', {
          className: 'form-control',
          disabled: disabled,
          id: "id_" + field.fieldname,
          onChange: this.onChange,
          type: 'text',
          value: value
        });
      }

      return null;
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../select":226,"react":"react"}],46:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var disabled = _ref.disabled,
      errors = _ref.errors,
      fields = _ref.fields,
      name = _ref.name,
      onChange = _ref.onChange,
      value = _ref.value;

  return _react2.default.createElement(
    'fieldset',
    null,
    _react2.default.createElement(
      'legend',
      null,
      name
    ),
    fields.map(function (field) {
      return _react2.default.createElement(
        _formGroup2.default,
        {
          'for': "id_" + field.fieldname,
          helpText: field.help_text,
          key: field.fieldname,
          label: field.label,
          validation: errors[field.fieldname]
        },
        _react2.default.createElement(_fieldInput2.default, {
          disabled: disabled,
          field: field,
          onChange: onChange,
          value: value[field.fieldname]
        })
      );
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _fieldInput = require('./field-input');

var _fieldInput2 = _interopRequireDefault(_fieldInput);

var _formGroup = require('../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../form-group":70,"./field-input":45,"react":"react"}],47:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.CancelButton = CancelButton;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _fieldset = require('./fieldset');

var _fieldset2 = _interopRequireDefault(_fieldset);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onChange = function (name, value) {
      _this.setState(_defineProperty({}, name, value));
    };

    _this.state = {
      isLoading: false,

      errors: {}
    };

    var groups = props.groups.length;
    for (var i = 0; i < groups; i++) {
      var group = props.groups[i];
      var fields = group.fields.length;
      for (var f = 0; f < fields; f++) {
        var fieldname = group.fields[f].fieldname;
        var initial = group.fields[f].initial;
        _this.state[fieldname] = initial;
      }
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'send',
    value: function send() {
      var data = Object.assign({}, this.state, {
        errors: null,
        isLoading: null
      });

      return _ajax2.default.post(this.props.api, data);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      this.props.onSuccess(data);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({ errors: rejection });
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'panel-body' },
          this.props.groups.map(function (group, i) {
            return _react2.default.createElement(_fieldset2.default, {
              disabled: _this2.state.isLoading,
              errors: _this2.state.errors,
              fields: group.fields,
              name: group.name,
              key: i,
              onChange: _this2.onChange,
              value: _this2.state
            });
          })
        ),
        _react2.default.createElement(
          'div',
          { className: 'panel-footer text-right' },
          _react2.default.createElement(CancelButton, {
            disabled: this.state.isLoading,
            onCancel: this.props.onCancel
          }),
          ' ',
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Save changes")
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function CancelButton(_ref) {
  var onCancel = _ref.onCancel,
      disabled = _ref.disabled;

  if (!onCancel) return null;

  return _react2.default.createElement(
    'button',
    {
      className: 'btn btn-default',
      disabled: disabled,
      onClick: onCancel,
      type: 'button'
    },
    gettext("Cancel")
  );
}

},{"../../services/ajax":381,"../../services/snackbar":392,"../button":24,"../form":71,"./fieldset":46,"react":"react"}],48:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.FormDisplay = FormDisplay;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _blankslate = require('./blankslate');

var _blankslate2 = _interopRequireDefault(_blankslate);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      loading: true,
      groups: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.api).then(function (groups) {
        _this2.setState({
          loading: false,

          groups: groups
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
        if (_this2.props.cancel) {
          _this2.props.cancel();
        }
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          groups = _state.groups,
          loading = _state.loading;


      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-form' },
        _react2.default.createElement(
          'div',
          { className: 'panel-heading' },
          _react2.default.createElement(
            'h3',
            { className: 'panel-title' },
            gettext("Edit details")
          )
        ),
        _react2.default.createElement(_loader2.default, { display: loading }),
        _react2.default.createElement(_blankslate2.default, { display: !loading && !groups.length }),
        _react2.default.createElement(FormDisplay, {
          api: this.props.api,
          display: !loading && groups.length,
          groups: groups,
          onCancel: this.props.onCancel,
          onSuccess: this.props.onSuccess
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function FormDisplay(_ref) {
  var api = _ref.api,
      display = _ref.display,
      groups = _ref.groups,
      onCancel = _ref.onCancel,
      onSuccess = _ref.onSuccess;

  if (!display) return null;

  return _react2.default.createElement(_form2.default, {
    api: api,
    groups: groups,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
}

},{"../../services/ajax":381,"../../services/snackbar":392,"./blankslate":44,"./form":47,"./loader":49,"react":"react"}],49:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var display = _ref.display;

  if (!display) return null;

  return _react2.default.createElement(
    'div',
    { className: 'panel-body' },
    _react2.default.createElement(_loader2.default, null)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('../loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../loader":73,"react":"react"}],50:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.replaceSelection(_this.props.execAction);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-icon ' + this.props.className,
          disabled: this.props.disabled,
          onClick: this.onClick,
          title: this.props.title,
          type: 'button'
        },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],51:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertCode,
      title: gettext("Insert code")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'functions'
    )
  );
};

exports.insertCode = insertCode;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertCode(selection, replace) {
  var syntax = $.trim(prompt(gettext("Enter name of syntax of your code (optional)") + ':'));
  replace("\n\n```" + syntax + '\n' + selection + "\n```\n\n");
}

},{"../../../utils/is-url":401,"./action":50,"react":"react"}],52:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeEmphasis,
      title: gettext("Emphase selection")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_italic'
    )
  );
};

exports.makeEmphasis = makeEmphasis;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeEmphasis(selection, replace) {
  if (selection.length) {
    replace('*' + selection + '*');
  }
}

},{"./action":50,"react":"react"}],53:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertHr,
      title: gettext("Insert horizontal ruler")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'remove'
    )
  );
};

exports.insertHr = insertHr;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertHr(selection, replace) {
  replace('\n\n- - - - -\n\n');
}

},{"./action":50,"react":"react"}],54:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertImage,
      title: gettext("Insert image")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'insert_photo'
    )
  );
};

exports.insertImage = insertImage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertImage(selection, replace) {
  var url = '';
  var label = '';

  if (selection.length) {
    if ((0, _isUrl2.default)(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }

  url = $.trim(prompt(gettext("Enter link to image") + ':', url));
  label = $.trim(prompt(gettext("Enter image label (optional)") + ':', label));

  if (url.length) {
    if (label.length > 0) {
      replace('![' + label + '](' + url + ')');
    } else {
      replace('!(' + url + ')');
    }
  }
}

},{"../../../utils/is-url":401,"./action":50,"react":"react"}],55:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertLink,
      title: gettext("Insert link")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'insert_link'
    )
  );
};

exports.insertLink = insertLink;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertLink(selection, replace) {
  var url = '';
  var label = '';

  if (selection.length) {
    if ((0, _isUrl2.default)(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }

  url = $.trim(prompt(gettext("Enter link address") + ':', url) || '');
  if (url.length === 0) return false;
  label = $.trim(prompt(gettext("Enter link label (optional)") + ':', label));

  if (url.length) {
    if (label.length > 0) {
      replace('[' + label + '](' + url + ')');
    } else {
      replace(url);
    }
  }
}

},{"../../../utils/is-url":401,"./action":50,"react":"react"}],56:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertQuote,
      title: gettext("Insert quote")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_quote'
    )
  );
};

exports.insertQuote = insertQuote;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertQuote(selection, replace) {
  var title = $.trim(prompt(gettext("Enter quote autor, prefix usernames with @") + ':', title));

  if (title) {
    replace('\n\n[quote="' + title + '"]\n' + selection + '\n[/quote]\n\n');
  } else {
    replace('\n\n[quote]\n' + selection + '\n[/quote]\n\n');
  }
}

},{"../../../utils/is-url":401,"./action":50,"react":"react"}],57:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeStriketrough,
      title: gettext("Striketrough selection")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_strikethrough'
    )
  );
};

exports.makeStriketrough = makeStriketrough;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeStriketrough(selection, replace) {
  if (selection.length) {
    replace('~~' + selection + '~~');
  }
}

},{"./action":50,"react":"react"}],58:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeStrong,
      title: gettext("Bolder selection")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_bold'
    )
  );
};

exports.makeStrong = makeStrong;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeStrong(selection, replace) {
  if (selection.length) {
    replace('**' + selection + '**');
  }
}

},{"./action":50,"react":"react"}],59:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Preview = Preview;
exports.Image = Image;
exports.Icon = Icon;
exports.Filename = Filename;
exports.Details = Details;
exports.Actions = Actions;
exports.Insert = Insert;
exports.Remove = Remove;
exports.Undo = Undo;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _fileSize = require('../../../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onInsert = function () {
      _this.props.replaceSelection(_this.insertAttachment);
    }, _this.insertAttachment = function (selection, replace) {
      var item = _this.props.item;

      if (item.is_image) {
        if (item.url.thumb) {
          replace('[![' + item.filename + '](' + item.url.thumb + ')](' + item.url.index + ')');
        } else {
          replace('[![' + item.filename + '](' + item.url.index + ')](' + item.url.index + ')');
        }
      } else {
        replace('[' + item.filename + '](' + item.url.index + ')');
      }
    }, _this.onRemove = function () {
      _this.updateItem({
        isRemoved: true
      });
    }, _this.onUndo = function () {
      _this.updateItem({
        isRemoved: false
      });
    }, _this.updateItem = function (newState) {
      var updatedAttachments = _this.props.attachments.map(function (item) {
        if (item.id === _this.props.item.id) {
          return Object.assign({}, item, newState);
        } else {
          return item;
        }
      });
      _this.props.onAttachmentsChange(updatedAttachments);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        { className: 'editor-attachment-complete' },
        _react2.default.createElement(
          'div',
          { className: 'row' },
          _react2.default.createElement(
            'div',
            { className: 'col-xs-12 col-sm-8 col-md-9' },
            _react2.default.createElement(Preview, this.props),
            _react2.default.createElement(
              'div',
              { className: 'editor-attachment-details' },
              _react2.default.createElement(Filename, this.props),
              _react2.default.createElement(Details, this.props)
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'col-xs-12 col-sm-4 col-md-3 xs-margin-top-half' },
            _react2.default.createElement(Actions, _extends({
              onInsert: this.onInsert,
              onRemove: this.onRemove,
              onUndo: this.onUndo
            }, this.props))
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

function Preview(props) {
  if (props.item.is_image) {
    return _react2.default.createElement(Image, props);
  } else {
    return _react2.default.createElement(Icon, props);
  }
}

function Image(props) {
  var thumbnailUrl = props.item.url.thumb || props.item.url.index;

  return _react2.default.createElement(
    'div',
    { className: 'editor-attachment-image' },
    _react2.default.createElement('a', {
      href: props.item.url.index + '?shva=1',
      style: { backgroundImage: "url('" + thumbnailUrl + "?shva=1')" },
      target: '_blank'
    })
  );
};

function Icon(props) {
  return _react2.default.createElement(
    'div',
    { className: 'editor-attachment-icon' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'insert_drive_file'
    )
  );
}

function Filename(props) {
  return _react2.default.createElement(
    'h4',
    null,
    _react2.default.createElement(
      'a',
      {
        className: 'item-title',
        href: props.item.url.index + '?shva=1',
        target: '_blank'
      },
      props.item.filename
    )
  );
}

function Details(props) {
  var user = null;
  if (props.item.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.item.url.uploader),
      user: (0, _escapeHtml2.default)(props.item.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.item.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.item.uploaded_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.item.uploaded_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.item.filetype,
    size: (0, _fileSize2.default)(props.item.size),
    uploader: user,
    uploaded_on: date
  }, true);

  return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: message } });
}

function Actions(props) {
  return _react2.default.createElement(
    'div',
    { className: 'editor-attachment-actions' },
    _react2.default.createElement(
      'div',
      { className: 'row' },
      _react2.default.createElement(Insert, props),
      _react2.default.createElement(Remove, props),
      _react2.default.createElement(Undo, props)
    )
  );
}

function Insert(props) {
  if (!!props.item.isRemoved) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-6' },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm btn-block',
        onClick: props.onInsert,
        type: 'button'
      },
      gettext("Insert")
    )
  );
}

function Remove(props) {
  if (!!props.item.isRemoved && props.item.acl.can_delete) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-6' },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm btn-block',
        onClick: props.onRemove,
        type: 'button'
      },
      gettext("Remove")
    )
  );
}

function Undo(props) {
  if (!props.item.isRemoved) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12' },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm btn-block',
        onClick: props.onUndo,
        type: 'button'
      },
      gettext("Undo removal")
    )
  );
}

},{"../../../..":318,"../../../../utils/escape-html":399,"../../../../utils/file-size":400,"react":"react"}],60:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var STRONG = '<strong>%(name)s</strong>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      var filteredAttachments = _this.props.attachments.filter(function (item) {
        return item.key !== _this.props.item.key;
      });
      _this.props.onAttachmentsChange(filteredAttachments);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var filename = interpolate(STRONG, {
        name: (0, _escapeHtml2.default)(this.props.item.filename)
      }, true);

      var title = interpolate(gettext("Error uploading %(filename)s"), {
        filename: filename,
        progress: this.props.item.progress + '%'
      }, true);

      return _react2.default.createElement(
        'li',
        { className: 'editor-attachment-error' },
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-error-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'warning'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-error-message' },
          _react2.default.createElement('h4', { dangerouslySetInnerHTML: { __html: title + ':' } }),
          _react2.default.createElement(
            'p',
            null,
            this.props.item.error
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-sm',
              onClick: this.onClick,
              type: 'button'
            },
            gettext("Dismiss")
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

},{"../../../../utils/escape-html":399,"react":"react"}],61:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.item.id) {
    return _react2.default.createElement(_complete2.default, props);
  }

  if (props.item.error) {
    return _react2.default.createElement(_error2.default, props);
  }

  return _react2.default.createElement(_upload2.default, props);
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _complete = require('./complete');

var _complete2 = _interopRequireDefault(_complete);

var _error = require('./error');

var _error2 = _interopRequireDefault(_error);

var _upload = require('./upload');

var _upload2 = _interopRequireDefault(_upload);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../..":318,"../../../../utils/escape-html":399,"./complete":59,"./error":60,"./upload":62,"react":"react"}],62:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var filename = interpolate(STRONG, {
    name: (0, _escapeHtml2.default)(props.item.filename)
  }, true);

  var message = interpolate(gettext("Uploading %(filename)s... %(progress)s"), {
    filename: filename,
    progress: props.item.progress + '%'
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'editor-attachment-upload' },
    _react2.default.createElement(
      'div',
      { className: 'editor-attachment-progress-bar' },
      _react2.default.createElement('div', {
        className: 'editor-attachment-progress',
        style: { width: props.item.progress + '%' }
      })
    ),
    _react2.default.createElement('p', {
      className: 'editor-attachment-upload-message',
      dangerouslySetInnerHTML: { __html: message }
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
var STRONG = '<strong>%(name)s</strong>';

;

},{"../../../../utils/escape-html":399,"react":"react"}],63:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!_2.default.get('user').acl.max_attachment_size) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'editor-attachments' },
    _react2.default.createElement(_list2.default, props),
    _react2.default.createElement(_uploader2.default, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _uploader = require('./uploader');

var _uploader2 = _interopRequireDefault(_uploader);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

; // jshint ignore:start

},{"../../..":318,"./list":64,"./uploader":66,"react":"react"}],64:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled editor-attachments-list' },
    props.attachments.map(function (item) {
      return _react2.default.createElement(_attachment2.default, _extends({ item: item, key: item.id || item.key }, props));
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _attachment = require('./attachment');

var _attachment2 = _interopRequireDefault(_attachment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

;

},{"./attachment":61,"react":"react"}],65:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      document.getElementById('editor-upload-field').click();
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!_2.default.get('user').acl.max_attachment_size) {
        return null;
      }

      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-icon ' + this.props.className,
          disabled: this.props.disabled,
          onClick: this.onClick,
          title: gettext('Upload file'),
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'file_upload'
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

},{"../../..":318,"react":"react"}],66:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getRandomKey = getRandomKey;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onChange = function (event) {
      var file = event.target.files[0];
      if (!file) {
        return;
      }

      var upload = {
        id: null,
        key: getRandomKey(),
        progress: 0,
        error: null,
        filename: file.name
      };

      _this.props.onAttachmentsChange([upload].concat(_this.props.attachments));

      var data = new FormData();
      data.append('upload', file);

      _ajax2.default.upload(_2.default.get('ATTACHMENTS_API'), data, function (progress) {
        upload.progress = progress;
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }).then(function (data) {
        data.uploaded_on = (0, _moment2.default)(data.uploaded_on);
        Object.assign(upload, data);
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          upload.error = rejection.detail;
          _this.props.onAttachmentsChange(_this.props.attachments.concat());
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement('input', {
        id: 'editor-upload-field',
        onChange: this.onChange,
        type: 'file'
      });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

function getRandomKey() {
  return 'upld-' + Math.round(new Date().getTime());
}

},{"../../..":318,"../../../services/ajax":381,"../../../services/snackbar":392,"moment":"moment","react":"react"}],67:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Protect = Protect;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _code = require('./actions/code');

var _code2 = _interopRequireDefault(_code);

var _emphasis = require('./actions/emphasis');

var _emphasis2 = _interopRequireDefault(_emphasis);

var _hr = require('./actions/hr');

var _hr2 = _interopRequireDefault(_hr);

var _image = require('./actions/image');

var _image2 = _interopRequireDefault(_image);

var _link = require('./actions/link');

var _link2 = _interopRequireDefault(_link);

var _striketrough = require('./actions/striketrough');

var _striketrough2 = _interopRequireDefault(_striketrough);

var _strong = require('./actions/strong');

var _strong2 = _interopRequireDefault(_strong);

var _quote = require('./actions/quote');

var _quote2 = _interopRequireDefault(_quote);

var _attachments = require('./attachments');

var _attachments2 = _interopRequireDefault(_attachments);

var _uploadButton = require('./attachments/upload-button');

var _uploadButton2 = _interopRequireDefault(_uploadButton);

var _markupPreview = require('./markup-preview');

var _markupPreview2 = _interopRequireDefault(_markupPreview);

var _textutils = require('./textutils');

var textUtils = _interopRequireWildcard(_textutils);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onPreviewClick = function () {
      if (_this.state.isPreviewLoading) {
        return;
      }

      _this.setState({
        isPreviewLoading: true
      });

      _ajax2.default.post(_2.default.get('PARSE_MARKUP_API'), { post: _this.props.value }).then(function (data) {
        _modal2.default.show(_react2.default.createElement(_markupPreview2.default, { markup: data.parsed }));

        _this.setState({
          isPreviewLoading: false
        });
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _this.setState({
          isPreviewLoading: false
        });
      });
    };

    _this.replaceSelection = function (operation) {
      operation(textUtils.getSelectionText(), _this._replaceSelection);
    };

    _this._replaceSelection = function (newValue) {
      _this.props.onChange({
        target: {
          value: textUtils.replace(newValue)
        }
      });
    };

    _this.state = {
      isPreviewLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      $('#editor-textarea').atwho({
        at: '@',
        displayTpl: '<li><img src="${avatar}" alt="">${username}</li>',
        insertTpl: '@${username}',
        searchKey: 'username',
        callbacks: {
          remoteFilter: function remoteFilter(query, callback) {
            $.getJSON(_2.default.get('MENTION_API'), { q: query }, callback);
          }
        }
      });

      $('#editor-textarea').on("inserted.atwho", function (event, flag, query) {
        _this2.props.onChange(event);
      });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'editor-border' },
        _react2.default.createElement('textarea', {
          className: 'form-control',
          value: this.props.value,
          disabled: this.props.loading,
          id: 'editor-textarea',
          onChange: this.props.onChange,
          rows: '9'
        }),
        _react2.default.createElement(
          'div',
          { className: 'editor-footer' },
          _react2.default.createElement(
            'div',
            { className: 'buttons-list pull-left' },
            _react2.default.createElement(_strong2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_emphasis2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_striketrough2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_hr2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_link2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_image2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_quote2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_code2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              replaceSelection: this.replaceSelection
            }),
            _react2.default.createElement(_uploadButton2.default, {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading
            })
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              onClick: this.onPreviewClick,
              type: 'button'
            },
            gettext("Preview")
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn-primary btn-sm pull-right',
              onClick: this.props.onClick,
              loading: this.props.loading
            },
            this.props.submitLabel || gettext("Post")
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-sm pull-right',
              disabled: this.props.loading,
              onClick: this.props.onCancel,
              type: 'button'
            },
            gettext("Cancel")
          ),
          _react2.default.createElement('div', { className: 'clearfix visible-xs-block' }),
          _react2.default.createElement(Protect, {
            canProtect: this.props.canProtect,
            disabled: this.props.loading,
            onProtect: this.props.onProtect,
            onUnprotect: this.props.onUnprotect,
            protect: this.props.protect
          })
        ),
        _react2.default.createElement(_attachments2.default, {
          attachments: this.props.attachments,
          onAttachmentsChange: this.props.onAttachmentsChange,
          placeholder: this.props.placeholder,
          replaceSelection: this.replaceSelection
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Protect(props) {
  if (!props.canProtect) return null;

  var label = props.protect ? gettext('Protected') : gettext('Protect');

  return _react2.default.createElement(
    'button',
    {
      className: 'btn btn-icon btn-default btn-protect btn-sm pull-right',
      disabled: props.disabled,
      onClick: props.protect ? props.onUnprotect : props.onProtect,
      title: label,
      type: 'button'
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      props.protect ? 'lock' : 'lock_outline'
    ),
    _react2.default.createElement(
      'span',
      { className: 'btn-text hidden-md hidden-lg' },
      label
    )
  );
}

},{"../..":318,"../../services/ajax":381,"../../services/modal":387,"../../services/snackbar":392,"../button":24,"./actions/code":51,"./actions/emphasis":52,"./actions/hr":53,"./actions/image":54,"./actions/link":55,"./actions/quote":56,"./actions/striketrough":57,"./actions/strong":58,"./attachments":63,"./attachments/upload-button":65,"./markup-preview":68,"./textutils":69,"react":"react"}],68:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Preview message")
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'modal-body markup-preview' },
        _react2.default.createElement(_misagoMarkup2.default, { markup: props.markup })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _misagoMarkup = require('../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../misago-markup":75,"react":"react"}],69:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTextarea = getTextarea;
exports.getValue = getValue;
exports.getSelectionRange = getSelectionRange;
exports.getSelection = getSelection;
exports.getSelectionText = getSelectionText;
exports.setSelection = setSelection;
exports._replace = _replace;
exports.replace = replace;
var textareaId = exports.textareaId = 'editor-textarea';

function getTextarea() {
  return document.getElementById(textareaId);
}

function getValue() {
  return document.getElementById(textareaId).value;
}

function getSelectionRange(start, end) {
  return {
    start: start,
    end: end
  };
}

function getSelection() {
  var ctrl = getTextarea();
  if (document.selection) {
    ctrl.focus();
    var range = document.selection.createRange();
    var length = range.text.length;
    range.moveStart('character', -ctrl.value.length);
    return getSelectionRange(range.text.length - length, range.text.length);
  } else if (ctrl.selectionStart || ctrl.selectionStart == '0') {
    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd);
  }
}

function getSelectionText() {
  var range = getSelection();
  return $.trim(getValue().substring(range.start, range.end));
}

function setSelection(selectionRange) {
  var ctrl = getTextarea();
  if (ctrl.setSelectionRange) {
    ctrl.focus();
    ctrl.setSelectionRange(selectionRange.start, selectionRange.end);
  } else if (ctrl.createTextRange) {
    var range = ctrl.createTextRange();
    range.collapse(true);
    range.moveStart('character', selectionRange.start);
    range.moveEnd('character', selectionRange.end);
    range.select();
  }
}

function _replace(myRange, replacement) {
  var ctrl = getTextarea();
  var text = ctrl.value;
  var startText = text.substring(0, myRange.start);
  ctrl.value = text.substring(0, myRange.start) + replacement + text.substring(myRange.end);
  setSelection(getSelectionRange(startText.length + replacement.length, startText.length + replacement.length));
  return ctrl.value;
}

function replace(replacement) {
  return _replace(getSelection(), replacement);
}

},{}],70:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'isValidated',
    value: function isValidated() {
      return typeof this.props.validation !== "undefined";
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var className = 'form-group';
      if (this.isValidated()) {
        className += ' has-feedback';
        if (this.props.validation === null) {
          className += ' has-success';
        } else {
          className += ' has-error';
        }
      }
      return className;
    }
  }, {
    key: 'getFeedback',
    value: function getFeedback() {
      var _this2 = this;

      if (this.props.validation) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'help-block errors' },
          this.props.validation.map(function (error, i) {
            return _react2.default.createElement(
              'p',
              { key: _this2.props.for + 'FeedbackItem' + i },
              error
            );
          })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getFeedbackDescription',
    value: function getFeedbackDescription() {
      if (this.isValidated()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { id: this.props.for + '_status', className: 'sr-only' },
          this.props.validation ? gettext('(error)') : gettext('(success)')
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'help-block' },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'label',
          { className: 'control-label ' + (this.props.labelClass || ''),
            htmlFor: this.props.for || '' },
          this.props.label + ':'
        ),
        _react2.default.createElement(
          'div',
          { className: this.props.controlClass || '' },
          this.props.children,
          this.getFeedbackDescription(),
          this.getFeedback(),
          this.getHelpText(),
          this.props.extra || null
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],71:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _validators = require('../utils/validators');

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var validateRequired = (0, _validators.required)();

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.bindInput = function (name) {
      return function (event) {
        _this.changeValue(name, event.target.value);
      };
    }, _this.changeValue = function (name, value) {
      var newState = _defineProperty({}, name, value);

      var formErrors = _this.state.errors || {};
      formErrors[name] = _this.validateField(name, newState[name]);
      newState.errors = formErrors;

      _this.setState(newState);
    }, _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      if (event) {
        event.preventDefault();
      }

      if (_this.state.isLoading) {
        return;
      }

      if (_this.clean()) {
        _this.setState({ isLoading: true });
        var promise = _this.send();

        if (promise) {
          promise.then(function (success) {
            _this.setState({ isLoading: false });
            _this.handleSuccess(success);
          }, function (rejection) {
            _this.setState({ isLoading: false });
            _this.handleError(rejection);
          });
        } else {
          _this.setState({ isLoading: false });
        }
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'validate',
    value: function validate() {
      var errors = {};
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: this.state.validators.required || this.state.validators,
        optional: this.state.validators.optional || {}
      };

      var validatedFields = [];

      // add required fields to validation
      for (var name in validators.required) {
        if (validators.required.hasOwnProperty(name) && validators.required[name]) {
          validatedFields.push(name);
        }
      }

      // add optional fields to validation
      for (var _name in validators.optional) {
        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {
          validatedFields.push(_name);
        }
      }

      // validate fields values
      for (var i in validatedFields) {
        var _name2 = validatedFields[i];
        var fieldErrors = this.validateField(_name2, this.state[_name2]);

        if (fieldErrors === null) {
          errors[_name2] = null;
        } else if (fieldErrors) {
          errors[_name2] = fieldErrors;
        }
      }

      return errors;
    }
  }, {
    key: 'isValid',
    value: function isValid() {
      var errors = this.validate();
      for (var field in errors) {
        if (errors.hasOwnProperty(field)) {
          if (errors[field] !== null) {
            return false;
          }
        }
      }

      return true;
    }
  }, {
    key: 'validateField',
    value: function validateField(name, value) {
      var errors = [];
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: (this.state.validators.required || this.state.validators)[name],
        optional: (this.state.validators.optional || {})[name]
      };

      var requiredError = validateRequired(value) || false;

      if (validators.required) {
        if (requiredError) {
          errors = [requiredError];
        } else {
          for (var i in validators.required) {
            var validationError = validators.required[i](value);
            if (validationError) {
              errors.push(validationError);
            }
          }
        }

        return errors.length ? errors : null;
      } else if (requiredError === false && validators.optional) {
        for (var _i in validators.optional) {
          var _validationError = validators.optional[_i](value);
          if (_validationError) {
            errors.push(_validationError);
          }
        }

        return errors.length ? errors : null;
      }

      return false; // false === field wasn't validated
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',
    value: function clean() {
      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return null;
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      return;
    }
  }, {
    key: 'handleError',

    /* jshint ignore:end */
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/snackbar":392,"../utils/validators":409,"react":"react"}],72:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'isActive',
    value: function isActive() {
      if (this.props.isControlled) {
        return this.props.isActive;
      } else {
        if (this.props.path) {
          return document.location.pathname.indexOf(this.props.path) === 0;
        } else {
          return false;
        }
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.isActive()) {
        return (this.props.className || '') + ' ' + (this.props.activeClassName || 'active');
      } else {
        return this.props.className || '';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        this.props.children
      );
      // jshint ignore:end
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],73:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: props.className || "loader" },
    _react2.default.createElement("div", { className: "loader-spinning-wheel" })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],74:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.BestAnswerSelect = BestAnswerSelect;
exports.PollSelect = PollSelect;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('./form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSuccess = function (success) {
      _this.props.onSuccess(success);
      _modal2.default.hide();
    };

    _this.handleError = function (rejection) {
      _this.props.onError(rejection);
    };

    _this.onBestAnswerChange = function (event) {
      _this.changeValue('bestAnswer', event.target.value);
    };

    _this.onPollChange = function (event) {
      _this.changeValue('poll', event.target.value);
    };

    _this.state = {
      isLoading: false,

      bestAnswer: '0',
      poll: '0'
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (this.props.polls && this.state.poll === '0') {
        var confirmation = confirm(gettext("Are you sure you want to delete all polls?"));
        return confirmation;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      var data = Object.assign({}, this.props.data, {
        best_answer: this.state.bestAnswer,
        poll: this.state.poll
      });

      return _ajax2.default.post(this.props.api, data);
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              {
                'aria-label': gettext("Close"),
                className: 'close',
                'data-dismiss': 'modal',
                type: 'button'
              },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Merge threads")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(BestAnswerSelect, {
                choices: this.props.bestAnswers,
                onChange: this.onBestAnswerChange,
                value: this.state.bestAnswer
              }),
              _react2.default.createElement(PollSelect, {
                choices: this.props.polls,
                onChange: this.onPollChange,
                value: this.state.poll
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default',
                  'data-dismiss': 'modal',
                  disabled: this.state.isLoading,
                  type: 'button'
                },
                gettext("Cancel")
              ),
              _react2.default.createElement(
                _button2.default,
                { className: 'btn-primary', loading: this.state.isLoading },
                gettext("Merge threads")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function BestAnswerSelect(_ref) {
  var choices = _ref.choices,
      onChange = _ref.onChange,
      value = _ref.value;

  if (!choices) return null;

  return _react2.default.createElement(
    _formGroup2.default,
    {
      label: gettext("Best answer"),
      helpText: gettext("Please select the best answer for your newly merged thread. No posts will be deleted during the merge."),
      'for': 'id_best_answer'
    },
    _react2.default.createElement(
      'select',
      {
        className: 'form-control',
        id: 'id_best_answer',
        onChange: onChange,
        value: value
      },
      choices.map(function (choice) {
        return _react2.default.createElement(
          'option',
          { value: choice[0], key: choice[0] },
          choice[1]
        );
      })
    )
  );
}

function PollSelect(_ref2) {
  var choices = _ref2.choices,
      onChange = _ref2.onChange,
      value = _ref2.value;

  if (!choices) return null;

  return _react2.default.createElement(
    _formGroup2.default,
    {
      label: gettext("Poll"),
      helpText: gettext("Please select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered."),
      'for': 'id_poll'
    },
    _react2.default.createElement(
      'select',
      {
        className: 'form-control',
        id: 'id_poll',
        onChange: onChange,
        value: value
      },
      choices.map(function (choice) {
        return _react2.default.createElement(
          'option',
          { value: choice[0], key: choice[0] },
          choice[1]
        );
      })
    )
  );
}

},{"../services/ajax":381,"../services/modal":387,"./button":24,"./form":71,"./form-group":70,"react":"react"}],75:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _oneBox = require('../services/one-box');

var _oneBox2 = _interopRequireDefault(_oneBox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _oneBox2.default.render(this.documentNode);
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps, prevState) {
      _oneBox2.default.render(this.documentNode);
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      return nextProps.markup !== this.props.markup;
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement('article', {
        className: 'misago-markup',
        dangerouslySetInnerHTML: { __html: this.props.markup },
        ref: function ref(node) {
          _this2.documentNode = node;
        }
      });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/one-box":388,"react":"react"}],76:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-loader' },
        _react2.default.createElement(_loader2.default, null)
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":73,"react":"react"}],77:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require('./panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var _class = function (_PanelMessage) {
  _inherits(_class, _PanelMessage);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'help-block' },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.props.icon || 'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.message
          ),
          this.getHelpText(),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              type: 'button'
            },
            gettext("Ok")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_panelMessage2.default);

exports.default = _class;

},{"./panel-message":109,"react":"react"}],78:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (data) {
  var filtered = data.filter(function (section) {
    return section.results.count > 0;
  });

  return filtered.map(function (section) {
    return Object.assign({}, section, {
      count: section.results.count,
      results: section.results.results.slice(0, MAX_RESULTS)
    });
  });
};

var MAX_RESULTS = 5;

},{}],79:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var HEADER = exports.HEADER = 'HEADER';
var RESULT = exports.RESULT = 'RESULT';
var FOOTER = exports.FOOTER = 'FOOTER';

},{}],80:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var children = _ref.children,
      onChange = _ref.onChange,
      query = _ref.query;

  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-search-results', role: 'menu' },
    _react2.default.createElement(
      'li',
      { className: 'form-group' },
      _react2.default.createElement(_input2.default, {
        value: query,
        onChange: onChange
      })
    ),
    children
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _input = require('./input');

var _input2 = _interopRequireDefault(_input);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./input":84,"react":"react"}],81:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  return _react2.default.createElement(
    "li",
    { className: "dropdown-search-message" },
    gettext("Search returned no results.")
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],82:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (results) {
  var flatlist = [];
  flattenProviders(results, flatlist);
  return flatlist;
};

var _constants = require('./constants');

function flattenProviders(results, flatlist) {
  var arrayLength = results.length;
  for (var i = 0; i < arrayLength; i++) {
    var provider = results[i];

    flatlist.push({
      provider: provider,
      type: _constants.HEADER
    });

    flattenProvider(provider, flatlist);
  }
}

function flattenProvider(provider, flatlist) {
  var arrayLength = provider.results.length;
  for (var i = 0; i < arrayLength; i++) {
    var result = provider.results[i];
    flatlist.push({
      provider: provider,
      result: result,
      type: _constants.RESULT
    });
  }

  flatlist.push({
    provider: provider,
    type: _constants.FOOTER
  });
}

},{"./constants":79}],83:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (_ref) {
  var isLoading = _ref.isLoading,
      onChange = _ref.onChange,
      results = _ref.results,
      query = _ref.query;

  if (!query.trim().length) {
    return _react2.default.createElement(_dropdownMenu2.default, { onChange: onChange, query: query });
  }

  if (results.length) {
    var flatResults = (0, _flattenResults2.default)(results);

    return _react2.default.createElement(
      _dropdownMenu2.default,
      { onChange: onChange, query: query },
      flatResults.map(function (props) {
        var type = props.type,
            provider = props.provider,
            result = props.result;


        if (type === _constants.RESULT) {
          return _react2.default.createElement(_result2.default, _extends({
            key: [provider.id, type, result.id].join('_')
          }, props));
        }

        return _react2.default.createElement(_result2.default, _extends({
          key: [provider.id, type].join('_'),
          query: query
        }, props));
      })
    );
  } else if (isLoading) {
    return _react2.default.createElement(
      _dropdownMenu2.default,
      { onChange: onChange, query: query },
      _react2.default.createElement(_loader2.default, null)
    );
  }

  return _react2.default.createElement(
    _dropdownMenu2.default,
    { onChange: onChange, query: query },
    _react2.default.createElement(_empty2.default, null)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _constants = require('./constants');

var _dropdownMenu = require('./dropdown-menu');

var _dropdownMenu2 = _interopRequireDefault(_dropdownMenu);

var _empty = require('./empty');

var _empty2 = _interopRequireDefault(_empty);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

var _result = require('./result');

var _result2 = _interopRequireDefault(_result);

var _flattenResults = require('./flatten-results');

var _flattenResults2 = _interopRequireDefault(_flattenResults);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./constants":79,"./dropdown-menu":80,"./empty":81,"./flatten-results":82,"./loader":85,"./result":88,"react":"react"}],84:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var value = _ref.value,
      onChange = _ref.onChange;

  return _react2.default.createElement("input", {
    "aria-haspopup": "true",
    "aria-expanded": "false",
    autoComplete: "off",
    className: "form-control",
    value: value,
    onChange: onChange,
    placeholder: gettext("Search"),
    role: "combobox",
    type: "text"
  });
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],85:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var message = _ref.message;

  return _react2.default.createElement(
    'li',
    { className: 'dropdown-search-loader' },
    _react2.default.createElement(_loader2.default, null)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('../../loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../loader":73,"react":"react"}],86:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var provider = _ref.provider,
      query = _ref.query;

  var url = provider.url + '?q=' + encodeURI(query);
  var label = ngettext('See full "%(provider)s" results page with %(count)s result.', 'See full "%(provider)s" results page with %(count)s results.', provider.count);

  return _react2.default.createElement(
    'li',
    { className: 'dropdown-search-footer' },
    _react2.default.createElement(
      'a',
      { href: url },
      interpolate(label, {
        count: provider.count,
        provider: provider.name
      }, true)
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],87:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var provider = _ref.provider;

  return _react2.default.createElement(
    "li",
    { className: "dropdown-search-header" },
    provider.name
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],88:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var provider = _ref.provider,
      result = _ref.result,
      type = _ref.type,
      query = _ref.query;

  if (type === _constants.HEADER) {
    return _react2.default.createElement(_header2.default, { provider: provider });
  } else if (type === _constants.FOOTER) {
    return _react2.default.createElement(_footer2.default, { provider: provider, query: query });
  }

  return _react2.default.createElement(_result2.default, { provider: provider, result: result });
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _constants = require('../constants');

var _footer = require('./footer');

var _footer2 = _interopRequireDefault(_footer);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _result = require('./result');

var _result2 = _interopRequireDefault(_result);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../constants":79,"./footer":86,"./header":87,"./result":89,"react":"react"}],89:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var provider = _ref.provider,
      result = _ref.result;

  if (provider.id === 'threads') {
    return _react2.default.createElement(_thread2.default, { result: result });
  }

  return _react2.default.createElement(_user2.default, { result: result });
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _thread = require('./thread');

var _thread2 = _interopRequireDefault(_thread);

var _user = require('./user');

var _user2 = _interopRequireDefault(_user);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./thread":90,"./user":91,"react":"react"}],90:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var result = _ref.result;
  var poster = result.poster,
      thread = result.thread;

  var footer = gettext("Posted by %(poster)s on %(posted_on)s in %(category)s.");

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      { href: result.url.index, className: 'dropdown-search-thread' },
      _react2.default.createElement(
        'h5',
        null,
        thread.title
      ),
      _react2.default.createElement(
        'small',
        { className: 'dropdown-search-post-content' },
        $(result.content).text()
      ),
      _react2.default.createElement(
        'small',
        { className: 'dropdown-search-post-footer' },
        interpolate(footer, {
          category: result.category.name,
          posted_on: (0, _moment2.default)(result.posted_on).format('LL'),
          poster: result.poster_name
        }, true)
      )
    )
  );
};

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"moment":"moment","react":"react"}],91:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var result = _ref.result;
  var rank = result.rank;


  var detail = gettext("%(title)s, joined on %(joined_on)s");
  var title = result.title || rank.title || rank.name;

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      { href: result.url, className: 'dropdown-search-user' },
      _react2.default.createElement(
        'div',
        { className: 'media' },
        _react2.default.createElement(
          'div',
          { className: 'media-left' },
          _react2.default.createElement(_avatar2.default, { size: 38, user: result })
        ),
        _react2.default.createElement(
          'div',
          { className: 'media-body' },
          _react2.default.createElement(
            'h5',
            { className: 'media-heading' },
            result.username
          ),
          _react2.default.createElement(
            'small',
            null,
            interpolate(detail, {
              title: title,
              joined_on: (0, _moment2.default)(result.joined_on).format('LL')
            }, true)
          )
        )
      )
    )
  );
};

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":22,"moment":"moment","react":"react"}],92:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _cleanResults = require('./clean-results');

var _cleanResults2 = _interopRequireDefault(_cleanResults);

var _dropdown = require('./dropdown');

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this));

    _this.onToggle = function (ev) {
      _this.setState(function (prevState, props) {
        if (!prevState.isOpen) {
          window.setTimeout(function () {
            _this.container.querySelector('input').focus();
          }, 100);
        }

        return { isOpen: !prevState.isOpen };
      });
    };

    _this.onDocumentMouseDown = function (ev) {
      var closeResults = true;
      var node = ev.target;

      while (node !== null && node !== document) {
        if (node === _this.container) {
          closeResults = false;
          return;
        }

        node = node.parentNode;
      }

      if (closeResults) {
        _this.setState({ isOpen: false });
      }
    };

    _this.onEscape = function (ev) {
      if (ev.key === 'Escape') {
        _this.setState({ isOpen: false });
      }
    };

    _this.onChange = function (ev) {
      var query = ev.target.value;

      _this.setState({ query: query });
      _this.loadResults(query.trim());
    };

    _this.state = {
      isLoading: false,
      isOpen: false,
      query: '',
      results: []
    };

    _this.intervalId = null;
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      document.addEventListener('mousedown', this.onDocumentMouseDown);
      document.addEventListener('keydown', this.onEscape);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      document.removeEventListener('mousedown', this.onDocumentMouseDown);
      document.removeEventListener('keydown', this.onEscape);
    }
  }, {
    key: 'loadResults',
    value: function loadResults(query) {
      var _this2 = this;

      if (!query.length) return;

      var delay = 300 + Math.random() * 300;

      if (this.intervalId) {
        window.clearTimeout(this.intervalId);
      }

      this.setState({ isLoading: true });

      this.intervalId = window.setTimeout(function () {
        _ajax2.default.get(_2.default.get('SEARCH_API'), { q: query }).then(function (data) {
          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: (0, _cleanResults2.default)(data)
          });
        }, function (rejection) {
          _snackbar2.default.apiError(rejection);

          _this2.setState({
            intervalId: null,
            isLoading: false,
            results: []
          });
        });
      }, delay);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var className = "navbar-search dropdown";
      if (this.state.isOpen) className += " open";

      return _react2.default.createElement(
        'div',
        { className: className, ref: function ref(container) {
            return _this3.container = container;
          } },
        _react2.default.createElement(
          'a',
          {
            'aria-haspopup': 'true',
            'aria-expanded': 'false',
            className: 'navbar-icon',
            'data-toggle': 'dropdown',
            href: _2.default.get('SEARCH_URL'),
            onClick: this.onToggle
          },
          _react2.default.createElement(
            'i',
            { className: 'material-icon' },
            'search'
          )
        ),
        _react2.default.createElement(_dropdown2.default, {
          isLoading: this.state.isLoading,
          onChange: this.onChange,
          results: this.state.results,
          query: this.state.query
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../..":318,"../../services/ajax":381,"../../services/snackbar":392,"./clean-results":78,"./dropdown":83,"react":"react"}],93:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  return _react2.default.createElement(
    'div',
    { className: 'panel panel-default panel-form' },
    _react2.default.createElement(
      'div',
      { className: 'panel-heading' },
      _react2.default.createElement(
        'h3',
        { className: 'panel-title' },
        gettext("Change username")
      )
    ),
    _react2.default.createElement(_panelLoader2.default, null)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require('../../panel-loader');

var _panelLoader2 = _interopRequireDefault(_panelLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../panel-loader":108,"react":"react"}],94:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require('../../panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.options.next_on) {
        return interpolate(gettext("You will be able to change your username %(next_change)s."), { 'next_change': this.props.options.next_on.fromNow() }, true);
      } else {
        return gettext("You have used up available name changes.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-form' },
        _react2.default.createElement(
          'div',
          { className: 'panel-heading' },
          _react2.default.createElement(
            'h3',
            { className: 'panel-title' },
            gettext("Change username")
          )
        ),
        _react2.default.createElement(_panelMessage2.default, {
          helpText: this.getHelpText(),
          message: gettext("You can't change your username at the moment.")
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../panel-message":109,"react":"react"}],95:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      username: '',

      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(props.options.length_min), validators.usernameMaxLength(props.options.length_max)]
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      var phrases = [];

      if (this.props.options.changes_left > 0) {
        var message = ngettext("You can change your username %(changes_left)s more time.", "You can change your username %(changes_left)s more times.", this.props.options.changes_left);

        phrases.push(interpolate(message, {
          'changes_left': this.props.options.changes_left
        }, true));
      }

      if (this.props.user.acl.name_changes_expire > 0) {
        var _message = ngettext("Used changes become available again after %(name_changes_expire)s day.", "Used changes become available again after %(name_changes_expire)s days.", this.props.user.acl.name_changes_expire);

        phrases.push(interpolate(_message, {
          'name_changes_expire': this.props.user.acl.name_changes_expire
        }, true));
      }

      return phrases.length ? phrases.join(' ') : null;
    }
  }, {
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      if (errors.username) {
        _snackbar2.default.error(errors.username[0]);
        return false;
      }if (this.state.username.trim() === this.props.user.username) {
        _snackbar2.default.info(gettext("Your new username is same as current one."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api.username, {
        'username': this.state.username
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      this.setState({
        'username': ''
      });

      this.props.complete(success.username, success.slug, success.options);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change username")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New username"), 'for': 'id_username',
                helpText: this.getHelpText() },
              _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('username'),
                value: this.state.username })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Change username")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":381,"../../../services/snackbar":392,"../../../utils/validators":409,"../../button":24,"../../form":71,"../../form-group":70,"react":"react"}],96:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _formLoading = require('./form-loading');

var _formLoading2 = _interopRequireDefault(_formLoading);

var _formLocked = require('./form-locked');

var _formLocked2 = _interopRequireDefault(_formLocked);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _root = require('../../username-history/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../../reducers/username-history');

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onComplete = function (username, slug, options) {
      _this.setState({
        options: options
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)({ username: username, slug: slug }, _this.props.user, _this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(_this.props.user, username, slug));

      _snackbar2.default.success(gettext("Your username has been changed successfully."));
    };

    _this.state = {
      isLoaded: false,
      options: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _pageTitle2.default.set({
        title: gettext("Change username"),
        parent: gettext("Change your options")
      });

      Promise.all([_ajax2.default.get(this.props.user.api.username), _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), { user: this.props.user.id })]).then(function (data) {
        _store2.default.dispatch((0, _usernameHistory.hydrate)(data[1].results));

        _this2.setState({
          isLoaded: true,
          options: {
            changes_left: data[0].changes_left,
            length_min: data[0].length_min,
            length_max: data[0].length_max,
            next_on: data[0].next_on ? (0, _moment2.default)(data[0].next_on) : null
          }
        });
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getChangeForm',

    /* jshint ignore:end */

    value: function getChangeForm() {
      if (!this.state.isLoaded) {
        /* jshint ignore:start */
        return _react2.default.createElement(_formLoading2.default, null);
        /* jshint ignore:end */
      }

      if (this.state.options.changes_left === 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(_formLocked2.default, { options: this.state.options });
        /* jshint ignore:end */
      }

      /* jshint ignore:start */
      return _react2.default.createElement(_form2.default, {
        complete: this.onComplete,
        options: this.state.options,
        user: this.props.user
      });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        this.getChangeForm(),
        _react2.default.createElement(_root2.default, {
          changes: this.props['username-history'],
          isLoaded: this.state.isLoaded
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":318,"../../../reducers/username-history":379,"../../../reducers/users":380,"../../../services/ajax":381,"../../../services/page-title":389,"../../../services/snackbar":392,"../../../services/store":393,"../../username-history/root":296,"./form":95,"./form-loading":93,"./form-locked":94,"moment":"moment","react":"react"}],97:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onPasswordChange = function (event) {
      _this.setState({ password: event.target.value });
    };

    _this.handleSubmit = function (event) {
      event.preventDefault();

      var _this$state = _this.state,
          isLoading = _this$state.isLoading,
          password = _this$state.password;
      var user = _this.props.user;


      if (password.length == 0) {
        _snackbar2.default.error(gettext("Enter your password to confirm account deletion."));
        return false;
      }

      if (isLoading) return false;
      _this.setState({ isLoading: true });

      _ajax2.default.post(user.api.delete, { password: password }).then(function (success) {
        window.location.href = _2.default.get('MISAGO_PATH');
      }, function (rejection) {
        _this.setState({ isLoading: false });
        if (rejection.password) {
          _snackbar2.default.error(rejection.password[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    };

    _this.state = {
      isLoading: false,
      password: ''
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Delete account"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-danger panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Delete account")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'p',
              { className: 'lead' },
              gettext("You are going to delete your account. This action is nonreversible, and will result in following data being deleted:")
            ),
            _react2.default.createElement(
              'p',
              null,
              '- ',
              gettext("Stored IP addresses associated with content that you have posted will be deleted.")
            ),
            _react2.default.createElement(
              'p',
              null,
              '- ',
              gettext("Your username will become available for other user to rename to or for new user to register their account with.")
            ),
            _react2.default.createElement(
              'p',
              null,
              '- ',
              gettext("Your e-mail will become available for use in new account registration.")
            ),
            _react2.default.createElement('hr', null),
            _react2.default.createElement(
              'p',
              null,
              gettext("All your posted content will NOT be deleted, but username associated with it will be changed to one shared by all deleted accounts.")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'input-group' },
              _react2.default.createElement('input', {
                className: 'form-control',
                disabled: this.state.isLoading,
                name: 'password-confirmation',
                type: 'password',
                placeholder: gettext("Enter your password to confirm account deletion."),
                value: this.state.password,
                onChange: this.onPasswordChange
              }),
              _react2.default.createElement(
                'span',
                { className: 'input-group-btn' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-danger', loading: this.state.isLoading },
                  gettext("Delete my account")
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../..":318,"../../services/ajax":381,"../../services/page-title":389,"../../services/snackbar":392,"../../services/store":393,"../button":24,"react":"react"}],98:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var DownloadData = function (_React$Component) {
  _inherits(DownloadData, _React$Component);

  function DownloadData(props) {
    _classCallCheck(this, DownloadData);

    var _this = _possibleConstructorReturn(this, (DownloadData.__proto__ || Object.getPrototypeOf(DownloadData)).call(this, props));

    _this.handleLoadDownloads = function () {
      _ajax2.default.get(_this.props.user.api.data_downloads).then(function (data) {
        _this.setState({
          isLoading: false,
          downloads: data
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.handleRequestDataDownload = function () {
      _this.setState({ isSubmiting: true });
      _ajax2.default.post(_this.props.user.api.request_data_download).then(function () {
        _this.handleLoadDownloads();
        _snackbar2.default.success(gettext("Your request for data download has been registered."));
        _this.setState({ isSubmiting: false });
      }, function (rejection) {
        console.log(rejection);
        _snackbar2.default.apiError(rejection);
        _this.setState({ isSubmiting: false });
      });
    };

    _this.state = {
      isLoading: false,
      isSubmiting: false,
      downloads: []
    };
    return _this;
  }

  _createClass(DownloadData, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Download your data"),
        parent: gettext("Change your options")
      });

      this.handleLoadDownloads();
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Download your data")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'p',
              null,
              gettext("To download your data from the site, click the \"Request data download\" button. Depending on amount of data to be archived and number of users wanting to download their data at same time it may take up to few days for your download to be prepared. An e-mail with notification will be sent to you when your data is ready to be downloaded.")
            ),
            _react2.default.createElement(
              'p',
              null,
              gettext("The download will only be available for limited amount of time, after which it will be deleted from the site and marked as expired.")
            )
          ),
          _react2.default.createElement(
            'table',
            { className: 'table' },
            _react2.default.createElement(
              'thead',
              null,
              _react2.default.createElement(
                'tr',
                null,
                _react2.default.createElement(
                  'th',
                  null,
                  gettext("Requested on")
                ),
                _react2.default.createElement(
                  'th',
                  { className: 'col-md-4' },
                  gettext("Download")
                )
              )
            ),
            _react2.default.createElement(
              'tbody',
              null,
              this.state.downloads.map(function (item) {
                return _react2.default.createElement(
                  'tr',
                  { key: item.id },
                  _react2.default.createElement(
                    'td',
                    { style: rowStyle },
                    (0, _moment2.default)(item.requested_on).fromNow()
                  ),
                  _react2.default.createElement(
                    'td',
                    null,
                    _react2.default.createElement(DownloadButton, {
                      exportFile: item.file,
                      status: item.status
                    })
                  )
                );
              }),
              this.state.downloads.length == 0 ? _react2.default.createElement(
                'tr',
                null,
                _react2.default.createElement(
                  'td',
                  { colSpan: '2' },
                  gettext("You have no data downloads.")
                )
              ) : null
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer text-right' },
            _react2.default.createElement(
              _button2.default,
              {
                className: 'btn-primary',
                loading: this.state.isSubmiting,
                type: 'button',
                onClick: this.handleRequestDataDownload
              },
              gettext("Request data download")
            )
          )
        )
      );
    }
  }]);

  return DownloadData;
}(_react2.default.Component);

exports.default = DownloadData;


var rowStyle = {
  verticalAlign: 'middle'
};

var STATUS_PENDING = 0;
var STATUS_PROCESSING = 1;

var DownloadButton = function DownloadButton(_ref) {
  var exportFile = _ref.exportFile,
      status = _ref.status;

  if (status === STATUS_PENDING || status === STATUS_PROCESSING) {
    return _react2.default.createElement(
      _button2.default,
      {
        className: 'btn-info btn-sm btn-block',
        disabled: true,
        type: 'button'
      },
      gettext("Download is being prepared")
    );
  }

  if (exportFile) {
    return _react2.default.createElement(
      'a',
      {
        className: 'btn btn-success btn-sm btn-block',
        href: exportFile
      },
      gettext("Download your data")
    );
  }

  return _react2.default.createElement(
    _button2.default,
    {
      className: 'btn-default btn-sm btn-block',
      disabled: true,
      type: 'button'
    },
    gettext("Download is expired")
  );
};

},{"../../services/ajax":381,"../../services/page-title":389,"../../services/snackbar":392,"../button":24,"moment":"moment","react":"react"}],99:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editDetails = require('../edit-details');

var _editDetails2 = _interopRequireDefault(_editDetails);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onSuccess = function () {
      _snackbar2.default.info(gettext("Your details have been updated."));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Edit details"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(_editDetails2.default, {
        api: this.props.user.api.edit_details,
        onSuccess: this.onSuccess
      });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/page-title":389,"../../services/snackbar":392,"../edit-details":48,"react":"react"}],100:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _select = require('../select');

var _select2 = _interopRequireDefault(_select);

var _yesNoSwitch = require('../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _auth = require('../../reducers/auth');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      'isLoading': false,

      'is_hiding_presence': props.user.is_hiding_presence,
      'limits_private_thread_invites_to': props.user.limits_private_thread_invites_to,
      'subscribe_to_started_threads': props.user.subscribe_to_started_threads,
      'subscribe_to_replied_threads': props.user.subscribe_to_replied_threads,

      'errors': {}
    };

    _this.privateThreadInvitesChoices = [{
      'value': 0,
      'icon': 'help_outline',
      'label': gettext("Everybody")
    }, {
      'value': 1,
      'icon': 'done_all',
      'label': gettext("Users I follow")
    }, {
      'value': 2,
      'icon': 'highlight_off',
      'label': gettext("Nobody")
    }];

    _this.subscribeToChoices = [{
      'value': 0,
      'icon': 'star_border',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'star_half',
      'label': gettext("Notify")
    }, {
      'value': 2,
      'icon': 'star',
      'label': gettext("Notify with e-mail")
    }];
    return _this;
  }

  _createClass(_class, [{
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api.options, {
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      _store2.default.dispatch((0, _auth.patch)({
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      }));
      _snackbar2.default.success(gettext("Your forum options have been changed."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(gettext("Please reload page and try again."));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Forum options"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change forum options")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'fieldset',
              null,
              _react2.default.createElement(
                'legend',
                null,
                gettext("Privacy settings")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: gettext("Hide my presence"),
                  helpText: gettext("If you hide your presence, only members with permission to see hidden users will see when you are online."),
                  'for': 'id_is_hiding_presence'
                },
                _react2.default.createElement(_yesNoSwitch2.default, {
                  id: 'id_is_hiding_presence',
                  disabled: this.state.isLoading,
                  iconOn: 'visibility_off',
                  iconOff: 'visibility',
                  labelOn: gettext("Hide my presence from other users"),
                  labelOff: gettext("Show my presence to other users"),
                  onChange: this.bindInput('is_hiding_presence'),
                  value: this.state.is_hiding_presence
                })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: gettext("Private thread invitations"),
                  'for': 'id_limits_private_thread_invites_to'
                },
                _react2.default.createElement(_select2.default, {
                  id: 'id_limits_private_thread_invites_to',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('limits_private_thread_invites_to'),
                  value: this.state.limits_private_thread_invites_to,
                  choices: this.privateThreadInvitesChoices
                })
              )
            ),
            _react2.default.createElement(
              'fieldset',
              null,
              _react2.default.createElement(
                'legend',
                null,
                gettext("Automatic subscriptions")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: gettext("Threads I start"),
                  'for': 'id_subscribe_to_started_threads'
                },
                _react2.default.createElement(_select2.default, {
                  id: 'id_subscribe_to_started_threads',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('subscribe_to_started_threads'),
                  value: this.state.subscribe_to_started_threads,
                  choices: this.subscribeToChoices
                })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: gettext("Threads I reply to"),
                  'for': 'id_subscribe_to_replied_threads'
                },
                _react2.default.createElement(_select2.default, {
                  id: 'id_subscribe_to_replied_threads',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('subscribe_to_replied_threads'),
                  value: this.state.subscribe_to_replied_threads,
                  choices: this.subscribeToChoices
                })
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Save changes")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../reducers/auth":366,"../../services/ajax":381,"../../services/page-title":389,"../../services/snackbar":392,"../../services/store":393,"../button":24,"../form":71,"../form-group":70,"../select":226,"../yes-no-switch":316,"react":"react"}],101:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SideNav = SideNav;
exports.CompactNav = CompactNav;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function SideNav(props) {
  return _react2.default.createElement(
    'div',
    { className: 'list-group nav-side' },
    props.options.map(function (option) {
      return _react2.default.createElement(
        _reactRouter.Link,
        {
          to: props.baseUrl + option.component + '/',
          className: 'list-group-item',
          activeClassName: 'active',
          key: option.component
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          option.icon
        ),
        option.name
      );
    })
  );
}

function CompactNav(props) {
  return _react2.default.createElement(
    'ul',
    { className: props.className || "dropdown-menu stick-to-bottom", role: 'menu' },
    props.options.map(function (option) {
      return _react2.default.createElement(
        _li2.default,
        {
          path: props.baseUrl + option.component + '/',
          key: option.component
        },
        _react2.default.createElement(
          _reactRouter.Link,
          {
            to: props.baseUrl + option.component + '/',
            onClick: props.hideNav
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon hidden-sm' },
            option.icon
          ),
          option.name
        )
      );
    })
  );
}

},{"../../index":318,"../li":72,"react":"react","react-router":"react-router"}],102:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _navs = require('./navs');

var _deleteAccount = require('./delete-account');

var _deleteAccount2 = _interopRequireDefault(_deleteAccount);

var _editDetails = require('./edit-details');

var _editDetails2 = _interopRequireDefault(_editDetails);

var _downloadData = require('./download-data');

var _downloadData2 = _interopRequireDefault(_downloadData);

var _forumOptions = require('./forum-options');

var _forumOptions2 = _interopRequireDefault(_forumOptions);

var _root = require('./change-username/root');

var _root2 = _interopRequireDefault(_root);

var _root3 = require('./sign-in-credentials/root');

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-options' },
        _react2.default.createElement(
          'div',
          { className: 'page-header-bg' },
          _react2.default.createElement(
            'div',
            { className: 'page-header' },
            _react2.default.createElement(
              'div',
              { className: 'container' },
              _react2.default.createElement(
                'h1',
                null,
                gettext("Change your options")
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'page-tabs visible-xs-block visible-sm-block' },
              _react2.default.createElement(
                'div',
                { className: 'container' },
                _react2.default.createElement(_navs.CompactNav, {
                  className: 'nav nav-pills',
                  baseUrl: _index2.default.get('USERCP_URL'),
                  options: _index2.default.get('USER_OPTIONS')
                })
              )
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-3 hidden-xs hidden-sm' },
              _react2.default.createElement(_navs.SideNav, {
                baseUrl: _index2.default.get('USERCP_URL'),
                options: _index2.default.get('USER_OPTIONS')
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-md-9' },
              this.props.children
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'username-history': store['username-history']
  };
}

function paths() {
  var paths = [{
    path: _index2.default.get('USERCP_URL') + 'forum-options/',
    component: (0, _reactRedux.connect)(select)(_forumOptions2.default)
  }, {
    path: _index2.default.get('USERCP_URL') + 'edit-details/',
    component: (0, _reactRedux.connect)(select)(_editDetails2.default)
  }, {
    path: _index2.default.get('USERCP_URL') + 'change-username/',
    component: (0, _reactRedux.connect)(select)(_root2.default)
  }, {
    path: _index2.default.get('USERCP_URL') + 'sign-in-credentials/',
    component: (0, _reactRedux.connect)(select)(_root4.default)
  }];

  if (_index2.default.get('ENABLE_DOWNLOAD_OWN_DATA')) {
    paths.push({
      path: _index2.default.get('USERCP_URL') + 'download-data/',
      component: (0, _reactRedux.connect)(select)(_downloadData2.default)
    });
  }

  if (_index2.default.get('ENABLE_DELETE_OWN_ACCOUNT')) {
    paths.push({
      path: _index2.default.get('USERCP_URL') + 'delete-account/',
      component: (0, _reactRedux.connect)(select)(_deleteAccount2.default)
    });
  }

  return paths;
}

},{"../../index":318,"../dropdown-toggle":43,"../with-dropdown":315,"./change-username/root":96,"./delete-account":97,"./download-data":98,"./edit-details":99,"./forum-options":100,"./navs":101,"./sign-in-credentials/root":106,"react":"react","react-redux":"react-redux"}],103:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
var UnusablePasswordMessage = function UnusablePasswordMessage() {
  return _react2.default.createElement(
    'div',
    { className: 'panel panel-default panel-form' },
    _react2.default.createElement(
      'div',
      { className: 'panel-heading' },
      _react2.default.createElement(
        'h3',
        { className: 'panel-title' },
        gettext("Change email or password")
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'panel-body panel-message-body' },
      _react2.default.createElement(
        'div',
        { className: 'message-icon' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'info_outline'
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'message-body' },
        _react2.default.createElement(
          'p',
          { className: 'lead' },
          gettext("You need to set a password for your account to be able to change your username or email.")
        ),
        _react2.default.createElement(
          'p',
          { className: 'help-block' },
          _react2.default.createElement(
            'a',
            { className: 'btn btn-primary', href: _index2.default.get('FORGOTTEN_PASSWORD_URL') },
            gettext("Set password")
          )
        )
      )
    )
  );
};

exports.default = UnusablePasswordMessage;

},{"../../../index":318,"react":"react"}],104:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      new_email: '',
      password: '',

      validators: {
        new_email: [validators.email()],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_email.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error(gettext("Fill out all fields."));
        return false;
      }

      if (errors.new_email) {
        _snackbar2.default.error(errors.new_email[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api.change_email, {
        new_email: this.state.new_email,
        password: this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(response) {
      this.setState({
        new_email: '',
        password: ''
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_email) {
          _snackbar2.default.error(rejection.new_email);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change e-mail address")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New e-mail"), 'for': 'id_new_email' },
              _react2.default.createElement('input', { type: 'text', id: 'id_new_email', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('new_email'),
                value: this.state.new_email })
            ),
            _react2.default.createElement('hr', null),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Your current password"), 'for': 'id_confirm_email' },
              _react2.default.createElement('input', { type: 'password', id: 'id_confirm_email', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Change e-mail")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":381,"../../../services/snackbar":392,"../../../utils/validators":409,"../../button":24,"../../form":71,"../../form-group":70,"react":"react"}],105:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      new_password: '',
      repeat_password: '',
      password: '',

      validators: {
        new_password: [],
        repeat_password: [],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_password.trim().length, this.state.repeat_password.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error(gettext("Fill out all fields."));
        return false;
      }

      if (errors.new_password) {
        _snackbar2.default.error(errors.new_password[0]);
        return false;
      }

      if (this.state.new_password !== this.state.repeat_password) {
        _snackbar2.default.error(gettext("New passwords are different."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api.change_password, {
        new_password: this.state.new_password,
        password: this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(response) {
      this.setState({
        new_password: '',
        repeat_password: '',
        password: ''
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_password) {
          _snackbar2.default.error(rejection.new_password);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change password")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New password"), 'for': 'id_new_password' },
              _react2.default.createElement('input', { type: 'password', id: 'id_new_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('new_password'),
                value: this.state.new_password })
            ),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Repeat password"), 'for': 'id_repeat_password' },
              _react2.default.createElement('input', { type: 'password', id: 'id_repeat_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('repeat_password'),
                value: this.state.repeat_password })
            ),
            _react2.default.createElement('hr', null),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Your current password"), 'for': 'id_confirm_password' },
              _react2.default.createElement('input', { type: 'password', id: 'id_confirm_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Change password")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":381,"../../../services/snackbar":392,"../../button":24,"../../form":71,"../../form-group":70,"react":"react"}],106:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _changeEmail = require('./change-email');

var _changeEmail2 = _interopRequireDefault(_changeEmail);

var _changePassword = require('./change-password');

var _changePassword2 = _interopRequireDefault(_changePassword);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _UnusablePasswordMessage = require('./UnusablePasswordMessage');

var _UnusablePasswordMessage2 = _interopRequireDefault(_UnusablePasswordMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Change email or password"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (!this.props.user.has_usable_password) {
        return _react2.default.createElement(_UnusablePasswordMessage2.default, null);
      }

      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_changeEmail2.default, { user: this.props.user }),
        _react2.default.createElement(_changePassword2.default, { user: this.props.user }),
        _react2.default.createElement(
          'p',
          { className: 'message-line' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'warning'
          ),
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('FORGOTTEN_PASSWORD_URL') },
            gettext("Change forgotten password")
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":318,"../../../services/page-title":389,"./UnusablePasswordMessage":103,"./change-email":104,"./change-password":105,"react":"react"}],107:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _stringCount = require('../utils/string-count');

var _stringCount2 = _interopRequireDefault(_stringCount);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.copy && this.props.copy.length) {
        if ((0, _stringCount2.default)(this.props.copy, '<p') === 1 && this.props.copy.indexOf('<br') === -1) {
          return 'page-lead lead';
        }
      }

      return 'page-lead';
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.props.copy && this.props.copy.length) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: this.getClassName(), dangerouslySetInnerHTML: {
            __html: this.props.copy
          } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../utils/string-count":408,"react":"react"}],108:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel-body panel-body-loading' },
        _react2.default.createElement(_loader2.default, { className: 'loader loader-spaced' })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":73,"react":"react"}],109:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "p",
          { className: "help-block" },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "panel-body panel-message-body" },
        _react2.default.createElement(
          "div",
          { className: "message-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.icon || 'info_outline'
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "message-body" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.props.message
          ),
          this.getHelpText()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],110:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _addParticipant = require('../add-participant');

var _addParticipant2 = _interopRequireDefault(_addParticipant);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_addParticipant2.default, { thread: _this.props.thread }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.acl.can_add_participants) return null;

      return _react2.default.createElement(
        'div',
        { className: 'col-xs-12 col-sm-3' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-block',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'person_add'
          ),
          gettext("Add participant")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/modal":387,"../add-participant":20,"react":"react"}],111:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.leave = leave;
exports.remove = remove;
exports.changeOwner = changeOwner;

var _participants = require('../../../reducers/participants');

var participants = _interopRequireWildcard(_participants);

var _thread = require('../../../reducers/thread');

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function leave(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: 'remove', path: 'participants', value: participant.id }]).then(function () {
    _snackbar2.default.success(gettext("You have left this thread."));
    window.setTimeout(function () {
      window.location = _2.default.get('PRIVATE_THREADS_URL');
    }, 3 * 1000);
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

function remove(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: 'remove', path: 'participants', value: participant.id }, { op: 'add', path: 'acl', value: 1 }]).then(function (data) {
    _store2.default.dispatch((0, _thread.updateAcl)(data));
    _store2.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been removed from this thread.");
    _snackbar2.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

function changeOwner(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: 'replace', path: 'owner', value: participant.id }, { op: 'add', path: 'acl', value: 1 }]).then(function (data) {
    _store2.default.dispatch((0, _thread.updateAcl)(data));
    _store2.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been made new thread owner.");
    _snackbar2.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

},{"../../..":318,"../../../reducers/participants":367,"../../../reducers/thread":376,"../../../services/ajax":381,"../../../services/snackbar":392,"../../../services/store":393}],112:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var participant = props.participant;

  var className = 'btn btn-default';
  if (participant.is_owner) {
    className = 'btn btn-primary';
  }
  className += ' btn-user btn-block';

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-sm-3 col-md-2 participant-card' },
    _react2.default.createElement(
      'div',
      { className: 'dropdown' },
      _react2.default.createElement(
        'button',
        {
          'aria-haspopup': 'true',
          'aria-expanded': 'false',
          className: className,
          'data-toggle': 'dropdown',
          type: 'button'
        },
        _react2.default.createElement(_avatar2.default, {
          size: '34',
          user: participant
        }),
        _react2.default.createElement(
          'span',
          { className: 'btn-text' },
          participant.username
        )
      ),
      _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu stick-to-bottom' },
        _react2.default.createElement(UserStatus, { isOwner: participant.is_owner }),
        _react2.default.createElement('li', { className: 'dropdown-header' }),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            {
              href: participant.url
            },
            gettext("See profile")
          )
        ),
        _react2.default.createElement('li', { role: 'separator', className: 'divider' }),
        _react2.default.createElement(_makeOwner2.default, props),
        _react2.default.createElement(_remove2.default, props)
      )
    )
  );
};

exports.UserStatus = UserStatus;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _makeOwner = require('./make-owner');

var _makeOwner2 = _interopRequireDefault(_makeOwner);

var _remove = require('./remove');

var _remove2 = _interopRequireDefault(_remove);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function UserStatus(_ref) {
  var isOwner = _ref.isOwner;

  if (!isOwner) return null;

  return _react2.default.createElement(
    'li',
    { className: 'dropdown-header dropdown-header-owner' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'start'
    ),
    _react2.default.createElement(
      'span',
      { className: 'icon-text' },
      gettext("Thread owner")
    )
  );
} // jshint ignore:start

},{"../../avatar":22,"./make-owner":114,"./remove":115,"react":"react"}],113:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var participants = _ref.participants,
      thread = _ref.thread,
      user = _ref.user,
      userIsOwner = _ref.userIsOwner;

  return _react2.default.createElement(
    'div',
    { className: 'participants-cards' },
    _react2.default.createElement(
      'div',
      { className: 'row' },
      participants.map(function (participant) {
        return _react2.default.createElement(_card2.default, {
          key: participant.id,
          participant: participant,
          thread: thread,
          user: user,
          userIsOwner: userIsOwner
        });
      })
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _card = require('./card');

var _card2 = _interopRequireDefault(_card);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./card":112,"react":"react"}],114:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _actions = require('./actions');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onClick = function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to take over this thread?"));
      } else {
        var message = gettext("Are you sure you want to change thread owner to %(user)s?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;

      (0, _actions.changeOwner)(_this.props.thread, _this.props.participant);
    };

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.participant.is_owner) return null;
      if (!this.props.thread.acl.can_change_owner) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          gettext("Make owner")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./actions":111,"react":"react"}],115:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _actions = require('./actions');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onClick = function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to leave this thread?"));
      } else {
        var message = gettext("Are you sure you want to remove %(user)s from this thread?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;

      if (_this.isUser) {
        (0, _actions.leave)(_this.props.thread, _this.props.participant);
      } else {
        (0, _actions.remove)(_this.props.thread, _this.props.participant);
      }
    };

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var isModerator = this.props.user.acl.can_moderate_private_threads;

      if (!(this.props.userIsOwner || this.isUser || isModerator)) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          this.isUser ? gettext("Leave thread") : gettext("Remove")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./actions":111,"react":"react"}],116:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  if (!props.participants.length) return null;

  return _react2.default.createElement(
    'div',
    { className: 'panel panel-default panel-participants' },
    _react2.default.createElement(
      'div',
      { className: 'panel-body' },
      _react2.default.createElement(_cardsList2.default, _extends({
        userIsOwner: getUserIsOwner(props.user, props.participants)
      }, props)),
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(_addParticipant2.default, { thread: props.thread }),
        _react2.default.createElement(
          'div',
          { className: 'col-xs-12 col-sm-9' },
          _react2.default.createElement(
            'p',
            null,
            utils.getParticipantsCopy(props.participants)
          )
        )
      )
    )
  );
};

exports.getUserIsOwner = getUserIsOwner;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _addParticipant = require('./add-participant');

var _addParticipant2 = _interopRequireDefault(_addParticipant);

var _cardsList = require('./cards-list');

var _cardsList2 = _interopRequireDefault(_cardsList);

var _utils = require('./utils');

var utils = _interopRequireWildcard(_utils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getUserIsOwner(user, participants) {
  return participants[0].id === user.id;
}

},{"./add-participant":110,"./cards-list":113,"./utils":117,"react":"react"}],117:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getParticipantsCopy = getParticipantsCopy;
function getParticipantsCopy(participants) {
  var count = participants.length;
  var message = ngettext("This thread has %(users)s participant.", "This thread has %(users)s participants.", count);

  return interpolate(message, {
    users: count
  }, true);
}

},{}],118:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LABELS = exports.STYLES = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var STYLES = exports.STYLES = ['progress-bar-danger', 'progress-bar-warning', 'progress-bar-warning', 'progress-bar-primary', 'progress-bar-success'];

var LABELS = exports.LABELS = [gettext("Entered password is very weak."), gettext("Entered password is weak."), gettext("Entered password is average."), gettext("Entered password is strong."), gettext("Entered password is very strong.")];

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this._score = 0;
    _this._password = null;
    _this._inputs = [];

    _this.state = {
      loaded: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _zxcvbn2.default.load().then(function () {
        _this2.setState({ loaded: true });
      });
    }
  }, {
    key: 'getScore',
    value: function getScore(password, inputs) {
      var _this3 = this;

      var cacheStale = false;

      if (password !== this._password) {
        cacheStale = true;
      }

      if (inputs.length !== this._inputs.length) {
        cacheStale = true;
      } else {
        inputs.map(function (value, i) {
          if (value.trim() !== _this3._inputs[i]) {
            cacheStale = true;
          }
        });
      }

      if (cacheStale) {
        this._score = _zxcvbn2.default.scorePassword(password, inputs);
        this._password = password;
        this._inputs = inputs.map(function (value) {
          return value.trim();
        });
      }

      return this._score;
    }
  }, {
    key: 'render',
    value: function render() {
      if (!this.state.loaded) return null;

      /* jshint ignore:start */
      var score = this.getScore(this.props.password, this.props.inputs);

      return _react2.default.createElement(
        'div',
        { className: 'help-block password-strength' },
        _react2.default.createElement(
          'div',
          { className: 'progress' },
          _react2.default.createElement(
            'div',
            { className: "progress-bar " + STYLES[score],
              style: { width: 20 + 20 * score + '%' },
              role: 'progress-bar',
              'aria-valuenow': score,
              'aria-valuemin': '0',
              'aria-valuemax': '4' },
            _react2.default.createElement(
              'span',
              { className: 'sr-only' },
              LABELS[score]
            )
          )
        ),
        _react2.default.createElement(
          'p',
          { className: 'text-small' },
          LABELS[score]
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/zxcvbn":394,"react":"react"}],119:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PollChoice = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.generateRandomHash = generateRandomHash;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onAdd = function () {
      var choices = _this.props.choices.slice();
      choices.push({
        hash: generateRandomHash(),
        label: ''
      });

      _this.props.setChoices(choices);
    }, _this.onChange = function (hash, label) {
      var choices = _this.props.choices.map(function (choice) {
        if (choice.hash === hash) {
          choice.label = label;
        }

        return choice;
      });
      _this.props.setChoices(choices);
    }, _this.onDelete = function (hash) {
      var choices = _this.props.choices.filter(function (choice) {
        return choice.hash !== hash;
      });
      _this.props.setChoices(choices);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement(
        'div',
        { className: 'poll-choices-control' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.props.choices.map(function (choice) {
            return _react2.default.createElement(PollChoice, {
              canDelete: _this2.props.choices.length > 2,
              choice: choice,
              disabled: _this2.props.disabled,
              key: choice.hash,
              onChange: _this2.onChange,
              onDelete: _this2.onDelete
            });
          })
        ),
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-sm',
            disabled: this.props.disabled,
            onClick: this.onAdd,
            type: 'button'
          },
          gettext("Add choice")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

var PollChoice = exports.PollChoice = function (_React$Component2) {
  _inherits(PollChoice, _React$Component2);

  function PollChoice() {
    var _ref2;

    var _temp2, _this3, _ret2;

    _classCallCheck(this, PollChoice);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this3 = _possibleConstructorReturn(this, (_ref2 = PollChoice.__proto__ || Object.getPrototypeOf(PollChoice)).call.apply(_ref2, [this].concat(args))), _this3), _this3.onChange = function (event) {
      _this3.props.onChange(_this3.props.choice.hash, event.target.value);
    }, _this3.onDelete = function () {
      var deleteItem = confirm(gettext("Are you sure you want to delete this choice?"));
      if (deleteItem) {
        _this3.props.onDelete(_this3.props.choice.hash);
      }
    }, _temp2), _possibleConstructorReturn(_this3, _ret2);
  }

  _createClass(PollChoice, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        { className: 'list-group-item' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn',
            disabled: !this.props.canDelete || this.props.disabled,
            onClick: this.onDelete,
            title: gettext("Delete this choice"),
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'close'
          )
        ),
        _react2.default.createElement('input', {
          disabled: this.props.disabled,
          maxLength: '255',
          placeholder: gettext("choice label"),
          type: 'text',
          onChange: this.onChange,
          value: this.props.choice.label
        })
      );
    }
  }]);

  return PollChoice;
}(_react2.default.Component);

function generateRandomHash() {
  var randomHash = '';
  while (randomHash.length != 12) {
    randomHash = Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g, '').substr(1, 12);
  }
  return randomHash;
}

},{"react":"react"}],120:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.PollPublicSwitch = PollPublicSwitch;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _choicesControl = require('./choices-control');

var _choicesControl2 = _interopRequireDefault(_choicesControl);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _poll = require('../../../reducers/poll');

var poll = _interopRequireWildcard(_poll);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setChoices = function (choices) {
      var errors = Object.assign({}, errors, { choices: null });

      _this.setState({
        choices: choices,
        errors: errors
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard poll?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    var poll = props.poll || {
      question: '',
      choices: [{
        hash: 'choice-10000',
        label: ''
      }, {
        hash: 'choice-20000',
        label: ''
      }],
      length: 0,
      allowed_choices: 1,
      allow_revotes: 0,
      is_public: 0
    };

    _this.state = {
      isLoading: false,
      isEdit: !!poll.question,

      question: poll.question,
      choices: poll.choices,
      length: poll.length,
      allowed_choices: poll.allowed_choices,
      allow_revotes: poll.allow_revotes,
      is_public: poll.is_public,

      validators: {
        question: [],
        choices: [],
        length: [],
        allowed_choices: []
      },

      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'send',
    value: function send() {
      var data = {
        question: this.state.question,
        choices: this.state.choices,
        length: this.state.length,
        allowed_choices: this.state.allowed_choices,
        allow_revotes: this.state.allow_revotes,
        is_public: this.state.is_public
      };

      if (this.state.isEdit) {
        return _ajax2.default.put(this.props.poll.api.index, data);
      } else {
        return _ajax2.default.post(this.props.thread.api.poll, data);
      }
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch(poll.replace(data));

      if (this.state.isEdit) {
        _snackbar2.default.success(gettext("Poll has been edited."));
      } else {
        _snackbar2.default.success(gettext("Poll has been posted."));
      }

      _posting2.default.close();
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.non_field_errors) {
          rejection.allowed_choices = rejection.non_field_errors;
        }

        this.setState({
          'errors': Object.assign({}, rejection)
        });

        _snackbar2.default.error(gettext("Form contains errors."));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'poll-form' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'panel panel-default panel-form' },
              _react2.default.createElement(
                'div',
                { className: 'panel-body' },
                _react2.default.createElement(
                  'fieldset',
                  null,
                  _react2.default.createElement(
                    'legend',
                    null,
                    gettext("Question and choices")
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Poll question"),
                      'for': 'id_questions',
                      validation: this.state.errors.question
                    },
                    _react2.default.createElement('input', {
                      className: 'form-control',
                      disabled: this.state.isLoading,
                      id: 'id_questions',
                      onChange: this.bindInput('question'),
                      type: 'text',
                      maxLength: '255',
                      value: this.state.question
                    })
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Available choices"),
                      validation: this.state.errors.choices
                    },
                    _react2.default.createElement(_choicesControl2.default, {
                      choices: this.state.choices,
                      disabled: this.state.isLoading,
                      setChoices: this.setChoices
                    })
                  )
                ),
                _react2.default.createElement(
                  'fieldset',
                  null,
                  _react2.default.createElement(
                    'legend',
                    null,
                    gettext("Voting")
                  ),
                  _react2.default.createElement(
                    'div',
                    { className: 'row' },
                    _react2.default.createElement(
                      'div',
                      { className: 'col-xs-12 col-sm-6' },
                      _react2.default.createElement(
                        _formGroup2.default,
                        {
                          label: gettext("Poll length"),
                          helpText: gettext("Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely."),
                          'for': 'id_length',
                          validation: this.state.errors.length
                        },
                        _react2.default.createElement('input', {
                          className: 'form-control',
                          disabled: this.state.isLoading,
                          id: 'id_length',
                          onChange: this.bindInput('length'),
                          type: 'text',
                          value: this.state.length
                        })
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'col-xs-12 col-sm-6' },
                      _react2.default.createElement(
                        _formGroup2.default,
                        {
                          label: gettext("Allowed choices"),
                          'for': 'id_allowed_choices',
                          validation: this.state.errors.allowed_choices
                        },
                        _react2.default.createElement('input', {
                          className: 'form-control',
                          disabled: this.state.isLoading,
                          id: 'id_allowed_choices',
                          onChange: this.bindInput('allowed_choices'),
                          type: 'text',
                          maxLength: '255',
                          value: this.state.allowed_choices
                        })
                      )
                    )
                  ),
                  _react2.default.createElement(
                    'div',
                    { className: 'row' },
                    _react2.default.createElement(PollPublicSwitch, {
                      bindInput: this.bindInput,
                      disabled: this.state.isLoading,
                      isEdit: this.state.isEdit,
                      value: this.state.is_public
                    }),
                    _react2.default.createElement(
                      'div',
                      { className: 'col-xs-12 col-sm-6' },
                      _react2.default.createElement(
                        _formGroup2.default,
                        {
                          label: gettext("Allow vote changes"),
                          'for': 'id_allow_revotes'
                        },
                        _react2.default.createElement(_yesNoSwitch2.default, {
                          id: 'id_allow_revotes',
                          disabled: this.state.isLoading,
                          iconOn: 'check',
                          iconOff: 'close',
                          labelOn: gettext("Allow participants to change their vote"),
                          labelOff: gettext("Don't allow participants to change their vote"),
                          onChange: this.bindInput('allow_revotes'),
                          value: this.state.allow_revotes
                        })
                      )
                    )
                  )
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'panel-footer text-right' },
                _react2.default.createElement(
                  'button',
                  {
                    className: 'btn btn-default',
                    disabled: this.state.isLoading,
                    onClick: this.onCancel,
                    type: 'button'
                  },
                  gettext("Cancel")
                ),
                ' ',
                _react2.default.createElement(
                  _button2.default,
                  {
                    className: 'btn-primary',
                    loading: this.state.isLoading
                  },
                  this.state.isEdit ? gettext("Save changes") : gettext("Post poll")
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function PollPublicSwitch(props) {
  if (props.isEdit) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-sm-6' },
    _react2.default.createElement(
      _formGroup2.default,
      {
        label: gettext("Make voting public"),
        helpText: gettext("Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls."),
        'for': 'id_is_public'
      },
      _react2.default.createElement(_yesNoSwitch2.default, {
        id: 'id_is_public',
        disabled: props.disabled,
        iconOn: 'visibility',
        iconOff: 'visibility_off',
        labelOn: gettext("Votes are public"),
        labelOff: gettext("Votes are hidden"),
        onChange: props.bindInput('is_public'),
        value: props.value
      })
    )
  );
}

},{"../../../reducers/poll":368,"../../../services/ajax":381,"../../../services/posting":391,"../../../services/snackbar":392,"../../../services/store":393,"../../button":24,"../../form":71,"../../form-group":70,"../../yes-no-switch":316,"./choices-control":119,"react":"react"}],121:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PollForm = exports.Poll = undefined;

var _poll = require('./poll');

var _poll2 = _interopRequireDefault(_poll);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.Poll = _poll2.default;
exports.PollForm = _form2.default;

},{"./form":120,"./poll":123}],122:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled list-inline poll-details' },
    _react2.default.createElement(PollVotes, { votes: props.poll.votes }),
    _react2.default.createElement(PollLength, { poll: props.poll }),
    _react2.default.createElement(PollIsPublic, { poll: props.poll }),
    _react2.default.createElement(PollCreation, { poll: props.poll })
  );
};

exports.PollCreation = PollCreation;
exports.getPoster = getPoster;
exports.getPostedOn = getPostedOn;
exports.PollLength = PollLength;
exports.getEndsOn = getEndsOn;
exports.PollVotes = PollVotes;
exports.PollIsPublic = PollIsPublic;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function PollCreation(props) {
  var message = interpolate((0, _escapeHtml2.default)(gettext("Posted by %(poster)s %(posted_on)s.")), {
    poster: getPoster(props.poll),
    posted_on: getPostedOn(props.poll)
  }, true);

  return _react2.default.createElement('li', {
    className: 'poll-info-creation',
    dangerouslySetInnerHTML: { __html: message }
  });
}

function getPoster(poll) {
  if (poll.url.poster) {
    return interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(poll.url.poster),
      user: (0, _escapeHtml2.default)(poll.poster_name)
    }, true);
  }

  return interpolate(USER_SPAN, {
    user: (0, _escapeHtml2.default)(poll.poster_name)
  }, true);
}

function getPostedOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(poll.posted_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(poll.posted_on.fromNow())
  }, true);
}

function PollLength(props) {
  if (!props.poll.length) {
    return null;
  }

  var message = interpolate((0, _escapeHtml2.default)(gettext("Voting ends %(ends_on)s.")), {
    ends_on: getEndsOn(props.poll)
  }, true);

  return _react2.default.createElement('li', {
    className: 'poll-info-ends-on',
    dangerouslySetInnerHTML: { __html: message }
  });
}

function getEndsOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(poll.endsOn.format('LLL')),
    relative: (0, _escapeHtml2.default)(poll.endsOn.fromNow())
  }, true);
}

function PollVotes(props) {
  var message = ngettext("%(votes)s vote.", "%(votes)s votes.", props.votes);
  var label = interpolate(message, {
    'votes': props.votes
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'poll-info-votes' },
    label
  );
}

function PollIsPublic(props) {
  if (!props.poll.is_public) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    { className: 'poll-info-public' },
    gettext("Votes are public.")
  );
}

},{"../../utils/escape-html":399,"react":"react"}],123:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getIsPollOver = getIsPollOver;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _results = require('./results');

var _results2 = _interopRequireDefault(_results);

var _voting = require('./voting');

var _voting2 = _interopRequireDefault(_voting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.showResults = function () {
      _this.setState({
        showResults: true
      });
    };

    _this.showVoting = function () {
      _this.setState({
        showResults: false
      });
    };

    var showResults = true;
    if (props.user.id && !props.poll.hasSelectedChoices) {
      showResults = false;
    }

    _this.state = {
      showResults: showResults
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.poll) return null;

      var isPollOver = getIsPollOver(this.props.poll);

      if (!isPollOver && this.props.poll.acl.can_vote && !this.state.showResults) {
        return _react2.default.createElement(_voting2.default, _extends({ showResults: this.showResults }, this.props));
      } else {
        return _react2.default.createElement(_results2.default, _extends({
          isPollOver: isPollOver,
          showVoting: this.showVoting
        }, this.props));
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function getIsPollOver(poll) {
  if (poll.length) {
    return (0, _moment2.default)().isAfter(poll.endsOn);
  }
  return false;
}

},{"./results":125,"./voting":129,"moment":"moment","react":"react"}],124:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "poll-choices-bars" },
    props.poll.choices.map(function (choice) {
      return _react2.default.createElement(PollChoice, {
        choice: choice,
        key: choice.hash,
        poll: props.poll
      });
    })
  );
};

exports.PollChoice = PollChoice;
exports.ChoiceVotes = ChoiceVotes;
exports.getVotesLabel = getVotesLabel;
exports.UserChoice = UserChoice;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function PollChoice(props) {
  var proc = 0;
  if (props.choice.votes && props.poll.votes) {
    proc = Math.ceil(props.choice.votes * 100 / props.poll.votes);
  }

  return _react2.default.createElement(
    "dl",
    { className: "dl-horizontal" },
    _react2.default.createElement(
      "dt",
      null,
      props.choice.label
    ),
    _react2.default.createElement(
      "dd",
      null,
      _react2.default.createElement(
        "div",
        { className: "progress" },
        _react2.default.createElement(
          "div",
          {
            className: "progress-bar",
            role: "progressbar",
            "aria-valuenow": proc,
            "aria-valuemin": "0",
            "aria-valuemax": "100",
            style: { width: proc + '%' }
          },
          _react2.default.createElement(
            "span",
            { className: "sr-only" },
            getVotesLabel(props.votes, props.proc)
          )
        )
      ),
      _react2.default.createElement(
        "ul",
        { className: "list-unstyled list-inline poll-chart" },
        _react2.default.createElement(ChoiceVotes, {
          proc: proc,
          votes: props.choice.votes
        }),
        _react2.default.createElement(UserChoice, { selected: props.choice.selected })
      )
    )
  );
}

function ChoiceVotes(props) {
  return _react2.default.createElement(
    "li",
    { className: "poll-chart-votes" },
    getVotesLabel(props.votes, props.proc)
  );
}

function getVotesLabel(votes, proc) {
  var message = ngettext("%(votes)s vote, %(proc)s% of total.", "%(votes)s votes, %(proc)s% of total.", votes);

  return interpolate(message, {
    'votes': votes,
    'proc': proc
  }, true);
}

function UserChoice(props) {
  if (!props.selected) return null;

  return _react2.default.createElement(
    "li",
    { className: "poll-chart-selected" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "check_box"
    ),
    gettext("Your choice.")
  );
}

},{"react":"react"}],125:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'panel panel-default panel-poll' },
    _react2.default.createElement(
      'div',
      { className: 'panel-body' },
      _react2.default.createElement(
        'h2',
        null,
        props.poll.question
      ),
      _react2.default.createElement(_info2.default, { poll: props.poll }),
      _react2.default.createElement(_chart2.default, { poll: props.poll }),
      _react2.default.createElement(_options2.default, {
        isPollOver: props.isPollOver,
        poll: props.poll,
        showVoting: props.showVoting,
        thread: props.thread
      })
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _chart = require('./chart');

var _chart2 = _interopRequireDefault(_chart);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

var _info = require('../info');

var _info2 = _interopRequireDefault(_info);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../info":122,"./chart":124,"./options":127,"react":"react"}],126:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalBody = ModalBody;
exports.ChoicesList = ChoicesList;
exports.ChoiceDetails = ChoiceDetails;
exports.VotesCount = VotesCount;
exports.VotesList = VotesList;
exports.Voter = Voter;
exports.VoteDate = VoteDate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoading: true,
      error: null,
      data: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.poll.api.votes).then(function (data) {
        var hydratedData = data.map(function (choice) {
          return Object.assign({}, choice, {
            voters: choice.voters.map(function (voter) {
              return Object.assign({}, voter, {
                voted_on: (0, _moment2.default)(voter.voted_on)
              });
            })
          });
        });

        _this2.setState({
          isLoading: false,
          data: hydratedData
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        {
          className: 'modal-dialog' + (this.state.error ? ' modal-message' : ' modal-sm'),
          role: 'document'
        },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              {
                type: 'button',
                className: 'close',
                'data-dismiss': 'modal',
                'aria-label': gettext("Close")
              },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Poll votes")
            )
          ),
          _react2.default.createElement(ModalBody, {
            data: this.state.data,
            error: this.state.error,
            isLoading: this.state.isLoading
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function ModalBody(props) {
  if (props.isLoading) {
    return _react2.default.createElement(_modalLoader2.default, null);
  } else if (props.error) {
    return _react2.default.createElement(_modalMessage2.default, {
      icon: 'error_outline',
      message: props.error
    });
  }

  return _react2.default.createElement(ChoicesList, {
    data: props.data
  });
}

function ChoicesList(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-body modal-poll-votes' },
    _react2.default.createElement(
      'ul',
      { className: 'list-unstyled votes-details' },
      props.data.map(function (choice) {
        return _react2.default.createElement(ChoiceDetails, _extends({
          key: choice.hash
        }, choice));
      })
    )
  );
}

function ChoiceDetails(props) {
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'h4',
      null,
      props.label
    ),
    _react2.default.createElement(VotesCount, { votes: props.votes }),
    _react2.default.createElement(VotesList, { voters: props.voters }),
    _react2.default.createElement('hr', null)
  );
}

function VotesCount(props) {
  var message = ngettext("%(votes)s user has voted for this choice.", "%(votes)s users have voted for this choice.", props.votes);

  var label = interpolate(message, {
    'votes': props.votes
  }, true);

  return _react2.default.createElement(
    'p',
    null,
    label
  );
}

function VotesList(props) {
  if (!props.voters.length) return null;

  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled' },
    props.voters.map(function (user) {
      return _react2.default.createElement(Voter, _extends({
        key: user.username
      }, user));
    })
  );
}

function Voter(props) {
  if (props.url) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        'a',
        {
          className: 'item-title',
          href: props.url
        },
        props.username
      ),
      ' ',
      _react2.default.createElement(VoteDate, { voted_on: props.voted_on })
    );
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'strong',
      null,
      props.username
    ),
    ' ',
    _react2.default.createElement(VoteDate, { voted_on: props.voted_on })
  );
}

function VoteDate(props) {
  return _react2.default.createElement(
    'abbr',
    {
      className: 'text-muted',
      title: props.voted_on.format('LLL')
    },
    props.voted_on.fromNow()
  );
}

},{"../../../services/ajax":381,"../../modal-loader":76,"../../modal-message":77,"moment":"moment","react":"react"}],127:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Edit = exports.SeeVotes = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  var isPollOver = props.isPollOver,
      poll = props.poll,
      showVoting = props.showVoting,
      thread = props.thread;


  if (!isVisible(isPollOver, poll.acl, poll)) return null;

  var controls = [];

  var canVote = poll.acl.can_vote;
  var canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes;

  if (canVote && canChangeVote) controls.push(0);
  if (poll.is_public || poll.acl.can_see_votes) controls.push(1);
  if (poll.acl.can_edit) controls.push(2);
  if (poll.acl.can_delete) controls.push(3);

  return _react2.default.createElement(
    'div',
    { className: 'row poll-options' },
    _react2.default.createElement(ChangeVote, {
      controls: controls,
      isPollOver: isPollOver,
      poll: poll,
      showVoting: showVoting
    }),
    _react2.default.createElement(SeeVotes, {
      controls: controls,
      poll: poll
    }),
    _react2.default.createElement(Edit, {
      controls: controls,
      poll: poll,
      thread: thread
    }),
    _react2.default.createElement(Delete, {
      controls: controls,
      poll: poll
    })
  );
};

exports.isVisible = isVisible;
exports.getClassName = getClassName;
exports.ChangeVote = ChangeVote;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('./modal');

var _modal2 = _interopRequireDefault(_modal);

var _poll = require('../../../reducers/poll');

var poll = _interopRequireWildcard(_poll);

var _thread = require('../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal3 = require('../../../services/modal');

var _modal4 = _interopRequireDefault(_modal3);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


function isVisible(isPollOver, acl, poll) {
  return poll.is_public || acl.can_delete || acl.can_edit || acl.can_see_votes || acl.can_vote && !isPollOver && (!poll.hasSelectedChoices || poll.allow_revotes);
}

function getClassName(controls, control) {
  var className = 'col-xs-6';

  if (controls.length === 1) {
    className = 'col-xs-12';
  }

  if (controls.length === 3 && controls[0] === control) {
    className = 'col-xs-12';
  }

  return className + ' col-sm-3 col-md-2';
}

function ChangeVote(props) {
  var canVote = props.poll.acl.can_vote;
  var canChangeVote = !props.poll.hasSelectedChoices || props.poll.allow_revotes;

  if (!(canVote && canChangeVote)) return null;

  return _react2.default.createElement(
    'div',
    { className: getClassName(props.controls, 0) },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-block btn-sm',
        disabled: props.poll.isBusy,
        onClick: props.showVoting,
        type: 'button'
      },
      gettext("Vote")
    )
  );
}

var SeeVotes = exports.SeeVotes = function (_React$Component) {
  _inherits(SeeVotes, _React$Component);

  function SeeVotes() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, SeeVotes);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SeeVotes.__proto__ || Object.getPrototypeOf(SeeVotes)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _modal4.default.show(_react2.default.createElement(_modal2.default, { poll: _this.props.poll }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(SeeVotes, [{
    key: 'render',
    value: function render() {
      var seeVotes = this.props.poll.is_public || this.props.poll.acl.can_see_votes;
      if (!seeVotes) return null;

      return _react2.default.createElement(
        'div',
        { className: getClassName(this.props.controls, 1) },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-block btn-sm',
            disabled: this.props.poll.isBusy,
            onClick: this.onClick,
            type: 'button'
          },
          gettext("See votes")
        )
      );
    }
  }]);

  return SeeVotes;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  function Edit() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _posting2.default.open({
        submit: _this2.props.poll.api.index,

        thread: _this2.props.thread,
        poll: _this2.props.poll,

        mode: 'POLL'
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Edit, [{
    key: 'render',
    value: function render() {
      if (!this.props.poll.acl.can_edit) return null;

      return _react2.default.createElement(
        'div',
        { className: getClassName(this.props.controls, 2) },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-block btn-sm',
            disabled: this.props.poll.isBusy,
            onClick: this.onClick,
            type: 'button'
          },
          gettext("Edit")
        )
      );
    }
  }]);

  return Edit;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  function Delete() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      var deletePoll = confirm(gettext("Are you sure you want to delete this poll? This action is not reversible."));
      if (!deletePoll) return false;

      _store2.default.dispatch(poll.busy());

      _ajax2.default.delete(_this3.props.poll.api.index).then(_this3.handleSuccess, _this3.handleError);
    }, _this3.handleSuccess = function (newThreadAcl) {
      _snackbar2.default.success("Poll has been deleted");
      _store2.default.dispatch(poll.remove());
      _store2.default.dispatch(thread.updateAcl(newThreadAcl));
    }, _this3.handleError = function (rejection) {
      _snackbar2.default.apiError(rejection);
      _store2.default.dispatch(poll.release());
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      if (!this.props.poll.acl.can_delete) return null;

      return _react2.default.createElement(
        'div',
        { className: getClassName(this.props.controls, 3) },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-block btn-sm',
            disabled: this.props.poll.isBusy,
            onClick: this.onClick,
            type: 'button'
          },
          gettext("Delete")
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../reducers/poll":368,"../../../reducers/thread":376,"../../../services/ajax":381,"../../../services/modal":387,"../../../services/posting":391,"../../../services/snackbar":392,"../../../services/store":393,"./modal":126,"react":"react"}],128:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled list-inline poll-help' },
    _react2.default.createElement(PollChoicesLeft, { choicesLeft: props.choicesLeft }),
    _react2.default.createElement(PollAllowRevote, { poll: props.poll })
  );
};

exports.PollChoicesLeft = PollChoicesLeft;
exports.PollAllowRevote = PollAllowRevote;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function PollChoicesLeft(_ref) {
  var choicesLeft = _ref.choicesLeft;

  if (choicesLeft === 0) {
    return _react2.default.createElement(
      'li',
      { className: 'poll-help-choices-left' },
      gettext("You can't select any more choices.")
    );
  }

  var message = ngettext("You can select %(choices)s more choice.", "You can select %(choices)s more choices.", choicesLeft);

  var label = interpolate(message, {
    'choices': choicesLeft
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'poll-help-choices-left' },
    label
  );
}

function PollAllowRevote(props) {
  if (props.poll.allow_revotes) {
    return _react2.default.createElement(
      'li',
      { className: 'poll-help-allow-revotes' },
      gettext("You can change your vote later.")
    );
  }

  return _react2.default.createElement(
    'li',
    { className: 'poll-help-no-revotes' },
    gettext("Votes are final.")
  );
}

},{"../../../utils/escape-html":399,"react":"react"}],129:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _help = require('./help');

var _help2 = _interopRequireDefault(_help);

var _select = require('./select');

var _select2 = _interopRequireDefault(_select);

var _utils = require('./utils');

var _info = require('../info');

var _info2 = _interopRequireDefault(_info);

var _options = require('../results/options');

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _poll = require('../../../reducers/poll');

var poll = _interopRequireWildcard(_poll);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.toggleChoice = function (hash) {
      var choice = (0, _utils.getChoiceFromHash)(_this.state.choices, hash);

      var choices = null;
      if (!choice.selected) {
        choices = _this.selectChoice(choice, hash);
      } else {
        choices = _this.deselectChoice(choice, hash);
      }

      _this.setState({
        choices: choices,
        choicesLeft: (0, _utils.getChoicesLeft)(_this.props.poll, choices)
      });
    };

    _this.selectChoice = function (choice, hash) {
      var choicesLeft = (0, _utils.getChoicesLeft)(_this.props.poll, _this.state.choices);

      if (!choicesLeft) {
        for (var i in _this.state.choices.slice()) {
          var item = _this.state.choices[i];
          if (item.selected && item.hash != hash) {
            item.selected = false;
            break;
          }
        }
      }

      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? true : choice.selected
        });
      });
    };

    _this.deselectChoice = function (choice, hash) {
      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? false : choice.selected
        });
      });
    };

    _this.state = {
      isLoading: false,

      choices: props.poll.choices,
      choicesLeft: (0, _utils.getChoicesLeft)(props.poll, props.poll.choices)
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (this.state.choicesLeft === this.props.poll.allowed_choices) {
        _snackbar2.default.error(gettext("You need to select at least one choice"));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      var data = [];
      for (var i in this.state.choices.slice()) {
        var item = this.state.choices[i];
        if (item.selected) {
          data.push(item.hash);
        }
      }

      return _ajax2.default.post(this.props.poll.api.votes, data);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch(poll.replace(data));
      _snackbar2.default.success(gettext("Your vote has been saved."));

      this.props.showResults();
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var controls = [];

      if (this.props.poll.acl.can_vote) controls.push(0);
      if (this.props.poll.is_public || this.props.poll.acl.can_see_votes) controls.push(1);
      if (this.props.poll.acl.can_edit) controls.push(2);
      if (this.props.poll.acl.can_delete) controls.push(3);

      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-poll' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'h2',
              null,
              this.props.poll.question
            ),
            _react2.default.createElement(_info2.default, { poll: this.props.poll }),
            _react2.default.createElement(_select2.default, {
              choices: this.state.choices,
              toggleChoice: this.toggleChoice
            }),
            _react2.default.createElement(_help2.default, {
              choicesLeft: this.state.choicesLeft,
              poll: this.props.poll
            })
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: (0, _options.getClassName)(controls, 0) },
                _react2.default.createElement(
                  _button2.default,
                  {
                    className: 'btn-primary btn-block btn-sm',
                    loading: this.state.isLoading
                  },
                  gettext("Save your vote")
                )
              ),
              _react2.default.createElement(
                'div',
                { className: (0, _options.getClassName)(controls, 1) },
                _react2.default.createElement(
                  'button',
                  {
                    className: 'btn btn-default btn-block btn-sm',
                    disabled: this.state.isLoading,
                    onClick: this.props.showResults,
                    type: 'button'
                  },
                  gettext("See results")
                )
              ),
              _react2.default.createElement(_options.Edit, {
                controls: controls,
                poll: this.props.poll,
                thread: this.props.thread
              }),
              _react2.default.createElement(_options.Delete, {
                controls: controls,
                poll: this.props.poll
              })
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/poll":368,"../../../services/ajax":381,"../../../services/snackbar":392,"../../../services/store":393,"../../button":24,"../../form":71,"../info":122,"../results/options":127,"./help":128,"./select":130,"./utils":131,"react":"react"}],130:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChoiceSelect = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "list-unstyled poll-select-choices" },
    props.choices.map(function (choice) {
      return _react2.default.createElement(ChoiceSelect, {
        choice: choice,
        key: choice.hash,
        toggleChoice: props.toggleChoice
      });
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var ChoiceSelect = exports.ChoiceSelect = function (_React$Component) {
  _inherits(ChoiceSelect, _React$Component);

  function ChoiceSelect() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, ChoiceSelect);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ChoiceSelect.__proto__ || Object.getPrototypeOf(ChoiceSelect)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.toggleChoice(_this.props.choice.hash);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(ChoiceSelect, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: "poll-select-choice" },
        _react2.default.createElement(
          "button",
          {
            className: this.props.choice.selected ? 'btn btn-selected' : 'btn',
            onClick: this.onClick,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.choice.selected ? 'check_box' : 'check_box_outline_blank'
          ),
          _react2.default.createElement(
            "strong",
            null,
            this.props.choice.label
          )
        )
      );
    }
  }]);

  return ChoiceSelect;
}(_react2.default.Component);

},{"react":"react"}],131:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getChoiceFromHash = getChoiceFromHash;
exports.getChoicesLeft = getChoicesLeft;
function getChoiceFromHash(choices, hash) {
  for (var i in choices) {
    var choice = choices[i];
    if (choice.hash === hash) {
      return choice;
    }
  }

  return null;
}

function getChoicesLeft(poll, choices) {
  var selection = [];
  for (var i in choices) {
    var choice = choices[i];
    if (choice.selected) {
      selection.push(choice);
    }
  }

  return poll.allowed_choices - selection.length;
}

},{}],132:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-body post-changelog-diff" },
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled" },
      props.diff.map(function (item, i) {
        return _react2.default.createElement(DiffItem, { item: item, key: i });
      })
    )
  );
};

exports.DiffItem = DiffItem;
exports.getItemClassName = getItemClassName;
exports.cleanItem = cleanItem;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function DiffItem(props) {
  if (props.item[0] === '?') return null;

  return _react2.default.createElement(
    "li",
    { className: getItemClassName(props.item) },
    cleanItem(props.item)
  );
}

function getItemClassName(item) {
  var className = 'diff-item';
  if (item[0] === '-') {
    className += ' diff-item-sub';
  } else if (item[0] === '+') {
    className += ' diff-item-add';
  }
  return className;
}

function cleanItem(item) {
  return item.substr(2);
}

},{"react":"react"}],133:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.revertEdit(_this.props.edit.id);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!this.props.canRevert) return null;

      return _react2.default.createElement(
        'div',
        { className: 'modal-footer visible-xs-block' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn-default btn-sm btn-block',
            disabled: this.props.disabled,
            onClick: this.onClick,
            title: gettext("Revert post to state from before this edit.")
          },
          gettext("Revert")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../button":24,"react":"react"}],134:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalDialog = ModalDialog;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diff = require('./diff');

var _diff2 = _interopRequireDefault(_diff);

var _footer = require('./footer');

var _footer2 = _interopRequireDefault(_footer);

var _toolbar = require('./toolbar');

var _toolbar2 = _interopRequireDefault(_toolbar);

var _utils = require('./utils');

var _modalMessage = require('../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require('../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _post = require('../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.goToEdit = function () {
      var edit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits;
      if (edit !== null) {
        url += '?edit=' + edit;
      }

      _ajax2.default.get(url).then(function (data) {
        _this.setState({
          isReady: true,
          isBusy: false,
          edit: (0, _utils.hydrateEdit)(data)
        });
      }, function (rejection) {
        _this.setState({
          isReady: true,
          isBusy: false,
          error: rejection.detail
        });
      });
    };

    _this.revertEdit = function (edit) {
      if (_this.state.isBusy) return;

      var confirmation = confirm(gettext("Are you sure you with to revert this post to the state from before this edit?"));
      if (!confirmation) return;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits + '?edit=' + edit;
      _ajax2.default.post(url).then(function (data) {
        var hydratedPost = post.hydrate(data);
        _store2.default.dispatch(post.patch(data, hydratedPost));

        _snackbar2.default.success(gettext("Post has been reverted to previous state."));
        _modal2.default.hide();
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);

        _this.setState({
          isBusy: false
        });
      });
    };

    _this.state = {
      isReady: false,
      isBusy: true,

      canRevert: props.post.acl.can_edit,

      error: null,
      edit: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.goToEdit();
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.error) {
        return _react2.default.createElement(
          ModalDialog,
          { className: 'modal-dialog modal-message' },
          _react2.default.createElement(_modalMessage2.default, {
            message: this.state.error
          })
        );
      } else if (this.state.isReady) {
        return _react2.default.createElement(
          ModalDialog,
          null,
          _react2.default.createElement(_toolbar2.default, {
            canRevert: this.state.canRevert,
            disabled: this.state.isBusy,
            edit: this.state.edit,
            goToEdit: this.goToEdit,
            revertEdit: this.revertEdit
          }),
          _react2.default.createElement(_diff2.default, { diff: this.state.edit.diff }),
          _react2.default.createElement(_footer2.default, {
            canRevert: this.state.canRevert,
            disabled: this.state.isBusy,
            edit: this.state.edit,
            revertEdit: this.revertEdit
          })
        );
      }

      return _react2.default.createElement(
        ModalDialog,
        null,
        _react2.default.createElement(_modalLoader2.default, null)
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function ModalDialog(props) {
  return _react2.default.createElement(
    'div',
    {
      className: props.className || "modal-dialog",
      role: 'document'
    },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Post edits history")
        )
      ),
      props.children
    )
  );
}

},{"../../reducers/post":369,"../../services/ajax":381,"../../services/modal":387,"../../services/snackbar":392,"../../services/store":393,"../modal-loader":76,"../modal-message":77,"./diff":132,"./footer":133,"./toolbar":135,"./utils":136,"react":"react"}],135:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.GoBackBtn = GoBackBtn;
exports.GoForwardBtn = GoForwardBtn;
exports.GoLastBtn = GoLastBtn;
exports.RevertBtn = RevertBtn;
exports.Label = Label;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _escapeHtml = require('../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.goLast = function () {
      _this.props.goToEdit();
    }, _this.goForward = function () {
      _this.props.goToEdit(_this.props.edit.next);
    }, _this.goBack = function () {
      _this.props.goToEdit(_this.props.edit.previous);
    }, _this.revertEdit = function () {
      _this.props.revertEdit(_this.props.edit.id);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-toolbar post-changelog-toolbar' },
        _react2.default.createElement(
          'div',
          { className: 'row' },
          _react2.default.createElement(
            'div',
            { className: 'col-xs-12 col-sm-4' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-xs-4' },
                _react2.default.createElement(GoBackBtn, {
                  disabled: this.props.disabled,
                  edit: this.props.edit,
                  onClick: this.goBack
                })
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-xs-4' },
                _react2.default.createElement(GoForwardBtn, {
                  disabled: this.props.disabled,
                  edit: this.props.edit,
                  onClick: this.goForward
                })
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-xs-4' },
                _react2.default.createElement(GoLastBtn, {
                  disabled: this.props.disabled,
                  edit: this.props.edit,
                  onClick: this.goLast
                })
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'col-xs-12 col-sm-5 xs-margin-top-half post-change-label' },
            _react2.default.createElement(Label, { edit: this.props.edit })
          ),
          _react2.default.createElement(RevertBtn, {
            canRevert: this.props.canRevert,
            disabled: this.props.disabled,
            onClick: this.revertEdit
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function GoBackBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: 'btn-default btn-block btn-icon btn-sm',
      disabled: props.disabled || !props.edit.previous,
      onClick: props.onClick,
      title: gettext("See previous change")
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chevron_left'
    )
  );
}

function GoForwardBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: 'btn-default btn-block btn-icon btn-sm',
      disabled: props.disabled || !props.edit.next,
      onClick: props.onClick,
      title: gettext("See previous change")
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chevron_right'
    )
  );
}

function GoLastBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: 'btn-default btn-block btn-icon btn-sm',
      disabled: props.disabled || !props.edit.next,
      onClick: props.onClick,
      title: gettext("See previous change")
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'last_page'
    )
  );
}

function RevertBtn(props) {
  if (!props.canRevert) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-sm-3 hidden-xs' },
    _react2.default.createElement(
      _button2.default,
      {
        className: 'btn-default btn-sm btn-block',
        disabled: props.disabled,
        onClick: props.onClick,
        title: gettext("Revert post to state from before this edit.")
      },
      gettext("Revert")
    )
  );
}

function Label(props) {
  var user = null;
  if (props.edit.url.editor) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.edit.url.editor),
      user: (0, _escapeHtml2.default)(props.edit.editor_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.edit.editor_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.edit.edited_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.edit.edited_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("By %(edited_by)s %(edited_on)s.")), {
    edited_by: user,
    edited_on: date
  }, true);

  return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: message } });
}

},{"../../utils/escape-html":399,"../button":24,"react":"react"}],136:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrateEdit = hydrateEdit;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function hydrateEdit(json) {
  return Object.assign({}, json, {
    edited_on: (0, _moment2.default)(json.edited_on)
  });
}

},{"moment":"moment"}],137:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var isReady = _ref.isReady,
      posts = _ref.posts,
      poster = _ref.poster;

  if (!isReady) {
    return _react2.default.createElement(_preview2.default, null);
  }

  return _react2.default.createElement(
    'ul',
    { className: 'posts-list post-feed ui-ready' },
    posts.map(function (post) {
      return _react2.default.createElement(_post2.default, {
        key: post.id,
        post: post,
        poster: poster
      });
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

var _preview = require('./preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./post":140,"./preview":146,"react":"react"}],138:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.content) {
    return _react2.default.createElement(Default, props);
  } else {
    return _react2.default.createElement(Invalid, props);
  }
};

exports.Default = Default;
exports.Invalid = Invalid;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _misagoMarkup = require('../../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function Default(props) {
  return _react2.default.createElement(
    'div',
    { className: 'post-body' },
    _react2.default.createElement(_misagoMarkup2.default, { markup: props.post.content })
  );
}

function Invalid(props) {
  return _react2.default.createElement(
    'div',
    { className: 'post-body post-body-invalid' },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post's contents cannot be displayed.")
    ),
    _react2.default.createElement(
      'p',
      { className: 'text-muted' },
      gettext("This error is caused by invalid post content manipulation.")
    )
  );
}

},{"../../../utils/escape-html":399,"../../misago-markup":75,"react":"react"}],139:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;
  var category = post.category,
      thread = post.thread;


  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': post.posted_on.format('LL, LT')
  }, true);

  return _react2.default.createElement(
    'div',
    { className: 'post-heading' },
    _react2.default.createElement(
      'a',
      {
        className: 'btn btn-link item-title',
        href: thread.url
      },
      thread.title
    ),
    _react2.default.createElement(
      'a',
      {
        className: 'btn btn-link post-category',
        href: category.url.index
      },
      category.name
    ),
    _react2.default.createElement(
      'a',
      {
        href: post.url.index,
        className: 'btn btn-link posted-on',
        title: tooltip
      },
      post.posted_on.fromNow()
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],140:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  var user = poster || post.poster;

  var className = 'post';
  if (user && user.rank.css_class) {
    className += ' post-' + user.rank.css_class;
  }

  return _react2.default.createElement(
    'li',
    {
      className: className,
      id: 'post-' + post.id
    },
    _react2.default.createElement(
      'div',
      { className: 'panel panel-default panel-post' },
      _react2.default.createElement(
        'div',
        { className: 'panel-body' },
        _react2.default.createElement(_postSide2.default, {
          post: post,
          poster: user
        }),
        _react2.default.createElement(_header2.default, { post: post }),
        _react2.default.createElement(_body2.default, { post: post })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _body = require('./body');

var _body2 = _interopRequireDefault(_body);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _postSide = require('./post-side');

var _postSide2 = _interopRequireDefault(_postSide);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./body":138,"./header":139,"./post-side":143,"react":"react"}],141:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;

  return _react2.default.createElement(
    'div',
    { className: 'post-side post-side-anonymous' },
    _react2.default.createElement(_button2.default, { post: post }),
    _react2.default.createElement(
      'div',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(_avatar2.default, {
            className: 'poster-avatar',
            size: 50
          })
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'media-body' },
        _react2.default.createElement(
          'div',
          { className: 'media-heading' },
          _react2.default.createElement(
            'span',
            { className: 'item-title' },
            post.poster_name
          )
        ),
        _react2.default.createElement(
          'span',
          { className: 'user-title user-title-anonymous' },
          gettext("Removed user")
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":22,"./button":142,"react":"react"}],142:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;

  return _react2.default.createElement(
    "a",
    {
      className: "btn btn-default btn-icon pull-right",
      href: post.url.index
    },
    _react2.default.createElement(
      "span",
      { className: "btn-text-left hidden-xs" },
      gettext("See post")
    ),
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "chevron_right"
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],143:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  if (poster.id) {
    return _react2.default.createElement(_registered2.default, {
      post: post,
      poster: poster
    });
  }

  return _react2.default.createElement(_anonymous2.default, { post: post });
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _anonymous = require('./anonymous');

var _anonymous2 = _interopRequireDefault(_anonymous);

var _registered = require('./registered');

var _registered2 = _interopRequireDefault(_registered);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./anonymous":141,"./registered":144,"react":"react"}],144:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      poster = _ref.poster;

  return _react2.default.createElement(
    'div',
    { className: 'post-side post-side-registered' },
    _react2.default.createElement(_button2.default, { post: post }),
    _react2.default.createElement(
      'div',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(
          'a',
          { href: poster.url },
          _react2.default.createElement(_avatar2.default, {
            className: 'poster-avatar',
            size: 50,
            user: poster
          })
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'media-body' },
        _react2.default.createElement(
          'div',
          { className: 'media-heading' },
          _react2.default.createElement(
            'a',
            {
              className: 'item-title',
              href: poster.url
            },
            poster.username
          )
        ),
        _react2.default.createElement(_userTitle2.default, {
          title: poster.title,
          rank: poster.rank
        })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _userTitle = require('./user-title');

var _userTitle2 = _interopRequireDefault(_userTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":22,"./button":142,"./user-title":145,"react":"react"}],145:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var rank = _ref.rank,
      title = _ref.title;

  var userTitle = title || rank.title || rank.name;

  var className = 'user-title';
  if (rank.css_class) {
    className += ' user-title-' + rank.css_class;
  }

  if (rank.is_tab) {
    return _react2.default.createElement(
      'a',
      { className: className, href: rank.url },
      userTitle
    );
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    userTitle
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],146:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  return _react2.default.createElement(
    'ul',
    { className: 'posts-list post-feed ui-preview' },
    _react2.default.createElement(
      'li',
      { className: 'post' },
      _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-post' },
        _react2.default.createElement(
          'div',
          { className: 'panel-body' },
          _react2.default.createElement(
            'div',
            { className: 'post-side post-side-anonymous' },
            _react2.default.createElement(
              'div',
              { className: 'media' },
              _react2.default.createElement(
                'div',
                { className: 'media-left' },
                _react2.default.createElement(
                  'span',
                  null,
                  _react2.default.createElement(_avatar2.default, {
                    className: 'poster-avatar',
                    size: 50
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'media-body' },
                _react2.default.createElement(
                  'div',
                  { className: 'media-heading' },
                  _react2.default.createElement(
                    'span',
                    { className: 'item-title' },
                    _react2.default.createElement(
                      'span',
                      {
                        className: 'ui-preview-text',
                        style: { width: random.int(30, 200) + "px" }
                      },
                      '\xA0'
                    )
                  )
                ),
                _react2.default.createElement(
                  'span',
                  { className: 'user-title user-title-anonymous' },
                  _react2.default.createElement(
                    'span',
                    {
                      className: 'ui-preview-text',
                      style: { width: random.int(30, 200) + "px" }
                    },
                    '\xA0'
                  )
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'post-heading' },
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(30, 200) + "px" }
              },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'post-body' },
            _react2.default.createElement(
              'article',
              { className: 'misago-markup' },
              _react2.default.createElement(
                'p',
                null,
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(30, 200) + "px" }
                  },
                  '\xA0'
                ),
                '\xA0',
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(30, 200) + "px" }
                  },
                  '\xA0'
                ),
                '\xA0',
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(30, 200) + "px" }
                  },
                  '\xA0'
                )
              )
            )
          )
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../utils/random":404,"../avatar":22,"react":"react"}],147:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.hydrateLike = hydrateLike;
exports.ModalDialog = ModalDialog;
exports.LikesList = LikesList;
exports.LikeDetails = LikeDetails;
exports.LikeDate = LikeDate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _avatar = require('./avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _modalMessage = require('./modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require('./modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isReady: false,

      error: null,
      likes: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.post.api.likes).then(function (data) {
        _this2.setState({
          isReady: true,
          likes: data.map(hydrateLike)
        });
      }, function (rejection) {
        _this2.setState({
          isReady: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.error) {
        return _react2.default.createElement(
          ModalDialog,
          { className: 'modal-message' },
          _react2.default.createElement(_modalMessage2.default, {
            message: this.state.error
          })
        );
      } else if (this.state.isReady) {
        if (this.state.likes.length) {
          return _react2.default.createElement(
            ModalDialog,
            {
              className: 'modal-sm',
              likes: this.state.likes
            },
            _react2.default.createElement(LikesList, {
              likes: this.state.likes
            })
          );
        }

        return _react2.default.createElement(
          ModalDialog,
          { className: 'modal-message' },
          _react2.default.createElement(_modalMessage2.default, {
            message: gettext("No users have liked this post.")
          })
        );
      }

      return _react2.default.createElement(
        ModalDialog,
        { className: 'modal-sm' },
        _react2.default.createElement(_modalLoader2.default, null)
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function hydrateLike(data) {
  return Object.assign({}, data, {
    liked_on: (0, _moment2.default)(data.liked_on)
  });
}

function ModalDialog(_ref) {
  var className = _ref.className,
      children = _ref.children,
      likes = _ref.likes;

  var title = gettext("Post Likes");
  if (likes) {
    var likesCount = likes.length;
    var message = ngettext("%(likes)s like", "%(likes)s likes", likesCount);

    title = interpolate(message, { likes: likesCount }, true);
  }

  return _react2.default.createElement(
    'div',
    {
      className: "modal-dialog " + (className || ''),
      role: 'document'
    },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          title
        )
      ),
      children
    )
  );
}

function LikesList(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-body modal-post-likers' },
    _react2.default.createElement(
      'ul',
      { className: 'media-list' },
      props.likes.map(function (like) {
        return _react2.default.createElement(LikeDetails, _extends({
          key: like.id
        }, like));
      })
    )
  );
}

function LikeDetails(props) {
  if (props.url) {
    var user = {
      id: props.liker_id,
      avatars: props.avatars
    };

    return _react2.default.createElement(
      'li',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(
          'a',
          {
            className: 'user-avatar',
            href: props.url
          },
          _react2.default.createElement(_avatar2.default, { size: '50', user: user })
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'media-body' },
        _react2.default.createElement(
          'a',
          {
            className: 'item-title',
            href: props.url
          },
          props.username
        ),
        ' ',
        _react2.default.createElement(LikeDate, { likedOn: props.liked_on })
      )
    );
  }

  return _react2.default.createElement(
    'li',
    { className: 'media' },
    _react2.default.createElement(
      'div',
      { className: 'media-left' },
      _react2.default.createElement(
        'span',
        { className: 'user-avatar' },
        _react2.default.createElement(_avatar2.default, { size: '50' })
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'media-body' },
      _react2.default.createElement(
        'strong',
        null,
        props.username
      ),
      ' ',
      _react2.default.createElement(LikeDate, { likedOn: props.liked_on })
    )
  );
}

function LikeDate(props) {
  return _react2.default.createElement(
    'span',
    {
      className: 'text-muted',
      title: props.likedOn.format('LLL')
    },
    props.likedOn.fromNow()
  );
}

},{"../services/ajax":381,"./avatar":22,"./modal-loader":76,"./modal-message":77,"moment":"moment","react":"react"}],148:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post,
        attachments: attachments.hydrate(data.attachments),
        protect: data.is_protected,

        canProtect: data.can_protect
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard changes?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onProtect = function () {
      _this.setState({
        protect: true
      });
    };

    _this.onUnprotect = function () {
      _this.setState({
        protect: false
      });
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: '',
      attachments: [],
      protect: false,

      canProtect: false,

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.put(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        protect: this.state.protect
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Reply has been edited."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar2.default.error(errors[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, method: 'POST' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  canProtect: this.state.canProtect,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  onProtect: this.onProtect,
                  onUnprotect: this.onUnprotect,
                  protect: this.state.protect,
                  submitLabel: gettext("Edit reply"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":381,"../../services/posting":391,"../../services/snackbar":392,"../editor":67,"../form":71,"./utils/attachments":153,"./utils/container":154,"./utils/loader":155,"./utils/message":156,"./utils/validators":159,"react":"react"}],149:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.mode === 'START') {
    return _react2.default.createElement(_start2.default, props);
  } else if (props.mode === 'START_PRIVATE') {
    return _react2.default.createElement(_startPrivate2.default, props);
  } else if (props.mode === 'REPLY') {
    return _react2.default.createElement(_reply2.default, props);
  } else if (props.mode === 'EDIT') {
    return _react2.default.createElement(_edit2.default, props);
  } else {
    return null;
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _start = require('./start');

var _start2 = _interopRequireDefault(_start);

var _startPrivate = require('./start-private');

var _startPrivate2 = _interopRequireDefault(_startPrivate);

var _reply = require('./reply');

var _reply2 = _interopRequireDefault(_reply);

var _edit = require('./edit');

var _edit2 = _interopRequireDefault(_edit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./edit":148,"./reply":150,"./start":152,"./start-private":151,"react":"react"}],150:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post ? '[quote="@' + data.poster + '"]\n' + data.post + '\n[/quote]' : ''
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.appendData = function (data) {
      var newPost = data.post ? '[quote="@' + data.poster + '"]\n' + data.post + '\n[/quote]\n\n' : '';

      _this.setState(function (prevState, props) {
        if (prevState.post.length > 0) {
          return {
            post: prevState.post + '\n\n' + newPost
          };
        }

        return {
          post: newPost
        };
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard your reply?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: '',
      attachments: [],

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var context = this.props.context;
      var newContext = nextProps.context;

      if (context && newContext && context.reply === newContext.reply) return;

      _ajax2.default.get(nextProps.config, nextProps.context || null).then(this.appendData, _snackbar2.default.apiError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your reply has been posted."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.post || [], rejection.attachments || []);

        _snackbar2.default.error(errors[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, method: 'POST' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  submitLabel: gettext("Post reply"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":381,"../../services/posting":391,"../../services/snackbar":392,"../editor":67,"../form":71,"./utils/attachments":153,"./utils/container":154,"./utils/loader":155,"./utils/message":156,"./utils/validators":159,"react":"react"}],151:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _usernames = require('./utils/usernames');

var _usernames2 = _interopRequireDefault(_usernames);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard private thread?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onToChange = function (event) {
      _this.changeValue('to', event.target.value);
    };

    _this.onTitleChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    var to = (props.to || []).map(function (user) {
      return user.username;
    }).join(', ');

    _this.state = {
      isLoading: false,

      to: to,
      title: '',
      post: '',
      attachments: [],

      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!(0, _usernames2.default)(this.state.to).length) {
        _snackbar2.default.error(gettext("You have to enter at least one recipient."));
        return false;
      }

      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        to: (0, _usernames2.default)(this.state.to),
        title: this.state.title,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your thread has been posted."));
      window.location = success.url;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        var errors = [].concat(rejection.non_field_errors || [], rejection.to || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

        _snackbar2.default.error(errors[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        _container2.default,
        { className: 'posting-form', withFirstRow: true },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'row first-row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-12' },
              _react2.default.createElement('input', {
                className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.onToChange,
                placeholder: gettext("Comma separated list of user names, eg.: Danny, Lisa"),
                type: 'text',
                value: this.state.to
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'row first-row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-12' },
              _react2.default.createElement('input', {
                className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.onTitleChange,
                placeholder: gettext("Thread title"),
                type: 'text',
                value: this.state.title
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-12' },
              _react2.default.createElement(_editor2.default, {
                attachments: this.state.attachments,
                loading: this.state.isLoading,
                onAttachmentsChange: this.onAttachmentsChange,
                onCancel: this.onCancel,
                onChange: this.onPostChange,
                submitLabel: gettext("Post thread"),
                value: this.state.post
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":381,"../../services/posting":391,"../../services/snackbar":392,"../editor":67,"../form":71,"./utils/attachments":153,"./utils/container":154,"./utils/message":156,"./utils/usernames":158,"./utils/validators":159,"react":"react"}],152:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalDialog = ModalDialog;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categorySelect = require('../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _rewardSelect = require('../reward-select');

var _rewardSelect2 = _interopRequireDefault(_rewardSelect);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _options = require('./utils/options');

var _options2 = _interopRequireDefault(_options);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


// jshint ignore:line

var QRCode = require('qrcode.react'); // jshint ignore:line

var _class = function (_Form) {
    _inherits(_class, _Form);

    function _class(props) {
        _classCallCheck(this, _class);

        var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

        _this.loadSuccess = function (data) {
            var category = null;
            var showOptions = false;
            var categoryOptions = null;

            // hydrate categories, extract posting options
            var categories = data.map(function (item) {
                // pick first category that allows posting and if it may, override it with initial one
                if (item.post !== false && (!category || item.id == _this.state.category)) {
                    category = item.id;
                    categoryOptions = item.post;
                }

                if (item.post && (item.post.close || item.post.hide || item.post.pin)) {
                    showOptions = true;
                }

                return Object.assign(item, {
                    disabled: item.post === false,
                    label: item.name,
                    value: item.id
                });
            });

            _this.setState({
                isReady: true,
                showOptions: showOptions,

                categories: categories,
                category: category,
                categoryOptions: categoryOptions
            });
        };

        _this.loadError = function (rejection) {
            _this.setState({
                isErrored: rejection.detail
            });
        };

        _this.onCancel = function () {
            var cancel = confirm(gettext("Are you sure you want to discard thread?"));
            if (cancel) {
                _posting2.default.close();
            }
        };

        _this.queryPayStatus = function () {
            _ajax2.default.get(misago.get('PAY_WECHATPAY_STATUS_API'), { 'out_trade_no': _this.state.outTradeNo }).then(function (data) {
                if (data.status === 'SUCCESS') {
                    _modal2.default.hide();
                    _this.handleSubmit();
                }
            });
        };

        _this.onClick = function () {
            _ajax2.default.get(misago.get('PAY_WECHATPAY_QRCODE_API'), { 'reward': _this.state.reward * 100 }).then(function (data) {
                _this.setState({ outTradeNo: data.out_trade_no });
                var queryStatusIntervalId = setInterval(_this.queryPayStatus, 1500);
                _modal2.default.show(_react2.default.createElement(
                    ModalDialog,
                    null,
                    _react2.default.createElement(QRCode, { value: data.code_url, size: 256 })
                ), function () {
                    clearInterval(queryStatusIntervalId);
                });
            });
        };

        _this.onTitleChange = function (event) {
            _this.changeValue('title', event.target.value);
        };

        _this.onCategoryChange = function (event) {
            var category = _this.state.categories.find(function (item) {
                return event.target.value == item.value;
            });

            // if selected pin is greater than allowed, reduce it
            var pin = _this.state.pin;
            if (category.post.pin && category.post.pin < pin) {
                pin = category.post.pin;
            }

            _this.setState({
                category: category.id,
                categoryOptions: category.post,

                pin: pin
            });
        };

        _this.onRewardChange = function (event) {
            var reward = _this.state.rewards.find(function (item) {
                return event.target.value == item;
            });

            _this.setState({ reward: reward });
        };

        _this.onPostChange = function (event) {
            _this.changeValue('post', event.target.value);
        };

        _this.onAttachmentsChange = function (attachments) {
            _this.setState({
                attachments: attachments
            });
        };

        _this.onClose = function () {
            _this.changeValue('close', true);
        };

        _this.onOpen = function () {
            _this.changeValue('close', false);
        };

        _this.onPinGlobally = function () {
            _this.changeValue('pin', 2);
        };

        _this.onPinLocally = function () {
            _this.changeValue('pin', 1);
        };

        _this.onUnpin = function () {
            _this.changeValue('pin', 0);
        };

        _this.onHide = function () {
            _this.changeValue('hide', true);
        };

        _this.onUnhide = function () {
            _this.changeValue('hide', false);
        };

        _this.state = {
            isReady: false,
            isLoading: false,
            isErrored: false,

            showOptions: false,
            categoryOptions: null,

            title: '',
            category: props.category || null,
            categories: [],
            post: '',
            attachments: [],
            close: false,
            hide: false,
            pin: 0,
            outTradeNo: '',
            rewards: [1, 10, 20, 30, 50],
            reward: 10,
            validators: {
                title: (0, _validators.getTitleValidators)(),
                post: (0, _validators.getPostValidators)()
            },
            errors: {}
        };
        return _this;
    }

    _createClass(_class, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
        }

        /* jshint ignore:start */

    }, {
        key: 'clean',

        /* jshint ignore:end */

        value: function clean() {
            if (!this.state.title.trim().length) {
                _snackbar2.default.error(gettext("You have to enter thread title."));
                return false;
            }

            if (!this.state.post.trim().length) {
                _snackbar2.default.error(gettext("You have to enter a message."));
                return false;
            }

            var errors = this.validate();

            if (errors.title) {
                _snackbar2.default.error(errors.title[0]);
                return false;
            }

            if (errors.post) {
                _snackbar2.default.error(errors.post[0]);
                return false;
            }

            return true;
        }
    }, {
        key: 'send',
        value: function send() {
            return _ajax2.default.post(this.props.submit, {
                title: this.state.title,
                category: this.state.category,
                post: this.state.post,
                attachments: attachments.clean(this.state.attachments),
                close: this.state.close,
                hide: this.state.hide,
                reward: this.state.reward * 100,
                pin: this.state.pin
            });
        }
    }, {
        key: 'handleSuccess',
        value: function handleSuccess(success) {
            _snackbar2.default.success(gettext("Your thread has been posted."));
            window.location = success.url;

            // keep form loading
            this.setState({
                'isLoading': true
            });
        }
    }, {
        key: 'handleError',
        value: function handleError(rejection) {
            if (rejection.status === 400) {
                var errors = [].concat(rejection.non_field_errors || [], rejection.category || [], rejection.title || [], rejection.post || [], rejection.attachments || []);

                _snackbar2.default.error(errors[0]);
            } else {
                _snackbar2.default.apiError(rejection);
            }
        }
    }, {
        key: 'render',
        value: function render() {
            /* jshint ignore:start */
            if (this.state.isErrored) {
                return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
            }

            if (!this.state.isReady) {
                return _react2.default.createElement(_loader2.default, null);
            }

            var columns = 0;
            if (this.state.categoryOptions.close) columns += 1;
            if (this.state.categoryOptions.hide) columns += 1;
            if (this.state.categoryOptions.pin) columns += 1;

            var titleStyle = null;

            if (columns === 1) {
                titleStyle = 'col-sm-6';
            } else {
                titleStyle = 'col-sm-8';
            }

            if (columns === 3) {
                titleStyle += ' col-md-6';
            } else if (columns) {
                titleStyle += ' col-md-7';
            } else {
                titleStyle += ' col-md-9';
            }

            return _react2.default.createElement(
                _container2.default,
                { className: 'posting-form', withFirstRow: true },
                _react2.default.createElement(
                    'form',
                    { onSubmit: this.handleSubmit },
                    _react2.default.createElement(
                        'div',
                        { className: 'row' },
                        _react2.default.createElement(
                            'div',
                            { className: titleStyle },
                            _react2.default.createElement('input', {
                                className: 'form-control',
                                disabled: this.state.isLoading,
                                onChange: this.onTitleChange,
                                placeholder: gettext("Thread title"),
                                type: 'text',
                                value: this.state.title
                            })
                        ),
                        _react2.default.createElement(
                            'div',
                            { className: 'col-xs-12 col-sm-4 col-md-3 xs-margin-top' },
                            _react2.default.createElement(_categorySelect2.default, {
                                choices: this.state.categories,
                                disabled: this.state.isLoading,
                                onChange: this.onCategoryChange,
                                value: this.state.category
                            })
                        ),
                        _react2.default.createElement(_options2.default, {
                            close: this.state.close,
                            columns: columns,
                            disabled: this.state.isLoading,
                            hide: this.state.hide,
                            onClose: this.onClose,
                            onHide: this.onHide,
                            onOpen: this.onOpen,
                            onPinGlobally: this.onPinGlobally,
                            onPinLocally: this.onPinLocally,
                            onUnhide: this.onUnhide,
                            onUnpin: this.onUnpin,
                            options: this.state.categoryOptions,
                            pin: this.state.pin,
                            showOptions: this.state.showOptions
                        })
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'form-inline' },
                        _react2.default.createElement(
                            'label',
                            { className: 'control-label' },
                            '\u60AC\u8D4F\u91D1\u989D:'
                        ),
                        _react2.default.createElement(_rewardSelect2.default, {
                            id: 'reward',
                            choices: this.state.rewards,
                            disabled: this.state.isLoading,
                            onChange: this.onRewardChange,
                            value: this.state.reward
                        })
                    ),
                    _react2.default.createElement(
                        'div',
                        { className: 'row' },
                        _react2.default.createElement(
                            'div',
                            { className: 'col-md-12' },
                            _react2.default.createElement(_editor2.default, {
                                attachments: this.state.attachments,
                                loading: this.state.isLoading,
                                onAttachmentsChange: this.onAttachmentsChange,
                                onCancel: this.onCancel,
                                onChange: this.onPostChange,
                                onClick: this.onClick,
                                submitLabel: gettext("Post thread"),
                                value: this.state.post
                            })
                        )
                    )
                )
            );
            /* jshint ignore:end */
        }
    }]);

    return _class;
}(_form2.default);

/* jshint ignore:start */


exports.default = _class;
function ModalDialog(props) {
    return _react2.default.createElement(
        'div',
        {
            className: props.className || "modal-dialog",
            role: 'document'
        },
        _react2.default.createElement(
            'div',
            { className: 'modal-content center-block', style: { width: "fit-content" } },
            _react2.default.createElement(
                'div',
                { className: 'modal-header' },
                _react2.default.createElement(
                    'h4',
                    { className: 'modal-title text-center' },
                    props.title || "sample"
                ),
                props.children
            )
        )
    );
}
/* jshint ignore:end */

},{"../../services/ajax":381,"../../services/modal":387,"../../services/posting":391,"../../services/snackbar":392,"../category-select":37,"../editor":67,"../form":71,"../reward-select":218,"./utils/attachments":153,"./utils/container":154,"./utils/loader":155,"./utils/message":156,"./utils/options":157,"./utils/validators":159,"qrcode.react":16,"react":"react"}],153:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clean = clean;
exports.hydrate = hydrate;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function clean(attachments) {
  var completedAttachments = attachments.filter(function (attachment) {
    return attachment.id && !attachment.isRemoved;
  });

  return completedAttachments.map(function (a) {
    return a.id;
  });
}

function hydrate(attachments) {
  return attachments.map(function (attachment) {
    return Object.assign({}, attachment, {
      uploaded_on: (0, _moment2.default)(attachment.uploaded_on)
    });
  });
}

},{"moment":"moment"}],154:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: props.className },
    _react2.default.createElement(
      "div",
      { className: "container" },
      props.children
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],155:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: 'posting-loader' },
    _react2.default.createElement(_loader2.default, null)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('../../loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../loader":73,"./container":154,"react":"react"}],156:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: 'posting-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        null,
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'error_outline'
        ),
        props.message
      ),
      _react2.default.createElement(
        'button',
        { type: 'button', className: 'btn btn-default', onClick: _posting2.default.close },
        gettext("Dismiss")
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../services/posting":391,"./container":154,"react":"react"}],157:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!props.showOptions) return null;

  var columns = props.columns;


  var className = 'col-xs-12 xs-margin-top';

  if (columns === 1) {
    className += ' col-sm-2';
  } else {
    className += ' sm-margin-top';
  }

  if (columns === 3) {
    className += ' col-md-3';
  } else {
    className += ' col-md-2';
  }
  className += ' posting-options';

  var columnClassName = 'col-xs-' + 12 / columns;

  var textClassName = 'btn-text';
  if (columns === 3) {
    textClassName += ' visible-sm-inline-block';
  } else if (columns === 2) {
    textClassName += ' hidden-md hidden-lg';
  } else {
    textClassName += ' hidden-sm';
  }

  return _react2.default.createElement(
    'div',
    { className: className },
    _react2.default.createElement(
      'div',
      { className: 'row' },
      _react2.default.createElement(PinOptions, {
        className: columnClassName,
        disabled: props.disabled,
        onPinGlobally: props.onPinGlobally,
        onPinLocally: props.onPinLocally,
        onUnpin: props.onUnpin,
        pin: props.pin,
        show: props.options.pin,
        textClassName: textClassName
      }),
      _react2.default.createElement(HideOptions, {
        className: columnClassName,
        disabled: props.disabled,
        hide: props.hide,
        onHide: props.onHide,
        onUnhide: props.onUnhide,
        show: props.options.hide,
        textClassName: textClassName
      }),
      _react2.default.createElement(CloseOptions, {
        className: columnClassName,
        close: props.close,
        disabled: props.disabled,
        onClose: props.onClose,
        onOpen: props.onOpen,
        show: props.options.close,
        textClassName: textClassName
      })
    )
  );
};

exports.CloseOptions = CloseOptions;
exports.HideOptions = HideOptions;
exports.PinOptions = PinOptions;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function CloseOptions(props) {
  if (!props.show) return null;

  var label = props.close ? gettext('Closed') : gettext('Open');

  return _react2.default.createElement(
    'div',
    { className: props.className },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-block',
        disabled: props.disabled,
        onClick: props.close ? props.onOpen : props.onClose,
        title: label,
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        props.close ? 'lock' : 'lock_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: props.textClassName },
        label
      )
    )
  );
}

function HideOptions(props) {
  if (!props.show) return null;

  var label = props.hide ? gettext('Hidden') : gettext('Not hidden');

  return _react2.default.createElement(
    'div',
    { className: props.className },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-block',
        disabled: props.disabled,
        onClick: props.hide ? props.onUnhide : props.onHide,
        title: label,
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        props.hide ? 'visibility_off' : 'visibility'
      ),
      _react2.default.createElement(
        'span',
        { className: props.textClassName },
        label
      )
    )
  );
}

function PinOptions(props) {
  if (!props.show) return null;

  var icon = null;
  var onClick = null;
  var label = null;

  switch (props.pin) {
    case 0:
      icon = 'radio_button_unchecked';
      onClick = props.onPinLocally;
      label = gettext("Unpinned");
      break;

    case 1:
      icon = 'bookmark_outline';
      onClick = props.onPinGlobally;
      label = gettext("Pinned locally");

      if (props.show == 2) {
        onClick = props.onPinGlobally;
      } else {
        onClick = props.onUnpin;
      }

      break;

    case 2:
      icon = 'bookmark';
      onClick = props.onUnpin;
      label = gettext("Pinned globally");
      break;
  }

  return _react2.default.createElement(
    'div',
    { className: props.className },
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-block',
        disabled: props.disabled,
        onClick: onClick,
        title: label,
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        icon
      ),
      _react2.default.createElement(
        'span',
        { className: props.textClassName },
        label
      )
    )
  );
}

},{"react":"react"}],158:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (usernames) {
  var normalisedNames = usernames.split(',').map(function (i) {
    return i.trim().toLowerCase();
  });
  var removedBlanks = normalisedNames.filter(function (i) {
    return i.length > 0;
  });
  var removedDuplicates = removedBlanks.filter(function (name, pos) {
    return removedBlanks.indexOf(name) == pos;
  });

  return removedDuplicates;
};

},{}],159:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTitleValidators = getTitleValidators;
exports.getPostValidators = getPostValidators;
exports.getTitleLengthMin = getTitleLengthMin;
exports.getTitleLengthMax = getTitleLengthMax;
exports.validatePostLengthMin = validatePostLengthMin;
exports.validatePostLengthMax = validatePostLengthMax;

var _validators = require('../../../utils/validators');

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getTitleValidators() {
  return [getTitleLengthMin(), getTitleLengthMax()];
}

function getPostValidators() {
  if (_2.default.get('SETTINGS').post_length_max) {
    return [validatePostLengthMin(), validatePostLengthMax()];
  } else {
    return [validatePostLengthMin()];
  }
}

function getTitleLengthMin() {
  return (0, _validators.minLength)(_2.default.get('SETTINGS').thread_title_length_min, function (limitValue, length) {
    var message = ngettext("Thread title should be at least %(limit_value)s character long (it has %(show_value)s).", "Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function getTitleLengthMax() {
  return (0, _validators.maxLength)(_2.default.get('SETTINGS').thread_title_length_max, function (limitValue, length) {
    var message = ngettext("Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMin() {
  return (0, _validators.minLength)(_2.default.get('SETTINGS').post_length_min, function (limitValue, length) {
    var message = ngettext("Posted message should be at least %(limit_value)s character long (it has %(show_value)s).", "Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMax() {
  return (0, _validators.maxLength)(_2.default.get('SETTINGS').post_length_max || 1000000, function (limitValue, length) {
    var message = ngettext("Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

},{"../../..":318,"../../../utils/validators":409}],160:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (isVisible(props.post.acl)) {
    return _react2.default.createElement(
      'li',
      { className: 'event-controls' },
      _react2.default.createElement(Hide, props),
      _react2.default.createElement(Unhide, props),
      _react2.default.createElement(Delete, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function isVisible(acl) {
  return acl.can_hide;
}

var Hide = exports.Hide = function (_React$Component) {
  _inherits(Hide, _React$Component);

  function Hide() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Hide);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _store2.default.dispatch(post.patch(_this.props.post, {
        is_hidden: true,
        hidden_on: (0, _moment2.default)(),
        hidden_by_name: _this.props.user.username,
        url: Object.assign(_this.props.post.url, {
          hidden_by: _this.props.user.url
        })
      }));

      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': true };

      _ajax2.default.patch(_this.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this.props.post, {
          is_hidden: false
        }));
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.is_hidden) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Hide")
        );
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component2) {
  _inherits(Unhide, _React$Component2);

  function Unhide() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Unhide);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _store2.default.dispatch(post.patch(_this2.props.post, {
        is_hidden: false
      }));

      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': false };

      _ajax2.default.patch(_this2.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this2.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this2.props.post, {
          is_hidden: true
        }));
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      if (this.props.post.is_hidden) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Unhide")
        );
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  function Delete() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      var decision = confirm(gettext("Are you sure you wish to delete this event? This action is not reversible!"));
      if (decision) {
        _this3.delete();
      }
    }, _this3.delete = function () {
      _store2.default.dispatch(post.patch(_this3.props.post, {
        isDeleted: true
      }));

      _ajax2.default.delete(_this3.props.post.api.index).then(function () {
        _snackbar2.default.success(gettext("Event has been deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this3.props.post, {
          isDeleted: false
        }));
      });
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'button',
        { type: 'button', className: 'btn btn-link', onClick: this.onClick },
        gettext("Delete")
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../reducers/post":369,"../../../services/ajax":381,"../../../services/snackbar":392,"../../../services/store":393,"moment":"moment","react":"react"}],161:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'post-avatar' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      ICON[props.post.event_type]
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ICON = {
  changed_title: 'edit',

  pinned_globally: 'bookmark',
  pinned_locally: 'bookmark_border',
  unpinned: 'panorama_fish_eye',

  moved: 'arrow_forward',
  merged: 'call_merge',

  approved: 'done',

  opened: 'lock_open',
  closed: 'lock_outline',

  unhid: 'visibility',
  hid: 'visibility_off',

  changed_owner: 'grade',
  tookover: 'grade',

  added_participant: 'person_add',

  owner_left: 'person_outline',
  participant_left: 'person_outline',
  removed_participant: 'remove_circle_outline'
}; /* jshint ignore:start */

},{"react":"react"}],162:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = 'event';
  if (props.post.isDeleted) {
    className = 'hide';
  } else if (props.post.is_hidden) {
    className = 'event post-hidden';
  }

  return _react2.default.createElement(
    'li',
    { id: 'post-' + props.post.id, className: className },
    _react2.default.createElement(_unreadLabel2.default, { post: props.post }),
    _react2.default.createElement(
      'div',
      { className: 'row' },
      _react2.default.createElement(
        'div',
        { className: 'col-xs-2 col-sm-3 text-right' },
        _react2.default.createElement(_icon2.default, props)
      ),
      _react2.default.createElement(
        'div',
        { className: 'col-xs-10 col-sm-9 text-left' },
        _react2.default.createElement(
          _waypoint2.default,
          { post: props.post },
          _react2.default.createElement(_message2.default, props),
          _react2.default.createElement(_info2.default, props)
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _icon = require('./icon');

var _icon2 = _interopRequireDefault(_icon);

var _info = require('./info');

var _info2 = _interopRequireDefault(_info);

var _message = require('./message');

var _message2 = _interopRequireDefault(_message);

var _unreadLabel = require('./unread-label');

var _unreadLabel2 = _interopRequireDefault(_unreadLabel);

var _waypoint = require('../waypoint');

var _waypoint2 = _interopRequireDefault(_waypoint);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../waypoint":188,"./icon":161,"./info":163,"./message":164,"./unread-label":165,"react":"react"}],163:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-inline event-info' },
    _react2.default.createElement(Hidden, props),
    _react2.default.createElement(Poster, props),
    _react2.default.createElement(_controls2.default, props)
  );
};

exports.Hidden = Hidden;
exports.Poster = Poster;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>'; /* jshint ignore:start */

var DATE_URL = '<a href="%(url)s" title="%(absolute)s">%(relative)s</a>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function Hidden(props) {
  if (props.post.is_hidden) {
    var user = null;
    if (props.post.url.hidden_by) {
      user = interpolate(USER_URL, {
        url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    } else {
      user = interpolate(USER_SPAN, {
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    }

    var date = interpolate(DATE_ABBR, {
      absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),
      relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
    }, true);

    var message = interpolate((0, _escapeHtml2.default)(gettext("Hidden by %(event_by)s %(event_on)s.")), {
      event_by: user,
      event_on: date
    }, true);

    return _react2.default.createElement('li', {
      className: 'event-hidden-message',
      dangerouslySetInnerHTML: { __html: message }
    });
  } else {
    return null;
  }
}

function Poster(props) {
  var user = null;
  if (props.post.poster) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.post.poster.url),
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  }

  var date = interpolate(DATE_URL, {
    url: (0, _escapeHtml2.default)(props.post.url.index),
    absolute: (0, _escapeHtml2.default)(props.post.posted_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.post.posted_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("By %(event_by)s %(event_on)s.")), {
    event_by: user,
    event_on: date
  }, true);

  return _react2.default.createElement('li', { className: 'event-posters', dangerouslySetInnerHTML: { __html: message } });
}

},{"../../../utils/escape-html":399,"./controls":160,"react":"react"}],164:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (MESSAGE[props.post.event_type]) {
    return _react2.default.createElement(
      'p',
      { className: 'event-message' },
      MESSAGE[props.post.event_type]
    );
  } else if (props.post.event_type === 'changed_title') {
    return _react2.default.createElement(ChangedTitle, props);
  } else if (props.post.event_type === 'moved') {
    return _react2.default.createElement(Moved, props);
  } else if (props.post.event_type === 'merged') {
    return _react2.default.createElement(Merged, props);
  } else if (props.post.event_type === 'changed_owner') {
    return _react2.default.createElement(ChangedOwner, props);
  } else if (props.post.event_type === 'added_participant') {
    return _react2.default.createElement(AddedParticipant, props);
  } else if (props.post.event_type === 'removed_participant') {
    return _react2.default.createElement(RemovedParticipant, props);
  } else {
    return null;
  }
};

exports.ChangedTitle = ChangedTitle;
exports.Moved = Moved;
exports.Merged = Merged;
exports.ChangedOwner = ChangedOwner;
exports.AddedParticipant = AddedParticipant;
exports.RemovedParticipant = RemovedParticipant;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var MESSAGE = {
  pinned_globally: gettext("Thread has been pinned globally."),
  pinned_locally: gettext("Thread has been pinned locally."),
  unpinned: gettext("Thread has been unpinned."),

  approved: gettext("Thread has been approved."),

  opened: gettext("Thread has been opened."),
  closed: gettext("Thread has been closed."),

  unhid: gettext("Thread has been revealed."),
  hid: gettext("Thread has been made hidden."),

  tookover: gettext("Took thread over."),

  owner_left: gettext("Owner has left thread. This thread is now closed."),
  participant_left: gettext("Participant has left thread.")
};

var ITEM_LINK = '<a href="%(url)s" class="item-title">%(name)s</a>';
var ITEM_SPAN = '<span class="item-title">%(name)s</span>';

function ChangedTitle(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Thread title has been changed from %(old_title)s."));
  var oldTitle = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml2.default)(props.post.event_context.old_title)
  }, true);
  var message = interpolate(msgstring, {
    old_title: oldTitle
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function Moved(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Thread has been moved from %(from_category)s."));
  var fromCategory = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.from_category.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.from_category.name)
  }, true);

  var message = interpolate(msgstring, {
    from_category: fromCategory
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function Merged(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("The %(merged_thread)s thread has been merged into this thread."));
  var mergedThread = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml2.default)(props.post.event_context.merged_thread)
  }, true);

  var message = interpolate(msgstring, {
    merged_thread: mergedThread
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function ChangedOwner(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Changed thread owner to %(user)s."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function AddedParticipant(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Added %(user)s to thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function RemovedParticipant(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Removed %(user)s from thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

},{"../../../utils/escape-html":399,"react":"react"}],165:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post;

  if (post.is_read) return null;

  return _react2.default.createElement(
    "div",
    { className: "row" },
    _react2.default.createElement(
      "div",
      { className: "col-xs-10 col-xs-offset-2 col-sm-9 col-sm-offset-3 text-left" },
      _react2.default.createElement(
        "div",
        { className: "event-label" },
        _react2.default.createElement(
          "span",
          { className: "label label-unread" },
          gettext("New event")
        )
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],166:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (!props.posts.isLoaded) {
    return _react2.default.createElement(
      'ul',
      { className: 'posts-list ui-preview' },
      _react2.default.createElement(_preview2.default, null)
    );
  }

  return _react2.default.createElement(
    'ul',
    { className: 'posts-list ui-ready' },
    props.posts.results.map(function (post) {
      return _react2.default.createElement(ListItem, _extends({
        key: post.id,
        post: post
      }, props));
    })
  );
};

exports.ListItem = ListItem;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _event = require('./event');

var _event2 = _interopRequireDefault(_event);

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

var _preview = require('./post/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ListItem(props) {
  if (props.post.is_event) {
    return _react2.default.createElement(_event2.default, props);
  }

  return _react2.default.createElement(_post2.default, props);
}

},{"./event":162,"./post":178,"./post/preview":186,"react":"react"}],167:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-md-6' },
    _react2.default.createElement(AttachmentPreview, props),
    _react2.default.createElement(
      'div',
      { className: 'post-attachment' },
      _react2.default.createElement(
        'a',
        { href: props.attachment.url.index, className: 'attachment-name item-title' },
        props.attachment.filename
      ),
      _react2.default.createElement(AttachmentDetails, props)
    )
  );
};

exports.AttachmentPreview = AttachmentPreview;
exports.AttachmentIcon = AttachmentIcon;
exports.AttachmentThumbnail = AttachmentThumbnail;
exports.AttachmentDetails = AttachmentDetails;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _fileSize = require('../../../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function AttachmentPreview(props) {
  if (props.attachment.is_image) {
    return _react2.default.createElement(
      'div',
      { className: 'post-attachment-preview' },
      _react2.default.createElement(AttachmentThumbnail, props)
    );
  } else {
    return _react2.default.createElement(
      'div',
      { className: 'post-attachment-preview' },
      _react2.default.createElement(AttachmentIcon, props)
    );
  }
}

function AttachmentIcon(props) {
  return _react2.default.createElement(
    'a',
    { href: props.attachment.url.index, className: 'material-icon' },
    'insert_drive_file'
  );
}

function AttachmentThumbnail(props) {
  var url = props.attachment.url.thumb || props.attachment.url.index;
  return _react2.default.createElement('a', {
    className: 'post-thumbnail',
    href: props.attachment.url.index,
    style: { backgroundImage: 'url("' + (0, _escapeHtml2.default)(url) + '")' }
  });
}

function AttachmentDetails(props) {
  var user = null;
  if (props.attachment.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.attachment.url.uploader),
      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.attachment.uploaded_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.attachment.uploaded_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.attachment.filetype,
    size: (0, _fileSize2.default)(props.attachment.size),
    uploader: user,
    uploaded_on: date
  }, true);

  return _react2.default.createElement('p', {
    className: 'post-attachment-description',
    dangerouslySetInnerHTML: { __html: message }
  });
}

},{"../../../..":318,"../../../../utils/escape-html":399,"../../../../utils/file-size":400,"react":"react"}],168:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!isVisible(props.post)) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'post-attachments' },
    (0, _batch2.default)(props.post.attachments, 2).map(function (row) {
      var key = row.map(function (a) {
        return a ? a.id : 0;
      }).join('_');
      return _react2.default.createElement(Row, { key: key, row: row });
    })
  );
};

exports.isVisible = isVisible;
exports.Row = Row;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _batch = require('../../../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

var _attachment = require('./attachment');

var _attachment2 = _interopRequireDefault(_attachment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments;
}

function Row(props) {
  return _react2.default.createElement(
    'div',
    { className: 'row' },
    props.row.map(function (attachment) {
      return _react2.default.createElement(_attachment2.default, {
        attachment: attachment,
        key: attachment ? attachment.id : 0
      });
    })
  );
}

},{"../../../../utils/batch":396,"./attachment":167,"react":"react"}],169:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    return _react2.default.createElement(Hidden, props);
  } else if (props.post.content) {
    return _react2.default.createElement(Default, props);
  } else {
    return _react2.default.createElement(Invalid, props);
  }
};

exports.Default = Default;
exports.Hidden = Hidden;
exports.Invalid = Invalid;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _waypoint = require('../waypoint');

var _waypoint2 = _interopRequireDefault(_waypoint);

var _misagoMarkup = require('../../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var HIDDEN_BY_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var HIDDEN_BY_SPAN = '<span class="item-title">%(user)s</span>';
var HIDDEN_ON = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Default(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'post-body', post: props.post },
    _react2.default.createElement(_misagoMarkup2.default, { markup: props.post.content })
  );
}

function Hidden(props) {
  var user = null;
  if (props.post.hidden_by) {
    user = interpolate(HIDDEN_BY_URL, {
      url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  } else {
    user = interpolate(HIDDEN_BY_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  }

  var date = interpolate(HIDDEN_ON, {
    absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("Hidden by %(hidden_by)s %(hidden_on)s.")), {
    hidden_by: user,
    hidden_on: date
  }, true);

  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'post-body post-body-hidden', post: props.post },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post is hidden. You cannot see its contents.")
    ),
    _react2.default.createElement('p', { className: 'text-muted', dangerouslySetInnerHTML: { __html: message } })
  );
}

function Invalid(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'post-body post-body-invalid', post: props.post },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post's contents cannot be displayed.")
    ),
    _react2.default.createElement(
      'p',
      { className: 'text-muted' },
      gettext("This error is caused by invalid post content manipulation.")
    )
  );
}

},{"../../../utils/escape-html":399,"../../misago-markup":75,"../waypoint":188,"react":"react"}],170:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.like = like;
exports.unlike = unlike;
exports.patch = patch;
exports.remove = remove;
exports.markAsBestAnswer = markAsBestAnswer;
exports.unmarkBestAnswer = unmarkBestAnswer;
exports.patchThread = patchThread;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_unapproved: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];

  var previousState = {
    is_unapproved: props.post.is_unapproved
  };

  patch(props, ops, previousState);
}

function protect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: true
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function unprotect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function hide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: true,
    hidden_on: (0, _moment2.default)(),
    hidden_by_name: props.user.username,
    url: Object.assign(props.post.url, {
      hidden_by: props.user.url
    })
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];

  var previousState = {
    is_hidden: props.post.is_hidden,
    hidden_on: props.post.hidden_on,
    hidden_by_name: props.post.hidden_by_name,
    url: props.post.url
  };

  patch(props, ops, previousState);
}

function unhide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];

  var previousState = {
    is_hidden: props.post.is_hidden
  };

  patch(props, ops, previousState);
}

function like(props) {
  var lastLikes = props.post.last_likes || [];
  var concatedLikes = [props.user].concat(lastLikes);
  var finalLikes = concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes;

  _store2.default.dispatch(post.patch(props.post, {
    is_liked: true,
    likes: props.post.likes + 1,
    last_likes: finalLikes
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-liked', 'value': true }];

  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };

  patch(props, ops, previousState);
}

function unlike(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_liked: false,
    likes: props.post.likes - 1,
    last_likes: props.post.last_likes.filter(function (user) {
      return !user.id || user.id !== props.user.id;
    })
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-liked', 'value': false }];

  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };

  patch(props, ops, previousState);
}

function patch(props, ops, previousState) {
  _ajax2.default.patch(props.post.api.index, ops).then(function (newState) {
    _store2.default.dispatch(post.patch(props.post, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, previousState));
  });
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete this post? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  _store2.default.dispatch(post.patch(props.post, {
    isDeleted: true
  }));

  _ajax2.default.delete(props.post.api.index).then(function () {
    _snackbar2.default.success(gettext("Post has been deleted."));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, {
      isDeleted: false
    }));
  });
}

function markAsBestAnswer(props) {
  var post = props.post,
      user = props.user;


  _store2.default.dispatch(thread.update({
    best_answer: post.id,
    best_answer_is_protected: post.is_protected,
    best_answer_marked_on: (0, _moment2.default)(),
    best_answer_marked_by: user.id,
    best_answer_marked_by_name: user.username,
    best_answer_marked_by_slug: user.slug
  }));

  var ops = [{ 'op': 'replace', 'path': 'best-answer', 'value': post.id }, { 'op': 'add', 'path': 'acl', 'value': true }];

  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };

  patchThread(props, ops, previousState);
}

function unmarkBestAnswer(props) {
  var post = props.post;


  _store2.default.dispatch(thread.update({
    best_answer: null,
    best_answer_is_protected: false,
    best_answer_marked_on: null,
    best_answer_marked_by: null,
    best_answer_marked_by_name: null,
    best_answer_marked_by_slug: null
  }));

  var ops = [{ 'op': 'remove', 'path': 'best-answer', 'value': post.id }, { 'op': 'add', 'path': 'acl', 'value': true }];

  var previousState = {
    best_answer: props.thread.best_answer,
    best_answer_is_protected: props.thread.best_answer_is_protected,
    best_answer_marked_on: props.thread.best_answer_marked_on,
    best_answer_marked_by: props.thread.best_answer_marked_by,
    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,
    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug
  };

  patchThread(props, ops, previousState);
}

function patchThread(props, ops, previousState) {
  _ajax2.default.patch(props.thread.api.index, ops).then(function (newState) {
    if (newState.best_answer_marked_on) {
      newState.best_answer_marked_on = (0, _moment2.default)(newState.best_answer_marked_on);
    }
    _store2.default.dispatch(thread.update(newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(thread.update(previousState));
  });
}

},{"../../../../reducers/post":369,"../../../../reducers/thread":376,"../../../../services/ajax":381,"../../../../services/snackbar":392,"../../../../services/store":393,"moment":"moment"}],171:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Approve = exports.PostEdits = exports.UnmarkMarkBestAnswer = exports.MarkAsBestAnswer = exports.Edit = exports.Permalink = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-menu-right stick-to-bottom' },
    _react2.default.createElement(Permalink, props),
    _react2.default.createElement(Edit, props),
    _react2.default.createElement(MarkAsBestAnswer, props),
    _react2.default.createElement(UnmarkMarkBestAnswer, props),
    _react2.default.createElement(PostEdits, props),
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _posting = require('../../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _actions = require('./actions');

var moderation = _interopRequireWildcard(_actions);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _postChangelog = require('../../../post-changelog');

var _postChangelog2 = _interopRequireDefault(_postChangelog);

var _split = require('./split');

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var Permalink = exports.Permalink = function (_React$Component) {
  _inherits(Permalink, _React$Component);

  function Permalink() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Permalink);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Permalink.__proto__ || Object.getPrototypeOf(Permalink)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      var permaUrl = window.location.protocol + '//';
      permaUrl += window.location.host;
      permaUrl += _this.props.post.url.index;

      prompt(gettext("Permament link to this post:"), permaUrl);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Permalink, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'link'
          ),
          gettext("Permament link")
        )
      );
    }
  }]);

  return Permalink;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  function Edit() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _posting2.default.open({
        mode: 'EDIT',

        config: _this2.props.post.api.editor,
        submit: _this2.props.post.api.index
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Edit, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_edit) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'edit'
          ),
          gettext("Edit")
        )
      );
    }
  }]);

  return Edit;
}(_react2.default.Component);

var MarkAsBestAnswer = exports.MarkAsBestAnswer = function (_React$Component3) {
  _inherits(MarkAsBestAnswer, _React$Component3);

  function MarkAsBestAnswer() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, MarkAsBestAnswer);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = MarkAsBestAnswer.__proto__ || Object.getPrototypeOf(MarkAsBestAnswer)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      moderation.markAsBestAnswer(_this3.props);
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(MarkAsBestAnswer, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          post = _props.post,
          thread = _props.thread;


      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (post.id === thread.best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'check_box'
          ),
          gettext("Mark as best answer")
        )
      );
    }
  }]);

  return MarkAsBestAnswer;
}(_react2.default.Component);

var UnmarkMarkBestAnswer = exports.UnmarkMarkBestAnswer = function (_React$Component4) {
  _inherits(UnmarkMarkBestAnswer, _React$Component4);

  function UnmarkMarkBestAnswer() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, UnmarkMarkBestAnswer);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = UnmarkMarkBestAnswer.__proto__ || Object.getPrototypeOf(UnmarkMarkBestAnswer)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      moderation.unmarkBestAnswer(_this4.props);
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(UnmarkMarkBestAnswer, [{
    key: 'render',
    value: function render() {
      var _props2 = this.props,
          post = _props2.post,
          thread = _props2.thread;


      if (post.id !== thread.best_answer) return null;
      if (!thread.acl.can_unmark_best_answer) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'check_box_outline_blank'
          ),
          gettext("Unmark best answer")
        )
      );
    }
  }]);

  return UnmarkMarkBestAnswer;
}(_react2.default.Component);

var PostEdits = exports.PostEdits = function (_React$Component5) {
  _inherits(PostEdits, _React$Component5);

  function PostEdits() {
    var _ref5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, PostEdits);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = PostEdits.__proto__ || Object.getPrototypeOf(PostEdits)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_postChangelog2.default, { post: _this5.props.post }));
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(PostEdits, [{
    key: 'render',
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;

      var message = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);

      var title = interpolate(message, {
        'edits': this.props.post.edits
      }, true);

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'edit'
          ),
          gettext("Changes history")
        )
      );
    }
  }]);

  return PostEdits;
}(_react2.default.Component);

var Approve = exports.Approve = function (_React$Component6) {
  _inherits(Approve, _React$Component6);

  function Approve() {
    var _ref6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Approve);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.approve(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Approve, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_approve) return null;
      if (!this.props.post.is_unapproved) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'done'
          ),
          gettext("Approve")
        )
      );
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component7) {
  _inherits(Move, _React$Component7);

  function Move() {
    var _ref7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Move);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this7.props));
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Move, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_move) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          gettext("Move")
        )
      );
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component8) {
  _inherits(Split, _React$Component8);

  function Split() {
    var _ref8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Split);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this8.props));
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Split, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_move) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'call_split'
          ),
          gettext("Split")
        )
      );
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component9) {
  _inherits(Protect, _React$Component9);

  function Protect() {
    var _ref9;

    var _temp9, _this9, _ret9;

    _classCallCheck(this, Protect);

    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    return _ret9 = (_temp9 = (_this9 = _possibleConstructorReturn(this, (_ref9 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref9, [this].concat(args))), _this9), _this9.onClick = function () {
      moderation.protect(_this9.props);
    }, _temp9), _possibleConstructorReturn(_this9, _ret9);
  }

  _createClass(Protect, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (this.props.post.is_protected) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_outline'
          ),
          gettext("Protect")
        )
      );
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component10) {
  _inherits(Unprotect, _React$Component10);

  function Unprotect() {
    var _ref10;

    var _temp10, _this10, _ret10;

    _classCallCheck(this, Unprotect);

    for (var _len10 = arguments.length, args = Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
      args[_key10] = arguments[_key10];
    }

    return _ret10 = (_temp10 = (_this10 = _possibleConstructorReturn(this, (_ref10 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref10, [this].concat(args))), _this10), _this10.onClick = function () {
      moderation.unprotect(_this10.props);
    }, _temp10), _possibleConstructorReturn(_this10, _ret10);
  }

  _createClass(Unprotect, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_protect) return null;
      if (!this.props.post.is_protected) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_open'
          ),
          gettext("Remove protection")
        )
      );
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component11) {
  _inherits(Hide, _React$Component11);

  function Hide() {
    var _ref11;

    var _temp11, _this11, _ret11;

    _classCallCheck(this, Hide);

    for (var _len11 = arguments.length, args = Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
      args[_key11] = arguments[_key11];
    }

    return _ret11 = (_temp11 = (_this11 = _possibleConstructorReturn(this, (_ref11 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref11, [this].concat(args))), _this11), _this11.onClick = function () {
      moderation.hide(_this11.props);
    }, _temp11), _possibleConstructorReturn(_this11, _ret11);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      var _props3 = this.props,
          post = _props3.post,
          thread = _props3.thread;


      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_hide) return null;
      if (post.is_hidden) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility_off'
          ),
          gettext("Hide")
        )
      );
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component12) {
  _inherits(Unhide, _React$Component12);

  function Unhide() {
    var _ref12;

    var _temp12, _this12, _ret12;

    _classCallCheck(this, Unhide);

    for (var _len12 = arguments.length, args = Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {
      args[_key12] = arguments[_key12];
    }

    return _ret12 = (_temp12 = (_this12 = _possibleConstructorReturn(this, (_ref12 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref12, [this].concat(args))), _this12), _this12.onClick = function () {
      moderation.unhide(_this12.props);
    }, _temp12), _possibleConstructorReturn(_this12, _ret12);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_unhide) return null;
      if (!this.props.post.is_hidden) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility'
          ),
          gettext("Unhide")
        )
      );
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component13) {
  _inherits(Delete, _React$Component13);

  function Delete() {
    var _ref13;

    var _temp13, _this13, _ret13;

    _classCallCheck(this, Delete);

    for (var _len13 = arguments.length, args = Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {
      args[_key13] = arguments[_key13];
    }

    return _ret13 = (_temp13 = (_this13 = _possibleConstructorReturn(this, (_ref13 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref13, [this].concat(args))), _this13), _this13.onClick = function () {
      moderation.remove(_this13.props);
    }, _temp13), _possibleConstructorReturn(_this13, _ret13);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      var _props4 = this.props,
          post = _props4.post,
          thread = _props4.thread;


      if (post.id === thread.best_answer) return null;
      if (!post.acl.can_delete) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'clear'
          ),
          gettext("Delete")
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":387,"../../../../services/posting":391,"../../../post-changelog":134,"./actions":170,"./move":173,"./split":174,"react":"react"}],172:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'pull-right dropdown' },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default btn-icon dropdown-toggle',
        'data-toggle': 'dropdown',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'expand_more'
      )
    ),
    _react2.default.createElement(_dropdown2.default, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _dropdown = require('./dropdown');

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./dropdown":171,"react":"react"}],173:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected post was moved to the other thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to move post to")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading },
                gettext("Move post")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move post")
    )
  );
}

},{"../../../../reducers/post":369,"../../../../services/ajax":381,"../../../../services/modal":387,"../../../../services/snackbar":392,"../../../../services/store":393,"../../../button":24,"../../../form":71,"../../../form-group":70,"react":"react"}],174:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require('../../../select');

var _select2 = _interopRequireDefault(_select);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get('THREAD_EDITOR_API')).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: '',
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this3.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected post was split into new thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getWeightChoices',
    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: 'modal-dialog' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Thread title"),
                'for': 'id_title',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.title },
              _react2.default.createElement('input', { id: 'id_title',
                className: 'form-control',
                type: 'text',
                onChange: this.bindInput('title'),
                value: this.state.title })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Category"),
                'for': 'id_category',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.category },
              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Split post")
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog' },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog modal-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-icon' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'info_outline'
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        { className: 'lead' },
        gettext("You can't move this post at the moment.")
      ),
      _react2.default.createElement(
        'p',
        null,
        props.message
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    'div',
    { className: props.className, role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Split post into new thread")
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":369,"../../../../services/ajax":381,"../../../../services/modal":387,"../../../../services/snackbar":392,"../../../../services/store":393,"../../../../utils/validators":409,"../../../button":24,"../../../category-select":37,"../../../form":71,"../../../form-group":70,"../../../modal-loader":76,"../../../select":226,"react":"react"}],175:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FlagBestAnswer = FlagBestAnswer;
exports.FlagHidden = FlagHidden;
exports.FlagUnapproved = FlagUnapproved;
exports.FlagProtected = FlagProtected;
exports.isVisible = isVisible;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function FlagBestAnswer(_ref) {
  var post = _ref.post,
      thread = _ref.thread,
      user = _ref.user;

  if (!(isVisible(post) && post.id === thread.best_answer)) {
    return null;
  }

  var message = null;
  if (user.id && thread.best_answer_marked_by === user.id) {
    message = interpolate(gettext("Marked as best answer by you %(marked_on)s."), {
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  } else {
    message = interpolate(gettext("Marked as best answer by %(marked_by)s %(marked_on)s."), {
      marked_by: thread.best_answer_marked_by_name,
      marked_on: thread.best_answer_marked_on.fromNow()
    }, true);
  }

  return _react2.default.createElement(
    "div",
    { className: "post-status-message post-status-best-answer" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "check_box"
    ),
    _react2.default.createElement(
      "p",
      null,
      message
    )
  );
} /* jshint ignore:start */
function FlagHidden(props) {
  if (!(isVisible(props.post) && props.post.is_hidden)) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "post-status-message post-status-hidden" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "visibility_off"
    ),
    _react2.default.createElement(
      "p",
      null,
      gettext("This post is hidden. Only users with permission may see its contents.")
    )
  );
}

function FlagUnapproved(props) {
  if (!(isVisible(props.post) && props.post.is_unapproved)) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "post-status-message post-status-unapproved" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "remove_circle_outline"
    ),
    _react2.default.createElement(
      "p",
      null,
      gettext("This post is unapproved. Only users with permission to approve posts and its author may see its contents.")
    )
  );
}

function FlagProtected(props) {
  if (!(isVisible(props.post) && props.post.is_protected)) {
    return null;
  }

  return _react2.default.createElement(
    "div",
    { className: "post-status-message post-status-protected visible-xs-block" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "lock_outline"
    ),
    _react2.default.createElement(
      "p",
      null,
      gettext("This post is protected. Only moderators may change it.")
    )
  );
}

function isVisible(post) {
  return !post.is_hidden || post.acl.can_see_hidden;
}

},{"react":"react"}],176:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Edit = exports.Reply = exports.LikesCompact = exports.Likes = exports.Like = exports.MarkAsBestAnswerCompact = exports.MarkAsBestAnswer = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (!isVisible(props.post)) return null;

  return _react2.default.createElement(
    'div',
    { className: 'post-footer' },
    _react2.default.createElement(MarkAsBestAnswer, props),
    _react2.default.createElement(MarkAsBestAnswerCompact, props),
    _react2.default.createElement(Like, props),
    _react2.default.createElement(Likes, _extends({
      lastLikes: props.post.last_likes,
      likes: props.post.likes
    }, props)),
    _react2.default.createElement(LikesCompact, _extends({
      likes: props.post.likes
    }, props)),
    _react2.default.createElement(Reply, props),
    _react2.default.createElement(Edit, props)
  );
};

exports.isVisible = isVisible;
exports.getLikesMessage = getLikesMessage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _actions = require('./controls/actions');

var actions = _interopRequireWildcard(_actions);

var _postLikes = require('../../post-likes');

var _postLikes2 = _interopRequireDefault(_postLikes);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes && (post.last_likes || []).length || post.acl.can_like);
}

var MarkAsBestAnswer = exports.MarkAsBestAnswer = function (_React$Component) {
  _inherits(MarkAsBestAnswer, _React$Component);

  function MarkAsBestAnswer() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, MarkAsBestAnswer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = MarkAsBestAnswer.__proto__ || Object.getPrototypeOf(MarkAsBestAnswer)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      actions.markAsBestAnswer(_this.props);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(MarkAsBestAnswer, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          post = _props.post,
          thread = _props.thread;


      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;

      return _react2.default.createElement(
        'button',
        {
          className: 'hidden-xs btn btn-default btn-sm pull-left',
          disabled: this.props.post.isBusy || post.id === thread.best_answer,
          onClick: this.onClick,
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'check_box'
        ),
        gettext("Best answer")
      );
    }
  }]);

  return MarkAsBestAnswer;
}(_react2.default.Component);

var MarkAsBestAnswerCompact = exports.MarkAsBestAnswerCompact = function (_React$Component2) {
  _inherits(MarkAsBestAnswerCompact, _React$Component2);

  function MarkAsBestAnswerCompact() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, MarkAsBestAnswerCompact);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = MarkAsBestAnswerCompact.__proto__ || Object.getPrototypeOf(MarkAsBestAnswerCompact)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      actions.markAsBestAnswer(_this2.props);
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(MarkAsBestAnswerCompact, [{
    key: 'render',
    value: function render() {
      var _props2 = this.props,
          post = _props2.post,
          thread = _props2.thread;


      if (!thread.acl.can_mark_best_answer) return null;
      if (!post.acl.can_mark_as_best_answer) return null;
      if (thread.best_answer && !thread.acl.can_change_best_answer) return null;

      return _react2.default.createElement(
        'button',
        {
          className: 'visible-xs-inline-block btn btn-default btn-sm pull-left',
          disabled: this.props.post.isBusy || post.id === thread.best_answer,
          onClick: this.onClick,
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'check_box'
        )
      );
    }
  }]);

  return MarkAsBestAnswerCompact;
}(_react2.default.Component);

var Like = exports.Like = function (_React$Component3) {
  _inherits(Like, _React$Component3);

  function Like() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Like);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Like.__proto__ || Object.getPrototypeOf(Like)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      if (_this3.props.post.is_liked) {
        actions.unlike(_this3.props);
      } else {
        actions.like(_this3.props);
      }
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Like, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_like) return null;

      var className = 'btn btn-default btn-sm pull-left';
      if (this.props.post.is_liked) {
        className = 'btn btn-success btn-sm pull-left';
      }

      return _react2.default.createElement(
        'button',
        {
          className: className,
          disabled: this.props.post.isBusy,
          onClick: this.onClick,
          type: 'button'
        },
        this.props.post.is_liked ? gettext("Liked") : gettext("Like")
      );
    }
  }]);

  return Like;
}(_react2.default.Component);

var Likes = exports.Likes = function (_React$Component4) {
  _inherits(Likes, _React$Component4);

  function Likes() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Likes);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Likes.__proto__ || Object.getPrototypeOf(Likes)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_postLikes2.default, {
        post: _this4.props.post
      }));
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Likes, [{
    key: 'render',
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link btn-sm pull-left hidden-xs',
            onClick: this.onClick,
            type: 'button'
          },
          getLikesMessage(this.props.likes, this.props.lastLikes)
        );
      }

      return _react2.default.createElement(
        'p',
        { className: 'pull-left hidden-xs' },
        getLikesMessage(this.props.likes, this.props.lastLikes)
      );
    }
  }]);

  return Likes;
}(_react2.default.Component);

var LikesCompact = exports.LikesCompact = function (_Likes) {
  _inherits(LikesCompact, _Likes);

  function LikesCompact() {
    _classCallCheck(this, LikesCompact);

    return _possibleConstructorReturn(this, (LikesCompact.__proto__ || Object.getPrototypeOf(LikesCompact)).apply(this, arguments));
  }

  _createClass(LikesCompact, [{
    key: 'render',
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link btn-sm likes-compact pull-left visible-xs-block',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'favorite'
          ),
          this.props.likes
        );
      }

      return _react2.default.createElement(
        'p',
        { className: 'likes-compact pull-left visible-xs-block' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'favorite'
        ),
        this.props.likes
      );
    }
  }]);

  return LikesCompact;
}(Likes);

function getLikesMessage(likes, users) {
  var usernames = users.slice(0, 3).map(function (u) {
    return u.username;
  });

  if (usernames.length == 1) {
    return interpolate(gettext("%(user)s likes this."), {
      user: usernames[0]
    }, true);
  }

  var hiddenLikes = likes - usernames.length;

  var otherUsers = usernames.slice(0, -1).join(', ');
  var lastUser = usernames.slice(-1)[0];

  var usernamesList = interpolate(gettext("%(users)s and %(last_user)s"), {
    users: otherUsers,
    last_user: lastUser
  }, true);

  if (hiddenLikes === 0) {
    return interpolate(gettext("%(users)s like this."), {
      users: usernamesList
    }, true);
  }

  var message = ngettext("%(users)s and %(likes)s other user like this.", "%(users)s and %(likes)s other users like this.", hiddenLikes);

  return interpolate(message, {
    users: usernames.join(', '),
    likes: hiddenLikes
  }, true);
}

var Reply = exports.Reply = function (_React$Component5) {
  _inherits(Reply, _React$Component5);

  function Reply() {
    var _ref5;

    var _temp5, _this6, _ret5;

    _classCallCheck(this, Reply);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this6 = _possibleConstructorReturn(this, (_ref5 = Reply.__proto__ || Object.getPrototypeOf(Reply)).call.apply(_ref5, [this].concat(args))), _this6), _this6.onClick = function () {
      _posting2.default.open({
        mode: 'REPLY',

        config: _this6.props.thread.api.editor,
        submit: _this6.props.thread.api.posts.index,

        context: {
          reply: _this6.props.post.id
        }
      });
    }, _temp5), _possibleConstructorReturn(_this6, _ret5);
  }

  _createClass(Reply, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return _react2.default.createElement(
          'button',
          {
            className: 'btn btn-primary btn-sm pull-right',
            type: 'button',
            onClick: this.onClick
          },
          gettext("Reply")
        );
      } else {
        return null;
      }
    }
  }]);

  return Reply;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component6) {
  _inherits(Edit, _React$Component6);

  function Edit() {
    var _ref6;

    var _temp6, _this7, _ret6;

    _classCallCheck(this, Edit);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this7 = _possibleConstructorReturn(this, (_ref6 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref6, [this].concat(args))), _this7), _this7.onClick = function () {
      _posting2.default.open({
        mode: 'EDIT',

        config: _this7.props.post.api.editor,
        submit: _this7.props.post.api.index
      });
    }, _temp6), _possibleConstructorReturn(_this7, _ret6);
  }

  _createClass(Edit, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_edit) {
        return _react2.default.createElement(
          'button',
          {
            className: 'hidden-xs btn btn-default btn-sm pull-right',
            type: 'button',
            onClick: this.onClick
          },
          gettext("Edit")
        );
      } else {
        return null;
      }
    }
  }]);

  return Edit;
}(_react2.default.Component);

},{"../../../services/modal":387,"../../../services/posting":391,"../../post-likes":147,"./controls/actions":170,"react":"react"}],177:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PostEditsCompacts = exports.PostEdits = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'post-heading' },
    _react2.default.createElement(UnreadLabel, props),
    _react2.default.createElement(UnreadCompact, props),
    _react2.default.createElement(PostedOn, props),
    _react2.default.createElement(PostedOnCompact, props),
    _react2.default.createElement(PostEdits, props),
    _react2.default.createElement(PostEditsCompacts, props),
    _react2.default.createElement(ProtectedLabel, props),
    _react2.default.createElement(_select2.default, props),
    _react2.default.createElement(_controls2.default, props)
  );
};

exports.UnreadLabel = UnreadLabel;
exports.UnreadCompact = UnreadCompact;
exports.PostedOn = PostedOn;
exports.PostedOnCompact = PostedOnCompact;
exports.ProtectedLabel = ProtectedLabel;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

var _select = require('./select');

var _select2 = _interopRequireDefault(_select);

var _userStatus = require('../../user-status');

var _postChangelog = require('../../post-changelog');

var _postChangelog2 = _interopRequireDefault(_postChangelog);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function UnreadLabel(props) {
  if (props.post.is_read) return null;

  return _react2.default.createElement(
    'span',
    { className: 'label label-unread hidden-xs' },
    gettext("New post")
  );
}

function UnreadCompact(props) {
  if (props.post.is_read) return null;

  return _react2.default.createElement(
    'span',
    { className: 'label label-unread visible-xs-inline-block' },
    gettext("New")
  );
}

function PostedOn(props) {
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.post.posted_on.format('LL, LT')
  }, true);

  return _react2.default.createElement(
    'a',
    {
      href: props.post.url.index,
      className: 'btn btn-link posted-on hidden-xs',
      title: tooltip
    },
    props.post.posted_on.fromNow()
  );
}

function PostedOnCompact(props) {
  return _react2.default.createElement(
    'a',
    {
      href: props.post.url.index,
      className: 'btn btn-link posted-on visible-xs-inline-block'
    },
    props.post.posted_on.fromNow(true)
  );
}

var PostEdits = exports.PostEdits = function (_React$Component) {
  _inherits(PostEdits, _React$Component);

  function PostEdits() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, PostEdits);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PostEdits.__proto__ || Object.getPrototypeOf(PostEdits)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_postChangelog2.default, { post: _this.props.post }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(PostEdits, [{
    key: 'render',
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;

      var tooltip = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);

      var title = interpolate(tooltip, {
        'edits': this.props.post.edits
      }, true);

      var label = ngettext("edited %(edits)s time", "edited %(edits)s times", this.props.post.edits);

      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-link btn-see-edits hidden-xs',
          onClick: this.onClick,
          title: title,
          type: 'button'
        },
        interpolate(label, {
          'edits': this.props.post.edits
        }, true)
      );
    }
  }]);

  return PostEdits;
}(_react2.default.Component);

var PostEditsCompacts = exports.PostEditsCompacts = function (_PostEdits) {
  _inherits(PostEditsCompacts, _PostEdits);

  function PostEditsCompacts() {
    _classCallCheck(this, PostEditsCompacts);

    return _possibleConstructorReturn(this, (PostEditsCompacts.__proto__ || Object.getPrototypeOf(PostEditsCompacts)).apply(this, arguments));
  }

  _createClass(PostEditsCompacts, [{
    key: 'render',
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;

      var label = ngettext("%(edits)s edit", "%(edits)s edits", this.props.post.edits);

      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-link btn-see-edits visible-xs-inline-block',
          onClick: this.onClick,
          type: 'button'
        },
        interpolate(label, {
          'edits': this.props.post.edits
        }, true)
      );
    }
  }]);

  return PostEditsCompacts;
}(PostEdits);

function ProtectedLabel(props) {
  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;
  var hasAcl = props.post.acl.can_protect;
  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);

  if (!isVisible) {
    return null;
  }

  return _react2.default.createElement(
    'span',
    {
      className: 'label label-protected hidden-xs',
      title: gettext("This post is protected and may not be edited.")
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'lock_outline'
    ),
    gettext("protected")
  );
}

},{"../../../services/modal":387,"../../post-changelog":134,"../../user-status":290,"./controls":172,"./select":187,"react":"react"}],178:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = 'post';
  if (props.post.isDeleted) {
    className = 'hide';
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = 'post post-hidden';
  }

  if (props.post.poster && props.post.poster.rank.css_class) {
    className += ' post-' + props.post.poster.rank.css_class;
  }

  if (!props.post.is_read) {
    className += ' post-new';
  }

  return _react2.default.createElement(
    'li',
    { id: 'post-' + props.post.id, className: className },
    _react2.default.createElement(
      'div',
      { className: 'panel panel-default panel-post' },
      _react2.default.createElement(
        'div',
        { className: 'panel-body' },
        _react2.default.createElement(
          'div',
          { className: 'row' },
          _react2.default.createElement(_postSide2.default, props),
          _react2.default.createElement(
            'div',
            { className: 'col-xs-12 col-md-9' },
            _react2.default.createElement(_header2.default, props),
            _react2.default.createElement(_flags.FlagBestAnswer, props),
            _react2.default.createElement(_flags.FlagUnapproved, props),
            _react2.default.createElement(_flags.FlagProtected, props),
            _react2.default.createElement(_flags.FlagHidden, props),
            _react2.default.createElement(_body2.default, props),
            _react2.default.createElement(_attachments2.default, props),
            _react2.default.createElement(_footer2.default, props)
          )
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _attachments = require('./attachments');

var _attachments2 = _interopRequireDefault(_attachments);

var _body = require('./body');

var _body2 = _interopRequireDefault(_body);

var _flags = require('./flags');

var _footer = require('./footer');

var _footer2 = _interopRequireDefault(_footer);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _postSide = require('./post-side');

var _postSide2 = _interopRequireDefault(_postSide);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./attachments":168,"./body":169,"./flags":175,"./footer":176,"./header":177,"./post-side":181,"react":"react"}],179:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      thread = _ref.thread;

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-md-3 post-side post-side-anonymous' },
    _react2.default.createElement(_select2.default, {
      post: post,
      thread: thread
    }),
    _react2.default.createElement(_controls2.default, {
      post: post,
      thread: thread
    }),
    _react2.default.createElement(
      'div',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(
          'span',
          null,
          _react2.default.createElement(_avatar2.default, {
            className: 'poster-avatar',
            size: 100
          })
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'media-body' },
        _react2.default.createElement(
          'span',
          { className: 'media-heading item-title' },
          post.poster_name
        ),
        _react2.default.createElement(
          'span',
          { className: 'user-title user-title-anonymous' },
          gettext("Removed user")
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _controls = require('../controls');

var _controls2 = _interopRequireDefault(_controls);

var _select = require('../select');

var _select2 = _interopRequireDefault(_select);

var _userStatus = require('../../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _userPostcount = require('./user-postcount');

var _userPostcount2 = _interopRequireDefault(_userPostcount);

var _userTitle = require('./user-title');

var _userTitle2 = _interopRequireDefault(_userTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":22,"../../../user-status":290,"../controls":172,"../select":187,"./user-postcount":183,"./user-title":185,"react":"react"}],180:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var title = _ref.title,
      rank = _ref.rank;

  return rank.is_tab || !!title || !!rank.title;
};

},{}],181:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.poster) {
    return _react2.default.createElement(_registered2.default, props);
  }

  return _react2.default.createElement(_anonymous2.default, props);
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _anonymous = require('./anonymous');

var _anonymous2 = _interopRequireDefault(_anonymous);

var _registered = require('./registered');

var _registered2 = _interopRequireDefault(_registered);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./anonymous":179,"./registered":182,"react":"react"}],182:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var post = _ref.post,
      thread = _ref.thread;
  var poster = post.poster;


  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-md-3 post-side post-side-registered' },
    _react2.default.createElement(_select2.default, {
      post: post,
      thread: thread
    }),
    _react2.default.createElement(_controls2.default, {
      post: post,
      thread: thread
    }),
    _react2.default.createElement(
      'div',
      { className: 'media' },
      _react2.default.createElement(
        'div',
        { className: 'media-left' },
        _react2.default.createElement(
          'a',
          { href: poster.url },
          _react2.default.createElement(_avatar2.default, {
            className: 'poster-avatar',
            size: 100,
            user: poster
          })
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'media-body' },
        _react2.default.createElement(
          'div',
          { className: 'media-heading' },
          _react2.default.createElement(
            'a',
            {
              className: 'item-title',
              href: poster.url
            },
            poster.username
          ),
          _react2.default.createElement(
            _userStatus2.default,
            { status: poster.status },
            _react2.default.createElement(_userStatus.StatusIcon, { status: poster.status })
          )
        ),
        _react2.default.createElement(_userTitle2.default, {
          rank: poster.rank,
          title: poster.title
        }),
        _react2.default.createElement(_userStatus4.default, { poster: poster }),
        _react2.default.createElement(_userPostcount2.default, { poster: poster })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _controls = require('../controls');

var _controls2 = _interopRequireDefault(_controls);

var _select = require('../select');

var _select2 = _interopRequireDefault(_select);

var _userStatus = require('../../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _userPostcount = require('./user-postcount');

var _userPostcount2 = _interopRequireDefault(_userPostcount);

var _userStatus3 = require('./user-status');

var _userStatus4 = _interopRequireDefault(_userStatus3);

var _userTitle = require('./user-title');

var _userTitle2 = _interopRequireDefault(_userTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../avatar":22,"../../../user-status":290,"../controls":172,"../select":187,"./user-postcount":183,"./user-status":184,"./user-title":185,"react":"react"}],183:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var poster = _ref.poster;

  var message = ngettext("%(posts)s post", "%(posts)s posts", poster.posts);

  var className = 'user-postcount';
  if ((0, _hasVisibleTitle2.default)(poster)) {
    className += ' hidden-xs hidden-sm';
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    interpolate(message, {
      'posts': poster.posts
    }, true)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _hasVisibleTitle = require('./has-visible-title');

var _hasVisibleTitle2 = _interopRequireDefault(_hasVisibleTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./has-visible-title":180,"react":"react"}],184:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var poster = _ref.poster;

  var className = 'hidden-xs';
  if ((0, _hasVisibleTitle2.default)(poster)) {
    className += ' hidden-sm';
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    _react2.default.createElement(
      _userStatus2.default,
      { status: poster.status },
      _react2.default.createElement(_userStatus.StatusLabel, {
        status: poster.status,
        user: poster
      })
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _userStatus = require('../../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _hasVisibleTitle = require('./has-visible-title');

var _hasVisibleTitle2 = _interopRequireDefault(_hasVisibleTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../user-status":290,"./has-visible-title":180,"react":"react"}],185:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var rank = _ref.rank,
      title = _ref.title;

  var userTitle = title || rank.title;
  if (!userTitle && rank.is_tab) {
    userTitle = rank.name;
  }

  if (!userTitle) return null;

  var className = 'user-title';
  if (rank.css_class) {
    className += ' user-title-' + rank.css_class;
  }

  if (rank.is_tab) {
    return _react2.default.createElement(
      'div',
      { className: className },
      _react2.default.createElement(
        'a',
        { href: rank.url },
        userTitle
      )
    );
  }

  return _react2.default.createElement(
    'div',
    { className: className },
    userTitle
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],186:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'li',
    { className: 'post' },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(
        'div',
        { className: 'post-avatar' },
        _react2.default.createElement(_avatar2.default, { size: '100' })
      ),
      _react2.default.createElement(
        'div',
        { className: 'post-body' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-post' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading post-heading' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'article',
              { className: 'misago-markup' },
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              )
            )
          )
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../utils/random":404,"../../avatar":22,"react":"react"}],187:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _posts = require('../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.post.isSelected) {
        _store2.default.dispatch(posts.deselect(_this.props.post));
      } else {
        _store2.default.dispatch(posts.select(_this.props.post));
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))) {
        return null;
      }

      return _react2.default.createElement(
        'div',
        { className: 'pull-right hidden-xs' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-icon',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.props.post.isSelected ? 'check_box' : 'check_box_outline_blank'
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function isVisible(acl) {
  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;
}

},{"../../../reducers/posts":370,"../../../services/store":393,"react":"react"}],188:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _post = require('../../reducers/post');

var post = _interopRequireWildcard(_post);

var _thread = require('../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',

    /*
    Super naive and de-facto placeholder implementation for reading posts on scroll
    */
    value: function componentDidMount() {
      var _this2 = this;

      if (this.props.post.is_read) return; // don't register read tracker

      $(this.documentNode).waypoint({
        handler: function handler(direction) {
          if (direction !== 'down' || _this2.props.post.is_read) return;

          // after 1500ms run flag post as read logic
          window.setTimeout(function () {
            // check if post's bottom edge is still in viewport
            var boundingClientRect = _this2.documentNode.getBoundingClientRect();
            var offsetBottom = boundingClientRect.height + boundingClientRect.top;
            var clientHeight = document.documentElement.clientHeight;

            if (offsetBottom < 5) return; // scrolled past the post
            if (offsetBottom > clientHeight) return; // scrolled back up

            // mark post as read
            _store2.default.dispatch(post.patch(_this2.props.post, {
              is_read: true
            }));

            // call API to let it know we have unread post
            _ajax2.default.post(_this2.props.post.api.read).then(function (data) {
              _store2.default.dispatch(thread.update(_this2.props.thread, {
                is_read: data.thread_is_read
              }));
            }, function (rejection) {
              _snackbar2.default.apiError(rejection);
            });
          }, 1000);
        },
        offset: 'bottom-in-view'
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      return _react2.default.createElement(
        'div',
        { className: this.props.className, ref: function ref(node) {
            _this3.documentNode = node;
          } },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/post":369,"../../reducers/thread":376,"../../services/ajax":381,"../../services/snackbar":392,"../../services/store":393,"react":"react"}],189:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require('../panel-loader');

var _panelLoader2 = _interopRequireDefault(_panelLoader);

var _panelMessage = require('../panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      _this.setState({
        isLoaded: true,
        error: null,

        ban: ban
      });
    };

    _this.error = function (error) {
      _this.setState({
        isLoaded: true,
        error: error.detail,
        ban: null
      });
    };

    if (_index2.default.has('PROFILE_BAN')) {
      _this.initWithPreloadedData(_index2.default.pop('PROFILE_BAN'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.profile.api.ban);
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      this.state = {
        isLoaded: true,
        ban: ban
      };
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'ban-details',
        url: api,
        frequency: 90 * 1000,
        update: this.update,
        error: this.error
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Ban details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('ban-details');
    }
  }, {
    key: 'getUserMessage',
    value: function getUserMessage() {
      if (this.state.ban.user_message) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'panel-body ban-message ban-user-message' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("User-shown ban message")
          ),
          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
              __html: this.state.ban.user_message.html
            } })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getStaffMessage',
    value: function getStaffMessage() {
      if (this.state.ban.staff_message) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'panel-body ban-message ban-staff-message' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("Team-shown ban message")
          ),
          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
              __html: this.state.ban.staff_message.html
            } })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getExpirationMessage',
    value: function getExpirationMessage() {
      if (this.state.ban.expires_on) {
        if (this.state.ban.expires_on.isAfter((0, _moment2.default)())) {
          /* jshint ignore:start */
          var _title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            'expires_on': this.state.ban.expires_on.format('LL, LT')
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            'expires_on': this.state.ban.expires_on.fromNow()
          }, true);

          return _react2.default.createElement(
            'abbr',
            { title: _title },
            message
          );
          /* jshint ignore:end */
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return interpolate(gettext("%(username)s's ban is permanent."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getPanelBody',
    value: function getPanelBody() {
      if (this.state.ban) {
        if (Object.keys(this.state.ban).length) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            null,
            this.getUserMessage(),
            this.getStaffMessage(),
            _react2.default.createElement(
              'div',
              { className: 'panel-body ban-expires' },
              _react2.default.createElement(
                'h4',
                null,
                gettext("Ban expiration")
              ),
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                this.getExpirationMessage()
              )
            )
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_panelMessage2.default, { message: gettext("No ban is active at the moment.") })
          );
          /* jshint ignore:end */
        }
      } else if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_panelMessage2.default, { icon: 'error_outline',
            message: this.state.error })
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_panelLoader2.default, null)
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'profile-ban-details' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Ban details")
            )
          ),
          this.getPanelBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":318,"../../services/page-title":389,"../../services/polls":390,"../panel-loader":108,"../panel-message":109,"moment":"moment","react":"react"}],190:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var isAuthenticated = _ref.isAuthenticated,
      profile = _ref.profile;

  var message = null;
  if (isAuthenticated) {
    message = gettext("You are not sharing any details with others.");
  } else {
    message = interpolate(gettext("%(username)s is not sharing any details with others."), {
      'username': profile.username
    }, true);
  }

  return _react2.default.createElement(
    "div",
    { className: "panel panel-default" },
    _react2.default.createElement(
      "div",
      { className: "panel-body text-center lead" },
      message
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],191:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var html = _ref.html,
      text = _ref.text,
      url = _ref.url;

  if (html) {
    return _react2.default.createElement("div", {
      className: "form-control-static col-md-9",
      dangerouslySetInnerHTML: { __html: html }
    });
  }

  return _react2.default.createElement(
    "div",
    { className: "form-control-static col-md-9" },
    _react2.default.createElement(SafeValue, {
      text: text,
      url: url
    })
  );
};

exports.SafeValue = SafeValue;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function SafeValue(_ref2) {
  var text = _ref2.text,
      url = _ref2.url;

  if (url) {
    return _react2.default.createElement(
      "p",
      null,
      _react2.default.createElement(
        "a",
        { href: url, target: "_blank", rel: "nofollow" },
        text || url
      )
    );
  }

  if (text) {
    return _react2.default.createElement(
      "p",
      null,
      text
    );
  }

  return null;
}

},{"react":"react"}],192:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'form-group' },
    _react2.default.createElement(
      'strong',
      { className: 'control-label col-md-3' },
      props.name,
      ':'
    ),
    _react2.default.createElement(_fieldValue2.default, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _fieldValue = require('./field-value');

var _fieldValue2 = _interopRequireDefault(_fieldValue);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./field-value":191,"react":"react"}],193:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var api = _ref.api,
      display = _ref.display,
      onCancel = _ref.onCancel,
      onSuccess = _ref.onSuccess;

  if (!display) return null;

  return _react2.default.createElement(_editDetails2.default, {
    api: api,
    onCancel: onCancel,
    onSuccess: onSuccess
  });
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editDetails = require('../../edit-details');

var _editDetails2 = _interopRequireDefault(_editDetails);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../edit-details":48,"react":"react"}],194:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var fields = _ref.fields,
      name = _ref.name;

  return _react2.default.createElement(
    'div',
    { className: 'panel panel-default panel-profile-details-group' },
    _react2.default.createElement(
      'div',
      { className: 'panel-heading' },
      _react2.default.createElement(
        'h3',
        { className: 'panel-title' },
        name
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'panel-body' },
      _react2.default.createElement(
        'div',
        { className: 'form-horizontal' },
        fields.map(function (_ref2) {
          var fieldname = _ref2.fieldname,
              html = _ref2.html,
              name = _ref2.name,
              text = _ref2.text,
              url = _ref2.url;

          return _react2.default.createElement(_field2.default, {
            key: fieldname,
            name: name,
            html: html,
            text: text,
            url: url
          });
        })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _field = require('./field');

var _field2 = _interopRequireDefault(_field);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./field":192,"react":"react"}],195:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var display = _ref.display,
      groups = _ref.groups,
      isAuthenticated = _ref.isAuthenticated,
      loading = _ref.loading,
      profile = _ref.profile;

  if (!display) return null;

  if (loading) {
    return _react2.default.createElement(_loader2.default, null);
  }

  if (!groups.length) {
    return _react2.default.createElement(_emptyMessage2.default, {
      isAuthenticated: isAuthenticated,
      profile: profile
    });
  }

  return _react2.default.createElement(
    'div',
    null,
    groups.map(function (group, i) {
      return _react2.default.createElement(_group2.default, {
        fields: group.fields,
        key: i,
        name: group.name
      });
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _emptyMessage = require('./empty-message');

var _emptyMessage2 = _interopRequireDefault(_emptyMessage);

var _group = require('./group');

var _group2 = _interopRequireDefault(_group);

var _loader = require('../../loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../loader":73,"./empty-message":190,"./group":194,"react":"react"}],196:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var onEdit = _ref.onEdit,
      showEditButton = _ref.showEditButton;

  return _react2.default.createElement(
    "div",
    null,
    _react2.default.createElement(
      "nav",
      { className: "toolbar" },
      _react2.default.createElement(
        "div",
        { className: "row" },
        _react2.default.createElement(
          "div",
          { className: "col-sm-8 col-md-10" },
          _react2.default.createElement(
            "h3",
            { className: "md-margin-top-no" },
            gettext("Details")
          )
        ),
        _react2.default.createElement(EditButton, {
          onEdit: onEdit,
          showEditButton: showEditButton
        })
      )
    )
  );
};

exports.EditButton = EditButton;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function EditButton(_ref2) {
  var onEdit = _ref2.onEdit,
      showEditButton = _ref2.showEditButton;

  if (!showEditButton) return null;

  return _react2.default.createElement(
    "div",
    { className: "col-sm-4 col-md-2" },
    _react2.default.createElement(
      "button",
      {
        className: "btn btn-default btn-outline btn-block",
        onClick: onEdit,
        type: "button"
      },
      gettext("Edit")
    )
  );
}

},{"react":"react"}],197:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _groupsList = require('./groups-list');

var _groupsList2 = _interopRequireDefault(_groupsList);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _profileDetails = require('../../../data/profile-details');

var _profileDetails2 = _interopRequireDefault(_profileDetails);

var _profileDetails3 = require('../../../reducers/profile-details');

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCancel = function () {
      _this.setState({ editing: false });
    };

    _this.onEdit = function () {
      _this.setState({ editing: true });
    };

    _this.onSuccess = function (newDetails) {
      var _this$props = _this.props,
          dispatch = _this$props.dispatch,
          isAuthenticated = _this$props.isAuthenticated,
          profile = _this$props.profile;


      var message = null;
      if (isAuthenticated) {
        message = gettext("Your details have been updated.");
      } else {
        message = interpolate(gettext("%(username)s's details have been updated."), {
          'username': profile.username
        }, true);
      }

      _snackbar2.default.info(message);
      dispatch((0, _profileDetails3.load)(newDetails));
      _this.setState({ editing: false });
    };

    _this.state = {
      editing: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          dispatch = _props.dispatch,
          isAuthenticated = _props.isAuthenticated,
          profile = _props.profile,
          profileDetails = _props.profileDetails;

      var loading = profileDetails.id !== profile.id;

      return _react2.default.createElement(
        _profileDetails2.default,
        {
          data: profileDetails,
          dispatch: dispatch,
          user: profile
        },
        _react2.default.createElement(
          'div',
          { className: 'profile-details' },
          _react2.default.createElement(_header2.default, {
            onEdit: this.onEdit,
            showEditButton: !!profileDetails.edit && !this.state.editing
          }),
          _react2.default.createElement(_groupsList2.default, {
            display: !this.state.editing,
            groups: profileDetails.groups,
            isAuthenticated: isAuthenticated,
            loading: loading,
            profile: profile
          }),
          _react2.default.createElement(_form2.default, {
            api: profile.api.edit_details,
            dispatch: dispatch,
            display: this.state.editing,
            onCancel: this.onCancel,
            onSuccess: this.onSuccess
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../data/profile-details":317,"../../../reducers/profile-details":371,"../../../services/page-title":389,"../../../services/snackbar":392,"./form":193,"./groups-list":195,"./header":196,"react":"react"}],198:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.Threads = Threads;
exports.Posts = Posts;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Threads(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have no started threads.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s started no threads."), {
      'username': props.profile.username
    }, true);
  }

  var header = null;
  if (!props.posts.isLoaded) {
    header = gettext('Loading...');
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have started %(threads)s thread.", "You have started %(threads)s threads.", props.posts.count);

    header = interpolate(message, {
      'threads': props.posts.count
    }, true);
  } else {
    var _message = ngettext("%(username)s has started %(threads)s thread.", "%(username)s has started %(threads)s threads.", props.posts.count);

    header = interpolate(_message, {
      'username': props.profile.username,
      'threads': props.posts.count
    }, true);
  }

  return _react2.default.createElement(_route2.default, _extends({
    api: props.profile.api.threads,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Threads")
  }, props));
}

function Posts(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have posted no messages.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s posted no messages."), {
      'username': props.profile.username
    }, true);
  }

  var header = null;
  if (!props.posts.isLoaded) {
    header = gettext('Loading...');
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have posted %(posts)s message.", "You have posted %(posts)s messages.", props.posts.count);

    header = interpolate(message, {
      'posts': props.posts.count
    }, true);
  } else {
    var _message2 = ngettext("%(username)s has posted %(posts)s message.", "%(username)s has posted %(posts)s messages.", props.posts.count);

    header = interpolate(_message2, {
      'username': props.profile.username,
      'posts': props.posts.count
    }, true);
  }

  return _react2.default.createElement(_route2.default, _extends({
    api: props.profile.api.posts,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Posts")
  }, props));
}

},{"./route":199,"react":"react"}],199:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Feed = Feed;
exports.LoadMoreButton = LoadMoreButton;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _postFeed = require('../../post-feed');

var _postFeed2 = _interopRequireDefault(_postFeed);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _posts = require('../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isLoading: true
      });

      _this.loadItems(_this.props.posts.page + 1);
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'loadItems',
    value: function loadItems() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;

      _ajax2.default.get(this.props.api, {
        page: page || 1
      }).then(function (data) {
        if (page === 1) {
          _store2.default.dispatch(posts.load(data));
        } else {
          _store2.default.dispatch(posts.append(data));
        }

        _this2.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false
        });

        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.title,
        parent: this.props.profile.username
      });

      this.loadItems();
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'profile-feed' },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.props.header
          )
        ),
        _react2.default.createElement(Feed, _extends({
          isLoading: this.state.isLoading,
          loadMore: this.loadMore
        }, this.props))
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Feed(props) {
  if (!props.posts.count) {
    return _react2.default.createElement(
      'p',
      { className: 'lead' },
      props.emptyMessage
    );
  }

  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(_postFeed2.default, {
      isReady: props.posts.isLoaded,
      posts: props.posts.results,
      poster: props.profile
    }),
    _react2.default.createElement(LoadMoreButton, {
      isLoading: props.isLoading,
      loadMore: props.loadMore,
      more: props.posts.more
    })
  );
}

function LoadMoreButton(props) {
  if (!props.more) return null;

  return _react2.default.createElement(
    'div',
    { className: 'pager-more' },
    _react2.default.createElement(
      _button2.default,
      {
        className: 'btn btn-default btn-outline',
        loading: props.isLoading,
        onClick: props.loadMore
      },
      interpolate(gettext("Show more (%(more)s)"), {
        'more': props.more
      }, true)
    )
  );
}

},{"../../../reducers/posts":370,"../../../services/ajax":381,"../../../services/page-title":389,"../../../services/snackbar":392,"../../../services/store":393,"../../button":24,"../../post-feed":137,"react":"react"}],200:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _profile = require('../../reducers/profile');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.action = function () {
      _this.setState({
        isLoading: true
      });

      if (_this.props.profile.is_followed) {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: false,
          followers: _this.props.profile.followers - 1
        }));
      } else {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: true,
          followers: _this.props.profile.followers + 1
        }));
      }

      _ajax2.default.post(_this.props.profile.api.follow).then(function (data) {
        _this.setState({
          isLoading: false
        });

        _store2.default.dispatch((0, _profile.patch)(data));
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.profile.is_followed) {
        return this.props.className + ' btn-default btn-following';
      } else {
        return this.props.className + ' btn-default btn-follow';
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.profile.is_followed) {
        return 'favorite';
      } else {
        return 'favorite_border';
      }
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (this.props.profile.is_followed) {
        return gettext("Following");
      } else {
        return gettext("Follow");
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        _button2.default,
        { className: this.getClassName(),
          disabled: this.state.isLoading,
          onClick: this.action },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        ),
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/profile":372,"../../services/ajax":381,"../../services/snackbar":392,"../../services/store":393,"../button":24,"react":"react"}],201:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _quickSearch = require('../quick-search');

var _quickSearch2 = _interopRequireDefault(_quickSearch);

var _usersList = require('../users-list');

var _usersList2 = _interopRequireDefault(_usersList);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadUsers(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadUsers(1, ev.target.value);
    };

    _this.setSpecialProps();

    if (_index2.default.has(_this.PRELOADED_DATA_KEY)) {
      _this.initWithPreloadedData(_index2.default.pop(_this.PRELOADED_DATA_KEY));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'setSpecialProps',
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWERS';
      this.TITLE = gettext('Followers');
      this.API_FILTER = 'followers';
    }
  }, {
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: '',

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: '',

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadUsers();
    }
  }, {
    key: 'loadUsers',
    value: function loadUsers() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      var apiUrl = this.props.profile.api[this.API_FILTER];

      _ajax2.default.get(apiUrl, {
        search: search,
        page: page || 1
      }, 'user-' + this.API_FILTER).then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _users.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _users.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.TITLE,
        parent: this.props.profile.username
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getLabel',

    /* jshint ignore:end */

    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);

        return interpolate(message, {
          'users': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You have %(users)s follower.", "You have %(users)s followers.", this.state.count);

        return interpolate(_message, {
          'users': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s has %(users)s follower.", "%(username)s has %(users)s followers.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'users': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You have no followers.");
      } else {
        return interpolate(gettext("%(username)s has no followers."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (!this.state.more) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'pager-more' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn btn-default btn-outline',
            loading: this.state.isBusy,
            onClick: this.loadMore
          },
          interpolate(gettext("Show more (%(more)s)"), {
            'more': this.state.more
          }, true)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getListBody',
    value: function getListBody() {
      if (this.state.isLoaded && this.state.count === 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'lead' },
          this.getEmptyMessage()
        );
        /* jshint ignore:end */
      }

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_usersList2.default, {
          cols: 3,
          isReady: this.state.isLoaded,
          users: this.props.users
        }),
        this.getMoreButton()
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      return 'profile-' + this.API_FILTER;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.getLabel()
          ),
          _react2.default.createElement(_quickSearch2.default, { className: 'toolbar-right',
            value: this.state.search,
            onChange: this.search,
            placeholder: gettext("Search users...") })
        ),
        this.getListBody()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":318,"../../reducers/users":380,"../../services/ajax":381,"../../services/page-title":389,"../../services/snackbar":392,"../../services/store":393,"../button":24,"../quick-search":212,"../users-list":300,"react":"react"}],202:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _followers = require('./followers');

var _followers2 = _interopRequireDefault(_followers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var _class = function (_Followers) {
  _inherits(_class, _Followers);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'setSpecialProps',
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWS';
      this.TITLE = gettext('Follows');
      this.API_FILTER = 'follows';
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);

        return interpolate(message, {
          'users': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You are following %(users)s user.", "You are following %(users)s users.", this.state.count);

        return interpolate(_message, {
          'users': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s is following %(users)s user.", "%(username)s is following %(users)s users.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'users': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You are not following any users.");
      } else {
        return interpolate(gettext("%(username)s is not following any users."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }]);

  return _class;
}(_followers2.default);

exports.default = _class;

},{"./followers":201,"react":"react"}],203:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.IsDisabledMessage = IsDisabledMessage;
exports.getColStyle = getColStyle;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _followButton = require('./follow-button');

var _followButton2 = _interopRequireDefault(_followButton);

var _messageButton = require('./message-button');

var _messageButton2 = _interopRequireDefault(_messageButton);

var _nav = require('./moderation/nav');

var _nav2 = _interopRequireDefault(_nav);

var _navs = require('./navs');

var _userStatus = require('../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUserStatus',
    value: function getUserStatus() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'user-status-display' },
        _react2.default.createElement(
          _userStatus2.default,
          {
            user: this.props.profile,
            status: this.props.profile.status
          },
          _react2.default.createElement(_userStatus.StatusIcon, {
            user: this.props.profile,
            status: this.props.profile.status
          }),
          _react2.default.createElement(_userStatus.StatusLabel, {
            user: this.props.profile,
            status: this.props.profile.status,
            className: 'status-label'
          })
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUserRank',
    value: function getUserRank() {
      if (this.props.profile.rank.is_tab) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-rank' },
          _react2.default.createElement(
            'a',
            { href: this.props.profile.rank.url, className: 'item-title' },
            this.props.profile.rank.name
          )
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-rank' },
          _react2.default.createElement(
            'span',
            { className: 'item-title' },
            this.props.profile.rank.name
          )
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.profile.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-title' },
          this.props.profile.title
        );
        /* jshint ignore:end */
      } else if (this.props.profile.rank.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-title' },
          this.props.profile.rank.title
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getJoinedOn',
    value: function getJoinedOn() {
      /* jshint ignore:start */
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        'joined_on': this.props.profile.joined_on.format('LL, LT')
      }, true);

      var age = interpolate(gettext("Joined %(joined_on)s"), {
        'joined_on': this.props.profile.joined_on.fromNow()
      }, true);

      return _react2.default.createElement(
        'li',
        { className: 'user-joined-on' },
        _react2.default.createElement(
          'abbr',
          { title: title },
          age
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getEmail',
    value: function getEmail() {
      if (this.props.profile.email) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-email' },
          _react2.default.createElement(
            'a',
            { href: 'mailto:' + this.props.profile.email, className: 'item-title' },
            this.props.profile.email
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getFollowButton',
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        /* jshint ignore:start */
        return _react2.default.createElement(_followButton2.default, {
          className: 'btn btn-block btn-outline',
          profile: this.props.profile
        });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'btn-group btn-group-justified' },
          _react2.default.createElement(
            'div',
            { className: 'btn-group' },
            _react2.default.createElement(
              'button',
              {
                className: 'btn btn-default btn-moderate btn-outline dropdown-toggle',
                type: 'button',
                'data-toggle': 'dropdown',
                'aria-haspopup': 'true',
                'aria-expanded': 'false'
              },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'tonality'
              ),
              gettext("Moderation")
            ),
            _react2.default.createElement(_nav2.default, { profile: this.props.profile })
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      var canFollow = this.props.profile.acl.can_follow;
      var canModerate = this.props.profile.acl.can_moderate;

      var isProfileOwner = this.props.user.id === this.props.profile.id;
      var canMessage = !isProfileOwner && this.props.user.acl.can_start_private_threads;

      var cols = 0;
      if (canFollow) cols += 1;
      if (canModerate) cols += 1;
      if (canMessage) cols += 1;

      var colsWidth = cols ? 2 * cols + 1 : 0;

      var headerClassName = 'page-header';
      if (this.props.profile.rank.css_class) {
        headerClassName += ' page-header-rank-' + this.props.profile.rank.css_class;
      }

      return _react2.default.createElement(
        'div',
        { className: 'page-header-bg' },
        _react2.default.createElement(
          'div',
          { className: headerClassName },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(IsDisabledMessage, {
              isActive: this.props.profile.is_active,
              isDeletingAccount: this.props.profile.is_deleting_account
            }),
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-9 col-md-offset-3' },
                _react2.default.createElement(
                  'div',
                  { className: 'row' },
                  _react2.default.createElement(
                    'div',
                    { className: "col-sm-" + (12 - colsWidth) },
                    _react2.default.createElement(_avatar2.default, {
                      className: 'user-avatar user-avatar-sm',
                      user: this.props.profile,
                      size: '100',
                      size2x: '200'
                    }),
                    _react2.default.createElement(
                      'h1',
                      null,
                      this.props.profile.username
                    )
                  ),
                  !!cols && _react2.default.createElement(
                    'div',
                    { className: "col-sm-" + colsWidth },
                    _react2.default.createElement(
                      'div',
                      { className: 'row xs-margin-top sm-margin-top' },
                      !!canMessage && _react2.default.createElement(
                        'div',
                        { className: getColStyle(cols, 0) },
                        _react2.default.createElement(_messageButton2.default, {
                          className: 'btn btn-default btn-block btn-outline',
                          profile: this.props.profile,
                          user: this.props.user
                        })
                      ),
                      !!canFollow && _react2.default.createElement(
                        'div',
                        { className: getColStyle(cols, 1) },
                        this.getFollowButton()
                      ),
                      !!canModerate && _react2.default.createElement(
                        'div',
                        { className: getColStyle(cols, 2) },
                        this.getModerationButton()
                      )
                    )
                  )
                )
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'header-stats' },
            _react2.default.createElement(
              'div',
              { className: 'container' },
              _react2.default.createElement(
                'div',
                { className: 'row' },
                _react2.default.createElement(
                  'div',
                  { className: 'col-md-9 col-md-offset-3' },
                  _react2.default.createElement(
                    'ul',
                    { className: 'list-inline' },
                    this.getUserStatus(),
                    this.getUserRank(),
                    this.getUserTitle(),
                    this.getJoinedOn(),
                    this.getEmail()
                  )
                )
              )
            )
          ),
          _react2.default.createElement(_navs.CompactNav, {
            baseUrl: this.props.baseUrl,
            pages: this.props.pages,
            profile: this.props.profile
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

/* jshint ignore:start */


exports.default = _class;
function IsDisabledMessage(_ref) {
  var isActive = _ref.isActive,
      isDeletingAccount = _ref.isDeletingAccount;

  if (isActive !== false && isDeletingAccount !== true) return null;

  var message = null;
  if (isDeletingAccount) {
    message = gettext("This user is deleting their account.");
  } else {
    message = gettext("This user's account has been disabled by administrator.");
  }

  return _react2.default.createElement(
    'div',
    { className: 'alert alert-danger' },
    _react2.default.createElement(
      'p',
      null,
      message
    )
  );
}

function getColStyle(cols, col) {
  var colStyle = "";

  if (cols == 1) {
    colStyle = "col-xs-12";
  }

  if (cols == 2) {
    colStyle = "col-xs-6 col-sm-6";
  }

  if (cols == 3) {
    if (col == 2) {
      colStyle = "col-xs-12 col-sm-4 xs-margin-top";
    } else {
      colStyle += "col-xs-6 col-sm-4";
    }
  }

  return colStyle;
}
/* jshint ignore:end */

},{"../avatar":22,"../dropdown-toggle":43,"../user-status":290,"./follow-button":200,"./message-button":204,"./moderation/nav":208,"./navs":209,"react":"react"}],204:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _posting2.default.open({
        mode: 'START_PRIVATE',
        submit: _2.default.get('PRIVATE_THREADS_API'),

        to: [_this.props.profile]
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var canMessage = this.props.user.acl.can_start_private_threads;
      var isProfileOwner = this.props.user.id === this.props.profile.id;

      if (!canMessage || isProfileOwner) return null;

      return _react2.default.createElement(
        'button',
        {
          className: this.props.className,
          onClick: this.onClick,
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'comment'
        ),
        gettext("Message")
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../..":318,"../../services/posting":391,"react":"react"}],205:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      is_avatar_locked: '',
      avatar_lock_user_message: '',
      avatar_lock_staff_message: ''
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api.moderate_avatar).then(function (options) {
        _this2.setState({
          isLoaded: true,

          is_avatar_locked: options.is_avatar_locked,
          avatar_lock_user_message: options.avatar_lock_user_message || '',
          avatar_lock_staff_message: options.avatar_lock_staff_message || ''
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.profile.api.moderate_avatar, {
        is_avatar_locked: this.state.is_avatar_locked,
        avatar_lock_user_message: this.state.avatar_lock_user_message,
        avatar_lock_staff_message: this.state.avatar_lock_staff_message
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch((0, _users.updateAvatar)(this.props.profile, apiResponse.avatar_hash));
      _snackbar2.default.success(gettext("Avatar controls have been changed."));
    }
  }, {
    key: 'getFormBody',
    value: function getFormBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Lock avatar"),
              helpText: gettext("Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one."),
              'for': 'id_is_avatar_locked' },
            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_is_avatar_locked',
              disabled: this.state.isLoading,
              iconOn: 'lock_outline',
              iconOff: 'lock_open',
              labelOn: gettext("Disallow user from changing avatar"),
              labelOff: gettext("Allow user to change avatar"),
              onChange: this.bindInput('is_avatar_locked'),
              value: this.state.is_avatar_locked })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("User message"),
              helpText: gettext("Optional message for user explaining why he/she is prohibited form changing avatar."),
              'for': 'id_avatar_lock_user_message' },
            _react2.default.createElement('textarea', { id: 'id_avatar_lock_user_message',
              className: 'form-control',
              rows: '4',
              disabled: this.state.isLoading,
              onChange: this.bindInput('avatar_lock_user_message'),
              value: this.state.avatar_lock_user_message })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Staff message"),
              helpText: gettext("Optional message for forum team members explaining why user is prohibited form changing avatar."),
              'for': 'id_avatar_lock_staff_message' },
            _react2.default.createElement('textarea', { id: 'id_avatar_lock_staff_message',
              className: 'form-control',
              rows: '4',
              disabled: this.state.isLoading,
              onChange: this.bindInput('avatar_lock_staff_message'),
              value: this.state.avatar_lock_staff_message })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default', 'data-dismiss': 'modal' },
            gettext("Close")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Save changes")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-avatar-controls";
      } else {
        return "modal-dialog modal-avatar-controls";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Avatar controls")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/users":380,"../../../services/ajax":381,"../../../services/snackbar":392,"../../../services/store":393,"../../button":24,"../../form":71,"../../form-group":70,"../../modal-loader":76,"../../modal-message":77,"../../yes-no-switch":316,"react":"react"}],206:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _usernameHistory = require('../../../reducers/username-history');

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      username: '',
      validators: {
        username: [validators.usernameContent()]
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api.moderate_username).then(function () {
        _this2.setState({
          isLoaded: true
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.profile.api.moderate_username, {
        username: this.state.username
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.setState({
        username: ''
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)(apiResponse, this.props.profile, this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));

      _snackbar2.default.success(gettext("Username has been changed."));
    }
  }, {
    key: 'getFormBody',
    value: function getFormBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("New username"), 'for': 'id_username' },
            _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
              disabled: this.state.isLoading,
              onChange: this.bindInput('username'),
              value: this.state.username })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              disabled: this.state.isLoading,
              type: 'button'
            },
            gettext("Cancel")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Change username")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-rename-user";
      } else {
        return "modal-dialog modal-rename-user";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change username")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/username-history":379,"../../../reducers/users":380,"../../../services/ajax":381,"../../../services/snackbar":392,"../../../services/store":393,"../../../utils/validators":409,"../../button":24,"../../form":71,"../../form-group":70,"../../modal-loader":76,"../../modal-message":77,"react":"react"}],207:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.countdown = function () {
      window.setTimeout(function () {
        if (_this.state.countdown > 1) {
          _this.setState({
            countdown: _this.state.countdown - 1
          });
          _this.countdown();
        } else if (!_this.state.confirm) {
          _this.setState({
            confirm: true
          });
        }
      }, 1000);
    };

    _this.state = {
      isLoaded: false,
      isLoading: false,
      isDeleted: false,
      error: null,

      countdown: 5,
      confirm: false,

      with_content: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api.delete).then(function () {
        _this2.setState({
          isLoaded: true
        });

        _this2.countdown();
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'send',

    /* jshint ignore:end */

    value: function send() {
      return _ajax2.default.post(this.props.profile.api.delete, {
        with_content: this.state.with_content
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      _polls2.default.stop('user-profile');

      if (this.state.with_content) {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account, threads, posts and other content has been deleted."), {
            'username': this.props.profile.username
          }, true)
        });
      } else {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account has been deleted and other content has been hidden."), {
            'username': this.props.profile.username
          }, true)
        });
      }
    }
  }, {
    key: 'getButtonLabel',
    value: function getButtonLabel() {
      if (this.state.confirm) {
        return interpolate(gettext("Delete %(username)s"), {
          'username': this.props.profile.username
        }, true);
      } else {
        return interpolate(gettext("Please wait... (%(countdown)ss)"), {
          'countdown': this.state.countdown
        }, true);
      }
    }
  }, {
    key: 'getForm',
    value: function getForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("User content"),
              'for': 'id_with_content' },
            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_with_content',
              disabled: this.state.isLoading,
              labelOn: gettext("Delete together with user's account"),
              labelOff: gettext("Hide after deleting user's account"),
              onChange: this.bindInput('with_content'),
              value: this.state.with_content })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-default',
              'data-dismiss': 'modal' },
            gettext("Cancel")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-danger',
              loading: this.state.isLoading,
              disabled: !this.state.confirm },
            this.getButtonLabel()
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getDeletedBody',
    value: function getDeletedBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.state.isDeleted
          ),
          _react2.default.createElement(
            'p',
            null,
            _react2.default.createElement(
              'a',
              { href: _index2.default.get('USERS_LIST_URL') },
              gettext("Return to users list")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        if (this.state.isDeleted) {
          return this.getDeletedBody();
        } else {
          return this.getForm();
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error || this.state.isDeleted) {
        return "modal-dialog modal-message modal-delete-account";
      } else {
        return "modal-dialog modal-delete-account";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Delete user account")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":318,"../../../services/ajax":381,"../../../services/polls":390,"../../button":24,"../../form":71,"../../form-group":70,"../../modal-loader":76,"../../modal-message":77,"../../yes-no-switch":316,"react":"react"}],208:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatarControls = require('./avatar-controls');

var _avatarControls2 = _interopRequireDefault(_avatarControls);

var _changeUsername = require('./change-username');

var _changeUsername2 = _interopRequireDefault(_changeUsername);

var _deleteAccount = require('./delete-account');

var _deleteAccount2 = _interopRequireDefault(_deleteAccount);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

/* jshint ignore:start */
var select = function select(store) {
  return {
    tick: store.tick,
    user: store.auth,
    profile: store.profile
  };
};
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showAvatarDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_avatarControls2.default));
    }, _this.showRenameDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_changeUsername2.default));
    }, _this.showDeleteDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_deleteAccount2.default));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getAvatarButton',

    /* jshint ignore:end */

    value: function getAvatarButton() {
      if (this.props.profile.acl.can_moderate_avatar) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              type: 'button',
              className: 'btn btn-link',
              onClick: this.showAvatarDialog
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'portrait'
            ),
            gettext("Avatar controls")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'getRenameButton',

    /* jshint ignore:end */

    value: function getRenameButton() {
      if (this.props.profile.acl.can_rename) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              type: 'button',
              className: 'btn btn-link',
              onClick: this.showRenameDialog
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'credit_card'
            ),
            gettext("Change username")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'getDeleteButton',

    /* jshint ignore:end */

    value: function getDeleteButton() {
      if (this.props.profile.acl.can_delete) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              type: 'button',
              className: 'btn btn-link',
              onClick: this.showDeleteDialog
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'clear'
            ),
            gettext("Delete account")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        {
          className: 'dropdown-menu dropdown-menu-right stick-to-bottom',
          role: 'menu'
        },
        this.getAvatarButton(),
        this.getRenameButton(),
        this.getDeleteButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../services/modal":387,"./avatar-controls":205,"./change-username":206,"./delete-account":207,"react":"react","react-redux":"react-redux"}],209:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SideNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.CompactNav = CompactNav;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _followButton = require('./follow-button');

var _followButton2 = _interopRequireDefault(_followButton);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
//jshint ignore:line
// jshint ignore:line


//jshint ignore:line

var SideNav = exports.SideNav = function (_React$Component) {
  _inherits(SideNav, _React$Component);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _possibleConstructorReturn(this, (SideNav.__proto__ || Object.getPrototypeOf(SideNav)).apply(this, arguments));
  }

  _createClass(SideNav, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'list-group nav-side' },
        this.props.pages.map(function (page) {
          return _react2.default.createElement(
            _reactRouter.Link,
            {
              to: _this2.props.baseUrl + page.component + '/',
              className: 'list-group-item',
              activeClassName: 'active',
              key: page.component
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              page.icon
            ),
            page.name
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return SideNav;
}(_react2.default.Component);

// jshint ignore:start


function CompactNav(props) {
  return _react2.default.createElement(
    'div',
    { className: 'page-tabs hidden-md hidden-lg' },
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'ul',
        { className: 'nav nav-pills', role: 'menu' },
        props.pages.map(function (page) {
          return _react2.default.createElement(
            _li2.default,
            {
              path: props.baseUrl + page.component + '/',
              key: page.component
            },
            _react2.default.createElement(
              _reactRouter.Link,
              {
                to: props.baseUrl + page.component + '/',
                onClick: props.hideNav
              },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                page.icon
              ),
              page.name
            )
          );
        })
      )
    )
  );
}
// jshint ignore:end

},{"../../index":318,"../li":72,"./follow-button":200,"react":"react","react-router":"react-router"}],210:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _banDetails = require('./ban-details');

var _banDetails2 = _interopRequireDefault(_banDetails);

var _details = require('./details');

var _details2 = _interopRequireDefault(_details);

var _feed = require('./feed');

var _followers = require('./followers');

var _followers2 = _interopRequireDefault(_followers);

var _follows = require('./follows');

var _follows2 = _interopRequireDefault(_follows);

var _usernameHistory = require('./username-history');

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _nav = require('./moderation/nav');

var _nav2 = _interopRequireDefault(_nav);

var _navs = require('./navs');

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _profile = require('../../reducers/profile');

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _profile.hydrate)(data));
    };

    _this.startPolling(props.profile.api.index);
    return _this;
  }

  _createClass(_class, [{
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'user-profile',
        url: api,
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      var baseUrl = _2.default.get('PROFILE').url;
      var pages = _2.default.get('PROFILE_PAGES');

      return _react2.default.createElement(
        'div',
        { className: 'page page-user-profile' },
        _react2.default.createElement(_header2.default, {
          baseUrl: baseUrl,
          pages: pages,
          profile: this.props.profile,
          toggleNav: this.toggleNav,
          toggleModeration: this.toggleModeration,
          user: this.props.user
        }),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-3 hidden-xs hidden-sm' },
              _react2.default.createElement(
                'div',
                { className: 'profile-side-avatar' },
                _react2.default.createElement(_avatar2.default, { user: this.props.profile, size: '400' })
              ),
              _react2.default.createElement(_navs.SideNav, {
                baseUrl: baseUrl,
                pages: pages,
                profile: this.props.profile
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-md-9' },
              this.props.children
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    isAuthenticated: store.auth.user.id === store.profile.id,

    tick: store.tick.tick,
    user: store.auth.user,
    users: store.users,
    posts: store.posts,
    profile: store.profile,
    profileDetails: store['profile-details'],
    'username-history': store['username-history']
  };
}

var COMPONENTS = {
  'posts': _feed.Posts,
  'threads': _feed.Threads,
  'followers': _followers2.default,
  'follows': _follows2.default,
  'details': _details2.default,
  'username-history': _usernameHistory2.default,
  'ban-details': _banDetails2.default
};

function paths() {
  var paths = [];
  _2.default.get('PROFILE_PAGES').forEach(function (item) {
    paths.push(Object.assign({}, item, {
      path: _2.default.get('PROFILE').url + item.component + '/',
      component: (0, _reactRedux.connect)(select)(COMPONENTS[item.component])
    }));
  });

  return paths;
}

},{"../..":318,"../../reducers/profile":372,"../../services/polls":390,"../../services/store":393,"../avatar":22,"../with-dropdown":315,"./ban-details":189,"./details":197,"./feed":198,"./followers":201,"./follows":202,"./header":203,"./moderation/nav":208,"./navs":209,"./username-history":211,"react":"react","react-redux":"react-redux"}],211:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _quickSearch = require('../quick-search');

var _quickSearch2 = _interopRequireDefault(_quickSearch);

var _root = require('../username-history/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../reducers/username-history');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadChanges(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadChanges(1, ev.target.value);
    };

    if (_index2.default.has('PROFILE_NAME_HISTORY')) {
      _this.initWithPreloadedData(_index2.default.pop('PROFILE_NAME_HISTORY'));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: '',

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: '',

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadChanges();
    }
  }, {
    key: 'loadChanges',
    value: function loadChanges() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), {
        user: this.props.profile.id,
        search: search,
        page: page || 1
      }, 'search-username-history').then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _usernameHistory.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Username history"),
        parent: this.props.profile.username
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getLabel',

    /* jshint ignore:end */

    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(changes)s username change.", "Found %(changes)s username changes.", this.state.count);

        return interpolate(message, {
          'changes': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("Your username was changed %(changes)s time.", "Your username was changed %(changes)s times.", this.state.count);

        return interpolate(_message, {
          'changes': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s's username was changed %(changes)s time.", "%(username)s's username was changed %(changes)s times.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'changes': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no username changes matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("No name changes have been recorded for your account.");
      } else {
        return interpolate(gettext("%(username)s's username was never changed."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (!this.state.more) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'pager-more' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn btn-default btn-outline',
            loading: this.state.isBusy,
            onClick: this.loadMore
          },
          interpolate(gettext("Show older (%(more)s)"), {
            'more': this.state.more
          }, true)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'profile-username-history' },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.getLabel()
          ),
          _react2.default.createElement(_quickSearch2.default, { className: 'toolbar-right',
            value: this.state.search,
            onChange: this.search,
            placeholder: gettext("Search history...") })
        ),
        _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
          emptyMessage: this.getEmptyMessage(),
          changes: this.props['username-history'] }),
        this.getMoreButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":318,"../../reducers/username-history":379,"../../services/ajax":381,"../../services/page-title":389,"../../services/snackbar":392,"../../services/store":393,"../button":24,"../quick-search":212,"../username-history/root":296,"react":"react"}],212:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.className) {
        return "form-search " + this.props.className;
      } else {
        return "form-search";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement("input", { type: "text",
          className: "form-control",
          value: this.props.value,
          onChange: this.props.onChange,
          placeholder: this.props.placeholder || gettext("Search...") }),
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "search"
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],213:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

var _register = require('./register.js');

var _register2 = _interopRequireDefault(_register);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.showRegisterForm = function () {
      if (misago.get('SETTINGS').account_activation === 'closed') {
        _snackbar2.default.info(gettext("New registrations are currently disabled."));
      } else if (_this.state.isLoaded) {
        _modal2.default.show(_react2.default.createElement(_register2.default, {
          criteria: _this.state.criteria
        }));
      } else {
        _this.setState({ isLoading: true });

        Promise.all([_captcha2.default.load(), _ajax2.default.get(misago.get('AUTH_CRITERIA_API'))]).then(function (result) {
          _this.setState({
            isLoading: false,
            isLoaded: true,
            criteria: result[1]
          });

          _modal2.default.show(_react2.default.createElement(_register2.default, {
            criteria: result[1]
          }));
        }, function () {
          _this.setState({ isLoading: false });

          _snackbar2.default.error(gettext("Registration is currently unavailable due to an error."));
        });
      }
    };

    _this.state = {
      isLoading: false,
      isLoaded: false,

      criteria: null
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      return this.props.className + (this.state.isLoading ? ' btn-loading' : '');
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        {
          className: 'btn ' + this.getClassName(),
          disabled: this.state.isLoading,
          onClick: this.showRegisterForm,
          type: 'button'
        },
        gettext("Register"),
        this.state.isLoading ? _react2.default.createElement(_loader2.default, null) : null
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/ajax":381,"../services/captcha":383,"../services/modal":387,"../services/snackbar":392,"./loader":73,"./register.js":214,"react":"react"}],214:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RegisterComplete = exports.RegisterForm = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('./form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _passwordStrength = require('./password-strength');

var _passwordStrength2 = _interopRequireDefault(_passwordStrength);

var _RegisterLegalFootnote = require('./RegisterLegalFootnote');

var _RegisterLegalFootnote2 = _interopRequireDefault(_RegisterLegalFootnote);

var _StartSocialAuth = require('./StartSocialAuth');

var _StartSocialAuth2 = _interopRequireDefault(_StartSocialAuth);

var _ = require('..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var RegisterForm = exports.RegisterForm = function (_Form) {
  _inherits(RegisterForm, _Form);

  function RegisterForm(props) {
    _classCallCheck(this, RegisterForm);

    var _this = _possibleConstructorReturn(this, (RegisterForm.__proto__ || Object.getPrototypeOf(RegisterForm)).call(this, props));

    _this.handlePrivacyPolicyChange = function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement('privacyPolicy', value);
    };

    _this.handleTermsOfServiceChange = function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement('termsOfService', value);
    };

    _this.handleToggleAgreement = function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _extends({}, prevState.errors, _defineProperty({}, agreement, null));
          return _defineProperty({ errors: _errors }, agreement, value);
        }

        var validator = _this.state.validators[agreement][0];
        var errors = _extends({}, prevState.errors, _defineProperty({}, agreement, [validator(null)]));
        return _defineProperty({ errors: errors }, agreement, null);
      });
    };

    var _this$props$criteria = _this.props.criteria,
        username = _this$props$criteria.username,
        password = _this$props$criteria.password;


    var passwordMinLength = 0;
    password.forEach(function (item) {
      if (item.name === 'MinimumLengthValidator') {
        passwordMinLength = item.min_length;
      }
    });

    var formValidators = {
      username: [validators.usernameContent(), validators.usernameMinLength(username.min_length), validators.usernameMaxLength(username.max_length)],
      email: [validators.email()],
      password: [validators.passwordMinLength(passwordMinLength)],
      captcha: _captcha2.default.validator()
    };

    if (!!_2.default.get('TERMS_OF_SERVICE_ID')) {
      formValidators.termsOfService = [validators.requiredTermsOfService()];
    }

    if (!!_2.default.get('PRIVACY_POLICY_ID')) {
      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()];
    }

    _this.state = {
      isLoading: false,

      username: '',
      email: '',
      password: '',
      captcha: '',

      termsOfService: null,
      privacyPolicy: null,

      validators: formValidators,
      errors: {}
    };
    return _this;
  }

  _createClass(RegisterForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_2.default.get('USERS_API'), {
        username: this.state.username,
        email: this.state.email,
        password: this.state.password,
        captcha: this.state.captcha,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });

        if (rejection.__all__ && rejection.__all__.length > 0) {
          _snackbar2.default.error(rejection.__all__[0]);
        } else {
          _snackbar2.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-register', role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Register")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
            _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(_StartSocialAuth2.default, {
                buttonClassName: 'col-xs-12 col-sm-6',
                buttonLabel: gettext("Join with %(site)s"),
                formLabel: gettext("Or create forum account:")
              }),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Username"), 'for': 'id_username',
                  validation: this.state.errors.username },
                _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
                  'aria-describedby': 'id_username_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('username'),
                  value: this.state.username })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("E-mail"), 'for': 'id_email',
                  validation: this.state.errors.email },
                _react2.default.createElement('input', { type: 'text', id: 'id_email', className: 'form-control',
                  'aria-describedby': 'id_email_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('email'),
                  value: this.state.email })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Password"), 'for': 'id_password',
                  validation: this.state.errors.password,
                  extra: _react2.default.createElement(_passwordStrength2.default, {
                    password: this.state.password,
                    inputs: [this.state.username, this.state.email]
                  }) },
                _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                  'aria-describedby': 'id_password_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('password'),
                  value: this.state.password })
              ),
              _captcha2.default.component({
                form: this
              }),
              _react2.default.createElement(_RegisterLegalFootnote2.default, {
                errors: this.state.errors,
                privacyPolicy: this.state.privacyPolicy,
                termsOfService: this.state.termsOfService,
                onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
                onTermsOfServiceChange: this.handleTermsOfServiceChange
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default',
                  'data-dismiss': 'modal',
                  disabled: this.state.isLoading,
                  type: 'button'
                },
                gettext("Cancel")
              ),
              _react2.default.createElement(
                _button2.default,
                { className: 'btn-primary', loading: this.state.isLoading },
                gettext("Register account")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RegisterForm;
}(_form2.default);

var RegisterComplete = exports.RegisterComplete = function (_React$Component) {
  _inherits(RegisterComplete, _React$Component);

  function RegisterComplete() {
    _classCallCheck(this, RegisterComplete);

    return _possibleConstructorReturn(this, (RegisterComplete.__proto__ || Object.getPrototypeOf(RegisterComplete)).apply(this, arguments));
  }

  _createClass(RegisterComplete, [{
    key: 'getLead',
    value: function getLead() {
      if (this.props.activation === 'user') {
        return gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
      } else if (this.props.activation === 'admin') {
        return gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
      }
    }
  }, {
    key: 'getSubscript',
    value: function getSubscript() {
      if (this.props.activation === 'user') {
        return gettext("We have sent an e-mail to %(email)s with link that you have to click to activate your account.");
      } else if (this.props.activation === 'admin') {
        return gettext("We will send an e-mail to %(email)s when this takes place.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-message modal-register',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Registration complete")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'info_outline'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                interpolate(this.getLead(), { 'username': this.props.username }, true)
              ),
              _react2.default.createElement(
                'p',
                null,
                interpolate(this.getSubscript(), { 'email': this.props.email }, true)
              ),
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default',
                  'data-dismiss': 'modal',
                  type: 'button'
                },
                gettext("Ok")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RegisterComplete;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this3.completeRegistration = function (apiResponse) {
      if (apiResponse.activation === 'active') {
        _modal2.default.hide();
        _auth2.default.signIn(apiResponse);
      } else {
        _this3.setState({
          complete: apiResponse
        });
      }
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(RegisterComplete, {
          activation: this.state.complete.activation,
          email: this.state.complete.email,
          username: this.state.complete.username
        });
      }

      return _react2.default.createElement(RegisterForm, _extends({
        callback: this.completeRegistration
      }, this.props));
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"..":318,"../services/ajax":381,"../services/auth":382,"../services/captcha":383,"../services/modal":387,"../services/snackbar":392,"../utils/banned-page":395,"../utils/validators":409,"./RegisterLegalFootnote":17,"./StartSocialAuth":18,"./button":24,"./form":71,"./form-group":70,"./password-strength":118,"react":"react"}],215:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LinkSent = exports.RequestLinkForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var RequestLinkForm = exports.RequestLinkForm = function (_Form) {
  _inherits(RequestLinkForm, _Form);

  function RequestLinkForm(props) {
    _classCallCheck(this, RequestLinkForm);

    var _this = _possibleConstructorReturn(this, (RequestLinkForm.__proto__ || Object.getPrototypeOf(RequestLinkForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'email': '',

      'validators': {
        'email': [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestLinkForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('SEND_ACTIVATION_API'), {
        'email': this.state.email
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (['already_active', 'inactive_admin'].indexOf(rejection.code) > -1) {
        _snackbar2.default.info(rejection.detail);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-activation-link' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'text', className: 'form-control',
                placeholder: gettext("Your e-mail address"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('email'),
                value: this.state.email })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Send link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RequestLinkForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("Activation link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-activation-link well-done' },
        _react2.default.createElement(
          'div',
          { className: 'done-message' },
          _react2.default.createElement(
            'div',
            { className: 'message-icon' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'message-body' },
            _react2.default.createElement(
              'p',
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-primary btn-block',
              type: 'button',
              onClick: this.props.callback
            },
            gettext("Request another link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this3.complete = function (apiResponse) {
      _this3.setState({
        complete: apiResponse
      });
    };

    _this3.reset = function () {
      _this3.setState({
        complete: false
      });
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });
      } else {
        return _react2.default.createElement(RequestLinkForm, { callback: this.complete });
      };
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":318,"../services/ajax":381,"../services/snackbar":392,"../utils/banned-page":395,"../utils/validators":409,"./button":24,"./form":71,"react":"react"}],216:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var RequestResetForm = exports.RequestResetForm = function (_Form) {
  _inherits(RequestResetForm, _Form);

  function RequestResetForm(props) {
    _classCallCheck(this, RequestResetForm);

    var _this = _possibleConstructorReturn(this, (RequestResetForm.__proto__ || Object.getPrototypeOf(RequestResetForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'email': '',

      'validators': {
        'email': [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestResetForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('SEND_PASSWORD_RESET_API'), {
        'email': this.state.email
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (['inactive_user', 'inactive_admin'].indexOf(rejection.code) > -1) {
        this.props.showInactivePage(rejection);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-password-reset' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'text', className: 'form-control',
                placeholder: gettext("Your e-mail address"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('email'),
                value: this.state.email })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Send link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RequestResetForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("Reset password link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-password-reset well-done' },
        _react2.default.createElement(
          'div',
          { className: 'done-message' },
          _react2.default.createElement(
            'div',
            { className: 'message-icon' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'message-body' },
            _react2.default.createElement(
              'p',
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-primary btn-block',
              onClick: this.props.callback },
            gettext("Request another link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var AccountInactivePage = exports.AccountInactivePage = function (_React$Component2) {
  _inherits(AccountInactivePage, _React$Component2);

  function AccountInactivePage() {
    _classCallCheck(this, AccountInactivePage);

    return _possibleConstructorReturn(this, (AccountInactivePage.__proto__ || Object.getPrototypeOf(AccountInactivePage)).apply(this, arguments));
  }

  _createClass(AccountInactivePage, [{
    key: 'getActivateButton',
    value: function getActivateButton() {
      if (this.props.activation === 'inactive_user') {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('REQUEST_ACTIVATION_URL') },
            gettext("Activate your account.")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-message page-message-info page-forgotten-password-inactive' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'info_outline'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                gettext("Your account is inactive.")
              ),
              _react2.default.createElement(
                'p',
                null,
                this.props.message
              ),
              this.getActivateButton()
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return AccountInactivePage;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this4.complete = function (apiResponse) {
      _this4.setState({
        complete: apiResponse
      });
    };

    _this4.reset = function () {
      _this4.setState({
        complete: false
      });
    };

    _this4.state = {
      complete: false
    };
    return _this4;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'showInactivePage',
    value: function showInactivePage(apiResponse) {
      _reactDom2.default.render(_react2.default.createElement(AccountInactivePage, {
        activation: apiResponse.code,
        message: apiResponse.detail
      }), document.getElementById('page-mount'));
    }
    /* jshint ignore:end */

  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, {
          callback: this.reset,
          user: this.state.complete
        });
      }

      return _react2.default.createElement(RequestResetForm, {
        callback: this.complete,
        showInactivePage: this.showInactivePage
      });
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":318,"../services/ajax":381,"../services/snackbar":392,"../utils/banned-page":395,"../utils/validators":409,"./button":24,"./form":71,"react":"react","react-dom":"react-dom"}],217:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PasswordChangedPage = exports.ResetPasswordForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _signIn = require('./sign-in.js');

var _signIn2 = _interopRequireDefault(_signIn);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var ResetPasswordForm = exports.ResetPasswordForm = function (_Form) {
  _inherits(ResetPasswordForm, _Form);

  function ResetPasswordForm(props) {
    _classCallCheck(this, ResetPasswordForm);

    var _this = _possibleConstructorReturn(this, (ResetPasswordForm.__proto__ || Object.getPrototypeOf(ResetPasswordForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'password': ''
    };
    return _this;
  }

  _createClass(ResetPasswordForm, [{
    key: 'clean',
    value: function clean() {
      if (this.state.password.trim().length) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter new password."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('CHANGE_PASSWORD_API'), {
        'password': this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-reset-password' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'password', className: 'form-control',
                placeholder: gettext("Enter new password"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Change password")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return ResetPasswordForm;
}(_form2.default);

var PasswordChangedPage = exports.PasswordChangedPage = function (_React$Component) {
  _inherits(PasswordChangedPage, _React$Component);

  function PasswordChangedPage() {
    _classCallCheck(this, PasswordChangedPage);

    return _possibleConstructorReturn(this, (PasswordChangedPage.__proto__ || Object.getPrototypeOf(PasswordChangedPage)).apply(this, arguments));
  }

  _createClass(PasswordChangedPage, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("%(username)s, your password has been changed successfully."), {
        username: this.props.user.username
      }, true);
    }
  }, {
    key: 'showSignIn',
    value: function showSignIn() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-message page-message-success page-forgotten-password-changed' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'check'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                this.getMessage()
              ),
              _react2.default.createElement(
                'p',
                null,
                gettext("You will have to sign in using new password before continuing.")
              ),
              _react2.default.createElement(
                'p',
                null,
                _react2.default.createElement(
                  'button',
                  { type: 'button', className: 'btn btn-primary', onClick: this.showSignIn },
                  gettext("Sign in")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return PasswordChangedPage;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _ref;

    var _temp, _this3, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this3), _this3.complete = function (apiResponse) {
      _auth2.default.softSignOut();

      // nuke "redirect_to" field so we don't end
      // coming back to error page after sign in
      $('#hidden-login-form input[name="redirect_to"]').remove();

      _reactDom2.default.render(_react2.default.createElement(PasswordChangedPage, { user: apiResponse }), document.getElementById('page-mount'));
    }, _temp), _possibleConstructorReturn(_this3, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(ResetPasswordForm, { callback: this.complete });
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":318,"../services/ajax":381,"../services/auth":382,"../services/modal":387,"../services/snackbar":392,"../utils/banned-page":395,"./button":24,"./form":71,"./sign-in.js":227,"react":"react","react-dom":"react-dom"}],218:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function (props) {
    return _react2.default.createElement(
        'select',
        {
            className: props.className || 'form-control',
            disabled: props.disabled || false,
            id: props.id || null,
            onChange: props.onChange,
            value: props.value
        },
        props.choices.map(function (item) {
            return _react2.default.createElement(
                'option',
                {
                    key: item,
                    value: item },
                item
            );
        })
    );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],219:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _posts = require('../../reducers/posts');

var _search = require('../../reducers/search');

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onQueryChange = function (event) {
      _this.changeValue('query', event.target.value);
    };

    _this.state = {
      isLoading: false,

      query: props.search.query
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.state.query.length) {
        this.handleSubmit();
      }
    }
  }, {
    key: 'clean',
    value: function clean() {
      if (!this.state.query.trim().length) {
        _snackbar2.default.error(gettext("You have to enter search query."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      _store2.default.dispatch((0, _search.update)({
        isLoading: true
      }));

      return _ajax2.default.get(_2.default.get('SEARCH_API'), {
        q: this.state.query.trim()
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(providers) {
      _store2.default.dispatch((0, _search.update)({
        query: this.state.query.trim(),
        isLoading: false,
        providers: providers
      }));

      providers.forEach(function (provider) {
        if (provider.id === 'users') {
          _store2.default.dispatch((0, _users.hydrate)(provider.results.results));
        } else if (provider.id === 'threads') {
          _store2.default.dispatch((0, _posts.load)(provider.results));
        }
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);

      _store2.default.dispatch((0, _search.update)({
        isLoading: false
      }));
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'page-header-bg' },
        _react2.default.createElement(
          'div',
          { className: 'page-header page-search-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'container' },
              _react2.default.createElement(
                'div',
                { className: 'row' },
                _react2.default.createElement(
                  'div',
                  { className: 'col-xs-12 col-md-3' },
                  _react2.default.createElement(
                    'h1',
                    null,
                    gettext("Search")
                  )
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'col-xs-12 col-md-9' },
                  _react2.default.createElement(
                    'div',
                    { className: 'row xs-margin-top sm-margin-top' },
                    _react2.default.createElement(
                      'div',
                      { className: 'col-xs-12 col-sm-8 col-md-9' },
                      _react2.default.createElement(
                        'div',
                        { className: 'form-group' },
                        _react2.default.createElement('input', {
                          className: 'form-control',
                          disabled: this.props.search.isLoading || this.state.isLoading,
                          onChange: this.onQueryChange,
                          type: 'text',
                          value: this.state.query
                        })
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'col-xs-12 col-sm-4 col-md-3' },
                      _react2.default.createElement(
                        'button',
                        {
                          className: 'btn btn-primary btn-block btn-outline',
                          disabled: this.props.search.isLoading || this.state.isLoading
                        },
                        gettext("Search")
                      )
                    )
                  )
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../..":318,"../../reducers/posts":370,"../../reducers/search":373,"../../reducers/users":380,"../../services/ajax":381,"../../services/snackbar":392,"../../services/store":393,"../form":71,"react":"react"}],220:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;

exports.default = function (providers) {
  return providers.map(function (provider) {
    return {
      path: provider.url,
      component: (0, _reactRedux.connect)(select)(components[provider.id]),
      provider: provider
    };
  });
};

var _reactRedux = require('react-redux');

var _threads = require('./threads');

var _threads2 = _interopRequireDefault(_threads);

var _users = require('./users');

var _users2 = _interopRequireDefault(_users);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var components = {
  threads: _threads2.default,
  users: _users2.default
};

function select(store) {
  return {
    'posts': store.posts,
    'search': store.search,
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users
  };
}

},{"./threads":223,"./users":225,"react-redux":"react-redux"}],221:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'page page-search' },
    _react2.default.createElement(_form2.default, {
      provider: props.provider,
      search: props.search
    }),
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(
          'div',
          { className: 'col-md-3' },
          _react2.default.createElement(_sidenav2.default, { providers: props.search.providers })
        ),
        _react2.default.createElement(
          'div',
          { className: 'col-md-9' },
          props.children,
          _react2.default.createElement(SearchTime, {
            provider: props.provider,
            search: props.search
          })
        )
      )
    )
  );
};

exports.SearchTime = SearchTime;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _sidenav = require('./sidenav');

var _sidenav2 = _interopRequireDefault(_sidenav);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function SearchTime(props) {
  var time = null;
  props.search.providers.forEach(function (p) {
    if (p.id === props.provider.id) {
      time = p.time;
    }
  });

  if (time === null) return null;

  var copy = gettext("Search took %(time)s s to complete");

  return _react2.default.createElement(
    'footer',
    { className: 'search-footer' },
    _react2.default.createElement(
      'p',
      null,
      interpolate(copy, { time: time }, true)
    )
  );
}

},{"./form":219,"./sidenav":222,"react":"react"}],222:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'list-group nav-side' },
    props.providers.map(function (provider) {
      return _react2.default.createElement(
        _reactRouter.Link,
        {
          activeClassName: 'active',
          className: 'list-group-item',
          key: provider.id,
          to: provider.url
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          provider.icon
        ),
        provider.name,
        _react2.default.createElement(Badge, { results: provider.results })
      );
    })
  );
};

exports.Badge = Badge;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Badge(props) {
  if (!props.results) return null;

  var count = props.results.count;
  if (count > 1000000) {
    count = Math.ceil(count / 1000000) + 'KK';
  } else if (count > 1000) {
    count = Math.ceil(count / 1000) + 'K';
  }

  return _react2.default.createElement(
    'span',
    { className: 'badge' },
    count
  );
} // jshint ignore:start

},{"react":"react","react-router":"react-router"}],223:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _page2.default,
    {
      provider: props.route.provider,
      search: props.search
    },
    _react2.default.createElement(
      Blankslate,
      {
        query: props.search.query,
        posts: props.posts
      },
      _react2.default.createElement(_results2.default, _extends({
        provider: props.route.provider,
        query: props.search.query
      }, props.posts))
    )
  );
};

exports.Blankslate = Blankslate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _page = require('../page');

var _page2 = _interopRequireDefault(_page);

var _results = require('./results');

var _results2 = _interopRequireDefault(_results);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Blankslate(props) {
  if (props.posts && props.posts.count) return props.children;

  if (props.query.length) {
    return _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("No threads matching search query have been found.")
    );
  }

  return _react2.default.createElement(
    'p',
    { className: 'lead' },
    gettext("Enter at least two characters to search threads.")
  );
}

},{"../page":221,"./results":224,"react":"react"}],224:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LoadMore = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(_postFeed2.default, {
      isReady: true,
      posts: props.results
    }),
    _react2.default.createElement(LoadMore, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _postFeed = require('../../post-feed');

var _postFeed2 = _interopRequireDefault(_postFeed);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _misagoMarkup = require('../../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _posts = require('../../../reducers/posts');

var _search = require('../../../reducers/search');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var LoadMore = exports.LoadMore = function (_React$Component) {
  _inherits(LoadMore, _React$Component);

  function LoadMore() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, LoadMore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LoadMore.__proto__ || Object.getPrototypeOf(LoadMore)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _store2.default.dispatch((0, _posts.update)({
        isBusy: true
      }));

      _ajax2.default.get(_this.props.provider.api, {
        q: _this.props.query,
        page: _this.props.next
      }).then(function (providers) {
        providers.forEach(function (provider) {
          if (provider.id !== 'threads') return;
          _store2.default.dispatch((0, _posts.append)(provider.results));
          _store2.default.dispatch((0, _search.updateProvider)(provider));
        });

        _store2.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);

        _store2.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(LoadMore, [{
    key: 'render',
    value: function render() {
      if (!this.props.more) return null;

      return _react2.default.createElement(
        'div',
        { className: 'pager-more' },
        _react2.default.createElement(
          _button2.default,
          {
            className: 'btn btn-default btn-outline',
            loading: this.props.isBusy,
            onClick: this.onClick
          },
          gettext("Show more")
        )
      );
    }
  }]);

  return LoadMore;
}(_react2.default.Component);

},{"../../../reducers/posts":370,"../../../reducers/search":373,"../../../services/ajax":381,"../../../services/snackbar":392,"../../../services/store":393,"../../button":24,"../../misago-markup":75,"../../post-feed":137,"react":"react"}],225:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _page2.default,
    {
      provider: props.route.provider,
      search: props.search
    },
    _react2.default.createElement(
      Blankslate,
      {
        query: props.search.query,
        users: props.users
      },
      _react2.default.createElement(_usersList2.default, {
        cols: 3,
        isReady: true,
        users: props.users
      })
    )
  );
};

exports.Blankslate = Blankslate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _page = require('../page');

var _page2 = _interopRequireDefault(_page);

var _usersList = require('../../users-list');

var _usersList2 = _interopRequireDefault(_usersList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function Blankslate(props) {
  if (props.users.length) return props.children;

  if (props.query.length) {
    return _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("No users matching search query have been found.")
    );
  }

  return _react2.default.createElement(
    'p',
    { className: 'lead' },
    gettext("Enter at least two characters to search users.")
  );
}

},{"../../users-list":300,"../page":221,"react":"react"}],226:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Icon = Icon;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.change = function (value) {
      return function () {
        _this.props.onChange({
          target: {
            value: value
          }
        });
      };
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getChoice",
    value: function getChoice() {
      var _this2 = this;

      var choice = null;
      this.props.choices.map(function (item) {
        if (item.value === _this2.props.value) {
          choice = item;
        }
      });
      return choice;
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      return this.getChoice().icon;
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      return this.getChoice().label;
    }

    /* jshint ignore:start */

  }, {
    key: "render",

    /* jshint ignore:end */

    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "btn-group btn-select-group" },
        _react2.default.createElement(
          "button",
          { type: "button",
            className: "btn btn-select dropdown-toggle",
            id: this.props.id || null,
            "data-toggle": "dropdown",
            "aria-haspopup": "true",
            "aria-expanded": "false",
            "aria-describedby": this.props['aria-describedby'] || null,
            disabled: this.props.disabled || false },
          _react2.default.createElement(Icon, { icon: this.getIcon() }),
          this.getLabel()
        ),
        _react2.default.createElement(
          "ul",
          { className: "dropdown-menu" },
          this.props.choices.map(function (item, i) {
            return _react2.default.createElement(
              "li",
              { key: i },
              _react2.default.createElement(
                "button",
                { type: "button", className: "btn-link",
                  onClick: _this3.change(item.value) },
                _react2.default.createElement(Icon, { icon: item.icon }),
                item.label
              )
            );
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

/* jshint ignore:start */


exports.default = _class;
function Icon(_ref2) {
  var icon = _ref2.icon;

  if (!icon) return null;

  return _react2.default.createElement(
    "span",
    { className: "material-icon" },
    icon
  );
}
/* jshint ignore:end */

},{"react":"react"}],227:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _StartSocialAuth = require('./StartSocialAuth');

var _StartSocialAuth2 = _interopRequireDefault(_StartSocialAuth);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      'isLoading': false,
      'showActivation': false,

      'username': '',
      'password': '',

      'validators': {
        'username': [],
        'password': []
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.isValid()) {
        _snackbar2.default.error(gettext("Fill out both fields."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('AUTH_API'), {
        'username': this.state.username,
        'password': this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      var form = $('#hidden-login-form');

      form.append('<input type="text" name="username" />');
      form.append('<input type="password" name="password" />');

      // fill out form with user credentials and submit it, this will tell
      // Misago to redirect user back to right page, and will trigger browser's
      // key ring feature
      form.find('input[type="hidden"]').val(_ajax2.default.getCsrfToken());
      form.find('input[name="redirect_to"]').val(window.location.pathname);
      form.find('input[name="username"]').val(this.state.username);
      form.find('input[name="password"]').val(this.state.password);
      form.submit();

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.code === 'inactive_admin') {
          _snackbar2.default.info(rejection.detail);
        } else if (rejection.code === 'inactive_user') {
          _snackbar2.default.info(rejection.detail);
          this.setState({
            'showActivation': true
          });
        } else if (rejection.code === 'banned') {
          (0, _bannedPage2.default)(rejection.detail);
          _modal2.default.hide();
        } else {
          _snackbar2.default.error(rejection.detail);
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getActivationButton',
    value: function getActivationButton() {
      if (!this.state.showActivation) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'a',
        {
          className: 'btn btn-success btn-block',
          href: _index2.default.get('REQUEST_ACTIVATION_URL')
        },
        gettext("Activate account")
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        {
          className: 'modal-dialog modal-sm modal-sign-in',
          role: 'document'
        },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              {
                'aria-label': gettext("Close"),
                className: 'close',
                'data-dismiss': 'modal',
                type: 'button'
              },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Sign in")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(_StartSocialAuth2.default, {
                buttonLabel: gettext("Sign in with %(site)s"),
                formLabel: gettext("Or use your forum account:"),
                labelClassName: 'text-center'
              }),
              _react2.default.createElement(
                'div',
                { className: 'form-group' },
                _react2.default.createElement(
                  'div',
                  { className: 'control-input' },
                  _react2.default.createElement('input', {
                    className: 'form-control input-lg',
                    disabled: this.state.isLoading,
                    id: 'id_username',
                    onChange: this.bindInput('username'),
                    placeholder: gettext("Username or e-mail"),
                    type: 'text',
                    value: this.state.username
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'form-group' },
                _react2.default.createElement(
                  'div',
                  { className: 'control-input' },
                  _react2.default.createElement('input', {
                    className: 'form-control input-lg',
                    disabled: this.state.isLoading,
                    id: 'id_password',
                    onChange: this.bindInput('password'),
                    placeholder: gettext("Password"),
                    type: 'password',
                    value: this.state.password
                  })
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              this.getActivationButton(),
              _react2.default.createElement(
                _button2.default,
                {
                  className: 'btn-primary btn-block',
                  loading: this.state.isLoading
                },
                gettext("Sign in")
              ),
              _react2.default.createElement(
                'a',
                {
                  className: 'btn btn-default btn-block',
                  href: _index2.default.get('FORGOTTEN_PASSWORD_URL')
                },
                gettext("Forgot password?")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../index":318,"../services/ajax":381,"../services/modal":387,"../services/snackbar":392,"../utils/banned-page":395,"./StartSocialAuth":18,"./button":24,"./form":71,"react":"react"}],228:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/* jshint ignore:start */
var TYPES_CLASSES = {
  'info': 'alert-info',
  'success': 'alert-success',
  'warning': 'alert-warning',
  'error': 'alert-danger'
};
/* jshint ignore:end */

var Snackbar = exports.Snackbar = function (_React$Component) {
  _inherits(Snackbar, _React$Component);

  function Snackbar() {
    _classCallCheck(this, Snackbar);

    return _possibleConstructorReturn(this, (Snackbar.__proto__ || Object.getPrototypeOf(Snackbar)).apply(this, arguments));
  }

  _createClass(Snackbar, [{
    key: 'getSnackbarClass',
    value: function getSnackbarClass() {
      var snackbarClass = 'alerts-snackbar';
      if (this.props.isVisible) {
        snackbarClass += ' in';
      } else {
        snackbarClass += ' out';
      }
      return snackbarClass;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getSnackbarClass() },
        _react2.default.createElement(
          'p',
          { className: 'alert ' + TYPES_CLASSES[this.props.type] },
          this.props.message
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Snackbar;
}(_react2.default.Component);

function select(state) {
  return state.snackbar;
}

},{"react":"react"}],229:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Complete = function Complete(_ref) {
  var activation = _ref.activation,
      backend_name = _ref.backend_name,
      username = _ref.username;

  var icon = '';
  var message = '';
  if (activation === 'user') {
    message = gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
  } else if (activation === 'admin') {
    message = gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
  } else {
    message = gettext("%(username)s, your account has been created and you have been signed in to it.");
  }

  if (activation === 'active') {
    icon = 'check';
  } else {
    icon = 'info_outline';
  }

  return _react2.default.createElement(
    'div',
    { className: 'page page-social-auth page-social-sauth-register' },
    _react2.default.createElement(_header2.default, { backendName: backend_name }),
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(
          'div',
          { className: 'col-md-6 col-md-offset-3' },
          _react2.default.createElement(
            'div',
            { className: 'panel panel-default panel-form' },
            _react2.default.createElement(
              'div',
              { className: 'panel-heading' },
              _react2.default.createElement(
                'h3',
                { className: 'panel-title' },
                gettext("Registration completed!")
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'panel-body panel-message-body' },
              _react2.default.createElement(
                'div',
                { className: 'message-icon' },
                _react2.default.createElement(
                  'span',
                  { className: 'material-icon' },
                  icon
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'message-body' },
                _react2.default.createElement(
                  'p',
                  { className: 'lead' },
                  interpolate(message, { username: username }, true)
                ),
                _react2.default.createElement(
                  'p',
                  { className: 'help-block' },
                  _react2.default.createElement(
                    'a',
                    {
                      className: 'btn btn-default',
                      href: _2.default.get('MISAGO_PATH')
                    },
                    gettext("Return to forum index")
                  )
                )
              )
            )
          )
        )
      )
    )
  );
}; /* jshint ignore:start */
exports.default = Complete;

},{"../..":318,"./header":230,"react":"react"}],230:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Header = function Header(_ref) {
  var backendName = _ref.backendName;

  var pageTitleTpl = gettext("Sign in with %(backend)s");
  var pageTitle = interpolate(pageTitleTpl, { backend: backendName }, true);

  return _react2.default.createElement(
    "div",
    { className: "page-header-bg" },
    _react2.default.createElement(
      "div",
      { className: "page-header" },
      _react2.default.createElement(
        "div",
        { className: "container" },
        _react2.default.createElement(
          "h1",
          null,
          pageTitle
        )
      )
    )
  );
}; /* jshint ignore:start */
exports.default = Header;

},{"react":"react"}],231:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _register = require('./register');

var _register2 = _interopRequireDefault(_register);

var _complete = require('./complete');

var _complete2 = _interopRequireDefault(_complete);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var SocialAuth = function (_React$Component) {
  _inherits(SocialAuth, _React$Component);

  function SocialAuth(props) {
    _classCallCheck(this, SocialAuth);

    var _this = _possibleConstructorReturn(this, (SocialAuth.__proto__ || Object.getPrototypeOf(SocialAuth)).call(this, props));

    _this.handleRegistrationComplete = function (_ref) {
      var activation = _ref.activation,
          email = _ref.email,
          step = _ref.step,
          username = _ref.username;

      _this.setState({ activation: activation, email: email, step: step, username: username });
    };

    _this.state = {
      step: props.step,

      activation: props.activation || '',
      email: props.email || '',
      username: props.username || ''
    };
    return _this;
  }

  _createClass(SocialAuth, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          backend_name = _props.backend_name,
          url = _props.url;
      var _state = this.state,
          activation = _state.activation,
          email = _state.email,
          step = _state.step,
          username = _state.username;


      if (step === 'register') {
        return _react2.default.createElement(_register2.default, {
          backend_name: backend_name,
          email: email,
          url: url,
          username: username,
          onRegistrationComplete: this.handleRegistrationComplete
        });
      }

      return _react2.default.createElement(_complete2.default, {
        activation: activation,
        backend_name: backend_name,
        email: email,
        url: url,
        username: username
      });
    }
  }]);

  return SocialAuth;
}(_react2.default.Component);

exports.default = SocialAuth;

},{"./complete":229,"./register":232,"react":"react"}],232:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _RegisterLegalFootnote = require('../RegisterLegalFootnote');

var _RegisterLegalFootnote2 = _interopRequireDefault(_RegisterLegalFootnote);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var Register = function (_Form) {
  _inherits(Register, _Form);

  function Register(props) {
    _classCallCheck(this, Register);

    var _this = _possibleConstructorReturn(this, (Register.__proto__ || Object.getPrototypeOf(Register)).call(this, props));

    _this.handlePrivacyPolicyChange = function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement('privacyPolicy', value);
    };

    _this.handleTermsOfServiceChange = function (event) {
      var value = event.target.value;
      _this.handleToggleAgreement('termsOfService', value);
    };

    _this.handleToggleAgreement = function (agreement, value) {
      _this.setState(function (prevState, props) {
        if (prevState[agreement] === null) {
          var _errors = _extends({}, prevState.errors, _defineProperty({}, agreement, null));
          return _defineProperty({ errors: _errors }, agreement, value);
        }

        var validator = _this.state.validators[agreement][0];
        var errors = _extends({}, prevState.errors, _defineProperty({}, agreement, [validator(null)]));
        return _defineProperty({ errors: errors }, agreement, null);
      });
    };

    var formValidators = {
      email: [validators.email()],
      username: [validators.usernameContent()]
    };

    if (!!_2.default.get('TERMS_OF_SERVICE_ID')) {
      formValidators.termsOfService = [validators.requiredTermsOfService()];
    }

    if (!!_2.default.get('PRIVACY_POLICY_ID')) {
      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()];
    }

    _this.state = {
      email: props.email || '',
      emailProtected: !!props.email,
      username: props.username || '',

      termsOfService: null,
      privacyPolicy: null,

      validators: formValidators,
      errors: {},

      isLoading: false
    };
    return _this;
  }

  _createClass(Register, [{
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.email.trim().length, this.state.username.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error(gettext("Fill out all fields."));
        return false;
      }

      var validators = this.state.validators;


      var checkTermsOfService = !!_2.default.get('TERMS_OF_SERVICE_ID');
      if (checkTermsOfService && this.state.termsOfService === null) {
        _snackbar2.default.error(validators.termsOfService[0](null));
        return false;
      }

      var checkPrivacyPolicy = !!_2.default.get('PRIVACY_POLICY_ID');
      if (checkPrivacyPolicy && this.state.privacyPolicy === null) {
        _snackbar2.default.error(validators.privacyPolicy[0](null));
        _snackbar2.default.error(gettext("You need to accept the privacy policy."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.url, {
        email: this.state.email,
        username: this.state.username,
        terms_of_service: this.state.termsOfService,
        privacy_policy: this.state.privacyPolicy
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(response) {
      onRegistrationComplete(response);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 200) {
        // We've entered "errored" state because response is HTML instead of exptected JSON
        var _onRegistrationComplete = this.props.onRegistrationComplete;
        var username = this.state.username;

        _onRegistrationComplete({ activation: 'active', step: 'done', username: username });
      } else if (rejection.status === 400) {
        var stateUpdate = { errors: rejection };
        if (rejection.email) {
          stateUpdate.emailProtected = false;
        }
        this.setState(stateUpdate);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var backend_name = this.props.backend_name;
      var _state = this.state,
          email = _state.email,
          emailProtected = _state.emailProtected,
          username = _state.username,
          isLoading = _state.isLoading;


      var emailHelpText = null;
      if (emailProtected) {
        var emailHelpTextTpl = gettext("Your e-mail address has been verified by %(backend)s.");
        emailHelpText = interpolate(emailHelpTextTpl, { backend: backend_name }, true);
      }

      return _react2.default.createElement(
        'div',
        { className: 'page page-social-auth page-social-sauth-register' },
        _react2.default.createElement(_header2.default, { backendName: backend_name }),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-6 col-md-offset-3' },
              _react2.default.createElement(
                'form',
                { onSubmit: this.handleSubmit },
                _react2.default.createElement(
                  'div',
                  { className: 'panel panel-default panel-form' },
                  _react2.default.createElement(
                    'div',
                    { className: 'panel-heading' },
                    _react2.default.createElement(
                      'h3',
                      { className: 'panel-title' },
                      gettext("Complete your details")
                    )
                  ),
                  _react2.default.createElement(
                    'div',
                    { className: 'panel-body' },
                    _react2.default.createElement(
                      _formGroup2.default,
                      {
                        'for': 'id_username',
                        label: gettext("Username"),
                        validation: this.state.errors.username
                      },
                      _react2.default.createElement('input', {
                        type: 'text',
                        id: 'id_username',
                        className: 'form-control',
                        disabled: isLoading,
                        onChange: this.bindInput('username'),
                        value: username
                      })
                    ),
                    _react2.default.createElement(
                      _formGroup2.default,
                      {
                        'for': 'id_email',
                        label: gettext("E-mail address"),
                        helpText: emailHelpText,
                        validation: emailProtected ? null : this.state.errors.email
                      },
                      _react2.default.createElement('input', {
                        type: 'email',
                        id: 'id_email',
                        className: 'form-control',
                        disabled: isLoading || emailProtected,
                        onChange: this.bindInput('email'),
                        value: email
                      })
                    ),
                    _react2.default.createElement(_RegisterLegalFootnote2.default, {
                      errors: this.state.errors,
                      privacyPolicy: this.state.privacyPolicy,
                      termsOfService: this.state.termsOfService,
                      onPrivacyPolicyChange: this.handlePrivacyPolicyChange,
                      onTermsOfServiceChange: this.handleTermsOfServiceChange
                    })
                  ),
                  _react2.default.createElement(
                    'div',
                    { className: 'panel-footer' },
                    _react2.default.createElement(
                      _button2.default,
                      { className: 'btn-primary', loading: this.state.isLoading },
                      gettext("Sign in")
                    )
                  )
                )
              )
            )
          )
        )
      );
    }
  }]);

  return Register;
}(_form2.default);

exports.default = Register;

},{"../..":318,"../../services/ajax":381,"../../services/snackbar":392,"../../utils/validators":409,"../RegisterLegalFootnote":17,"../button":24,"../form":71,"../form-group":70,"./header":230,"react":"react"}],233:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "page-breadcrumbs" },
    _react2.default.createElement(
      "div",
      { className: "container" },
      _react2.default.createElement(
        "ol",
        { className: "breadcrumb hidden-xs" },
        props.path.map(function (item) {
          return _react2.default.createElement(Breadcrumb, {
            key: item.id,
            node: item
          });
        })
      ),
      _react2.default.createElement(GoBack, props)
    )
  );
};

exports.Breadcrumb = Breadcrumb;
exports.GoBack = GoBack;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function Breadcrumb(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      { href: props.node.url.index },
      props.node.name
    )
  );
}

function GoBack(props) {
  var lastItem = props.path[props.path.length - 1];

  return _react2.default.createElement(
    "a",
    { href: lastItem.url.index, className: "go-back-sm visible-xs-block" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "chevron_left"
    ),
    lastItem.name
  );
}
/* jshint ignore:end */

},{"react":"react"}],234:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Moderation = Moderation;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _breadcrumbs = require('./breadcrumbs');

var _breadcrumbs2 = _interopRequireDefault(_breadcrumbs);

var _thread = require('../moderation/thread');

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _validators = require('../../posting/utils/validators');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _thread2 = require('../../../reducers/thread');

var thread = _interopRequireWildcard(_thread2);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onEdit = function () {
      _this.setState({
        isEditing: true
      });
    };

    _this.onCancel = function () {
      _this.setState({
        title: _this.props.thread.title,

        isEditing: false
      });
    };

    _this.state = {
      isEditing: false,
      isLoading: false,

      title: props.thread.title,

      validators: {
        title: (0, _validators.getTitleValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'title', value: this.state.title }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch(thread.update(data));

      this.setState({
        'isEditing': false
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          thread = _props.thread,
          user = _props.user;

      var showModeration = !!user.id && (0, _thread.isModerationVisible)(thread);

      if (this.state.isEditing) {
        return _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row xs-margin-top title-edit-form' },
              _react2.default.createElement(
                'form',
                { onSubmit: this.handleSubmit },
                _react2.default.createElement(
                  'div',
                  { className: 'col-sm-6 col-md-6' },
                  _react2.default.createElement('input', {
                    className: 'form-control',
                    type: 'text',
                    value: this.state.title,
                    onChange: this.onChange
                  })
                ),
                _react2.default.createElement(
                  'div',
                  { className: 'col-sm-6 col-md-4' },
                  _react2.default.createElement(
                    'div',
                    { className: 'row xs-margin-top-half sm-margin-top-no md-margin-top-no' },
                    _react2.default.createElement(
                      'div',
                      { className: 'col-xs-6' },
                      _react2.default.createElement(
                        'button',
                        {
                          className: 'btn btn-primary btn-block btn-outline',
                          disabled: this.state.isLoading,
                          title: gettext("Change title")
                        },
                        gettext("Save changes")
                      )
                    ),
                    _react2.default.createElement(
                      'div',
                      { className: 'col-xs-6' },
                      _react2.default.createElement(
                        'button',
                        {
                          className: 'btn btn-default btn-block btn-outline',
                          disabled: this.state.isLoading,
                          onClick: this.onCancel,
                          title: gettext("Cancel"),
                          type: 'button'
                        },
                        gettext("Cancel")
                      )
                    )
                  )
                )
              )
            )
          ),
          _react2.default.createElement(_stats2.default, { thread: thread })
        );
      } else if (user.id && thread.acl.can_edit) {
        return _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: showModeration ? "col-sm-9 col-md-8" : "col-sm-10 col-md-10" },
                _react2.default.createElement(
                  'h1',
                  null,
                  thread.title
                )
              ),
              _react2.default.createElement(
                'div',
                { className: showModeration ? "col-sm-3 col-md-4" : "col-sm-3 col-md-2" },
                _react2.default.createElement(
                  'div',
                  { className: 'row xs-margin-top md-margin-top-no' },
                  _react2.default.createElement(
                    'div',
                    { className: showModeration ? "col-xs-6" : "col-xs-12" },
                    _react2.default.createElement(
                      'button',
                      {
                        className: 'btn btn-default btn-block btn-outline',
                        onClick: this.onEdit,
                        title: gettext("Edit title"),
                        type: 'button'
                      },
                      _react2.default.createElement(
                        'span',
                        { className: 'material-icon' },
                        'edit'
                      ),
                      _react2.default.createElement(
                        'span',
                        { className: 'hidden-sm' },
                        gettext("Edit")
                      )
                    )
                  ),
                  showModeration && _react2.default.createElement(Moderation, this.props)
                )
              )
            )
          ),
          _react2.default.createElement(_stats2.default, { thread: thread })
        );
      } else if (showModeration) {
        return _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-9 col-md-10' },
                _react2.default.createElement(
                  'h1',
                  null,
                  thread.title
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-sm-3 col-md-2' },
                _react2.default.createElement(
                  'div',
                  { className: 'row xs-margin-top md-margin-top-no' },
                  _react2.default.createElement(Moderation, _extends({
                    isSingle: true
                  }, this.props))
                )
              )
            )
          ),
          _react2.default.createElement(_stats2.default, { thread: thread })
        );
      }

      return _react2.default.createElement(
        'div',
        { className: 'page-header' },
        _react2.default.createElement(_breadcrumbs2.default, { path: thread.path }),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'h1',
            null,
            thread.title
          )
        ),
        _react2.default.createElement(_stats2.default, { thread: thread })
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function Moderation(props) {
  return _react2.default.createElement(
    'div',
    { className: props.isSingle ? "col-xs-12" : "col-xs-6" },
    _react2.default.createElement(
      'div',
      { className: 'btn-group btn-group-justified' },
      _react2.default.createElement(
        'div',
        { className: 'btn-group' },
        _react2.default.createElement(
          'button',
          {
            'aria-expanded': 'false',
            'aria-haspopup': 'true',
            className: 'btn btn-default btn-outline dropdown-toggle',
            'data-toggle': 'dropdown',
            disabled: props.thread.isBusy,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'settings'
          ),
          _react2.default.createElement(
            'span',
            { className: props.isSingle ? "" : "hidden-sm" },
            gettext("Moderation")
          )
        ),
        _react2.default.createElement(_thread.ModerationControls, {
          posts: props.posts,
          thread: props.thread,
          user: props.user
        })
      )
    )
  );
}

},{"../../../reducers/thread":376,"../../../services/ajax":381,"../../../services/snackbar":392,"../../../services/store":393,"../../form":71,"../../posting/utils/validators":159,"../moderation/thread":243,"./breadcrumbs":233,"./stats":235,"react":"react"}],235:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Weight = Weight;
exports.Unapproved = Unapproved;
exports.IsHidden = IsHidden;
exports.IsClosed = IsClosed;
exports.Replies = Replies;
exports.LastReply = LastReply;

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'header-stats' },
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'ul',
        { className: 'list-inline' },
        _react2.default.createElement(Weight, { thread: props.thread }),
        _react2.default.createElement(Unapproved, { thread: props.thread }),
        _react2.default.createElement(IsHidden, { thread: props.thread }),
        _react2.default.createElement(IsClosed, { thread: props.thread }),
        _react2.default.createElement(Replies, { thread: props.thread }),
        _react2.default.createElement(LastReply, { thread: props.thread })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Weight(props) {
  if (props.thread.weight == 2) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-pinned-globally' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'bookmark'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Pinned globally")
      )
    );
  } else if (props.thread.weight == 1) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-pinned-locally' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'bookmark_border'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Pinned locally")
      )
    );
  } else {
    return null;
  }
}

function Unapproved(props) {
  if (props.thread.is_unapproved) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-unapproved' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'remove_circle'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Unapproved")
      )
    );
  } else if (props.thread.has_unapproved_posts) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-unapproved-posts' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'remove_circle_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Unapproved posts")
      )
    );
  } else {
    return null;
  }
}

function IsHidden(props) {
  if (props.thread.is_hidden) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-hidden' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'visibility_off'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Hidden")
      )
    );
  } else {
    return null;
  }
}

function IsClosed(props) {
  if (props.thread.is_closed) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-closed' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'lock_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Closed")
      )
    );
  } else {
    return null;
  }
}

function Replies(props) {
  var message = ngettext("%(replies)s reply", "%(replies)s replies", props.thread.replies);
  var legend = interpolate(message, { 'replies': props.thread.replies }, true);

  return _react2.default.createElement(
    'li',
    { className: 'thread-replies' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'forum'
    ),
    _react2.default.createElement(
      'span',
      { className: 'icon-legend' },
      legend
    )
  );
}

/* jshint ignore:end */
function LastReply(props) {
  var user = null;
  if (props.thread.url.last_poster) {
    user = interpolate(LAST_POSTER_URL, {
      url: (0, _escapeHtml2.default)(props.thread.url.last_poster),
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  } else {
    user = interpolate(LAST_POSTER_SPAN, {
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  };

  var date = interpolate(LAST_REPLY, {
    absolute: (0, _escapeHtml2.default)(props.thread.last_post_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.thread.last_post_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("last reply by %(user)s %(date)s")), {
    date: date, user: user
  }, true);

  return _react2.default.createElement('li', { className: 'thread-last-reply', dangerouslySetInnerHTML: { __html: message } });
}

},{"../../../utils/escape-html":399,"react":"react"}],236:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.patch = patch;
exports.merge = merge;
exports.remove = remove;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _posts = require('../../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _errorsList = require('./errors-list');

var _errorsList2 = _interopRequireDefault(_errorsList);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:line

function approve(props) {
  var selection = props.selection;


  var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];

  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: false
    };
  });

  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_unapproved: post.is_unapproved
    };
  });

  patch(props, ops, newState, previousState);
} // jshint ignore:line
// jshint ignore:line
function protect(props) {
  var selection = props.selection;


  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];

  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: true
    };
  });

  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });

  patch(props, ops, newState, previousState);
}

function unprotect(props) {
  var selection = props.selection;


  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];

  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: false
    };
  });

  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_protected: post.is_protected
    };
  });

  patch(props, ops, newState, previousState);
}

function hide(props) {
  var selection = props.selection;


  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];

  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: true,
      hidden_on: (0, _moment2.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });

  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });

  patch(props, ops, newState, previousState);
}

function unhide(props) {
  var selection = props.selection;


  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];

  var newState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: false,
      hidden_on: (0, _moment2.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(post.url, {
        hidden_by: props.user.url
      })
    };
  });

  var previousState = selection.map(function (post) {
    return {
      id: post.id,
      is_hidden: post.is_hidden,
      hidden_on: post.hidden_on,
      hidden_by_name: post.hidden_by_name,
      url: post.url
    };
  });

  patch(props, ops, newState, previousState);
}

function patch(props, ops, newState, previousState) {
  var selection = props.selection,
      thread = props.thread;

  // patch selected items

  newState.forEach(function (item) {
    post.patch(item, item);
  });

  // deselect all the things
  _store2.default.dispatch(posts.deselectAll());

  // call ajax
  var data = {
    ops: ops,

    ids: selection.map(function (post) {
      return post.id;
    })
  };

  _ajax2.default.patch(thread.api.posts.index, data).then(function (data) {
    data.forEach(function (item) {
      _store2.default.dispatch(post.patch(item, item));
    });
  }, function (rejection) {
    if (rejection.status !== 400) {
      // rollback all
      previousState.forEach(function (item) {
        _store2.default.dispatch(post.patch(item, item));
      });
      return _snackbar2.default.apiError(rejection);
    }

    var errors = [];
    var rollback = [];

    rejection.forEach(function (item) {
      if (item.detail) {
        errors.push(item);
        rollback.push(item.id);
      } else {
        _store2.default.dispatch(post.patch(item, item));
      }

      previousState.forEach(function (item) {
        if (rollback.indexOf(item) !== -1) {
          _store2.default.dispatch(post.patch(item, item));
        }
      });
    });

    var posts = {};
    selection.forEach(function (item) {
      posts[item.id] = item;
    });

    /* jshint ignore:start */
    _modal2.default.show(_react2.default.createElement(_errorsList2.default, {
      errors: errors,
      posts: posts
    }));
    /* jshint ignore:end */
  });
}

function merge(props) {
  var confirmed = confirm(gettext("Are you sure you want to merge selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  props.selection.slice(1).map(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });

  _ajax2.default.post(props.thread.api.posts.merge, {
    posts: props.selection.map(function (post) {
      return post.id;
    })
  }).then(function (data) {
    _store2.default.dispatch(post.patch(data, post.hydrate(data)));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    props.selection.slice(1).map(function (selection) {
      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  props.selection.map(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });

  var ids = props.selection.map(function (post) {
    return post.id;
  });

  _ajax2.default.delete(props.thread.api.posts.index, ids).then(function () {
    return;
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    props.selection.map(function (selection) {
      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

},{"../../../../reducers/post":369,"../../../../reducers/posts":370,"../../../../services/ajax":381,"../../../../services/modal":387,"../../../../services/snackbar":392,"../../../../services/store":393,"./errors-list":238,"moment":"moment","react":"react"}],237:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Merge = exports.Approve = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu' },
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Merge, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _actions = require('./actions');

var moderation = _interopRequireWildcard(_actions);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _split = require('./split');

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var Approve = exports.Approve = function (_React$Component) {
  _inherits(Approve, _React$Component);

  function Approve() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      moderation.approve(_this.props);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Approve, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_approve && post.is_unapproved;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'done'
          ),
          gettext("Approve")
        )
      );
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Merge = exports.Merge = function (_React$Component2) {
  _inherits(Merge, _React$Component2);

  function Merge() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Merge);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Merge.__proto__ || Object.getPrototypeOf(Merge)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      moderation.merge(_this2.props);
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Merge, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.length > 1 && this.props.selection.find(function (post) {
        return post.acl.can_merge;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'call_merge'
          ),
          gettext("Merge")
        )
      );
    }
  }]);

  return Merge;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component3) {
  _inherits(Move, _React$Component3);

  function Move() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Move);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this3.props));
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Move, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          gettext("Move")
        )
      );
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component4) {
  _inherits(Split, _React$Component4);

  function Split() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Split);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this4.props));
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Split, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'call_split'
          ),
          gettext("Split")
        )
      );
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component5) {
  _inherits(Protect, _React$Component5);

  function Protect() {
    var _ref5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, Protect);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {
      moderation.protect(_this5.props);
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(Protect, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return !post.is_protected && post.acl.can_protect;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_outline'
          ),
          gettext("Protect")
        )
      );
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component6) {
  _inherits(Unprotect, _React$Component6);

  function Unprotect() {
    var _ref6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Unprotect);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.unprotect(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Unprotect, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.is_protected && post.acl.can_protect;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_open'
          ),
          gettext("Unprotect")
        )
      );
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component7) {
  _inherits(Hide, _React$Component7);

  function Hide() {
    var _ref7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Hide);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {
      moderation.hide(_this7.props);
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_hide && !post.is_hidden;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility_off'
          ),
          gettext("Hide")
        )
      );
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component8) {
  _inherits(Unhide, _React$Component8);

  function Unhide() {
    var _ref8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Unhide);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {
      moderation.unhide(_this8.props);
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_unhide && post.is_hidden;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility'
          ),
          gettext("Unhide")
        )
      );
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component9) {
  _inherits(Delete, _React$Component9);

  function Delete() {
    var _ref9;

    var _temp9, _this9, _ret9;

    _classCallCheck(this, Delete);

    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    return _ret9 = (_temp9 = (_this9 = _possibleConstructorReturn(this, (_ref9 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref9, [this].concat(args))), _this9), _this9.onClick = function () {
      moderation.remove(_this9.props);
    }, _temp9), _possibleConstructorReturn(_this9, _ret9);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_delete;
      });

      if (!isVisible) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'clear'
          ),
          gettext("Delete")
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":387,"./actions":236,"./move":240,"./split":241,"react":"react"}],238:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var errors = _ref.errors,
      posts = _ref.posts;

  return _react2.default.createElement(
    "div",
    { className: "modal-dialog", role: "document" },
    _react2.default.createElement(
      "div",
      { className: "modal-content" },
      _react2.default.createElement(
        "div",
        { className: "modal-header" },
        _react2.default.createElement(
          "button",
          {
            "aria-label": gettext("Close"),
            className: "close",
            "data-dismiss": "modal",
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { "aria-hidden": "true" },
            "\xD7"
          )
        ),
        _react2.default.createElement(
          "h4",
          { className: "modal-title" },
          gettext("Moderation")
        )
      ),
      _react2.default.createElement(
        "div",
        { className: "modal-body" },
        _react2.default.createElement(
          "p",
          { className: "lead" },
          gettext("One or more posts could not be changed:")
        ),
        _react2.default.createElement(
          "ul",
          { className: "list-unstyled list-errored-items" },
          errors.map(function (post) {
            return _react2.default.createElement(PostErrors, {
              errors: post.detail,
              key: post.id,
              post: posts[post.id]
            });
          })
        )
      )
    )
  );
};

exports.PostErrors = PostErrors;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function PostErrors(_ref2) {
  var errors = _ref2.errors,
      post = _ref2.post;

  var heading = interpolate(gettext("%(username)s on %(posted_on)s"), {
    posted_on: post.posted_on.format('LL, LT'),
    username: post.poster_name
  }, true);

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "h5",
      null,
      heading,
      ":"
    ),
    errors.map(function (error, i) {
      return _react2.default.createElement(
        "p",
        { key: i },
        error
      );
    })
  );
}

},{"react":"react"}],239:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (!props.user.id || !isVisible(props.thread, props.posts.results)) {
    return null;
  }

  var selection = props.posts.results.filter(function (post) {
    return post.isSelected;
  });

  return _react2.default.createElement(
    'div',
    { className: 'dropup' },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default dropdown-toggle btn-block btn-outline',
        'data-toggle': 'dropdown',
        disabled: !selection.length,
        type: 'button'
      },
      gettext("Posts options")
    ),
    _react2.default.createElement(_dropdown2.default, _extends({ selection: selection }, props))
  );
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _dropdown = require('./dropdown');

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function isVisible(thread, posts) {
  if (thread.acl.can_merge_posts && posts.length > 1) {
    // fast test: show moderation menu if we can merge posts
    return true;
  }

  // slow test: show moderation if any of posts has moderation options
  var visible = false;
  posts.forEach(function (post) {
    if (!post.is_event) {
      var showModeration = post.acl.can_approve && post.is_unapproved || post.acl.can_delete || !post.is_hidden && post.acl.can_hide || post.acl.can_move || post.acl.can_merge || post.acl.can_protect || post.is_hidden && post.acl.can_unhide || post.acl.can_unprotect;

      if (showModeration) {
        visible = true;
      }
    }
  });
  return visible;
}

},{"./dropdown":237,"react":"react"}],240:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        new_thread: this.state.url,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected posts were moved to the other thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to move posts to")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default',
                  'data-dismiss': 'modal',
                  disabled: this.state.isLoading,
                  type: 'button'
                },
                gettext("Cancel")
              ),
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading },
                gettext("Move posts")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move posts")
    )
  );
}

},{"../../../../reducers/post":369,"../../../../services/ajax":381,"../../../../services/modal":387,"../../../../services/snackbar":392,"../../../../services/store":393,"../../../button":24,"../../../form":71,"../../../form-group":70,"react":"react"}],241:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require('../../../select');

var _select2 = _interopRequireDefault(_select);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get('THREAD_EDITOR_API')).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: '',
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this3.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected posts were split into new thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getWeightChoices',
    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: 'modal-dialog' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Thread title"),
                'for': 'id_title',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.title },
              _react2.default.createElement('input', { id: 'id_title',
                className: 'form-control',
                type: 'text',
                onChange: this.bindInput('title'),
                value: this.state.title })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Category"),
                'for': 'id_category',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.category },
              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-footer' },
            _react2.default.createElement(
              'button',
              {
                className: 'btn btn-default',
                'data-dismiss': 'modal',
                disabled: this.state.isLoading,
                type: 'button'
              },
              gettext("Cancel")
            ),
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Split posts")
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog' },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog modal-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-icon' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'info_outline'
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        { className: 'lead' },
        gettext("You can't move selected posts at the moment.")
      ),
      _react2.default.createElement(
        'p',
        null,
        props.message
      ),
      _react2.default.createElement(
        'button',
        {
          className: 'btn btn-default',
          'data-dismiss': 'modal',
          type: 'button'
        },
        gettext("Ok")
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    'div',
    { className: props.className, role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Split posts into new thread")
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":369,"../../../../services/ajax":381,"../../../../services/modal":387,"../../../../services/snackbar":392,"../../../../services/store":393,"../../../../utils/validators":409,"../../../button":24,"../../../category-select":37,"../../../form":71,"../../../form-group":70,"../../../modal-loader":76,"../../../select":226,"react":"react"}],242:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _merge = require('./merge');

var _merge2 = _interopRequireDefault(_merge);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      _store2.default.dispatch(thread.busy());

      // by the chance update thread acl too
      ops.push({ op: 'add', path: 'acl', value: true });

      _ajax2.default.patch(_this.props.thread.api.index, ops).then(function (data) {
        _store2.default.dispatch(thread.update(data));
        _store2.default.dispatch(thread.release());
        _snackbar2.default.success(successMessage);
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 2
      }], gettext("Thread has been pinned globally."));
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 1
      }], gettext("Thread has been pinned locally."));
    }, _this.unpin = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 0
      }], gettext("Thread has been unpinned."));
    }, _this.approve = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-unapproved',
        value: false
      }], gettext("Thread has been approved."));
    }, _this.open = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: false
      }], gettext("Thread has been opened."));
    }, _this.close = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: true
      }], gettext("Thread has been closed."));
    }, _this.unhide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: false
      }], gettext("Thread has been made visible."));
    }, _this.hide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: true
      }], gettext("Thread has been made hidden."));
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, {
        posts: _this.props.posts,
        thread: _this.props.thread
      }));
    }, _this.merge = function () {
      _modal2.default.show(_react2.default.createElement(_merge2.default, { thread: _this.props.thread }));
    }, _this.delete = function () {
      if (!confirm(gettext("Are you sure you want to delete this thread?"))) {
        return;
      }

      _store2.default.dispatch(thread.busy());

      _ajax2.default.delete(_this.props.thread.api.index).then(function (data) {
        _snackbar2.default.success(gettext("Thread has been deleted."));
        window.location = _this.props.thread.category.url.index;
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'getPinGloballyButton',
    value: function getPinGloballyButton() {
      if (this.props.thread.weight === 2) return null;
      if (!this.props.thread.acl.can_pin_globally) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.pinGlobally,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark'
          ),
          gettext("Pin globally")
        )
      );
    }
  }, {
    key: 'getPinLocallyButton',
    value: function getPinLocallyButton() {
      if (this.props.thread.weight === 1) return null;
      if (!this.props.thread.acl.can_pin) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.pinLocally,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark_border'
          ),
          gettext("Pin locally")
        )
      );
    }
  }, {
    key: 'getUnpinButton',
    value: function getUnpinButton() {
      if (this.props.thread.weight === 0) return null;
      if (!this.props.thread.acl.can_pin) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.unpin,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'panorama_fish_eye'
          ),
          gettext("Unpin")
        )
      );
    }
  }, {
    key: 'getMoveButton',
    value: function getMoveButton() {
      if (!this.props.thread.acl.can_move) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.move,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          gettext("Move")
        )
      );
    }
  }, {
    key: 'getMergeButton',
    value: function getMergeButton() {
      if (!this.props.thread.acl.can_merge) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.merge,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'call_merge'
          ),
          gettext("Merge")
        )
      );
    }
  }, {
    key: 'getApproveButton',
    value: function getApproveButton() {
      if (!this.props.thread.is_unapproved) return null;
      if (!this.props.thread.acl.can_approve) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.approve,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'done'
          ),
          gettext("Approve")
        )
      );
    }
  }, {
    key: 'getOpenButton',
    value: function getOpenButton() {
      if (!this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.open,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_open'
          ),
          gettext("Open")
        )
      );
    }
  }, {
    key: 'getCloseButton',
    value: function getCloseButton() {
      if (this.props.thread.is_closed) return null;
      if (!this.props.thread.acl.can_close) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.close,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_outline'
          ),
          gettext("Close")
        )
      );
    }
  }, {
    key: 'getUnhideButton',
    value: function getUnhideButton() {
      if (!this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_unhide) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.unhide,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility'
          ),
          gettext("Unhide")
        )
      );
    }
  }, {
    key: 'getHideButton',
    value: function getHideButton() {
      if (this.props.thread.is_hidden) return null;
      if (!this.props.thread.acl.can_hide) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.hide,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility_off'
          ),
          gettext("Hide")
        )
      );
    }
  }, {
    key: 'getDeleteButton',
    value: function getDeleteButton() {
      if (!this.props.thread.acl.can_delete) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.delete,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'clear'
          ),
          gettext("Delete")
        )
      );
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu dropdown-menu-right stick-to-bottom' },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/thread":376,"../../../../services/ajax":381,"../../../../services/modal":387,"../../../../services/snackbar":392,"../../../../services/store":393,"./merge":245,"./move":246,"react":"react"}],243:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isModerationVisible = exports.ModerationControls = undefined;

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

var _isVisible = require('./is-visible');

var _isVisible2 = _interopRequireDefault(_isVisible);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.ModerationControls = _controls2.default;
exports.isModerationVisible = _isVisible2.default;

},{"./controls":242,"./is-visible":244}],244:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (thread) {
  return !!(thread.acl.can_approve && thread.is_unapproved || thread.acl.can_close || thread.acl.can_delete || thread.acl.can_hide || thread.acl.can_move || thread.acl.can_merge || thread.acl.can_pin || thread.acl.can_pin_globally && thread.weight !== 2 || thread.acl.can_unhide && thread.is_hidden);
};

},{}],245:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _mergeConflict = require('../../../merge-conflict');

var _mergeConflict2 = _interopRequireDefault(_mergeConflict);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSuccess = function (success) {
      _this.handleSuccessUnmounted(success);

      // keep form loading
      _this.setState({
        'isLoading': true
      });
    };

    _this.handleSuccessUnmounted = function (success) {
      _snackbar2.default.success(gettext("Thread has been merged with other one."));
      window.location = success.url;
    };

    _this.handleError = function (rejection) {
      _store2.default.dispatch(thread.release());

      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          _modal2.default.show(_react2.default.createElement(_mergeConflict2.default, {
            api: _this.props.thread.api.merge,
            bestAnswers: rejection.best_answers,
            data: { other_thread: _this.state.url },
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccessUnmounted
          }));
        } else if (rejection.best_answer) {
          _snackbar2.default.error(rejection.best_answer[0]);
        } else if (rejection.poll) {
          _snackbar2.default.error(rejection.poll[0]);
        } else {
          _snackbar2.default.error(rejection.detail);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    };

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.post(this.props.thread.api.merge, {
        other_thread: this.state.url
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to merge with"),
                  help_text: gettext("Merge will delete current thread and move its contents to the thread specified here.")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading || this.props.thread.isBusy,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default',
                  'data-dismiss': 'modal',
                  disabled: this.state.isLoading,
                  type: 'button'
                },
                gettext("Cancel")
              ),
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },
                gettext("Merge thread")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

/* jshint ignore:start */


exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Merge thread")
    )
  );
}
/* jshint ignore:end */

},{"../../../../reducers/thread":376,"../../../../services/ajax":381,"../../../../services/modal":387,"../../../../services/snackbar":392,"../../../../services/store":393,"../../../form":71,"../../../form-group":70,"../../../merge-conflict":74,"react":"react"}],246:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;
exports.ModalLoading = ModalLoading;
exports.ModalMessage = ModalMessage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _posts = require('../../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCategoryChange = function (event) {
      _this.changeValue('category', event.target.value);
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isError: false,

      category: null,
      categories: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(_2.default.get('THREAD_EDITOR_API')).then(function (data) {
        var category = null;

        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          // pick first category that allows posting and if it may, override it with initial one
          if (item.post !== false && !category) {
            category = item.id;
          }

          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id
          });
        });

        _this2.setState({
          isReady: true,

          category: category,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'send',
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'category', value: this.state.category }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      // refresh thread and displayed posts
      _ajax2.default.get(this.props.thread.api.posts.index, { page: this.props.posts.page }).then(function (data) {
        _store2.default.dispatch(thread.replace(data));
        _store2.default.dispatch(posts.load(data.post_set));
        _store2.default.dispatch(thread.release());

        _snackbar2.default.success(gettext("Thread has been moved."));
        _modal2.default.hide();
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          'div',
          { className: 'modal-dialog', role: 'document' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-content' },
              _react2.default.createElement(ModalHeader, null),
              _react2.default.createElement(
                'div',
                { className: 'modal-body' },
                _react2.default.createElement(
                  _formGroup2.default,
                  { 'for': 'id_category', label: gettext("New category") },
                  _react2.default.createElement(_categorySelect2.default, {
                    choices: this.state.categories,
                    disabled: this.state.isLoading || this.props.thread.isBusy,
                    id: 'id_category',
                    onChange: this.onCategoryChange,
                    value: this.state.category
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'modal-footer' },
                _react2.default.createElement(
                  'button',
                  {
                    className: 'btn btn-default',
                    'data-dismiss': 'modal',
                    disabled: this.state.isLoading,
                    type: 'button'
                  },
                  gettext("Cancel")
                ),
                _react2.default.createElement(
                  'button',
                  { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },
                  gettext("Move thread")
                )
              )
            )
          )
        );
      } else if (this.state.isError) {
        return _react2.default.createElement(ModalMessage, { message: this.state.isError });
      } else {
        return _react2.default.createElement(ModalLoading, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

/* jshint ignore:start */


exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move thread")
    )
  );
}

function ModalLoading(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(_modalLoader2.default, null)
    )
  );
}

function ModalMessage(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog modal-message', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(
        'div',
        { className: 'message-icon' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'info_outline'
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'message-body' },
        _react2.default.createElement(
          'p',
          { className: 'lead' },
          gettext("You can't move this thread at the moment.")
        ),
        _react2.default.createElement(
          'p',
          null,
          props.message
        ),
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default',
            'data-dismiss': 'modal',
            type: 'button'
          },
          gettext("Ok")
        )
      )
    )
  );
}
/* jshint ignore:end */

},{"../../../..":318,"../../../../reducers/posts":370,"../../../../reducers/thread":376,"../../../../services/ajax":381,"../../../../services/modal":387,"../../../../services/snackbar":392,"../../../../services/store":393,"../../../category-select":37,"../../../form":71,"../../../form-group":70,"../../../modal-loader":76,"react":"react"}],247:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'nav',
    { className: 'misago-pagination pull-left' },
    _react2.default.createElement(Pager, props),
    _react2.default.createElement(More, { more: props.posts.more })
  );
};

exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Pager(props) {
  return _react2.default.createElement(
    'div',
    { className: 'row row-paginator' },
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(FirstPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(PreviousPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(NextPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(LastPage, props)
    )
  );
} /* jshint ignore:start */
function FirstPage(props) {
  if (props.posts.isLoaded && props.posts.first) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-outline btn-icon',
        to: props.thread.url.index,
        title: gettext("Go to first page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'first_page'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-outline btn-icon disabled',
        title: gettext("Go to first page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'first_page'
      )
    );
  }
}

function PreviousPage(props) {
  if (props.posts.isLoaded && props.posts.page > 1) {
    var previousUrl = '';
    if (props.posts.previous) {
      previousUrl = props.posts.previous + '/';
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-outline btn-icon',
        to: props.thread.url.index + previousUrl,
        title: gettext("Go to previous page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_left'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-outline btn-icon disabled',
        title: gettext("Go to previous page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_left'
      )
    );
  }
}

function NextPage(props) {
  if (props.posts.isLoaded && props.posts.more) {
    var nextUrl = '';
    if (props.posts.next) {
      nextUrl = props.posts.next + '/';
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-outline btn-icon',
        to: props.thread.url.index + nextUrl,
        title: gettext("Go to next page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_right'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-outline btn-icon disabled',
        title: gettext("Go to next page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_right'
      )
    );
  }
}

function LastPage(props) {
  if (props.posts.isLoaded && props.posts.last) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-outline btn-icon',
        to: props.thread.url.index + props.posts.last + '/',
        title: gettext("Go to last page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'last_page'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-outline btn-icon disabled',
        title: gettext("Go to last page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'last_page'
      )
    );
  }
}

function More(props) {
  var message = null;
  if (props.more) {
    message = ngettext("There is %(more)s more post in this thread.", "There are %(more)s more posts in this thread.", props.more);
    message = interpolate(message, { 'more': props.more }, true);
  } else {
    message = gettext("There are no more posts in this thread.");
  }

  return _react2.default.createElement(
    'p',
    null,
    message
  );
}

},{"react":"react","react-router":"react-router"}],248:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'button',
    {
      className: props.className || 'btn btn-primary btn-outline',
      onClick: props.onClick,
      type: 'button'
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chat'
    ),
    gettext("Reply")
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],249:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;

var _reactRedux = require('react-redux');

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function select(store) {
  return {
    'participants': store.participants,
    'poll': store.poll,
    'posts': store.posts,
    'thread': store.thread,
    'tick': store.tick.tick,
    'user': store.auth.user
  };
}

function paths() {
  var thread = _index2.default.get('THREAD');
  var basePath = thread.url.index.replace(thread.slug + '-' + thread.pk, ':slug');

  return [{
    path: basePath,
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }, {
    path: basePath + ':page/',
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }];
}

},{"../../index":318,"./route":250,"react-redux":"react-redux"}],250:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _participants = require('../participants');

var _participants2 = _interopRequireDefault(_participants);

var _poll = require('../poll');

var _postsList = require('../posts-list');

var _postsList2 = _interopRequireDefault(_postsList);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _toolbarTop = require('./toolbar-top');

var _toolbarTop2 = _interopRequireDefault(_toolbarTop);

var _toolbarBottom = require('./toolbar-bottom');

var _toolbarBottom2 = _interopRequireDefault(_toolbarBottom);

var _participants3 = require('../../reducers/participants');

var participants = _interopRequireWildcard(_participants3);

var _poll2 = require('../../reducers/poll');

var poll = _interopRequireWildcard(_poll2);

var _posts = require('../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _thread = require('../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.update = function (data) {
      _store2.default.dispatch(thread.replace(data));
      _store2.default.dispatch(posts.load(data.post_set));

      if (data.participants) {
        _store2.default.dispatch(participants.replace(data.participants));
      }

      if (data.poll) {
        _store2.default.dispatch(poll.replace(data.poll));
      }

      _this.setPageTitle();
    }, _this.openReplyForm = function () {
      _posting2.default.open({
        mode: 'REPLY',

        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.setPageTitle();
      }

      this.startPollingApi();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.startPollingApi();
        this.setPageTitle();
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.stopPollingApi();
    }
  }, {
    key: 'shouldFetchData',
    value: function shouldFetchData() {
      if (this.props.posts.isLoaded) {
        var page = (this.props.params.page || 1) * 1;
        return page != this.props.posts.page;
      } else {
        return false;
      }
    }
  }, {
    key: 'fetchData',
    value: function fetchData() {
      var _this2 = this;

      _store2.default.dispatch(posts.unload());

      _ajax2.default.get(this.props.thread.api.posts.index, {
        page: this.props.params.page || 1
      }, 'posts').then(function (data) {
        _this2.update(data);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'startPollingApi',
    value: function startPollingApi() {
      _polls2.default.start({
        poll: 'thread-posts',

        url: this.props.thread.api.posts.index,
        data: {
          page: this.props.params.page || 1
        },
        update: this.update,

        frequency: 120 * 1000,
        delayed: true
      });
    }
  }, {
    key: 'stopPollingApi',
    value: function stopPollingApi() {
      _polls2.default.stop('thread-posts');
    }
  }, {
    key: 'setPageTitle',
    value: function setPageTitle() {
      _pageTitle2.default.set({
        title: this.props.thread.title,
        parent: this.props.thread.category.name,
        page: (this.props.params.page || 1) * 1
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      var className = 'page page-thread';
      if (this.props.thread.category.css_class) {
        className += ' page-thread-' + this.props.thread.category.css_class;
      }

      return _react2.default.createElement(
        'div',
        { className: className },
        _react2.default.createElement(
          'div',
          { className: 'page-header-bg' },
          _react2.default.createElement(_header2.default, this.props)
        ),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(_toolbarTop2.default, _extends({
            openReplyForm: this.openReplyForm
          }, this.props)),
          _react2.default.createElement(_poll.Poll, {
            poll: this.props.poll,
            thread: this.props.thread,
            user: this.props.user
          }),
          _react2.default.createElement(_participants2.default, {
            participants: this.props.participants,
            thread: this.props.thread,
            user: this.props.user
          }),
          _react2.default.createElement(_postsList2.default, this.props),
          _react2.default.createElement(_toolbarBottom2.default, _extends({
            openReplyForm: this.openReplyForm
          }, this.props))
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/participants":367,"../../reducers/poll":368,"../../reducers/posts":370,"../../reducers/thread":376,"../../services/ajax":381,"../../services/page-title":389,"../../services/polls":390,"../../services/posting":391,"../../services/snackbar":392,"../../services/store":393,"../participants":116,"../poll":121,"../posts-list":166,"./header":234,"./toolbar-bottom":252,"./toolbar-top":253,"react":"react"}],251:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Email = exports.Enable = exports.Disable = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (!props.user.id) return null;

  return _react2.default.createElement(
    'div',
    { className: props.className },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default dropdown-toggle btn-block btn-outline',
        'data-toggle': 'dropdown',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        getIcon(props.thread.subscription)
      ),
      getLabel(props.thread.subscription)
    ),
    _react2.default.createElement(Dropdown, props)
  );
};

exports.getIcon = getIcon;
exports.getLabel = getLabel;
exports.Dropdown = Dropdown;
exports.update = update;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _thread = require('../../reducers/thread');

var actions = _interopRequireWildcard(_thread);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function getIcon(subscription) {
  if (subscription === true) {
    return 'star';
  } else if (subscription === false) {
    return 'star_half';
  } else {
    return 'star_border';
  }
}

function getLabel(subscription) {
  if (subscription === true) {
    return gettext("E-mail");
  } else if (subscription === false) {
    return gettext("Enabled");
  } else {
    return gettext("Disabled");
  }
}

function Dropdown(props) {
  return _react2.default.createElement(
    'ul',
    { className: props.dropdownClassName || "dropdown-menu stick-to-bottom" },
    _react2.default.createElement(Disable, props),
    _react2.default.createElement(Enable, props),
    _react2.default.createElement(Email, props)
  );
}

var Disable = exports.Disable = function (_React$Component) {
  _inherits(Disable, _React$Component);

  function Disable() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Disable);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Disable.__proto__ || Object.getPrototypeOf(Disable)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.thread.subscription === null) {
        return;
      }

      update(_this.props.thread, null, 'unsubscribe');
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Disable, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star_border'
          ),
          gettext("Unsubscribe")
        )
      );
    }
  }]);

  return Disable;
}(_react2.default.Component);

var Enable = exports.Enable = function (_React$Component2) {
  _inherits(Enable, _React$Component2);

  function Enable() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Enable);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Enable.__proto__ || Object.getPrototypeOf(Enable)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      if (_this2.props.thread.subscription === false) {
        return;
      }

      update(_this2.props.thread, false, 'notify');
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Enable, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star_half'
          ),
          gettext("Subscribe")
        )
      );
    }
  }]);

  return Enable;
}(_react2.default.Component);

var Email = exports.Email = function (_React$Component3) {
  _inherits(Email, _React$Component3);

  function Email() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Email);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Email.__proto__ || Object.getPrototypeOf(Email)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      if (_this3.props.thread.subscription === true) {
        return;
      }

      update(_this3.props.thread, true, 'email');
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Email, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star'
          ),
          gettext("Subscribe with e-mail")
        )
      );
    }
  }]);

  return Email;
}(_react2.default.Component);

function update(thread, newState, value) {
  var oldState = {
    subscription: thread.subscription
  };

  _store2.default.dispatch(actions.update({
    subscription: newState
  }));

  _ajax2.default.patch(thread.api.index, [{ op: 'replace', path: 'subscription', value: value }]).then(function (finalState) {
    _store2.default.dispatch(actions.update(finalState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(actions.update(oldState));
  });
}

},{"../../reducers/thread":376,"../../services/ajax":381,"../../services/snackbar":392,"../../services/store":393,"react":"react"}],252:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'row row-toolbar' },
    _react2.default.createElement(
      'div',
      { className: 'col-xs-12 text-center visible-xs-block' },
      _react2.default.createElement(_paginator.More, { more: props.posts.more }),
      _react2.default.createElement('div', { className: 'toolbar-vertical-spacer' })
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-md-7' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(
          'div',
          { className: 'col-sm-4 col-md-5' },
          _react2.default.createElement(_paginator.Pager, props)
        ),
        _react2.default.createElement(
          'div',
          { className: 'col-sm-8 col-md-7 hidden-xs' },
          _react2.default.createElement(_paginator.More, { more: props.posts.more })
        )
      )
    ),
    _react2.default.createElement(
      Options,
      { visible: !!props.user.id },
      _react2.default.createElement('div', { className: 'toolbar-vertical-spacer hidden-md hidden-lg' }),
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(Spacer, props),
        _react2.default.createElement(Moderation, props),
        _react2.default.createElement(Subscription, props),
        _react2.default.createElement(Reply, {
          thread: props.thread,
          onClick: props.openReplyForm
        })
      )
    )
  );
};

exports.Options = Options;
exports.Moderation = Moderation;
exports.Subscription = Subscription;
exports.Reply = Reply;
exports.Spacer = Spacer;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _paginator = require('./paginator');

var _posts = require('./moderation/posts');

var _posts2 = _interopRequireDefault(_posts);

var _replyButton = require('./reply-button');

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require('./subscription');

var _subscription2 = _interopRequireDefault(_subscription);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Options(props) {
  if (!props.visible) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-md-5' },
    props.children
  );
}

function Moderation(props) {
  if (!props.user.id) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-sm-4 hidden-xs' },
    _react2.default.createElement(_posts2.default, props)
  );
}

function Subscription(props) {
  var xsClass = "col-xs-6";
  if (!props.thread.acl.can_reply) {
    xsClass = 'col-xs-12';
  }

  return _react2.default.createElement(
    'div',
    { className: xsClass + " col-sm-4" },
    _react2.default.createElement(_subscription2.default, _extends({
      btnClassName: 'btn-block',
      className: 'dropup'
    }, props))
  );
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-6 col-sm-4' },
    _react2.default.createElement(_replyButton2.default, {
      className: 'btn btn-primary btn-block btn-outline',
      onClick: props.onClick
    })
  );
}

function Spacer(props) {
  if (props.thread.acl.can_reply) return null;

  return _react2.default.createElement('div', { className: 'hidden-xs hidden-sm col-sm-4' });
}

},{"./moderation/posts":239,"./paginator":247,"./reply-button":248,"./subscription":251,"react":"react"}],253:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StartPollCompact = exports.StartPoll = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  var hiddenSpecialOption = !props.thread.acl.can_start_poll || props.thread.poll;

  return _react2.default.createElement(
    'div',
    { className: 'row row-toolbar row-toolbar-bottom-margin' },
    _react2.default.createElement(GotoMenu, props),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-9 col-md-5 col-md-offset-2' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(Spacer, { visible: !props.user.id }),
        _react2.default.createElement(Spacer, { visible: hiddenSpecialOption }),
        _react2.default.createElement(SubscriptionMenu, props),
        _react2.default.createElement(StartPoll, props),
        _react2.default.createElement(Reply, props)
      )
    )
  );
};

exports.GotoMenu = GotoMenu;
exports.GotoNew = GotoNew;
exports.GotoBestAnswer = GotoBestAnswer;
exports.GotoUnapproved = GotoUnapproved;
exports.GotoLast = GotoLast;
exports.CompactOptions = CompactOptions;
exports.GotoNewCompact = GotoNewCompact;
exports.GotoUnapprovedCompact = GotoUnapprovedCompact;
exports.GotoLastCompact = GotoLastCompact;
exports.Reply = Reply;
exports.SubscriptionMenu = SubscriptionMenu;
exports.Spacer = Spacer;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _replyButton = require('./reply-button');

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require('./subscription');

var _subscription2 = _interopRequireDefault(_subscription);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function GotoMenu(props) {
  var user = props.user;


  var className = 'col-xs-3 col-sm-3 col-md-5';
  if (user.is_anonymous) {
    className = 'col-xs-12 col-sm-3 col-md-5';
  }

  return _react2.default.createElement(
    'div',
    { className: className },
    _react2.default.createElement(
      'div',
      { className: 'row hidden-xs hidden-sm' },
      _react2.default.createElement(GotoLast, { thread: props.thread }),
      _react2.default.createElement(GotoNew, { thread: props.thread }),
      _react2.default.createElement(GotoBestAnswer, { thread: props.thread }),
      _react2.default.createElement(GotoUnapproved, { thread: props.thread })
    ),
    _react2.default.createElement(CompactOptions, props)
  );
}

function GotoNew(props) {
  if (!props.thread.is_new) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-sm-4' },
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.new_post,
        className: 'btn btn-default btn-block btn-outline',
        title: gettext('Go to first new post')
      },
      gettext("New")
    )
  );
}

function GotoBestAnswer(props) {
  if (!props.thread.best_answer) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'col-sm-4' },
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.best_answer,
        className: 'btn btn-default btn-block btn-outline',
        title: gettext('Go to best answer')
      },
      gettext("Best answer")
    )
  );
}

function GotoUnapproved(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'col-sm-4' },
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.unapproved_post,
        className: 'btn btn-default btn-block btn-outline',
        title: gettext('Go to first unapproved post')
      },
      gettext("Unapproved")
    )
  );
}

function GotoLast(props) {
  return _react2.default.createElement(
    'div',
    { className: 'col-sm-4' },
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.last_post,
        className: 'btn btn-default btn-block btn-outline',
        title: gettext('Go to last post')
      },
      gettext("Last")
    )
  );
}

function CompactOptions(props) {
  var user = props.user;

  if (user.is_anonymous) {
    return _react2.default.createElement(
      'div',
      { className: 'visible-xs-block visible-sm-block' },
      _react2.default.createElement(
        'a',
        {
          href: props.thread.url.last_post,
          className: 'btn btn-default btn-block btn-outline'
        },
        gettext("Last post")
      )
    );
  }

  return _react2.default.createElement(
    'div',
    { className: 'dropdown visible-xs-block visible-sm-block' },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default dropdown-toggle btn-block btn-outline',
        'data-toggle': 'dropdown',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'expand_more'
      ),
      _react2.default.createElement(
        'span',
        { className: 'btn-text hidden-xs' },
        gettext("Options")
      )
    ),
    _react2.default.createElement(
      'ul',
      { className: 'dropdown-menu' },
      _react2.default.createElement(StartPollCompact, props),
      _react2.default.createElement(GotoNewCompact, props),
      _react2.default.createElement(GotoUnapprovedCompact, props),
      _react2.default.createElement(GotoLastCompact, props)
    )
  );
}

function GotoNewCompact(props) {
  if (!props.thread.is_new) return null;

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.new_post,
        className: 'btn btn-link'
      },
      gettext("Go to first new post")
    )
  );
}

function GotoUnapprovedCompact(props) {
  if (!props.thread.has_unapproved_posts || !props.thread.acl.can_approve) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.unapproved_post,
        className: 'btn btn-link'
      },
      gettext("Go to first unapproved post")
    )
  );
}

function GotoLastCompact(props) {
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      {
        href: props.thread.url.last_post,
        className: 'btn btn-link'
      },
      gettext("Go to last post")
    )
  );
}

function Reply(props) {
  if (!props.thread.acl.can_reply) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-sm-4 hidden-xs' },
    _react2.default.createElement(_replyButton2.default, {
      className: 'btn btn-primary btn-block btn-outline',
      onClick: props.openReplyForm
    })
  );
}

function SubscriptionMenu(props) {
  if (!props.user.id) return null;

  return _react2.default.createElement(
    'div',
    { className: 'col-xs-12 col-sm-4' },
    _react2.default.createElement(_subscription2.default, _extends({
      className: 'dropdown',
      dropdownClassName: 'dropdown-menu dropdown-menu-right stick-to-bottom'
    }, props))
  );
}

var StartPoll = exports.StartPoll = function (_React$Component) {
  _inherits(StartPoll, _React$Component);

  function StartPoll() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, StartPoll);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = StartPoll.__proto__ || Object.getPrototypeOf(StartPoll)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _posting2.default.open({
        mode: 'POLL',
        submit: _this.props.thread.api.poll,

        thread: _this.props.thread,
        poll: null
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(StartPoll, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return _react2.default.createElement(
        'div',
        { className: 'col-sm-4 hidden-xs' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-block btn-outline',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'poll'
          ),
          gettext("Add poll")
        )
      );
    }
  }]);

  return StartPoll;
}(_react2.default.Component);

var StartPollCompact = exports.StartPollCompact = function (_StartPoll) {
  _inherits(StartPollCompact, _StartPoll);

  function StartPollCompact() {
    _classCallCheck(this, StartPollCompact);

    return _possibleConstructorReturn(this, (StartPollCompact.__proto__ || Object.getPrototypeOf(StartPollCompact)).apply(this, arguments));
  }

  _createClass(StartPollCompact, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.onClick,
            type: 'button'
          },
          gettext("Add poll")
        )
      );
    }
  }]);

  return StartPollCompact;
}(StartPoll);

function Spacer(props) {
  if (!props.visible) return null;

  return _react2.default.createElement('div', { className: 'col-sm-4 hidden-xs' });
}

},{"../../services/posting":391,"./reply-button":248,"./subscription":251,"react":"react"}],254:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!props.isLoaded) {
    return _react2.default.createElement(_preview2.default, null);
  }

  if (props.threads.length === 0) {
    return _react2.default.createElement(
      _empty2.default,
      {
        diffSize: props.diffSize,
        applyDiff: props.applyDiff
      },
      props.children
    );
  }

  return _react2.default.createElement(_ready2.default, {
    activeCategory: props.category,
    categories: props.categories,
    list: props.list,
    threads: props.threads,

    diffSize: props.diffSize,
    applyDiff: props.applyDiff,

    showOptions: props.showOptions,
    selection: props.selection,

    busyThreads: props.busyThreads
  });
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _empty = require('./list/empty');

var _empty2 = _interopRequireDefault(_empty);

var _ready = require('./list/ready');

var _ready2 = _interopRequireDefault(_ready);

var _preview = require('./list/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./list/empty":256,"./list/preview":257,"./list/ready":258,"react":"react"}],255:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var diffSize = props.diffSize,
      applyDiff = props.applyDiff;


  if (diffSize === 0) return null;

  return _react2.default.createElement(
    "li",
    { className: "list-group-item threads-diff-message" },
    _react2.default.createElement(
      "button",
      {
        type: "button",
        className: "btn btn-block btn-default",
        onClick: applyDiff
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "cached"
      ),
      _react2.default.createElement(
        "span",
        { className: "diff-message" },
        getMessage(diffSize)
      )
    )
  );
};

exports.getMessage = getMessage;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function getMessage(diffSize) {
  var message = ngettext("There is %(threads)s new or updated thread. Click this message to show it.", "There are %(threads)s new or updated threads. Click this message to show them.", diffSize);

  return interpolate(message, {
    threads: diffSize
  }, true);
}

},{"react":"react"}],256:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require('./diff-message');

var _diffMessage2 = _interopRequireDefault(_diffMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getDiffMessage',
    value: function getDiffMessage() {
      if (this.props.diffSize === 0) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(_diffMessage2.default, {
        applyDiff: this.props.applyDiff,
        diffSize: this.props.diffSize
      });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.getDiffMessage(),
          this.props.children
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./diff-message":255,"react":"react"}],257:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _preview = require('../thread/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-preview' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          _react2.default.createElement(_preview2.default, null)
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../thread/preview":265,"react":"react"}],258:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'threads-list ui-ready' },
    _react2.default.createElement(
      'ul',
      { className: 'list-group' },
      _react2.default.createElement(_diffMessage2.default, {
        diffSize: props.diffSize,
        applyDiff: props.applyDiff
      }),
      props.threads.map(function (thread) {
        return _react2.default.createElement(_ready2.default, {
          activeCategory: props.activeCategory,
          categories: props.categories,
          list: props.list,
          thread: thread,

          showOptions: props.showOptions,
          isSelected: props.selection.indexOf(thread.id) >= 0,

          isBusy: props.busyThreads.indexOf(thread.id) >= 0,
          key: thread.id
        });
      })
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require('./diff-message');

var _diffMessage2 = _interopRequireDefault(_diffMessage);

var _ready = require('../thread/ready');

var _ready2 = _interopRequireDefault(_ready);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../thread/ready":266,"./diff-message":255,"react":"react"}],259:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      isBusy = _ref.isBusy,
      showOptions = _ref.showOptions,
      isSelected = _ref.isSelected,
      thread = _ref.thread;

  var className = 'col-xs-12 col-sm-12';
  if (showOptions) {
    if (thread.moderation.length) {
      className = 'col-xs-6 col-sm-12';
    } else {
      className = 'col-xs-9 col-sm-12';
    }
  }

  var statusFlags = 0;
  if (thread.is_hidden) statusFlags += 1;
  if (thread.is_closed) statusFlags += 1;
  if (thread.has_poll) statusFlags += 1;

  var allFlagsVisible = showOptions && statusFlags === 3;

  var textClassName = 'detail-text hidden-xs';
  if (allFlagsVisible) {
    textClassName += ' hidden-sm';
  }

  return _react2.default.createElement(
    'div',
    { className: 'row thread-details-bottom' },
    _react2.default.createElement(
      'div',
      { className: className },
      _react2.default.createElement(_category2.default, {
        className: 'item-title thread-detail-category hidden-xs',
        category: category
      }),
      _react2.default.createElement(HiddenLabel, {
        textClassName: textClassName,
        display: thread.is_hidden
      }),
      _react2.default.createElement(ClosedLabel, {
        textClassName: textClassName,
        display: thread.is_closed
      }),
      _react2.default.createElement(PollLabel, {
        textClassName: textClassName,
        display: thread.has_poll
      }),
      _react2.default.createElement(BestAnswerLabel, { thread: thread }),
      _react2.default.createElement(RepliesLabel, {
        forceFullText: !showOptions || statusFlags < 2,
        replies: thread.replies
      }),
      _react2.default.createElement(LastReplyLabel, {
        datetime: thread.last_post_on,
        url: thread.url.last_post
      }),
      _react2.default.createElement(LastPoster, {
        posterName: thread.last_poster_name,
        url: thread.url.last_poster
      })
    ),
    _react2.default.createElement(_options.OptionsXs, {
      disabled: isBusy,
      display: showOptions,
      isSelected: isSelected,
      thread: thread
    })
  );;
};

exports.HiddenLabel = HiddenLabel;
exports.ClosedLabel = ClosedLabel;
exports.PollLabel = PollLabel;
exports.BestAnswerLabel = BestAnswerLabel;
exports.RepliesLabel = RepliesLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('./category');

var _category2 = _interopRequireDefault(_category);

var _options = require('../options');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function HiddenLabel(_ref2) {
  var display = _ref2.display,
      textClassName = _ref2.textClassName;

  if (!display) return null;

  return _react2.default.createElement(
    'span',
    { className: 'thread-detail-hidden' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'visibility_off'
    ),
    _react2.default.createElement(
      'span',
      { className: textClassName },
      gettext("Hidden")
    )
  );
}

function ClosedLabel(_ref3) {
  var display = _ref3.display,
      textClassName = _ref3.textClassName;

  if (!display) return null;

  return _react2.default.createElement(
    'span',
    { className: 'thread-detail-closed' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'lock_outline'
    ),
    _react2.default.createElement(
      'span',
      { className: textClassName },
      gettext("Closed")
    )
  );
}

function PollLabel(_ref4) {
  var display = _ref4.display,
      textClassName = _ref4.textClassName;

  if (!display) return null;

  return _react2.default.createElement(
    'span',
    { className: 'thread-detail-poll' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'assessment'
    ),
    _react2.default.createElement(
      'span',
      { className: textClassName },
      gettext("Poll")
    )
  );
}

function BestAnswerLabel(_ref5) {
  var thread = _ref5.thread;

  if (!thread.best_answer) return null;

  return _react2.default.createElement(
    'a',
    {
      className: 'visible-xs-inline-block thread-detail-answered',
      href: thread.url.best_answer
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'check_box'
    )
  );
}

function RepliesLabel(_ref6) {
  var replies = _ref6.replies,
      forceFullText = _ref6.forceFullText;

  var text = ngettext("%(replies)s reply", "%(replies)s replies", replies);

  var compactClassName = '';
  var fullClassName = '';

  if (forceFullText) {
    compactClassName = 'detail-text hide';
    fullClassName = 'detail-text';
  } else {
    compactClassName = 'detail-text visible-xs-inline-block';
    fullClassName = 'detail-text hidden-xs';
  }

  return _react2.default.createElement(
    'span',
    { className: 'thread-detail-replies' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'forum'
    ),
    _react2.default.createElement(
      'span',
      { className: compactClassName },
      replies
    ),
    _react2.default.createElement(
      'span',
      { className: fullClassName },
      interpolate(text, { replies: replies }, true)
    )
  );
}

function LastReplyLabel(_ref7) {
  var datetime = _ref7.datetime,
      url = _ref7.url;

  return _react2.default.createElement(
    'a',
    {
      className: 'visible-sm-inline-block thread-detail-last-reply',
      href: url,
      title: datetime.format('LLL')
    },
    datetime.fromNow(true)
  );
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;

  var className = 'visible-sm-inline-block item-title thread-last-poster';

  if (url) {
    return _react2.default.createElement(
      'a',
      { className: className, href: url },
      posterName
    );
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    posterName
  );;
}

},{"../options":264,"./category":260,"react":"react"}],260:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      className = _ref.className;

  if (!category) return null;

  if (category.css_class) {
    className += ' thread-detail-category-' + category.css_class;
  }

  return _react2.default.createElement(
    'a',
    {
      className: className,
      href: category.url.index
    },
    category.name
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],261:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TopDetails = exports.BottomDetails = undefined;

var _bottom = require('./bottom');

var _bottom2 = _interopRequireDefault(_bottom);

var _top = require('./top');

var _top2 = _interopRequireDefault(_top);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
exports.BottomDetails = _bottom2.default;
exports.TopDetails = _top2.default;

},{"./bottom":259,"./top":262}],262:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var category = _ref.category,
      thread = _ref.thread;

  return _react2.default.createElement(
    'div',
    { className: 'thread-details-top' },
    _react2.default.createElement(NewLabel, {
      isRead: thread.is_read,
      url: thread.url.new_post
    }),
    _react2.default.createElement(PinnedLabel, { weight: thread.weight }),
    _react2.default.createElement(UnapprovedLabel, {
      thread: thread.is_unapproved,
      posts: thread.has_unapproved_posts
    }),
    _react2.default.createElement(BestAnswerLabel, { thread: thread }),
    _react2.default.createElement(_category2.default, {
      className: 'item-title thread-detail-category visible-xs-inline-block',
      category: category
    }),
    _react2.default.createElement(LastReplyLabel, {
      datetime: thread.last_post_on,
      url: thread.url.last_post
    }),
    _react2.default.createElement(LastPoster, {
      posterName: thread.last_poster_name,
      url: thread.url.last_poster
    })
  );
};

exports.NewLabel = NewLabel;
exports.PinnedLabel = PinnedLabel;
exports.UnapprovedLabel = UnapprovedLabel;
exports.BestAnswerLabel = BestAnswerLabel;
exports.LastReplyLabel = LastReplyLabel;
exports.LastPoster = LastPoster;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('./category');

var _category2 = _interopRequireDefault(_category);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NewLabel(_ref2) {
  var isRead = _ref2.isRead,
      url = _ref2.url;

  if (isRead) return null;

  return _react2.default.createElement(
    'a',
    {
      className: 'thread-detail-new',
      href: url
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'comment'
    ),
    _react2.default.createElement(
      'span',
      { className: 'detail-text' },
      gettext("New posts")
    )
  );
} /* jshint ignore:start */
function PinnedLabel(_ref3) {
  var weight = _ref3.weight;

  if (weight === 0) return null;

  var className = 'thread-detail-pinned-globally';
  var icon = 'bookmark';
  var text = gettext("Pinned globally");

  if (weight === 1) {
    className = 'thread-detail-pinned-locally';
    icon = 'bookmark_border';
    text = gettext("Pinned locally");
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      icon
    ),
    _react2.default.createElement(
      'span',
      { className: 'detail-text' },
      text
    )
  );
}

function UnapprovedLabel(_ref4) {
  var posts = _ref4.posts,
      thread = _ref4.thread;

  if (!posts && !thread) return null;

  var className = 'thread-detail-unapproved-posts';
  var icon = 'remove_circle_outline';
  var text = gettext("Unapproved posts");

  if (thread) {
    className = 'thread-detail-unapproved';
    icon = 'remove_circle';
    text = gettext("Unapproved");
  }

  return _react2.default.createElement(
    'span',
    { className: className },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      icon
    ),
    _react2.default.createElement(
      'span',
      { className: 'detail-text' },
      text
    )
  );
}

function BestAnswerLabel(_ref5) {
  var thread = _ref5.thread;

  if (!thread.best_answer) return null;

  return _react2.default.createElement(
    'a',
    {
      className: 'hidden-xs thread-detail-answered',
      href: thread.url.best_answer
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'check_box'
    ),
    _react2.default.createElement(
      'span',
      { className: 'detail-text' },
      gettext("Answered")
    )
  );
}

function LastReplyLabel(_ref6) {
  var datetime = _ref6.datetime,
      url = _ref6.url;

  return _react2.default.createElement(
    'a',
    {
      className: 'visible-xs-inline-block thread-detail-last-reply',
      href: url,
      title: datetime.format('LLL')
    },
    datetime.fromNow(true)
  );
}

function LastPoster(props) {
  var posterName = props.posterName,
      url = props.url;


  if (url) {
    return _react2.default.createElement(
      'a',
      {
        className: 'visible-xs-inline-block item-title thread-last-poster',
        href: url
      },
      posterName
    );
  }

  return _react2.default.createElement(
    'span',
    { className: 'visible-xs-inline-block item-title thread-last-poster' },
    posterName
  );
}

},{"./category":260,"react":"react"}],263:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var thread = _ref.thread;

  return _react2.default.createElement(
    'div',
    { className: 'media' },
    _react2.default.createElement(
      'div',
      { className: 'media-left' },
      _react2.default.createElement(
        _userUrl2.default,
        {
          className: 'thread-last-poster-avatar',
          title: thread.last_poster_name,
          url: thread.url.last_poster
        },
        _react2.default.createElement(_avatar2.default, {
          className: 'media-object',
          size: 40,
          user: thread.last_poster
        })
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'media-body' },
      _react2.default.createElement(
        _userUrl2.default,
        {
          className: 'item-title thread-last-poster',
          url: thread.url.last_poster
        },
        thread.last_poster_name
      ),
      _react2.default.createElement(Timestamp, {
        datetime: thread.last_post_on,
        url: thread.url.last_post
      })
    )
  );
};

exports.Timestamp = Timestamp;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userUrl = require('./user-url');

var _userUrl2 = _interopRequireDefault(_userUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function Timestamp(_ref2) {
  var datetime = _ref2.datetime,
      url = _ref2.url;

  return _react2.default.createElement(
    'a',
    {
      className: 'thread-last-reply',
      href: url,
      title: datetime.format('LLL')
    },
    datetime.fromNow(true)
  );
}

},{"../../avatar":22,"./user-url":271,"react":"react"}],264:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Checkbox = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Options = Options;
exports.OptionsXs = OptionsXs;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _compact = require('./subscription/compact');

var _compact2 = _interopRequireDefault(_compact);

var _full = require('./subscription/full');

var _full2 = _interopRequireDefault(_full);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function Options(_ref) {
  var display = _ref.display,
      disabled = _ref.disabled,
      isSelected = _ref.isSelected,
      thread = _ref.thread;

  if (!display) return null;

  var className = 'col-sm-2 col-md-2 hidden-xs';
  if (thread.moderation.length) {
    className = 'col-sm-3 col-md-2 hidden-xs';
  }

  return _react2.default.createElement(
    'div',
    { className: className },
    _react2.default.createElement(
      'div',
      { className: 'row thread-options' },
      _react2.default.createElement(_full2.default, {
        thread: thread,
        disabled: disabled
      }),
      _react2.default.createElement(_compact2.default, {
        thread: thread,
        disabled: disabled
      }),
      _react2.default.createElement(Checkbox, {
        thread: thread,
        disabled: disabled,
        isSelected: isSelected
      })
    )
  );
}

function OptionsXs(_ref2) {
  var display = _ref2.display,
      disabled = _ref2.disabled,
      isSelected = _ref2.isSelected,
      thread = _ref2.thread;

  if (!display) return null;

  var className = '';
  if (thread.moderation.length) {
    className += 'col-xs-6';
  } else {
    className += 'col-xs-3';
  }
  className += ' visible-xs-block thread-options-xs';

  return _react2.default.createElement(
    'div',
    { className: className },
    _react2.default.createElement(
      'div',
      { className: 'row thread-options' },
      _react2.default.createElement(_full2.default, {
        thread: thread,
        disabled: disabled
      }),
      _react2.default.createElement(_compact2.default, {
        thread: thread,
        disabled: disabled
      }),
      _react2.default.createElement(Checkbox, {
        thread: thread,
        disabled: disabled,
        isSelected: isSelected
      })
    )
  );
}

var Checkbox = exports.Checkbox = function (_React$Component) {
  _inherits(Checkbox, _React$Component);

  function Checkbox() {
    var _ref3;

    var _temp, _this, _ret;

    _classCallCheck(this, Checkbox);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref3 = Checkbox.__proto__ || Object.getPrototypeOf(Checkbox)).call.apply(_ref3, [this].concat(args))), _this), _this.toggleSelection = function () {
      _store2.default.dispatch(select.item(_this.props.thread.id));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Checkbox, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          disabled = _props.disabled,
          isSelected = _props.isSelected,
          thread = _props.thread;


      if (!thread.moderation.length) return null;

      return _react2.default.createElement(
        'div',
        { className: 'col-xs-6' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-icon btn-block',
            onClick: this.toggleSelection,
            disabled: disabled
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            isSelected ? 'check_box' : 'check_box_outline_blank'
          )
        )
      );
    }
  }]);

  return Checkbox;
}(_react2.default.Component);

},{"../../../reducers/selection":374,"../../../services/store":393,"./subscription/compact":267,"./subscription/full":268,"react":"react"}],265:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'list-group-item thread-preview' },
        _react2.default.createElement(
          'div',
          { className: 'thread-details-top visible-xs-block' },
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text',
              style: { width: random.int(30, 80) + "px" }
            },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text',
              style: { width: random.int(30, 80) + "px" }
            },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text',
              style: { width: random.int(30, 80) + "px" }
            },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'span',
          { className: 'item-title thread-title' },
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text',
              style: { width: random.int(60, 200) + "px" }
            },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text hidden-xs',
              style: { width: random.int(60, 200) + "px" }
            },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            {
              className: 'ui-preview-text hidden-xs',
              style: { width: random.int(60, 200) + "px" }
            },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'thread-details-bottom' },
          _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(30, 80) + "px" }
              },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(30, 80) + "px" }
              },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(30, 80) + "px" }
              },
              '\xA0'
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":404,"react":"react"}],266:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var activeCategory = props.activeCategory,
      categories = props.categories,
      list = props.list,
      thread = props.thread,
      isBusy = props.isBusy,
      isSelected = props.isSelected,
      showOptions = props.showOptions;


  var category = null;
  if (activeCategory.id !== thread.category) {
    category = categories[thread.category];
  }

  var flavor = category || activeCategory;

  var className = 'thread-main col-xs-12';
  if (showOptions) {
    if (thread.moderation.length) {
      className += ' col-sm-9 col-md-7';
    } else {
      className += ' col-sm-10 col-md-7';
    }
  } else {
    className += ' col-sm-12 col-md-9';
  }

  return _react2.default.createElement(
    'li',
    { className: getClassName(thread.is_read, isBusy, isSelected, flavor) },
    _react2.default.createElement(_details.TopDetails, {
      category: category,
      thread: thread
    }),
    _react2.default.createElement(
      'div',
      { className: 'row thread-row' },
      _react2.default.createElement(
        'div',
        { className: className },
        _react2.default.createElement(
          'div',
          { className: 'media' },
          _react2.default.createElement(
            'div',
            { className: 'media-left hidden-xs' },
            _react2.default.createElement(
              _userUrl2.default,
              {
                className: 'thread-starter-avatar',
                title: thread.starter_name,
                url: thread.url.starter
              },
              _react2.default.createElement(_avatar2.default, {
                size: 40,
                user: thread.starter
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'media-body' },
            _react2.default.createElement(
              'a',
              { href: thread.url.index, className: 'item-title thread-title' },
              thread.title
            ),
            _react2.default.createElement(_details.BottomDetails, {
              category: category,
              disabled: isBusy,
              isSelected: isSelected,
              showOptions: showOptions,
              thread: thread
            })
          )
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'col-md-3 hidden-xs hidden-sm thread-last-action' },
        _react2.default.createElement(_lastAction2.default, { thread: thread })
      ),
      _react2.default.createElement(_options.Options, {
        disabled: isBusy,
        display: showOptions,
        isSelected: isSelected,
        thread: thread
      })
    )
  );
};

exports.getClassName = getClassName;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _details = require('./details');

var _lastAction = require('./last-action');

var _lastAction2 = _interopRequireDefault(_lastAction);

var _options = require('./options');

var _userUrl = require('./user-url');

var _userUrl2 = _interopRequireDefault(_userUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getClassName(isRead, isBusy, isSelected, flavor) {
  var styles = ['list-group-item'];

  if (flavor && flavor.css_class) {
    styles.push('list-group-category-has-flavor');
    styles.push('list-group-item-category-' + flavor.css_class);
  }

  if (isRead) {
    styles.push('thread-read');
  } else {
    styles.push('thread-new');
  }

  if (isBusy) {
    styles.push('thread-busy');
  } else if (isSelected) {
    styles.push('thread-selected');
  }

  return styles.join(' ');
} /* jshint ignore:start */

},{"../../avatar":22,"./details":261,"./last-action":263,"./options":264,"./user-url":271,"react":"react"}],267:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _full = require('./full');

var _full2 = _interopRequireDefault(_full);

var _modal = require('./modal');

var _modal2 = _interopRequireDefault(_modal);

var _modal3 = require('../../../../services/modal');

var _modal4 = _interopRequireDefault(_modal3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_SubscriptionFull) {
  _inherits(_class, _SubscriptionFull);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showOptions = function () {
      _modal4.default.show(_react2.default.createElement(_modal2.default, { thread: _this.props.thread }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      var moderation = this.props.thread.moderation;


      var className = '';
      if (moderation.length) {
        className += 'col-xs-6';
      } else {
        className += 'col-xs-12';
      }
      className += ' hidden-md hidden-lg';

      return _react2.default.createElement(
        'div',
        { className: className },
        _react2.default.createElement(
          'button',
          {
            type: 'button',
            className: this.getClassName(),
            disabled: this.props.disabled,
            onClick: this.showOptions
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.getIcon()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_full2.default);

exports.default = _class;

},{"../../../../services/modal":387,"./full":268,"./modal":269,"react":"react"}],268:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Label = Label;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.thread.subscription === true) {
        return 'star';
      } else if (this.props.thread.subscription === false) {
        return 'star_half';
      }

      return 'star_border';
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.thread.subscription === true) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-full dropdown-toggle";
      } else if (this.props.thread.subscription === false) {
        return "btn btn-default btn-icon btn-block btn-subscribe btn-subscribe-half dropdown-toggle";
      }

      return "btn btn-default btn-icon btn-block btn-subscribe dropdown-toggle";
    }
  }, {
    key: 'render',
    value: function render() {
      var _props$thread = this.props.thread,
          moderation = _props$thread.moderation,
          subscription = _props$thread.subscription;

      var fullwidth = !moderation.length;

      var className = fullwidth ? 'col-xs-12' : 'col-xs-6';
      className += ' hidden-xs hidden-sm';

      return _react2.default.createElement(
        'div',
        { className: className },
        _react2.default.createElement(
          'div',
          { className: 'btn-group btn-group-justified' },
          _react2.default.createElement(
            'div',
            { className: 'btn-group' },
            _react2.default.createElement(
              'button',
              {
                type: 'button',
                className: this.getClassName(),
                disabled: this.props.disabled,
                'data-toggle': 'dropdown',
                'aria-haspopup': 'true',
                'aria-expanded': 'false'
              },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                this.getIcon()
              ),
              _react2.default.createElement(Label, {
                moderation: moderation,
                subscription: subscription
              })
            ),
            _react2.default.createElement(_options2.default, {
              className: 'dropdown-menu dropdown-menu-right',
              thread: this.props.thread
            })
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Label(_ref) {
  var moderation = _ref.moderation,
      subscription = _ref.subscription;

  if (moderation.length) return null;

  var text = gettext("Disabled");
  if (subscription === true) {
    text = gettext("E-mail");
  } else if (subscription === false) {
    text = gettext("Enabled");
  }

  return _react2.default.createElement(
    'span',
    { className: 'btn-text' },
    text
  );
}

},{"./options":270,"react":"react"}],269:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-sm',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change subscription")
            )
          ),
          _react2.default.createElement(_options2.default, { className: 'modal-menu', thread: this.props.thread })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./options":270,"react":"react"}],270:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _threads = require('../../../../reducers/threads');

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

/* jshint ignore:start */
var STATE_UPDATES = {
  'unsubscribe': null,
  'notify': false,
  'email': true
};
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setSubscription = function (newState) {
      _modal2.default.hide();

      _this.setState({
        isLoading: true
      });

      var oldState = _this.props.thread.subscription;

      _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
        subscription: STATE_UPDATES[newState]
      }));

      _ajax2.default.patch(_this.props.thread.api.index, [{ op: 'replace', path: 'subscription', value: newState }]).then(function () {
        _this.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
          subscription: STATE_UPDATES[oldState]
        }));
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.unsubscribe = function () {
      _this.setSubscription('unsubscribe');
    };

    _this.notify = function () {
      _this.setSubscription('notify');
    };

    _this.email = function () {
      _this.setSubscription('email');
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.unsubscribe },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star_border'
            ),
            gettext("Unsubscribe")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.notify },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star_half'
            ),
            gettext("Subscribe")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.email },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star'
            ),
            gettext("Subscribe with e-mail")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/threads":377,"../../../../services/ajax":381,"../../../../services/modal":387,"../../../../services/snackbar":392,"../../../../services/store":393,"../../../button":24,"react":"react"}],271:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var children = _ref.children,
      className = _ref.className,
      title = _ref.title,
      url = _ref.url;

  if (url) {
    return _react2.default.createElement(
      'a',
      {
        className: className,
        href: url,
        title: title
      },
      children
    );
  }

  return _react2.default.createElement(
    'span',
    {
      className: className,
      title: title
    },
    children
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],272:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getUrl',
    value: function getUrl() {
      if (this.props.listPath) {
        return this.props.category.url.index + this.props.listPath;
      } else {
        return this.props.category.url.index;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          _reactRouter.Link,
          { to: this.getUrl(), className: 'btn btn-link' },
          this.props.category.name
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'dropdown category-picker' },
        _react2.default.createElement(
          'button',
          {
            type: 'button',
            className: 'btn btn-default btn-outline dropdown-toggle btn-block',
            'data-toggle': 'dropdown',
            'aria-haspopup': 'true',
            'aria-expanded': 'false'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'label_outline'
          ),
          _react2.default.createElement(
            'span',
            { className: 'hidden-xs' },
            gettext("Category")
          )
        ),
        _react2.default.createElement(
          'ul',
          { className: 'dropdown-menu stick-to-bottom categories-menu' },
          this.props.choices.map(function (id) {
            if (_this3.props.categories[id]) {
              return _react2.default.createElement(Subcategory, {
                category: _this3.props.categories[id],
                listPath: _this3.props.list.path,
                key: id
              });
            } else {
              return null;
            }
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react","react-router":"react-router"}],273:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.compareLastPostAge = compareLastPostAge;
exports.compareGlobalWeight = compareGlobalWeight;
exports.compareWeight = compareWeight;
function compareLastPostAge(a, b) {
  if (a.last_post > b.last_post) {
    return -1;
  } else if (a.last_post < b.last_post) {
    return 1;
  } else {
    return 0;
  }
}

function compareGlobalWeight(a, b) {
  if (a.weight === 2 && a.weight > b.weight) {
    return -1;
  } else if (b.weight === 2 && a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

function compareWeight(a, b) {
  if (a.weight > b.weight) {
    return -1;
  } else if (a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

},{}],274:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pageLead = require('../page-lead');

var _pageLead2 = _interopRequireDefault(_pageLead);

var _toolbar = require('./toolbar');

var _toolbar2 = _interopRequireDefault(_toolbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getCategoryDescription',
    value: function getCategoryDescription() {
      if (this.props.pageLead) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'category-description' },
          _react2.default.createElement(
            'div',
            { className: 'page-lead' },
            _react2.default.createElement(
              'p',
              null,
              this.props.pageLead
            )
          )
        );
        /* jshint ignore:end */
      } else if (this.props.route.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'category-description' },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.category.description.html })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getDisableToolbar',
    value: function getDisableToolbar() {
      return !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length;
    }
  }, {
    key: 'getToolbar',
    value: function getToolbar() {
      var isVisible = this.props.subcategories.length || this.props.user.id;

      if (!isVisible) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(_toolbar2.default, {
        subcategories: this.props.subcategories,
        categories: this.props.route.categories,
        categoriesMap: this.props.route.categoriesMap,
        list: this.props.route.list,

        threads: this.props.threads,
        moderation: this.props.moderation,
        selection: this.props.selection,
        selectAllThreads: this.props.selectAllThreads,
        selectNoneThreads: this.props.selectNoneThreads,

        addThreads: this.props.addThreads,
        freezeThread: this.props.freezeThread,
        deleteThread: this.props.deleteThread,
        updateThread: this.props.updateThread,

        api: this.props.api,
        route: this.props.route,
        disabled: this.getDisableToolbar(),
        user: this.props.user
      });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'container' },
        this.getCategoryDescription(),
        this.getToolbar(),
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../page-lead":107,"./toolbar":285,"react":"react"}],275:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ParentCategory = ParentCategory;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _nav = require('./nav');

var _nav2 = _interopRequireDefault(_nav);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.startThread = function () {
      _posting2.default.open(_this.props.startThread || {
        mode: 'START',

        config: _2.default.get('THREAD_EDITOR_API'),
        submit: _2.default.get('THREADS_API'),

        category: _this.props.route.category.id
      });
    };

    _this.state = {
      isBusy: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'hasGoBackButton',

    /* jshint ignore:end */

    value: function hasGoBackButton() {
      return !!this.props.route.category.parent;
    }
  }, {
    key: 'getGoBackButton',
    value: function getGoBackButton() {
      if (!this.props.route.category.parent) return null;

      /* jshint ignore:start */
      var parent = this.props.categories[this.props.route.category.parent];

      return _react2.default.createElement(
        'div',
        { className: 'hidden-xs col-sm-2 col-lg-1' },
        _react2.default.createElement(
          _reactRouter.Link,
          {
            className: 'btn btn-default btn-icon btn-aligned btn-go-back btn-block btn-outline',
            to: parent.url.index + this.props.route.list.path
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'keyboard_arrow_left'
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getStartThreadButton',
    value: function getStartThreadButton() {
      if (!this.props.user.id) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        _button2.default,
        {
          className: 'btn-primary btn-block btn-outline',
          onClick: this.startThread,
          disabled: this.props.disabled
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chat'
        ),
        gettext("Start thread")
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      var headerClassName = 'col-xs-12';
      if (this.hasGoBackButton()) {
        headerClassName += ' col-sm-10 col-lg-11 sm-align-row-buttons';
      }

      var isAuthenticated = !!this.props.user.id;

      return _react2.default.createElement(
        'div',
        { className: 'page-header-bg' },
        _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: isAuthenticated ? "col-sm-9 col-md-10" : "col-xs-12" },
                _react2.default.createElement(
                  'div',
                  { className: 'row' },
                  this.getGoBackButton(),
                  _react2.default.createElement(
                    'div',
                    { className: headerClassName },
                    _react2.default.createElement(ParentCategory, {
                      categories: this.props.categories,
                      category: this.props.route.category.parent
                    }),
                    _react2.default.createElement(
                      'h1',
                      null,
                      this.props.title
                    )
                  )
                )
              ),
              isAuthenticated && _react2.default.createElement(
                'div',
                { className: 'col-sm-3 col-md-2 xs-margin-top' },
                this.getStartThreadButton()
              )
            )
          ),
          _react2.default.createElement(_nav2.default, {
            baseUrl: this.props.route.category.url.index,
            list: this.props.route.list,
            lists: this.props.route.lists
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

/* jshint ignore:start */


exports.default = _class;
function ParentCategory(_ref) {
  var categories = _ref.categories,
      category = _ref.category;

  if (!category) return null;

  var parent = categories[category];

  return _react2.default.createElement(
    _reactRouter.Link,
    {
      className: 'go-back-sm visible-xs-block',
      to: parent.url.index
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chevron_left'
    ),
    parent.parent ? parent.name : gettext("Threads")
  );
}
/* jshint ignore:end */

},{"../..":318,"../../services/ajax":381,"../../services/posting":391,"../../services/snackbar":392,"../../services/store":393,"../button":24,"../dropdown-toggle":43,"./nav":282,"react":"react","react-router":"react-router"}],276:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.list.type === 'all') {
        if (this.props.emptyMessage) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'list-group-item empty-message' },
            _react2.default.createElement(
              'p',
              { className: 'lead' },
              this.props.emptyMessage
            ),
            _react2.default.createElement(
              'p',
              null,
              gettext("Why not start one yourself?")
            )
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'list-group-item empty-message' },
            _react2.default.createElement(
              'p',
              { className: 'lead' },
              this.props.category.special_role ? gettext("There are no threads on this forum... yet!") : gettext("There are no threads in this category.")
            ),
            _react2.default.createElement(
              'p',
              null,
              gettext("Why not start one yourself?")
            )
          );
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'list-group-item empty-message' },
          gettext("No threads matching specified criteria were found.")
        );
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],277:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _errorsList = require('./errors-list');

var _errorsList2 = _interopRequireDefault(_errorsList);

var _merge = require('./merge');

var _merge2 = _interopRequireDefault(_merge);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _countdown = require('../../../utils/countdown');

var _countdown2 = _interopRequireDefault(_countdown);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      var onSuccess = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      // freeze threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);
      });

      // list ids
      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      });

      // always return current acl
      ops.push({ op: 'add', path: 'acl', value: true });

      _ajax2.default.patch(_this.props.api, { ids: ids, ops: ops }).then(function (data) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        // update threads
        data.forEach(function (thread) {
          _this.props.updateThread(thread);
        });

        // show success message and call callback
        _snackbar2.default.success(successMessage);
        if (onSuccess) {
          onSuccess();
        }
      }, function (rejection) {
        // unfreeze
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        // escape on non-400 error
        if (rejection.status !== 400) {
          return _snackbar2.default.apiError(rejection);
        }

        // build errors list
        var errors = [];
        var threadsMap = {};

        _this.props.threads.forEach(function (thread) {
          threadsMap[thread.id] = thread;
        });

        rejection.forEach(function (_ref2) {
          var id = _ref2.id,
              detail = _ref2.detail;

          if (typeof threadsMap[id] !== 'undefined') {
            errors.push({
              errors: detail,
              thread: threadsMap[id]
            });
          }
        });

        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 2
      }], gettext("Selected threads were pinned globally."));
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 1
      }], gettext("Selected threads were pinned locally."));
    }, _this.unpin = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 0
      }], gettext("Selected threads were unpinned."));
    }, _this.approve = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-unapproved',
        value: false
      }], gettext("Selected threads were approved."));
    }, _this.open = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: false
      }], gettext("Selected threads were opened."));
    }, _this.close = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: true
      }], gettext("Selected threads were closed."));
    }, _this.unhide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: false
      }], gettext("Selected threads were unhidden."));
    }, _this.hide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: true
      }], gettext("Selected threads were hidden."));
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, {
        callApi: _this.callApi,
        categories: _this.props.categories,
        categoriesMap: _this.props.categoriesMap,
        route: _this.props.route,
        user: _this.props.user
      }));
    }, _this.merge = function () {
      var errors = [];
      _this.props.threads.forEach(function (thread) {
        if (!thread.acl.can_merge) {
          errors.append({
            'id': thread.id,
            'title': thread.title,
            'errors': [gettext("You don't have permission to merge this thread with others.")]
          });
        }
      });

      if (_this.props.threads.length < 2) {
        _snackbar2.default.info(gettext("You have to select at least two threads to merge."));
      } else if (errors.length) {
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        return;
      } else {
        _modal2.default.show(_react2.default.createElement(_merge2.default, _this.props));
      }
    }, _this.delete = function () {
      if (!confirm(gettext("Are you sure you want to delete selected threads?"))) {
        return;
      }

      _this.props.threads.map(function (thread) {
        _this.props.freezeThread(thread.id);
      });

      var ids = _this.props.threads.map(function (thread) {
        return thread.id;
      });

      _ajax2.default.delete(_this.props.api, ids).then(function () {
        _this.props.threads.map(function (thread) {
          _this.props.freezeThread(thread.id);
          _this.props.deleteThread(thread);
        });

        _snackbar2.default.success(gettext("Selected threads were deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          var failedThreads = rejection.map(function (thread) {
            return thread.id;
          });

          _this.props.threads.map(function (thread) {
            _this.props.freezeThread(thread.id);
            if (failedThreads.indexOf(thread.id) === -1) {
              _this.props.deleteThread(thread);
            }
          });

          _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: rejection }));
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getPinGloballyButton',

    /* jshint ignore:end */

    value: function getPinGloballyButton() {
      if (!this.props.moderation.can_pin_globally) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.pinGlobally,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark'
          ),
          gettext("Pin threads globally")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getPinLocallyButton',
    value: function getPinLocallyButton() {
      if (!this.props.moderation.can_pin) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.pinLocally,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark_border'
          ),
          gettext("Pin threads locally")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUnpinButton',
    value: function getUnpinButton() {
      if (!this.props.moderation.can_pin) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.unpin,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'panorama_fish_eye'
          ),
          gettext("Unpin threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getMoveButton',
    value: function getMoveButton() {
      if (!this.props.moderation.can_move) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.move,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          gettext("Move threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getMergeButton',
    value: function getMergeButton() {
      if (!this.props.moderation.can_merge) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.merge,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'call_merge'
          ),
          gettext("Merge threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getApproveButton',
    value: function getApproveButton() {
      if (!this.props.moderation.can_approve) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.approve,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'done'
          ),
          gettext("Approve threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getOpenButton',
    value: function getOpenButton() {
      if (!this.props.moderation.can_close) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.open,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_open'
          ),
          gettext("Open threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getCloseButton',
    value: function getCloseButton() {
      if (!this.props.moderation.can_close) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.close,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_outline'
          ),
          gettext("Close threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUnhideButton',
    value: function getUnhideButton() {
      if (!this.props.moderation.can_unhide) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.unhide,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility'
          ),
          gettext("Unhide threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getHideButton',
    value: function getHideButton() {
      if (!this.props.moderation.can_hide) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            onClick: this.hide,
            type: 'button',
            className: 'btn btn-link'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility_off'
          ),
          gettext("Hide threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getDeleteButton',
    value: function getDeleteButton() {
      if (!this.props.moderation.can_delete) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link',
            onClick: this.delete,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'clear'
          ),
          gettext("Delete threads")
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":374,"../../../services/ajax":381,"../../../services/modal":387,"../../../services/snackbar":392,"../../../services/store":393,"../../../utils/countdown":398,"./errors-list":278,"./merge":279,"./move":280,"react":"react"}],278:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ThreadErrors = ThreadErrors;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog", role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              {
                "aria-label": gettext("Close"),
                className: "close",
                "data-dismiss": "modal",
                type: "button"
              },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              gettext("Threads moderation")
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "modal-body" },
            _react2.default.createElement(
              "p",
              { className: "lead" },
              gettext("One or more threads could not be deleted:")
            ),
            _react2.default.createElement(
              "ul",
              { className: "list-unstyled list-errored-items" },
              this.props.errors.map(function (item) {
                return _react2.default.createElement(ThreadErrors, {
                  errors: item.errors,
                  key: item.thread.id,
                  thread: item.thread
                });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

/* jshint ignore:start */


exports.default = _class;
function ThreadErrors(_ref) {
  var errors = _ref.errors,
      thread = _ref.thread;

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "h5",
      null,
      thread.title
    ),
    errors.map(function (message, i) {
      return _react2.default.createElement(
        "p",
        null,
        message
      );
    })
  );
}
/* jshint ignore:end */

},{"react":"react"}],279:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _select = require('../../select');

var _select2 = _interopRequireDefault(_select);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _threads = require('../../../reducers/threads');

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _errorsList = require('./errors-list');

var _errorsList2 = _interopRequireDefault(_errorsList);

var _mergeConflict = require('../../merge-conflict');

var _mergeConflict2 = _interopRequireDefault(_mergeConflict);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.getFormdata = function () {
      return {
        threads: _this.props.threads.map(function (thread) {
          return thread.id;
        }),
        title: _this.state.title,
        category: _this.state.category,
        weight: _this.state.weight,
        is_hidden: _this.state.is_hidden,
        is_closed: _this.state.is_closed
      };
    };

    _this.handleSuccess = function (apiResponse) {
      // unfreeze and remove merged threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);
        _this.props.deleteThread(thread);
      });

      // deselect all threads
      _store2.default.dispatch(select.none());

      // append merged thread, filter threads
      _this.props.addThreads([apiResponse]);
      _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

      // hide modal
      _modal2.default.hide();
    };

    _this.handleError = function (rejection) {
      if (rejection.status === 400) {
        if (rejection.best_answers || rejection.polls) {
          _modal2.default.show(_react2.default.createElement(_mergeConflict2.default, {
            api: _index2.default.get('MERGE_THREADS_API'),
            bestAnswers: rejection.best_answers,
            data: _this.getFormdata(),
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccess
          }));
        } else {
          _this.setState({
            'errors': Object.assign({}, _this.state.errors, rejection)
          });
          _snackbar2.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: rejection }));
      } else if (rejection.best_answer) {
        _snackbar2.default.error(rejection.best_answer[0]);
      } else if (rejection.poll) {
        _snackbar2.default.error(rejection.poll[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    };

    _this.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this.setState(newState);
    };

    _this.state = {
      isLoading: false,

      title: '',
      category: null,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this.acl = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      _this.acl[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = _this.acl[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });

    _this.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('MERGE_THREADS_API'), this.getFormdata());
    }

    /* jshint ignore:start */

  }, {
    key: 'getWeightChoices',

    /* jshint ignore:end */

    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderForm',
    value: function renderForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Thread title"),
              'for': 'id_title',
              validation: this.state.errors.title },
            _react2.default.createElement('input', { id: 'id_title',
              className: 'form-control',
              type: 'text',
              onChange: this.bindInput('title'),
              value: this.state.title })
          ),
          _react2.default.createElement('div', { className: 'clearfix' }),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Category"),
              'for': 'id_category',
              validation: this.state.errors.category },
            _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
              onChange: this.onCategoryChange,
              value: this.state.category,
              choices: this.categoryChoices })
          ),
          _react2.default.createElement('div', { className: 'clearfix' }),
          this.renderWeightField(),
          this.renderHiddenField(),
          this.renderClosedField()
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              disabled: this.state.isLoading,
              type: 'button'
            },
            gettext("Cancel")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Merge threads")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCantMergeMessage',
    value: function renderCantMergeMessage() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("You can't move threads because there are no categories you are allowed to move them to.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("You need permission to start threads in category to be able to merge threads to it.")
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              type: 'button'
            },
            gettext("Ok")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (!this.state.category) {
        return 'modal-dialog modal-message';
      } else {
        return 'modal-dialog';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Merge threads")
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMergeMessage()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":318,"../../../reducers/selection":374,"../../../reducers/threads":377,"../../../services/ajax":381,"../../../services/modal":387,"../../../services/snackbar":392,"../../../services/store":393,"../../../utils/validators":409,"../../button":24,"../../category-select":37,"../../form":71,"../../form-group":70,"../../merge-conflict":74,"../../select":226,"./errors-list":278,"react":"react"}],280:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _threads = require('../../../reducers/threads');

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      event.preventDefault();

      _modal2.default.hide();

      var onSuccess = function onSuccess() {
        _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

        // deselect threads moved outside of visible scope
        var storeState = _store2.default.getState();
        var leftThreads = storeState.threads.map(function (thread) {
          return thread.id;
        });
        _store2.default.dispatch(select.all(storeState.selection.filter(function (thread) {
          return leftThreads.indexOf(thread) !== -1;
        })));
      };

      _this.props.callApi([{ op: 'replace', path: 'category', value: _this.state.category }, { op: 'replace', path: 'flatten-categories', value: null }, { op: 'add', path: 'acl', value: true }], gettext("Selected threads were moved."), onSuccess);
    };

    _this.state = {
      category: null
    };

    var acls = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      acls[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = acls[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      if (!this.state.category) {
        return 'modal-dialog modal-message';
      } else {
        return 'modal-dialog';
      }
    }
  }, {
    key: 'renderForm',
    value: function renderForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("New category"),
              'for': 'id_new_category' },
            _react2.default.createElement(_categorySelect2.default, { id: 'id_new_category',
              onChange: this.bindInput('category'),
              value: this.state.category,
              choices: this.categoryChoices })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              disabled: this.state.isLoading,
              type: 'button'
            },
            gettext("Cancel")
          ),
          _react2.default.createElement(
            'button',
            { className: 'btn btn-primary' },
            gettext("Move threads")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCantMoveMessage',
    value: function renderCantMoveMessage() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("You can't move threads because there are no categories you are allowed to move them to.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("You need permission to start threads in category to be able to move threads to it.")
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              'data-dismiss': 'modal',
              type: 'button'
            },
            gettext("Ok")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Move threads")
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMoveMessage()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/selection":374,"../../../reducers/threads":377,"../../../services/modal":387,"../../../services/store":393,"../../category-select":37,"../../form":71,"../../form-group":70,"react":"react"}],281:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.selectAll = function () {
      _store2.default.dispatch(select.all(_this.props.threads.map(function (thread) {
        return thread.id;
      })));
    }, _this.selectNone = function () {
      _store2.default.dispatch(select.none());
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-link',
              type: 'button',
              onClick: this.selectAll
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_box'
            ),
            gettext("Select all")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-link',
              type: 'button',
              onClick: this.selectNone
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_box_outline_blank'
            ),
            gettext("Select none")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":374,"../../../services/store":393,"react":"react"}],282:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var baseUrl = _ref.baseUrl,
      list = _ref.list,
      lists = _ref.lists;

  if (lists.length < 2) return null;

  return _react2.default.createElement(
    'div',
    { className: 'page-tabs' },
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'ul',
        { className: 'nav nav-pills' },
        lists.map(function (item) {
          return _react2.default.createElement(
            _li2.default,
            {
              isControlled: true,
              isActive: item.path === list.path,
              key: baseUrl + item.path
            },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: baseUrl + item.path },
              item.name
            )
          );
        })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../li":72,"react":"react","react-router":"react-router"}],283:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSelect = getSelect;
exports.getLists = getLists;
exports.paths = paths;

var _reactRedux = require('react-redux');

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSelect(options) {
  return function (store) {
    return {
      'options': options,
      'selection': store.selection,
      'threads': store.threads,
      'tick': store.tick.tick,
      'user': store.auth.user
    };
  };
}

function getLists(user) {
  var lists = [{
    type: 'all',
    path: '',
    name: gettext("All"),
    longName: gettext("All threads")
  }];

  if (user.id) {
    lists.push({
      type: 'my',
      path: 'my/',
      name: gettext("My"),
      longName: gettext("My threads")
    });
    lists.push({
      type: 'new',
      path: 'new/',
      name: gettext("New"),
      longName: gettext("New threads")
    });
    lists.push({
      type: 'unread',
      path: 'unread/',
      name: gettext("Unread"),
      longName: gettext("Unread threads")
    });
    lists.push({
      type: 'subscribed',
      path: 'subscribed/',
      name: gettext("Subscribed"),
      longName: gettext("Subscribed threads")
    });

    if (user.acl.can_see_unapproved_content_lists) {
      lists.push({
        type: 'unapproved',
        path: 'unapproved/',
        name: gettext("Unapproved"),
        longName: gettext("Unapproved content")
      });
    }
  }

  return lists;
}

function paths(user, mode) {
  var lists = getLists(user);
  var routes = [];
  var categoriesMap = {};

  _index2.default.get('CATEGORIES').forEach(function (category) {
    lists.forEach(function (list) {
      categoriesMap[category.id] = category;

      routes.push({
        path: category.url.index + list.path,
        component: (0, _reactRedux.connect)(getSelect(mode))(_route2.default),

        categories: _index2.default.get('CATEGORIES'),
        categoriesMap: categoriesMap,
        category: category,

        lists: lists,
        list: list
      });
    });
  });

  return routes;
}

},{"../../index":318,"./route":284,"react-redux":"react-redux"}],284:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _compare = require('./compare');

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _utils = require('./utils');

var _threadsList = require('../threads-list');

var _threadsList2 = _interopRequireDefault(_threadsList);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _selection = require('../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _threads = require('../../reducers/threads');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _sets = require('../../utils/sets');

var sets = _interopRequireWildcard(_sets);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadThreads(_this.getCategory(), _this.state.page + 1);
    };

    _this.pollResponse = function (data) {
      _this.setState({
        diff: Object.assign({}, data, {
          results: (0, _utils.diffThreads)(_this.props.threads, data.results)
        })
      });
    };

    _this.addThreads = function (threads) {
      _store2.default.dispatch((0, _threads.append)(threads, _this.getSorting()));
    };

    _this.applyDiff = function () {
      _this.addThreads(_this.state.diff.results);

      _this.setState(Object.assign({}, _this.state.diff, {
        moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

        diff: {
          results: []
        }
      }));
    };

    _this.freezeThread = function (thread) {
      _this.setState(function (currentState) {
        return {
          busyThreads: sets.toggle(currentState.busyThreads, thread)
        };
      });
    };

    _this.updateThread = function (thread) {
      _store2.default.dispatch((0, _threads.patch)(thread, thread, _this.getSorting()));
    };

    _this.deleteThread = function (thread) {
      _store2.default.dispatch((0, _threads.deleteThread)(thread));
    };

    _this.state = {
      isMounted: true,

      isLoaded: false,
      isBusy: false,

      diff: {
        results: []
      },

      moderation: [],
      busyThreads: [],

      dropdown: false,
      subcategories: [],

      count: 0,
      more: 0,

      page: 1,
      pages: 1
    };

    var category = _this.getCategory();

    if (_index2.default.has('THREADS')) {
      _this.initWithPreloadedData(category, _index2.default.get('THREADS'));
    } else {
      _this.initWithoutPreloadedData(category);
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'getCategory',
    value: function getCategory() {
      if (!this.props.route.category.special_role) {
        return this.props.route.category.id;
      } else {
        return null;
      }
    }
  }, {
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(category, data) {
      this.state = Object.assign(this.state, {
        moderation: (0, _utils.getModerationActions)(data.results),

        subcategories: data.subcategories,

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      });

      this.startPolling(category);
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData(category) {
      this.loadThreads(category);
    }
  }, {
    key: 'loadThreads',
    value: function loadThreads(category) {
      var _this2 = this;

      var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

      _ajax2.default.get(this.props.options.api, {
        category: category,
        list: this.props.route.list.type,
        page: page || 1
      }, 'threads').then(function (data) {
        if (!_this2.state.isMounted) {
          // user changed route before loading completion
          return;
        }

        if (page === 1) {
          _store2.default.dispatch((0, _threads.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _threads.append)(data.results, _this2.getSorting()));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

          subcategories: data.subcategories,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });

        _this2.startPolling(category);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'startPolling',
    value: function startPolling(category) {
      _polls2.default.start({
        poll: 'threads',
        url: this.props.options.api,
        data: {
          category: category,
          list: this.props.route.list.type
        },
        frequency: 120 * 1000,
        update: this.pollResponse
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.setPageTitle();

      if (_index2.default.has('THREADS')) {
        // unlike in other components, routes are root components for threads
        // so we can't dispatch store action from constructor
        _store2.default.dispatch((0, _threads.hydrate)(_index2.default.pop('THREADS').results));

        this.setState({
          isLoaded: true
        });
      }

      _store2.default.dispatch(select.none());
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.state.isMounted = false;
      _polls2.default.stop('threads');
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      if (this.props.options.title) {
        return this.props.options.title;
      }

      return (0, _utils.getTitle)(this.props.route);
    }
  }, {
    key: 'setPageTitle',
    value: function setPageTitle() {
      if (this.props.route.category.level || !_index2.default.get('THREADS_ON_INDEX')) {
        _pageTitle2.default.set((0, _utils.getPageTitle)(this.props.route));
      } else if (this.props.options.title) {
        _pageTitle2.default.set(this.props.options.title);
      } else {
        if (_index2.default.get('SETTINGS').forum_index_title) {
          document.title = _index2.default.get('SETTINGS').forum_index_title;
        } else {
          document.title = _index2.default.get('SETTINGS').forum_name;
        }
      }
    }
  }, {
    key: 'getSorting',
    value: function getSorting() {
      if (this.props.route.category.level) {
        return _compare.compareWeight;
      } else {
        return _compare.compareGlobalWeight;
      }
    }

    /* jshint ignore:start */

    // AJAX

    // Thread state utils

  }, {
    key: 'getMoreButton',

    /* jshint ignore:end */

    value: function getMoreButton() {
      if (this.state.more) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'pager-more' },
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn btn-default btn-outline',
              loading: this.state.isBusy || this.state.busyThreads.length,
              onClick: this.loadMore
            },
            gettext("Show more")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var className = 'page page-threads';
      className += ' page-threads-' + this.props.route.list.type;
      if (this.props.route.category.css_class) {
        className += ' page-threads-' + this.props.route.category.css_class;
      }
      return className;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(_header2.default, {
          categories: this.props.route.categoriesMap,
          disabled: !this.state.isLoaded,
          startThread: this.props.options.startThread,
          threads: this.props.threads,
          title: this.getTitle(),
          toggleNav: this.toggleNav,
          route: this.props.route,
          user: this.props.user
        }),
        _react2.default.createElement(
          _container2.default,
          {
            api: this.props.options.api,

            route: this.props.route,
            subcategories: this.state.subcategories,
            user: this.props.user,

            pageLead: this.props.options.pageLead,

            threads: this.props.threads,
            threadsCount: this.state.count,

            moderation: this.state.moderation,
            selection: this.props.selection,

            busyThreads: this.state.busyThreads,
            addThreads: this.addThreads,
            freezeThread: this.freezeThread,
            deleteThread: this.deleteThread,
            updateThread: this.updateThread,

            isLoaded: this.state.isLoaded,
            isBusy: this.state.isBusy
          },
          _react2.default.createElement(
            _threadsList2.default,
            {
              category: this.props.route.category,
              categories: this.props.route.categoriesMap,
              list: this.props.route.list,
              selection: this.props.selection,
              threads: this.props.threads,

              diffSize: this.state.diff.results.length,
              applyDiff: this.applyDiff,

              showOptions: !!this.props.user.id,

              isLoaded: this.state.isLoaded,
              busyThreads: this.state.busyThreads
            },
            _react2.default.createElement(_listEmpty2.default, {
              category: this.props.route.category,
              emptyMessage: this.props.options.emptyMessage,
              list: this.props.route.list
            })
          ),
          this.getMoreButton()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;

},{"../../index":318,"../../reducers/selection":374,"../../reducers/threads":377,"../../services/ajax":381,"../../services/page-title":389,"../../services/polls":390,"../../services/snackbar":392,"../../services/store":393,"../../utils/sets":407,"../button":24,"../threads-list":254,"../with-dropdown":315,"./compare":273,"./container":274,"./header":275,"./list-empty":276,"./utils":286,"react":"react"}],285:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categoryPicker = require('./category-picker');

var _categoryPicker2 = _interopRequireDefault(_categoryPicker);

var _controls = require('./moderation/controls');

var _controls2 = _interopRequireDefault(_controls);

var _selection = require('./moderation/selection');

var _selection2 = _interopRequireDefault(_selection);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getCategoryPicker',
    value: function getCategoryPicker() {
      if (!this.props.subcategories.length) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(_categoryPicker2.default, {
        categories: this.props.categoriesMap,
        choices: this.props.subcategories,
        list: this.props.list
      });
      /* jshint ignore:end */
    }
  }, {
    key: 'showModerationOptions',
    value: function showModerationOptions() {
      return this.props.user.id && this.props.moderation.allow;
    }
  }, {
    key: 'getSelectedThreads',
    value: function getSelectedThreads() {
      var _this2 = this;

      return this.props.threads.filter(function (thread) {
        return _this2.props.selection.indexOf(thread.id) >= 0;
      });
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (!this.showModerationOptions()) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'col-xs-6 col-sm-3 col-md-2' },
        _react2.default.createElement(
          'div',
          { className: 'btn-group btn-group-justified' },
          _react2.default.createElement(
            'div',
            { className: 'btn-group dropdown' },
            _react2.default.createElement(
              'button',
              {
                type: 'button',
                className: 'btn btn-default btn-outline dropdown-toggle',
                'data-toggle': 'dropdown',
                'aria-haspopup': 'true',
                'aria-expanded': 'false',
                disabled: this.props.disabled || !this.props.selection.length
              },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'settings'
              ),
              gettext("Options")
            ),
            _react2.default.createElement(_controls2.default, {
              addThreads: this.props.addThreads,
              api: this.props.api,
              categories: this.props.categories,
              categoriesMap: this.props.categoriesMap,
              className: 'dropdown-menu dropdown-menu-right stick-to-bottom',
              deleteThread: this.props.deleteThread,
              freezeThread: this.props.freezeThread,
              moderation: this.props.moderation,
              route: this.props.route,
              threads: this.getSelectedThreads(),
              updateThread: this.props.updateThread,
              user: this.props.user
            })
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getSelectionButton',
    value: function getSelectionButton() {
      if (!this.showModerationOptions()) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'col-xs-3 col-sm-2 col-md-1' },
        _react2.default.createElement(
          'div',
          { className: 'btn-group btn-group-justified' },
          _react2.default.createElement(
            'div',
            { className: 'btn-group dropdown' },
            _react2.default.createElement(
              'button',
              {
                type: 'button',
                className: 'btn btn-default btn-outline btn-icon dropdown-toggle',
                'data-toggle': 'dropdown',
                'aria-haspopup': 'true',
                'aria-expanded': 'false',
                disabled: this.props.disabled
              },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'select_all'
              )
            ),
            _react2.default.createElement(_selection2.default, {
              className: 'dropdown-menu dropdown-menu-right stick-to-bottom',
              threads: this.props.threads
            })
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'row row-toolbar row-toolbar-bottom-margin' },
        _react2.default.createElement(
          'div',
          { className: 'col-xs-3 col-sm-3 col-md-2 dropdown' },
          this.getCategoryPicker()
        ),
        _react2.default.createElement('div', { className: 'hidden-xs col-sm-4 col-md-7' }),
        this.getModerationButton(),
        this.getSelectionButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./category-picker":272,"./moderation/controls":277,"./moderation/selection":281,"react":"react"}],286:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getPageTitle = getPageTitle;
exports.getTitle = getTitle;
exports.isThreadChanged = isThreadChanged;
exports.diffThreads = diffThreads;
exports.getModerationActions = getModerationActions;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getPageTitle(route) {
  if (route.category.level) {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: route.category.name
      };
    } else {
      return {
        title: route.category.name
      };
    }
  } else if (_index2.default.get('THREADS_ON_INDEX')) {
    if (route.list.path) {
      return {
        title: route.list.longName
      };
    } else {
      return null;
    }
  } else {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: gettext("Threads")
      };
    } else {
      return {
        title: gettext("Threads")
      };
    }
  }
}

function getTitle(route) {
  if (route.category.level) {
    return route.category.name;
  } else if (_index2.default.get('THREADS_ON_INDEX')) {
    if (_index2.default.get('SETTINGS').forum_index_title) {
      return _index2.default.get('SETTINGS').forum_index_title;
    } else {
      return _index2.default.get('SETTINGS').forum_name;
    }
  } else {
    return gettext("Threads");
  }
}

function isThreadChanged(current, fromDb) {
  return [current.title === fromDb.title, current.weight === fromDb.weight, current.category === fromDb.category, current.last_post === fromDb.last_post, current.last_poster_name === fromDb.last_poster_name].indexOf(false) >= 0;
}

function diffThreads(current, fromDb) {
  var currentMap = {};
  current.forEach(function (thread) {
    currentMap[thread.id] = thread;
  });

  return fromDb.filter(function (thread) {
    if (currentMap[thread.id]) {
      return isThreadChanged(currentMap[thread.id], thread);
    } else {
      return true;
    }
  });
}

function getModerationActions(threads) {
  var moderation = {
    allow: false,

    can_approve: 0,
    can_close: 0,
    can_delete: 0,
    can_hide: 0,
    can_merge: 0,
    can_move: 0,
    can_pin: 0,
    can_pin_globally: 0,
    can_unhide: 0
  };

  threads.forEach(function (thread) {
    if (thread.is_unapproved && thread.acl.can_approve > moderation.can_approve) {
      moderation.can_approve = thread.acl.can_approve;
    }

    if (thread.acl.can_close > moderation.can_close) {
      moderation.can_close = thread.acl.can_close;
    }

    if (thread.acl.can_delete > moderation.can_delete) {
      moderation.can_delete = thread.acl.can_delete;
    }

    if (thread.acl.can_hide > moderation.can_hide) {
      moderation.can_hide = thread.acl.can_hide;
    }

    if (thread.acl.can_merge > moderation.can_merge) {
      moderation.can_merge = thread.acl.can_merge;
    }

    if (thread.acl.can_move > moderation.can_move) {
      moderation.can_move = thread.acl.can_move;
    }

    if (thread.acl.can_pin > moderation.can_pin) {
      moderation.can_pin = thread.acl.can_pin;
    }

    if (thread.acl.can_pin_globally > moderation.can_pin_globally) {
      moderation.can_pin_globally = thread.acl.can_pin_globally;
    }

    if (thread.is_hidden && thread.acl.can_unhide > moderation.can_unhide) {
      moderation.can_unhide = thread.acl.can_unhide;
    }

    moderation.allow = moderation.can_approve || moderation.can_close || moderation.can_delete || moderation.can_hide || moderation.can_merge || moderation.can_move || moderation.can_pin || moderation.can_pin_globally || moderation.can_unhide;
  });

  return moderation;
}

},{"../../index":318}],287:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _navbarSearch = require('../navbar-search');

var _navbarSearch2 = _interopRequireDefault(_navbarSearch);

var _registerButton = require('../register-button');

var _registerButton2 = _interopRequireDefault(_registerButton);

var _signIn = require('../sign-in.js');

var _signIn2 = _interopRequireDefault(_signIn);

var _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var GuestMenu = exports.GuestMenu = function (_React$Component) {
  _inherits(GuestMenu, _React$Component);

  function GuestMenu() {
    _classCallCheck(this, GuestMenu);

    return _possibleConstructorReturn(this, (GuestMenu.__proto__ || Object.getPrototypeOf(GuestMenu)).apply(this, arguments));
  }

  _createClass(GuestMenu, [{
    key: 'showSignInModal',
    value: function showSignInModal() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        {
          className: 'dropdown-menu user-dropdown dropdown-menu-right',
          role: 'menu'
        },
        _react2.default.createElement(
          'li',
          { className: 'guest-preview' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("You are browsing as guest.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext('Sign in or register to start and participate in discussions.')
          ),
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-6' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default btn-sign-in btn-block',
                  onClick: this.showSignInModal,
                  type: 'button'
                },
                gettext("Sign in")
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-xs-6' },
              _react2.default.createElement(
                _registerButton2.default,
                { className: 'btn-primary btn-register btn-block' },
                gettext("Register")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return GuestMenu;
}(_react2.default.Component);

var GuestNav = exports.GuestNav = function (_GuestMenu) {
  _inherits(GuestNav, _GuestMenu);

  function GuestNav() {
    _classCallCheck(this, GuestNav);

    return _possibleConstructorReturn(this, (GuestNav.__proto__ || Object.getPrototypeOf(GuestNav)).apply(this, arguments));
  }

  _createClass(GuestNav, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'nav nav-guest' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn navbar-btn btn-default btn-sign-in',
            onClick: this.showSignInModal,
            type: 'button'
          },
          gettext("Sign in")
        ),
        _react2.default.createElement(
          _registerButton2.default,
          { className: 'navbar-btn btn-primary btn-register' },
          gettext("Register")
        ),
        _react2.default.createElement(
          'div',
          { className: 'navbar-left' },
          _react2.default.createElement(_navbarSearch2.default, null)
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return GuestNav;
}(GuestMenu);

var CompactGuestNav = exports.CompactGuestNav = function (_React$Component2) {
  _inherits(CompactGuestNav, _React$Component2);

  function CompactGuestNav() {
    _classCallCheck(this, CompactGuestNav);

    return _possibleConstructorReturn(this, (CompactGuestNav.__proto__ || Object.getPrototypeOf(CompactGuestNav)).apply(this, arguments));
  }

  _createClass(CompactGuestNav, [{
    key: 'showGuestMenu',
    value: function showGuestMenu() {
      _mobileNavbarDropdown2.default.show(GuestMenu);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showGuestMenu },
        _react2.default.createElement(_avatar2.default, { size: '64' })
      );
      /* jshint ignore:end */
    }
  }]);

  return CompactGuestNav;
}(_react2.default.Component);

},{"../../services/mobile-navbar-dropdown":386,"../../services/modal":387,"../avatar":22,"../navbar-search":92,"../register-button":213,"../sign-in.js":227,"react":"react"}],288:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserMenu = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _guestNav = require('./guest-nav');

var _userNav = require('./user-nav');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.UserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.GuestNav, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

var CompactUserMenu = exports.CompactUserMenu = function (_React$Component2) {
  _inherits(CompactUserMenu, _React$Component2);

  function CompactUserMenu() {
    _classCallCheck(this, CompactUserMenu);

    return _possibleConstructorReturn(this, (CompactUserMenu.__proto__ || Object.getPrototypeOf(CompactUserMenu)).apply(this, arguments));
  }

  _createClass(CompactUserMenu, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.CompactUserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.CompactGuestNav, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return CompactUserMenu;
}(_react2.default.Component);

function select(state) {
  return state.auth;
}

},{"./guest-nav":287,"./user-nav":289,"react":"react"}],289:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserNav = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.PrivateThreadsBadge = PrivateThreadsBadge;
exports.UserNav = UserNav;
exports.UserPrivateThreadsLink = UserPrivateThreadsLink;
exports.selectUserMenu = selectUserMenu;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _root = require('../change-avatar/root');

var _root2 = _interopRequireDefault(_root);

var _navbarSearch = require('../navbar-search');

var _navbarSearch2 = _interopRequireDefault(_navbarSearch);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: 'logout',
    value: function logout() {
      var decision = confirm(gettext("Are you sure you want to sign out?"));
      if (decision) {
        $('#hidden-logout-form').submit();
      }
    }
  }, {
    key: 'changeAvatar',
    value: function changeAvatar() {
      _modal2.default.show((0, _reactRedux.connect)(_root.select)(_root2.default));
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      var user = this.props.user;


      return _react2.default.createElement(
        'ul',
        {
          className: 'dropdown-menu user-dropdown dropdown-menu-right',
          role: 'menu'
        },
        _react2.default.createElement(
          'li',
          { className: 'dropdown-header' },
          _react2.default.createElement(
            'strong',
            null,
            user.username
          ),
          _react2.default.createElement(
            'ul',
            { className: 'list-unstyled list-inline user-stats' },
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'message'
              ),
              user.posts
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'forum'
              ),
              user.threads
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'favorite'
              ),
              user.followers
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'favorite_outline'
              ),
              user.following
            )
          )
        ),
        _react2.default.createElement('li', { className: 'divider' }),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: user.url },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'account_circle'
            ),
            gettext("See your profile")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: _2.default.get('USERCP_URL') },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'done_all'
            ),
            gettext("Change options")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              className: 'btn-link',
              onClick: this.changeAvatar,
              type: 'button'
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'portrait'
            ),
            gettext("Change avatar")
          )
        ),
        !!user.acl.can_use_private_threads && _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: _2.default.get('PRIVATE_THREADS_URL') },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'message'
            ),
            gettext("Private threads"),
            _react2.default.createElement(PrivateThreadsBadge, { user: user })
          )
        ),
        _react2.default.createElement('li', { className: 'divider' }),
        _react2.default.createElement(
          'li',
          { className: 'dropdown-buttons' },
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-block',
              onClick: this.logout,
              type: 'button'
            },
            gettext("Log out")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

function PrivateThreadsBadge(_ref) {
  var user = _ref.user;

  if (!user.unread_private_threads) return null;

  /* jshint ignore:start */
  return _react2.default.createElement(
    'span',
    { className: 'badge' },
    user.unread_private_threads
  );
  /* jshint ignore:end */
}

/* jshint ignore:start */
function UserNav(_ref2) {
  var user = _ref2.user;

  return _react2.default.createElement(
    'ul',
    { className: 'ul nav navbar-nav nav-user' },
    _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(_navbarSearch2.default, null)
    ),
    _react2.default.createElement(UserPrivateThreadsLink, { user: user }),
    _react2.default.createElement(
      'li',
      { className: 'dropdown' },
      _react2.default.createElement(
        'a',
        {
          'aria-haspopup': 'true',
          'aria-expanded': 'false',
          className: 'dropdown-toggle',
          'data-toggle': 'dropdown',
          href: user.url,
          role: 'button'
        },
        _react2.default.createElement(_avatar2.default, { user: user, size: '64' })
      ),
      _react2.default.createElement(UserMenu, { user: user })
    )
  );
}
/* jshint ignore:end */

function UserPrivateThreadsLink(_ref3) {
  var user = _ref3.user;

  if (!user.acl.can_use_private_threads) return null;

  var title = null;
  if (user.unread_private_threads) {
    title = gettext("You have unread private threads!");
  } else {
    title = gettext("Private threads");
  }

  /* jshint ignore:start */
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      {
        className: 'navbar-icon',
        href: _2.default.get('PRIVATE_THREADS_URL'),
        title: title },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'message'
      ),
      user.unread_private_threads > 0 && _react2.default.createElement(
        'span',
        { className: 'badge' },
        user.unread_private_threads
      )
    )
  );
  /* jshint ignore:end */
}

function selectUserMenu(state) {
  return {
    user: state.auth.user
  };
}

var CompactUserNav = exports.CompactUserNav = function (_React$Component2) {
  _inherits(CompactUserNav, _React$Component2);

  function CompactUserNav() {
    _classCallCheck(this, CompactUserNav);

    return _possibleConstructorReturn(this, (CompactUserNav.__proto__ || Object.getPrototypeOf(CompactUserNav)).apply(this, arguments));
  }

  _createClass(CompactUserNav, [{
    key: 'showUserMenu',
    value: function showUserMenu() {
      _mobileNavbarDropdown2.default.showConnected('user-menu', (0, _reactRedux.connect)(selectUserMenu)(UserMenu));
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showUserMenu },
        _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '50' })
      );
      /* jshint ignore:end */
    }
  }]);

  return CompactUserNav;
}(_react2.default.Component);

},{"../..":318,"../../services/mobile-navbar-dropdown":386,"../../services/modal":387,"../avatar":22,"../change-avatar/root":41,"../navbar-search":92,"react":"react","react-redux":"react-redux"}],290:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StatusLabel = exports.StatusIcon = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getStatusClassName = getStatusClassName;
exports.getStatusDescription = getStatusDescription;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClass',
    value: function getClass() {
      return getStatusClassName(this.props.status);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: this.getClass() },
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

var StatusIcon = exports.StatusIcon = function (_React$Component2) {
  _inherits(StatusIcon, _React$Component2);

  function StatusIcon() {
    _classCallCheck(this, StatusIcon);

    return _possibleConstructorReturn(this, (StatusIcon.__proto__ || Object.getPrototypeOf(StatusIcon)).apply(this, arguments));
  }

  _createClass(StatusIcon, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.status.is_banned) {
        return 'remove_circle_outline';
      } else if (this.props.status.is_hidden) {
        return 'help_outline';
      } else if (this.props.status.is_online_hidden) {
        return 'label';
      } else if (this.props.status.is_offline_hidden) {
        return 'label_outline';
      } else if (this.props.status.is_online) {
        return 'lens';
      } else if (this.props.status.is_offline) {
        return 'panorama_fish_eye';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: 'material-icon status-icon' },
        this.getIcon()
      );
      /* jshint ignore:end */
    }
  }]);

  return StatusIcon;
}(_react2.default.Component);

var StatusLabel = exports.StatusLabel = function (_React$Component3) {
  _inherits(StatusLabel, _React$Component3);

  function StatusLabel() {
    _classCallCheck(this, StatusLabel);

    return _possibleConstructorReturn(this, (StatusLabel.__proto__ || Object.getPrototypeOf(StatusLabel)).apply(this, arguments));
  }

  _createClass(StatusLabel, [{
    key: 'getHelp',
    value: function getHelp() {
      return getStatusDescription(this.props.user, this.props.status);
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (this.props.status.is_banned) {
        return gettext("Banned");
      } else if (this.props.status.is_hidden) {
        return gettext("Hidden");
      } else if (this.props.status.is_online_hidden) {
        return gettext("Online (hidden)");
      } else if (this.props.status.is_offline_hidden) {
        return gettext("Offline (hidden)");
      } else if (this.props.status.is_online) {
        return gettext("Online");
      } else if (this.props.status.is_offline) {
        return gettext("Offline");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: this.props.className || "status-label",
          title: this.getHelp() },
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return StatusLabel;
}(_react2.default.Component);

function getStatusClassName(status) {
  var className = '';
  if (status.is_banned) {
    className = 'banned';
  } else if (status.is_hidden) {
    className = 'offline';
  } else if (status.is_online_hidden) {
    className = 'online';
  } else if (status.is_offline_hidden) {
    className = 'offline';
  } else if (status.is_online) {
    className = 'online';
  } else if (status.is_offline) {
    className = 'offline';
  }

  return 'user-status user-' + className;
}

function getStatusDescription(user, status) {
  if (status.is_banned) {
    if (status.banned_until) {
      return interpolate(gettext("%(username)s is banned until %(ban_expires)s"), {
        username: user.username,
        ban_expires: status.banned_until.format('LL, LT')
      }, true);
    } else {
      return interpolate(gettext("%(username)s is banned"), {
        username: user.username
      }, true);
    }
  } else if (status.is_hidden) {
    return interpolate(gettext("%(username)s is hiding presence"), {
      username: user.username
    }, true);
  } else if (status.is_online_hidden) {
    return interpolate(gettext("%(username)s is online (hidden)"), {
      username: user.username
    }, true);
  } else if (status.is_offline_hidden) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s (hidden)"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  } else if (status.is_online) {
    return interpolate(gettext("%(username)s is online"), {
      username: user.username
    }, true);
  } else if (status.is_offline) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  }
}

},{"react":"react"}],291:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item hidden-xs hidden-sm';
      } else {
        return 'list-group-item';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'change-avatar' },
          _react2.default.createElement(
            'span',
            { className: 'user-avatar' },
            _react2.default.createElement(_avatar2.default, { size: '100' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-author' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 70) + "px" } },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 70) + "px" } },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-date' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(80, 140) + "px" } },
            '\xA0'
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":404,"../avatar":22,"react":"react"}],292:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'renderUserAvatar',
    value: function renderUserAvatar() {
      if (this.props.change.changed_by) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: this.props.change.changed_by.url, className: 'user-avatar-wrapper' },
          _react2.default.createElement(_avatar2.default, { user: this.props.change.changed_by, size: '100' })
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-avatar-wrapper' },
          _react2.default.createElement(_avatar2.default, { size: '100' })
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'renderUsername',
    value: function renderUsername() {
      if (this.props.change.changed_by) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: this.props.change.changed_by.url, className: 'item-title' },
          this.props.change.changed_by.username
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'item-title' },
          this.props.change.changed_by_username
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'list-group-item', key: this.props.change.id },
        _react2.default.createElement(
          'div',
          { className: 'change-avatar' },
          this.renderUserAvatar()
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-author' },
          this.renderUsername()
        ),
        _react2.default.createElement(
          'div',
          { className: 'change' },
          _react2.default.createElement(
            'span',
            { className: 'old-username' },
            this.props.change.old_username
          ),
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(
            'span',
            { className: 'new-username' },
            this.props.change.new_username
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-date' },
          _react2.default.createElement(
            'abbr',
            { title: this.props.change.changed_on.format('LLL') },
            this.props.change.changed_on.fromNow()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../avatar":22,"react":"react"}],293:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.props.emptyMessage) {
        return this.props.emptyMessage;
      } else {
        return gettext("No name changes have been recorded for your account.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "username-history ui-ready" },
        _react2.default.createElement(
          "ul",
          { className: "list-group" },
          _react2.default.createElement(
            "li",
            { className: "list-group-item empty-message" },
            this.getEmptyMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],294:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _changePreview = require('./change-preview');

var _changePreview2 = _interopRequireDefault(_changePreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'username-history ui-preview' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          [0, 1, 2].map(function (i) {
            return _react2.default.createElement(_changePreview2.default, { hiddenOnMobile: i > 0, key: i });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change-preview":291,"react":"react"}],295:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _change = require('./change');

var _change2 = _interopRequireDefault(_change);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'username-history ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.props.changes.map(function (change) {
            return _react2.default.createElement(_change2.default, { change: change, key: change.id });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change":292,"react":"react"}],296:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listReady = require('./list-ready');

var _listReady2 = _interopRequireDefault(_listReady);

var _listPreview = require('./list-preview');

var _listPreview2 = _interopRequireDefault(_listPreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.isLoaded) {
        if (this.props.changes.length) {
          /* jshint ignore:start */
          return _react2.default.createElement(_listReady2.default, { changes: this.props.changes });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_listEmpty2.default, { emptyMessage: this.props.emptyMessage });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listPreview2.default, null);
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-empty":293,"./list-preview":294,"./list-ready":295,"react":"react"}],297:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var showStatus = _ref.showStatus,
      user = _ref.user;
  var rank = user.rank;


  var className = 'panel user-card';
  if (rank.css_class) {
    className += ' user-card-' + rank.css_class;
  }

  return _react2.default.createElement(
    'div',
    { className: className },
    _react2.default.createElement(
      'div',
      { className: 'panel-body' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(
          'div',
          { className: 'col-xs-3 user-card-left' },
          _react2.default.createElement(
            'div',
            { className: 'user-card-small-avatar' },
            _react2.default.createElement(
              'a',
              { href: user.url },
              _react2.default.createElement(_avatar2.default, {
                size: '50',
                size2x: '80',
                user: user
              })
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'col-xs-9 col-sm-12 user-card-body' },
          _react2.default.createElement(
            'div',
            { className: 'user-card-avatar' },
            _react2.default.createElement(
              'a',
              { href: user.url },
              _react2.default.createElement(_avatar2.default, {
                size: '150',
                size2x: '200',
                user: user
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-card-username' },
            _react2.default.createElement(
              'a',
              { href: user.url },
              user.username
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-card-title' },
            _react2.default.createElement(_userTitle2.default, {
              rank: rank,
              title: user.title
            })
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-card-stats' },
            _react2.default.createElement(_stats2.default, {
              showStatus: showStatus,
              user: user
            })
          )
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

var _userTitle = require('./user-title');

var _userTitle2 = _interopRequireDefault(_userTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../avatar":22,"./stats":298,"./user-title":299,"react":"react"}],298:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var showStatus = _ref.showStatus,
      user = _ref.user;

  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled' },
    _react2.default.createElement(Status, {
      showStatus: showStatus,
      user: user
    }),
    _react2.default.createElement(JoinDate, { user: user }),
    _react2.default.createElement('li', { className: 'user-stat-divider' }),
    _react2.default.createElement(Posts, { user: user }),
    _react2.default.createElement(Threads, { user: user }),
    _react2.default.createElement(Followers, { user: user })
  );
};

exports.Status = Status;
exports.JoinDate = JoinDate;
exports.Posts = Posts;
exports.Threads = Threads;
exports.Followers = Followers;
exports.getStatClassName = getStatClassName;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _userStatus = require('../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Status(_ref2) {
  var showStatus = _ref2.showStatus,
      user = _ref2.user;

  if (!showStatus) return null;

  return _react2.default.createElement(
    'li',
    { className: 'user-stat-status' },
    _react2.default.createElement(
      _userStatus2.default,
      { status: user.status },
      _react2.default.createElement(_userStatus.StatusLabel, {
        status: user.status,
        user: user
      })
    )
  );
} // jshint ignore:start
function JoinDate(_ref3) {
  var user = _ref3.user;
  var joined_on = user.joined_on;


  var title = interpolate(gettext("Joined on %(joined_on)s"), {
    'joined_on': joined_on.format('LL, LT')
  }, true);

  var message = interpolate(gettext("Joined %(joined_on)s"), {
    'joined_on': joined_on.fromNow()
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'user-stat-join-date' },
    _react2.default.createElement(
      'abbr',
      { title: title },
      message
    )
  );
}

function Posts(_ref4) {
  var user = _ref4.user;

  var className = getStatClassName("user-stat-posts", user.posts);
  var message = ngettext("%(posts)s post", "%(posts)s posts", user.posts);

  return _react2.default.createElement(
    'li',
    { className: className },
    interpolate(message, {
      'posts': user.posts
    }, true)
  );
}

function Threads(_ref5) {
  var user = _ref5.user;

  var className = getStatClassName("user-stat-threads", user.threads);
  var message = ngettext("%(threads)s thread", "%(threads)s threads", user.threads);

  return _react2.default.createElement(
    'li',
    { className: className },
    interpolate(message, {
      'threads': user.threads
    }, true)
  );
}

function Followers(_ref6) {
  var user = _ref6.user;

  var className = getStatClassName("user-stat-followers", user.followers);
  var message = ngettext("%(followers)s follower", "%(followers)s followers", user.followers);

  return _react2.default.createElement(
    'li',
    { className: className },
    interpolate(message, {
      'followers': user.followers
    }, true)
  );
}

function getStatClassName(className, stat) {
  if (stat === 0) {
    return className + ' user-stat-empty';
  }
  return className;
}

},{"../../user-status":290,"react":"react"}],299:[function(require,module,exports){
arguments[4][145][0].apply(exports,arguments)
},{"dup":145,"react":"react"}],300:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var cols = _ref.cols,
      isReady = _ref.isReady,
      showStatus = _ref.showStatus,
      users = _ref.users;

  var colClassName = 'col-xs-12 col-sm-4';
  if (cols === 4) {
    colClassName += ' col-md-3';
  }

  if (!isReady) {
    return _react2.default.createElement(_preview2.default, {
      colClassName: colClassName,
      cols: cols
    });
  }

  return _react2.default.createElement(
    'div',
    { className: 'users-cards-list ui-ready' },
    _react2.default.createElement(
      'div',
      { className: 'row' },
      users.map(function (user) {
        return _react2.default.createElement(
          'div',
          {
            className: colClassName,
            key: user.id
          },
          _react2.default.createElement(_card2.default, {
            showStatus: showStatus,
            user: user
          })
        );
      })
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _card = require('./card');

var _card2 = _interopRequireDefault(_card);

var _preview = require('./preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./card":297,"./preview":302,"react":"react"}],301:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'panel user-card user-card-preview' },
        _react2.default.createElement(
          'div',
          { className: 'panel-body' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-3 user-card-left' },
              _react2.default.createElement(
                'div',
                { className: 'user-card-small-avatar' },
                _react2.default.createElement(
                  'span',
                  null,
                  _react2.default.createElement(_avatar2.default, {
                    size: '50',
                    size2x: '80'
                  })
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-xs-9 col-sm-12 user-card-body' },
              _react2.default.createElement(
                'div',
                { className: 'user-card-avatar' },
                _react2.default.createElement(
                  'span',
                  null,
                  _react2.default.createElement(_avatar2.default, {
                    size: '150',
                    size2x: '200'
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'user-card-username' },
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(60, 150) + "px" }
                  },
                  '\xA0'
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'user-card-title' },
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(60, 150) + "px" }
                  },
                  '\xA0'
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'user-card-stats' },
                _react2.default.createElement(
                  'ul',
                  { className: 'list-unstyled' },
                  _react2.default.createElement(
                    'li',
                    null,
                    _react2.default.createElement(
                      'span',
                      {
                        className: 'ui-preview-text',
                        style: { width: random.int(30, 70) + "px" }
                      },
                      '\xA0'
                    )
                  ),
                  _react2.default.createElement(
                    'li',
                    null,
                    _react2.default.createElement(
                      'span',
                      {
                        className: 'ui-preview-text',
                        style: { width: random.int(30, 70) + "px" }
                      },
                      '\xA0'
                    )
                  ),
                  _react2.default.createElement('li', { className: 'user-stat-divider' }),
                  _react2.default.createElement(
                    'li',
                    null,
                    _react2.default.createElement(
                      'span',
                      {
                        className: 'ui-preview-text',
                        style: { width: random.int(30, 70) + "px" }
                      },
                      '\xA0'
                    )
                  ),
                  _react2.default.createElement(
                    'li',
                    null,
                    _react2.default.createElement(
                      'span',
                      {
                        className: 'ui-preview-text',
                        style: { width: random.int(30, 70) + "px" }
                      },
                      '\xA0'
                    )
                  )
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":404,"../../avatar":22,"react":"react"}],302:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var colClassName = _ref.colClassName,
      cols = _ref.cols;

  var list = Array.apply(null, { length: cols }).map(Number.call, Number);

  return _react2.default.createElement(
    'div',
    { className: 'users-cards-list ui-preview' },
    _react2.default.createElement(
      'div',
      { className: 'row' },
      list.map(function (i) {
        var className = colClassName;
        if (i !== 0) className += ' hidden-xs';
        if (i === 3) className += ' hidden-sm';

        return _react2.default.createElement(
          'div',
          {
            className: className,
            key: i
          },
          _react2.default.createElement(_card2.default, null)
        );
      })
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _card = require('./card');

var _card2 = _interopRequireDefault(_card);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./card":301,"react":"react"}],303:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      return interpolate(gettext("No users have posted any new messages during last %(days)s days."), { 'days': this.props.trackedPeriod }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.getEmptyMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],304:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item hidden-xs hidden-sm';
      } else {
        return 'list-group-item';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'rank-user-avatar' },
          _react2.default.createElement(
            'span',
            null,
            _react2.default.createElement(_avatar2.default, { size: '50' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-user' },
          _react2.default.createElement(
            'div',
            { className: 'user-name' },
            _react2.default.createElement(
              'span',
              { className: 'item-title' },
              _react2.default.createElement(
                'span',
                {
                  className: 'ui-preview-text',
                  style: { width: random.int(30, 80) + "px" }
                },
                '\xA0'
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-details' },
            _react2.default.createElement(
              'span',
              { className: 'user-status' },
              _react2.default.createElement(
                'span',
                { className: 'status-icon ui-preview-text' },
                '\xA0'
              ),
              _react2.default.createElement(
                'span',
                {
                  className: 'status-label ui-preview-text hidden-xs hidden-sm',
                  style: { width: random.int(30, 50) + "px" }
                },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'rank-name' },
              _react2.default.createElement(
                'span',
                {
                  className: 'ui-preview-text',
                  style: { width: random.int(30, 50) + "px" }
                },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'user-title hidden-xs hidden-sm' },
              _react2.default.createElement(
                'span',
                {
                  className: 'ui-preview-text',
                  style: { width: random.int(30, 50) + "px" }
                },
                '\xA0'
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-compact-stats visible-xs-block' },
            _react2.default.createElement(
              'span',
              { className: 'rank-position' },
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(20, 30) + "px" }
                  },
                  '\xA0'
                )
              ),
              _react2.default.createElement(
                'small',
                null,
                gettext("Rank")
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'rank-posts-counted' },
              _react2.default.createElement(
                'strong',
                null,
                _react2.default.createElement(
                  'span',
                  {
                    className: 'ui-preview-text',
                    style: { width: random.int(20, 30) + "px" }
                  },
                  '\xA0'
                )
              ),
              _react2.default.createElement(
                'small',
                null,
                gettext("Ranked posts")
              )
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-position hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" }
              },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Rank")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-counted hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" }
              },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Ranked posts")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-total hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              {
                className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" }
              },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Total posts")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":404,"../../avatar":22,"react":"react"}],305:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userStatus = require('../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.rank.css_class) {
        return "list-group-item list-group-rank-" + this.props.rank.css_class;
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.user.status) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _userStatus2.default,
          { user: this.props.user, status: this.props.user.status },
          _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.user,
            status: this.props.user.status }),
          _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.user,
            status: this.props.user.status,
            className: 'status-label hidden-xs hidden-sm' })
        );
        /* jshint ignore:end */
      }

      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: 'user-status' },
        _react2.default.createElement(
          'span',
          { className: 'status-icon ui-preview-text' },
          '\xA0'
        ),
        _react2.default.createElement(
          'span',
          { className: 'status-label ui-preview-text hidden-xs hidden-sm',
            style: { width: random.int(30, 50) + "px" } },
          '\xA0'
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getRankName',
    value: function getRankName() {
      if (!this.props.rank.is_tab) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'rank-name item-title' },
          this.props.rank.name
        );
        /* jshint ignore:end */
      }

      /* jshint ignore:start */
      var rankUrl = _index2.default.get('USERS_LIST_URL') + this.props.rank.slug + '/';
      return _react2.default.createElement(
        _reactRouter.Link,
        { to: rankUrl, className: 'rank-name item-title' },
        this.props.rank.name
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (!this.props.user.title) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: 'user-title hidden-xs hidden-sm' },
        this.props.user.title
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'rank-user-avatar' },
          _react2.default.createElement(
            'a',
            { href: this.props.user.url },
            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: 50, size2x: 64 })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-user' },
          _react2.default.createElement(
            'div',
            { className: 'user-name' },
            _react2.default.createElement(
              'a',
              { href: this.props.user.url, className: 'item-title' },
              this.props.user.username
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-details' },
            this.getUserStatus(),
            this.getRankName(),
            this.getUserTitle()
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-compact-stats visible-xs-block' },
            _react2.default.createElement(
              'span',
              { className: 'rank-position' },
              _react2.default.createElement(
                'strong',
                null,
                '#',
                this.props.counter
              ),
              _react2.default.createElement(
                'small',
                null,
                gettext("Rank")
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'rank-posts-counted' },
              _react2.default.createElement(
                'strong',
                null,
                this.props.user.meta.score
              ),
              _react2.default.createElement(
                'small',
                null,
                gettext("Ranked posts")
              )
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-position hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            '#',
            this.props.counter
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Rank")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-counted hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.meta.score
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Ranked posts")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-total hidden-xs' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.posts
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Total posts")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":318,"../../../utils/random":404,"../../avatar":22,"../../user-status":290,"react":"react","react-router":"react-router"}],306:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItemPreview = require('./list-item-preview');

var _listItemPreview2 = _interopRequireDefault(_listItemPreview);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead ui-preview' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(50, 220) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'active-posters ui-preview' },
            _react2.default.createElement(
              'ul',
              { className: 'list-group' },
              [0, 1, 2].map(function (i) {
                return _react2.default.createElement(_listItemPreview2.default, { hiddenOnMobile: i > 0, key: i });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":404,"./list-item-preview":304,"react":"react"}],307:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItem = require('./list-item');

var _listItem2 = _interopRequireDefault(_listItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getLeadMessage',
    value: function getLeadMessage() {
      var message = ngettext("%(posters)s most active poster from last %(days)s days.", "%(posters)s most active posters from last %(days)s days.", this.props.count);

      return interpolate(message, {
        posters: this.props.count,
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.getLeadMessage()
          ),
          _react2.default.createElement(
            'div',
            { className: 'active-posters ui-ready' },
            _react2.default.createElement(
              'ul',
              { className: 'list-group' },
              this.props.users.map(function (user, i) {
                return _react2.default.createElement(_listItem2.default, { user: user,
                  rank: user.rank,
                  counter: i + 1,
                  key: user.id });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-item":305,"react":"react"}],308:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listPreview = require('./list-preview');

var _listPreview2 = _interopRequireDefault(_listPreview);

var _listReady = require('./list-ready');

var _listReady2 = _interopRequireDefault(_listReady);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../../reducers/users');

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      _this.setState({
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      });
    };

    if (_index2.default.has('USERS')) {
      _this.initWithPreloadedData(_index2.default.pop('USERS'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling();
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling() {
      _polls2.default.start({
        poll: 'active-posters',
        url: _index2.default.get('USERS_API'),
        data: {
          list: 'active'
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.extra.name,
        parent: gettext("Users")
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('active-posters');
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          /* jshint ignore:start */
          return _react2.default.createElement(_listReady2.default, { users: this.props.users,
            trackedPeriod: this.state.trackedPeriod,
            count: this.state.count });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_listEmpty2.default, { trackedPeriod: this.state.trackedPeriod });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listPreview2.default, null);
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":318,"../../../reducers/users":380,"../../../services/page-title":389,"../../../services/polls":390,"../../../services/store":393,"./list-empty":303,"./list-preview":306,"./list-ready":307,"react":"react"}],309:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (_ref) {
  var baseUrl = _ref.baseUrl,
      lists = _ref.lists;

  return _react2.default.createElement(
    'ul',
    { className: 'nav nav-pills' },
    lists.map(function (list) {
      var url = listUrl(baseUrl, list);
      return _react2.default.createElement(
        _li2.default,
        { path: url, key: url },
        _react2.default.createElement(
          _reactRouter.Link,
          { to: url },
          list.name
        )
      );
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var listUrl = function listUrl(baseUrl, list) {
  var url = baseUrl;
  if (list.component === 'rank') {
    url += list.slug;
  } else {
    url += list.component;
  }
  return url + '/';
}; // jshint ignore:start

},{"../../index":318,"../li":72,"react":"react","react-router":"react-router"}],310:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _usersList = require('../../users-list');

var _usersList2 = _interopRequireDefault(_usersList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_usersList2.default, {
          cols: 4,
          isReady: false
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../users-list":300,"react":"react"}],311:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(_usersList2.default, {
      cols: 4,
      isReady: true,
      showStatus: true,
      users: props.users
    }),
    _react2.default.createElement(_pager2.default, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pager = require('./pager');

var _pager2 = _interopRequireDefault(_pager);

var _usersList = require('../../users-list');

var _usersList2 = _interopRequireDefault(_usersList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../users-list":300,"./pager":312,"react":"react"}],312:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.pages === 1) return null;

  return _react2.default.createElement(
    'div',
    { className: 'row row-toolbar' },
    _react2.default.createElement(
      'div',
      { className: 'col-xs-12 text-center visible-xs-block' },
      _react2.default.createElement(More, { more: props.more }),
      _react2.default.createElement('div', { className: 'toolbar-vertical-spacer' })
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-md-7' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(
          'div',
          { className: 'col-sm-4 col-md-5' },
          _react2.default.createElement(Pager, props)
        ),
        _react2.default.createElement(
          'div',
          { className: 'col-sm-8 col-md-7 hidden-xs' },
          _react2.default.createElement(More, { more: props.more })
        )
      )
    )
  );
};

exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _resetScroll = require('../../../utils/reset-scroll');

var _resetScroll2 = _interopRequireDefault(_resetScroll);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function Pager(props) {
  return _react2.default.createElement(
    'div',
    { className: 'row row-paginator' },
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(FirstPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(PreviousPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(NextPage, props)
    ),
    _react2.default.createElement(
      'div',
      { className: 'col-xs-3' },
      _react2.default.createElement(LastPage, props)
    )
  );
}

function FirstPage(props) {
  if (props.isLoaded && props.first) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-icon btn-outline',
        onClick: _resetScroll2.default,
        to: props.baseUrl,
        title: gettext("Go to first page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'first_page'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-icon btn-outline disabled',
        title: gettext("Go to first page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'first_page'
      )
    );
  }
}

function PreviousPage(props) {
  if (props.isLoaded && props.page > 1) {
    var previousUrl = '';
    if (props.previous) {
      previousUrl = props.previous + '/';
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-icon btn-outline',
        onClick: _resetScroll2.default,
        to: props.baseUrl + previousUrl,
        title: gettext("Go to previous page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_left'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-icon btn-outline disabled',
        title: gettext("Go to previous page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_left'
      )
    );
  }
}

function NextPage(props) {
  if (props.isLoaded && props.more) {
    var nextUrl = '';
    if (props.next) {
      nextUrl = props.next + '/';
    }

    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-icon btn-outline',
        onClick: _resetScroll2.default,
        to: props.baseUrl + nextUrl,
        title: gettext("Go to next page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_right'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-icon btn-outline disabled',
        title: gettext("Go to next page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'chevron_right'
      )
    );
  }
}

function LastPage(props) {
  if (props.isLoaded && props.last) {
    return _react2.default.createElement(
      _reactRouter.Link,
      {
        className: 'btn btn-default btn-block btn-icon btn-outline',
        onClick: _resetScroll2.default,
        to: props.baseUrl + props.last + '/',
        title: gettext("Go to last page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'last_page'
      )
    );
  } else {
    return _react2.default.createElement(
      'span',
      {
        className: 'btn btn-default btn-block btn-icon btn-outline disabled',
        title: gettext("Go to last page")
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'last_page'
      )
    );
  }
}

function More(props) {
  var message = null;
  if (props.more) {
    message = ngettext("There is %(more)s more member with this role.", "There are %(more)s more members with this role.", props.more);
    message = interpolate(message, { 'more': props.more }, true);
  } else {
    message = gettext("There are no more members with this role.");
  }

  return _react2.default.createElement(
    'p',
    null,
    message
  );
}

},{"../../../utils/reset-scroll":405,"react":"react","react-router":"react-router"}],313:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pageLead = require('../../page-lead');

var _pageLead2 = _interopRequireDefault(_pageLead);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _listLoading = require('./list-loading');

var _listLoading2 = _interopRequireDefault(_listLoading);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../../reducers/users');

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      data.isLoaded = true;
      _this.setState(data);
    };

    if (_index2.default.has('USERS')) {
      _this.initWithPreloadedData(_index2.default.pop('USERS'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.params.page || 1);
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = Object.assign(data, {
        isLoaded: true
      });
      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling(page) {
      _polls2.default.start({
        poll: 'rank-users',
        url: _index2.default.get('USERS_API'),
        data: {
          rank: this.props.route.rank.id,
          page: page
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.rank.name,
        page: this.props.params.page || null,
        parent: gettext("Users")
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('rank-users');
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.params.page !== nextProps.params.page) {
        _pageTitle2.default.set({
          title: this.props.route.rank.name,
          page: nextProps.params.page || null,
          parent: gettext("Users")
        });

        this.setState({
          isLoaded: false
        });

        _polls2.default.stop('rank-users');
        this.startPolling(nextProps.params.page);
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.route.rank.css_class) {
        return 'rank-users-list rank-users-' + this.props.route.rank.css_class;
      } else {
        return 'rank-users-list';
      }
    }
  }, {
    key: 'getRankDescription',
    value: function getRankDescription() {
      if (this.props.route.rank.description) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'rank-description' },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.rank.description.html })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getComponent',
    value: function getComponent() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          /* jshint ignore:start */
          var baseUrl = _index2.default.get('USERS_LIST_URL') + this.props.route.rank.slug + '/';
          return _react2.default.createElement(_list2.default, _extends({ baseUrl: baseUrl,
            users: this.props.users
          }, this.state));
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("There are no users with this rank at the moment.")
          );
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listLoading2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          this.getRankDescription(),
          this.getComponent()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":318,"../../../reducers/users":380,"../../../services/page-title":389,"../../../services/polls":390,"../../../services/store":393,"../../page-lead":107,"./list":311,"./list-loading":310,"react":"react"}],314:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _nav = require('./nav');

var _nav2 = _interopRequireDefault(_nav);

var _root = require('./active-posters/root');

var _root2 = _interopRequireDefault(_root);

var _root3 = require('./rank/root');

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-users-lists' },
        _react2.default.createElement(
          'div',
          { className: 'page-header-bg' },
          _react2.default.createElement(
            'div',
            { className: 'page-header' },
            _react2.default.createElement(
              'div',
              { className: 'container' },
              _react2.default.createElement(
                'h1',
                null,
                gettext("Users")
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'page-tabs' },
              _react2.default.createElement(
                'div',
                { className: 'container' },
                _react2.default.createElement(_nav2.default, {
                  lists: _index2.default.get('USERS_LISTS'),
                  baseUrl: _index2.default.get('USERS_LIST_URL')
                })
              )
            )
          )
        ),
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users
  };
}

function paths() {
  var paths = [];

  _index2.default.get('USERS_LISTS').forEach(function (item) {
    if (item.component === 'rank') {
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/:page/',
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/',
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
    } else if (item.component === 'active-posters') {
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.component + '/',
        component: (0, _reactRedux.connect)(select)(_root2.default),
        extra: {
          name: item.name
        }
      });
    }
  });

  return paths;
}

},{"../../index":318,"../dropdown-toggle":43,"../with-dropdown":315,"./active-posters/root":308,"./nav":309,"./rank/root":313,"react":"react","react-redux":"react-redux"}],315:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.toggleNav = function () {
      _this.setState({
        dropdown: !_this.state.dropdown
      });
    };

    _this.hideNav = function () {
      _this.setState({
        dropdown: false
      });
    };

    _this.state = {
      dropdown: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getCompactNavClassName',

    /* jshint ignore:end */

    value: function getCompactNavClassName() {
      if (this.state.dropdown) {
        return 'compact-nav open';
      } else {
        return 'compact-nav';
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],316:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.toggle = function () {
      _this.props.onChange({
        target: {
          value: !_this.props.value
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.value) {
        return "btn btn-yes-no btn-yes-no-on";
      } else {
        return "btn btn-yes-no btn-yes-no-off";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (!!this.props.value) {
        return this.props.iconOn || 'check_box';
      } else {
        return this.props.iconOff || 'check_box_outline_blank';
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!!this.props.value) {
        return this.props.labelOn || gettext("yes");
      } else {
        return this.props.labelOff || gettext("no");
      }
    }

    /* jshint ignore:start */

  }, {
    key: "render",

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "button",
        {
          type: "button",
          onClick: this.toggle,
          className: this.getClassName(),
          id: this.props.id || null,
          "aria-describedby": this.props['aria-describedby'] || null,
          disabled: this.props.disabled || false
        },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          this.getIcon()
        ),
        _react2.default.createElement(
          "span",
          { className: "btn-text" },
          this.getLabel()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],317:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _profileDetails = require('../reducers/profile-details');

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _props = this.props,
          data = _props.data,
          dispatch = _props.dispatch,
          user = _props.user;

      if (data && data.id === user.id) return;

      _ajax2.default.get(this.props.user.api.details).then(function (data) {
        dispatch((0, _profileDetails.load)(data));
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../reducers/profile-details":371,"../services/ajax":381,"../services/snackbar":392,"react":"react"}],318:[function(require,module,exports){
(function (global){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Misago = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _orderedList = require('./utils/ordered-list');

var _orderedList2 = _interopRequireDefault(_orderedList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Misago = exports.Misago = function () {
  function Misago() {
    _classCallCheck(this, Misago);

    this._initializers = [];
    this._context = {};
  }

  _createClass(Misago, [{
    key: 'addInitializer',
    value: function addInitializer(initializer) {
      this._initializers.push({
        key: initializer.name,

        item: initializer.initializer,

        after: initializer.after,
        before: initializer.before
      });
    }
  }, {
    key: 'init',
    value: function init(context) {
      var _this = this;

      this._context = context;

      var initOrder = new _orderedList2.default(this._initializers).orderedValues();
      initOrder.forEach(function (initializer) {
        initializer(_this);
      });
    }

    // context accessors

  }, {
    key: 'has',
    value: function has(key) {
      return !!this._context[key];
    }
  }, {
    key: 'get',
    value: function get(key, fallback) {
      if (this.has(key)) {
        return this._context[key];
      } else {
        return fallback || undefined;
      }
    }
  }, {
    key: 'pop',
    value: function pop(key) {
      if (this.has(key)) {
        var value = this._context[key];
        this._context[key] = null;
        return value;
      } else {
        return undefined;
      }
    }
  }]);

  return Misago;
}();

// create  singleton


var misago = new Misago();

// expose it globally
global.misago = misago;

// and export it for tests and stuff
exports.default = misago;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./utils/ordered-list":403}],319:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _ajax2.default.init(_index2.default.get('CSRF_COOKIE_NAME'));
}

_index2.default.addInitializer({
  name: 'ajax',
  initializer: initializer
});

},{"../index":318,"../services/ajax":381}],320:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../reducers/auth');

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AUTH_SYNC_RATE = 45; // sync user with backend every 45 seconds

function initializer(context) {
  if (context.get('isAuthenticated')) {
    window.setInterval(function () {
      _ajax2.default.get(context.get('AUTH_API')).then(function (data) {
        _store2.default.dispatch((0, _auth.patch)(data));
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }, AUTH_SYNC_RATE * 1000);
  }
}

_index2.default.addInitializer({
  name: 'auth-sync',
  initializer: initializer,
  after: 'auth'
});

},{"../index":318,"../reducers/auth":366,"../services/ajax":381,"../services/snackbar":392,"../services/store":393}],321:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

var _localStorage = require('../services/local-storage');

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _auth2.default.init(_store2.default, _localStorage2.default, _modal2.default);
}

_index2.default.addInitializer({
  name: 'auth',
  initializer: initializer,
  after: 'store'
});

},{"../index":318,"../services/auth":382,"../services/local-storage":385,"../services/modal":387,"../services/store":393}],322:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _captcha2.default.init(context, _ajax2.default, _include2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: 'captcha',
  initializer: initializer
});

},{"../index":318,"../services/ajax":381,"../services/captcha":383,"../services/include":384,"../services/snackbar":392}],323:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _acceptAgreement = require('../../components/accept-agreement');

var _acceptAgreement2 = _interopRequireDefault(_acceptAgreement);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function initializer(context) {
  if (document.getElementById('required-agreement-mount')) {
    (0, _mountComponent2.default)(_react2.default.createElement(_acceptAgreement2.default, { api: context.get('REQUIRED_AGREEMENT_API') }), 'required-agreement-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:accept-agreement',
  initializer: initializer,
  after: 'store'
});

},{"../../components/accept-agreement":19,"../../index":318,"../../utils/mount-component":402,"react":"react"}],324:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _authMessage = require('../../components/auth-message');

var _authMessage2 = _interopRequireDefault(_authMessage);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage2.default), 'auth-message-mount');
}

_index2.default.addInitializer({
  name: 'component:auth-message',
  initializer: initializer,
  after: 'store'
});

},{"../../components/auth-message":21,"../../index":318,"../../utils/mount-component":402,"react-redux":"react-redux"}],325:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _bannedPage = require('../../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('BAN_MESSAGE')) {
    (0, _bannedPage2.default)(context.get('BAN_MESSAGE'), false);
  }
}

_index2.default.addInitializer({
  name: 'component:banmed-page',
  initializer: initializer,
  after: 'store'
});

},{"../../index":318,"../../utils/banned-page":395}],326:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _categories = require('../../components/categories');

var _categories2 = _interopRequireDefault(_categories);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('categories-mount')) {
    (0, _mountComponent2.default)((0, _reactRedux.connect)(_categories.select)(_categories2.default), 'categories-mount');
  }
}

_index2.default.addInitializer({
  name: 'component:categories',
  initializer: initializer,
  after: 'store'
});

},{"../../components/categories":36,"../../index":318,"../../utils/mount-component":402,"react-redux":"react-redux"}],327:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/options/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('USER_OPTIONS')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('USERCP_URL'),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:options',
  initializer: initializer,
  after: 'store'
});

},{"../../components/options/root":102,"../../index":318,"../../utils/routed-component":406}],328:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _root = require('../../components/profile/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('PROFILE') && context.has('PROFILE_PAGES')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('PROFILE').url,
      component: (0, _reactRedux.connect)(_root.select)(_root2.default),
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:profile',
  initializer: initializer,
  after: 'reducer:profile-hydrate'
});

},{"../../components/profile/root":210,"../../index":318,"../../utils/routed-component":406,"react-redux":"react-redux"}],329:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _requestActivationLink = require('../../components/request-activation-link');

var _requestActivationLink2 = _interopRequireDefault(_requestActivationLink);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('request-activation-link-mount')) {
    (0, _mountComponent2.default)(_requestActivationLink2.default, 'request-activation-link-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:request-activation-link',
  initializer: initializer,
  after: 'store'
});

},{"../../components/request-activation-link":215,"../../index":318,"../../utils/mount-component":402}],330:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _requestPasswordReset = require('../../components/request-password-reset');

var _requestPasswordReset2 = _interopRequireDefault(_requestPasswordReset);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('request-password-reset-mount')) {
    (0, _mountComponent2.default)(_requestPasswordReset2.default, 'request-password-reset-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:request-password-reset',
  initializer: initializer,
  after: 'store'
});

},{"../../components/request-password-reset":216,"../../index":318,"../../utils/mount-component":402}],331:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _resetPasswordForm = require('../../components/reset-password-form');

var _resetPasswordForm2 = _interopRequireDefault(_resetPasswordForm);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('reset-password-form-mount')) {
    (0, _mountComponent2.default)(_resetPasswordForm2.default, 'reset-password-form-mount', false);
  }
}

_2.default.addInitializer({
  name: 'component:reset-password-form',
  initializer: initializer,
  after: 'store'
});

},{"../..":318,"../../components/reset-password-form":217,"../../utils/mount-component":402}],332:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _search = require('../../components/search');

var _search2 = _interopRequireDefault(_search);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.get('CURRENT_LINK') === 'misago:search') {
    (0, _routedComponent2.default)({
      paths: (0, _search2.default)(_2.default.get('SEARCH_PROVIDERS'))
    });
  }
}

_2.default.addInitializer({
  name: 'component:search',
  initializer: initializer,
  after: 'store'
});

},{"../..":318,"../../components/search":220,"../../utils/routed-component":406}],333:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../../components/snackbar');

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), 'snackbar-mount');
}

_index2.default.addInitializer({
  name: 'component:snackbar',
  initializer: initializer,
  after: 'snackbar'
});

},{"../../components/snackbar":228,"../../index":318,"../../utils/mount-component":402,"react-redux":"react-redux"}],334:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _socialAuth = require('../../components/social-auth');

var _socialAuth2 = _interopRequireDefault(_socialAuth);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function initializer(context) {
  if (context.get('CURRENT_LINK') === 'social:complete') {
    var props = context.get('SOCIAL_AUTH');
    (0, _mountComponent2.default)(_react2.default.createElement(_socialAuth2.default, props), 'page-mount');
  }
}

_2.default.addInitializer({
  name: 'component:social-auth',
  initializer: initializer,
  after: 'store'
});

},{"../..":318,"../../components/social-auth":231,"../../utils/mount-component":402,"react":"react"}],335:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/thread/root');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('THREAD') && context.has('POSTS')) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:thread',
  initializer: initializer,
  after: 'store'
});

},{"../../components/thread/root":249,"../../index":318,"../../utils/routed-component":406}],336:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;
exports.getListOptions = getListOptions;

var _root = require('../../components/threads/root');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PRIVATE_THREADS_LIST = 'misago:private-threads';

function initializer(context) {
  if (context.has('THREADS') && context.has('CATEGORIES')) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)(context.get('user'), getListOptions(context))
    });
  }
}

function getListOptions(context) {
  var currentLink = context.get('CURRENT_LINK');
  if (currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST) {
    return {
      api: context.get('PRIVATE_THREADS_API'),
      startThread: {
        mode: 'START_PRIVATE',
        submit: _index2.default.get('PRIVATE_THREADS_API')
      },
      title: gettext("Private threads"),
      pageLead: gettext("Private threads are threads which only those that started them and those they have invited may see and participate in."),
      emptyMessage: gettext("You aren't participating in any private threads.")
    };
  }

  return {
    'api': context.get('THREADS_API')
  };
}

_index2.default.addInitializer({
  name: 'component:threads',
  initializer: initializer,
  after: 'store'
});

},{"../../components/threads/root":283,"../../index":318,"../../utils/routed-component":406}],337:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _root = require('../../components/user-menu/root');

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), 'user-menu-mount');
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), 'user-menu-compact-mount');
}

_index2.default.addInitializer({
  name: 'component:user-menu',
  initializer: initializer,
  after: 'store'
});

},{"../../components/user-menu/root":288,"../../index":318,"../../utils/mount-component":402,"react-redux":"react-redux"}],338:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/users/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('USERS_LISTS')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('USERS_LIST_URL'),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:users',
  initializer: initializer,
  after: 'store'
});

},{"../../components/users/root":314,"../../index":318,"../../utils/routed-component":406}],339:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _include2.default.init(context.get('STATIC_URL'));
}

_index2.default.addInitializer({
  name: 'include',
  initializer: initializer
});

},{"../index":318,"../services/include":384}],340:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _localStorage = require('../services/local-storage');

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _localStorage2.default.init('misago_');
}

_index2.default.addInitializer({
  name: 'local-storage',
  initializer: initializer
});

},{"../index":318,"../services/local-storage":385}],341:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _mobileNavbarDropdown = require('../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById('mobile-navbar-dropdown-mount');
  if (element) {
    _mobileNavbarDropdown2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: 'dropdown',
  initializer: initializer,
  before: 'store'
});

},{"../index":318,"../services/mobile-navbar-dropdown":386}],342:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById('modal-mount');
  if (element) {
    _modal2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: 'modal',
  initializer: initializer,
  before: 'store'
});

},{"../index":318,"../services/modal":387}],343:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _moment2.default.locale($('html').attr('lang'));
}

_index2.default.addInitializer({
  name: 'moment',
  initializer: initializer
});

},{"../index":318,"moment":"moment"}],344:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require('../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _pageTitle2.default.init(context.get('SETTINGS').forum_index_title, context.get('SETTINGS').forum_name);
}

_index2.default.addInitializer({
  name: 'page-title',
  initializer: initializer
});

},{"../index":318,"../services/page-title":389}],345:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _polls = require('../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _polls2.default.init(_ajax2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: 'polls',
  initializer: initializer
});

},{"../index":318,"../services/ajax":381,"../services/polls":390,"../services/snackbar":392}],346:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _posting2.default.init(_ajax2.default, _snackbar2.default, document.getElementById('posting-placeholder'));
}

_index2.default.addInitializer({
  name: 'posting',
  initializer: initializer
});

},{"../index":318,"../services/ajax":381,"../services/posting":391,"../services/snackbar":392}],347:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../../reducers/auth');

var _auth2 = _interopRequireDefault(_auth);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _store2.default.addReducer('auth', _auth2.default, Object.assign({
    isAuthenticated: context.get('isAuthenticated'),
    isAnonymous: !context.get('isAuthenticated'),

    user: context.get('user')
  }, _auth.initialState));
}

_index2.default.addInitializer({
  name: 'reducer:auth',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/auth":366,"../../services/store":393}],348:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _participants = require('../../reducers/participants');

var _participants2 = _interopRequireDefault(_participants);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('THREAD')) {
    initialState = _index2.default.get('THREAD').participants;
  }

  _store2.default.addReducer('participants', _participants2.default, initialState || []);
}

_index2.default.addInitializer({
  name: 'reducer:participants',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/participants":367,"../../services/store":393}],349:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _poll = require('../../reducers/poll');

var _poll2 = _interopRequireDefault(_poll);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('THREAD') && _index2.default.get('THREAD').poll) {
    initialState = (0, _poll.hydrate)(_index2.default.get('THREAD').poll);
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store2.default.addReducer('poll', _poll2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:poll',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/poll":368,"../../services/store":393}],350:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _posts = require('../../reducers/posts');

var _posts2 = _interopRequireDefault(_posts);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('POSTS')) {
    initialState = (0, _posts.hydrate)(_index2.default.get('POSTS'));
  } else {
    initialState = {
      isLoaded: false,
      isBusy: false
    };
  }

  _store2.default.addReducer('posts', _posts2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:posts',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/posts":370,"../../services/store":393}],351:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profileDetails = require('../../reducers/profile-details');

var _profileDetails2 = _interopRequireDefault(_profileDetails);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('PROFILE_DETAILS')) {
    initialState = _index2.default.get('PROFILE_DETAILS');
  }

  _store2.default.addReducer('profile-details', _profileDetails2.default, initialState || {});
}

_index2.default.addInitializer({
  name: 'reducer:profile-details',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/profile-details":371,"../../services/store":393}],352:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (_index2.default.has('PROFILE')) {
    _store2.default.dispatch((0, _profile.hydrate)(_index2.default.get('PROFILE')));
  }
}

_index2.default.addInitializer({
  name: 'reducer:profile-hydrate',
  initializer: initializer,
  after: 'store'
});

},{"../../index":318,"../../reducers/profile":372,"../../services/store":393}],353:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _profile2 = _interopRequireDefault(_profile);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('profile', _profile2.default, {});
}

_index2.default.addInitializer({
  name: 'reducer:profile',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/profile":372,"../../services/store":393}],354:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _search = require('../../reducers/search');

var _search2 = _interopRequireDefault(_search);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('search', _search2.default, Object.assign({}, _search.initialState, {
    providers: _2.default.get('SEARCH_PROVIDERS') || [],
    query: _2.default.get('SEARCH_QUERY') || ''
  }));
}

_2.default.addInitializer({
  name: 'reducer:search',
  initializer: initializer,
  before: 'store'
});

},{"../..":318,"../../reducers/search":373,"../../services/store":393}],355:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _selection = require('../../reducers/selection');

var _selection2 = _interopRequireDefault(_selection);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('selection', _selection2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:selection',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/selection":374,"../../services/store":393}],356:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../../reducers/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('snackbar', _snackbar2.default, _snackbar.initialState);
}

_index2.default.addInitializer({
  name: 'reducer:snackbar',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/snackbar":375,"../../services/store":393}],357:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _thread = require('../../reducers/thread');

var _thread2 = _interopRequireDefault(_thread);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('THREAD')) {
    initialState = (0, _thread.hydrate)(_index2.default.get('THREAD'));
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store2.default.addReducer('thread', _thread2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:thread',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/thread":376,"../../services/store":393}],358:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _threads = require('../../reducers/threads');

var _threads2 = _interopRequireDefault(_threads);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('threads', _threads2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:threads',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/threads":377,"../../services/store":393}],359:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _tick = require('../../reducers/tick');

var _tick2 = _interopRequireDefault(_tick);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('tick', _tick2.default, _tick.initialState);
}

_index2.default.addInitializer({
  name: 'reducer:tick',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/tick":378,"../../services/store":393}],360:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../reducers/username-history');

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('username-history', _usernameHistory2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:username-history',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/username-history":379,"../../services/store":393}],361:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../reducers/users');

var _users2 = _interopRequireDefault(_users);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('users', _users2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:users',
  initializer: initializer,
  before: 'store'
});

},{"../../index":318,"../../reducers/users":380,"../../services/store":393}],362:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _snackbar2.default.init(_store2.default);
}

_index2.default.addInitializer({
  name: 'snackbar',
  initializer: initializer,
  after: 'store'
});

},{"../index":318,"../services/snackbar":392,"../services/store":393}],363:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.init();
}

_index2.default.addInitializer({
  name: 'store',
  initializer: initializer,
  before: '_end'
});

},{"../index":318,"../services/store":393}],364:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _tick = require('../reducers/tick');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TICK_PERIOD = 50 * 1000; //do the tick every 50s

function initializer() {
  window.setInterval(function () {
    _store2.default.dispatch((0, _tick.doTick)());
  }, TICK_PERIOD);
}

_index2.default.addInitializer({
  name: 'tick-start',
  initializer: initializer,
  after: 'store'
});

},{"../index":318,"../reducers/tick":378,"../services/store":393}],365:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _zxcvbn2.default.init(_include2.default);
}

_index2.default.addInitializer({
  name: 'zxcvbn',
  initializer: initializer
});

},{"../index":318,"../services/include":384,"../services/zxcvbn":394}],366:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SIGN_OUT = exports.SIGN_IN = exports.PATCH_USER = exports.initialState = undefined;
exports.patch = patch;
exports.signIn = signIn;
exports.signOut = signOut;
exports.default = auth;

var _users = require('./users');

var initialState = exports.initialState = {
  signedIn: false,
  signedOut: false
};

var PATCH_USER = exports.PATCH_USER = 'PATCH_USER';
var SIGN_IN = exports.SIGN_IN = 'SIGN_IN';
var SIGN_OUT = exports.SIGN_OUT = 'SIGN_OUT';

function patch(patch) {
  return {
    type: PATCH_USER,
    patch: patch
  };
}

function signIn(user) {
  return {
    type: SIGN_IN,
    user: user
  };
}

function signOut() {
  var soft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

  return {
    type: SIGN_OUT,
    soft: soft
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_USER:
      var newState = Object.assign({}, state);
      newState.user = Object.assign({}, state.user, action.patch);
      return newState;

    case SIGN_IN:
      return Object.assign({}, state, {
        signedIn: action.user
      });

    case SIGN_OUT:
      return Object.assign({}, state, {
        isAuthenticated: false,
        isAnonymous: true,
        signedOut: !action.soft
      });

    case _users.UPDATE_AVATAR:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState = Object.assign({}, state);
        _newState.user = Object.assign({}, state.user, {
          'avatars': action.avatars
        });
        return _newState;
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState2 = Object.assign({}, state);
        _newState2.user = Object.assign({}, state.user, {
          username: action.username,
          slug: action.slug
        });
        return _newState2;
      }
      return state;

    default:
      return state;
  }
}

},{"./users":380}],367:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.default = participants;
var REPLACE_PARTICIPANTS = exports.REPLACE_PARTICIPANTS = 'REPLACE_PARTICIPANTS';

function replace(newState) {
  return {
    type: REPLACE_PARTICIPANTS,
    state: newState
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_PARTICIPANTS:
      return action.state;

    default:
      return state;
  }
}

},{}],368:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_POLL = exports.REPLACE_POLL = exports.REMOVE_POLL = exports.RELEASE_POLL = exports.BUSY_POLL = undefined;
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.remove = remove;
exports.default = poll;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_POLL = exports.BUSY_POLL = 'BUSY_POLL';
var RELEASE_POLL = exports.RELEASE_POLL = 'RELEASE_POLL';
var REMOVE_POLL = exports.REMOVE_POLL = 'REMOVE_POLL';
var REPLACE_POLL = exports.REPLACE_POLL = 'REPLACE_POLL';
var UPDATE_POLL = exports.UPDATE_POLL = 'UPDATE_POLL';

function hydrate(json) {
  var hasSelectedChoices = false;
  for (var i in json.choices) {
    var choice = json.choices[i];
    if (choice.selected) {
      hasSelectedChoices = true;
      break;
    }
  }

  return Object.assign({}, json, {
    posted_on: (0, _moment2.default)(json.posted_on),

    hasSelectedChoices: hasSelectedChoices,
    endsOn: json.length ? (0, _moment2.default)(json.posted_on).add(json.length, 'days') : null,

    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_POLL
  };
}

function release() {
  return {
    type: RELEASE_POLL
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: REPLACE_POLL,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_POLL,
    data: data
  };
}

function remove() {
  return {
    type: REMOVE_POLL
  };
}

function poll() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_POLL:
      return Object.assign({}, state, { isBusy: true });

    case RELEASE_POLL:
      return Object.assign({}, state, { isBusy: false });

    case REMOVE_POLL:
      return {
        isBusy: false
      };

    case REPLACE_POLL:
      return action.state;

    case UPDATE_POLL:
      return Object.assign({}, state, action.data);

    default:
      return state;
  }
}

},{"moment":"moment"}],369:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_POST = undefined;
exports.hydrate = hydrate;
exports.hydrateAttachment = hydrateAttachment;
exports.patch = patch;
exports.default = post;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PATCH_POST = exports.PATCH_POST = 'PATCH_POST';

function hydrate(json) {
  return Object.assign({}, json, {
    posted_on: (0, _moment2.default)(json.posted_on),
    updated_on: (0, _moment2.default)(json.updated_on),
    hidden_on: (0, _moment2.default)(json.hidden_on),

    attachments: json.attachments ? json.attachments.map(hydrateAttachment) : null,
    poster: json.poster ? (0, _users.hydrateUser)(json.poster) : null,

    isSelected: false,
    isBusy: false,
    isDeleted: false
  });
}

function hydrateAttachment(json) {
  return Object.assign({}, json, {
    uploaded_on: (0, _moment2.default)(json.uploaded_on)
  });
}

function patch(post, patch) {
  return {
    type: PATCH_POST,
    post: post,
    patch: patch
  };
}

function post() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_POST:
      if (state.id == action.post.id) {
        return Object.assign({}, state, action.patch);
      }
      return state;

    default:
      return state;
  }
}

},{"./users":380,"moment":"moment"}],370:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_POSTS = exports.UNLOAD_POSTS = exports.LOAD_POSTS = exports.DESELECT_POSTS = exports.DESELECT_POST = exports.SELECT_POST = exports.APPEND_POSTS = undefined;
exports.select = select;
exports.deselect = deselect;
exports.deselectAll = deselectAll;
exports.hydrate = hydrate;
exports.load = load;
exports.append = append;
exports.unload = unload;
exports.update = update;
exports.default = posts;

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_POSTS = exports.APPEND_POSTS = 'APPEND_POSTS';
var SELECT_POST = exports.SELECT_POST = 'SELECT_POST';
var DESELECT_POST = exports.DESELECT_POST = 'DESELECT_POST';
var DESELECT_POSTS = exports.DESELECT_POSTS = 'DESELECT_POSTS';
var LOAD_POSTS = exports.LOAD_POSTS = 'LOAD_POSTS';
var UNLOAD_POSTS = exports.UNLOAD_POSTS = 'UNLOAD_POSTS';
var UPDATE_POSTS = exports.UPDATE_POSTS = 'UPDATE_POSTS';

function select(post) {
  return {
    type: SELECT_POST,
    post: post
  };
}

function deselect(post) {
  return {
    type: DESELECT_POST,
    post: post
  };
}

function deselectAll() {
  return {
    type: DESELECT_POSTS
  };
}

function hydrate(json) {
  return Object.assign({}, json, {
    results: json.results.map(_post.hydrate),
    isLoaded: true,
    isBusy: false,
    isSelected: false
  });
}

function load(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: LOAD_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function append(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: APPEND_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function unload() {
  return {
    type: UNLOAD_POSTS
  };
}

function update(newState) {
  return {
    type: UPDATE_POSTS,
    update: newState
  };
}

function posts() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_POST:
      var selectedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: true
          });
        } else {
          return post;
        }
      });

      return Object.assign({}, state, {
        results: selectedPosts
      });

    case DESELECT_POST:
      var deseletedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: false
          });
        } else {
          return post;
        }
      });

      return Object.assign({}, state, {
        results: deseletedPosts
      });

    case DESELECT_POSTS:
      var deseletedAllPosts = state.results.map(function (post) {
        return Object.assign({}, post, {
          isSelected: false
        });
      });

      return Object.assign({}, state, {
        results: deseletedAllPosts
      });

    case APPEND_POSTS:
      var results = state.results.slice();
      var resultsIds = state.results.map(function (post) {
        return post.id;
      });

      action.state.results.map(function (post) {
        if (resultsIds.indexOf(post.id) === -1) {
          results.push(post);
        }
      });

      return Object.assign({}, action.state, {
        results: results
      });

    case LOAD_POSTS:
      return action.state;

    case UNLOAD_POSTS:
      return Object.assign({}, state, {
        isLoaded: false
      });

    case UPDATE_POSTS:
      return Object.assign({}, state, action.update);

    case _post.PATCH_POST:
      var reducedPosts = state.results.map(function (post) {
        return (0, _post2.default)(post, action);
      });

      return Object.assign({}, state, {
        results: reducedPosts
      });

    default:
      return state;
  }
}

},{"./post":369}],371:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.load = load;
exports.default = details;
var LOAD_DETAILS = exports.LOAD_DETAILS = 'LOAD_DETAILS';

function load(newState) {
  return {
    type: LOAD_DETAILS,

    newState: newState
  };
}

function details() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case LOAD_DETAILS:
      return action.newState;

    default:
      return state;
  }
}

},{}],372:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_PROFILE = exports.HYDRATE_PROFILE = undefined;
exports.hydrate = hydrate;
exports.patch = patch;
exports.default = auth;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HYDRATE_PROFILE = exports.HYDRATE_PROFILE = 'HYDRATE_PROFILE';
var PATCH_PROFILE = exports.PATCH_PROFILE = 'PATCH_PROFILE';

function hydrate(profile) {
  return {
    type: HYDRATE_PROFILE,
    profile: profile
  };
}

function patch(patch) {
  return {
    type: PATCH_PROFILE,
    patch: patch
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case HYDRATE_PROFILE:
      return Object.assign({}, action.profile, {
        joined_on: (0, _moment2.default)(action.profile.joined_on),
        status: (0, _users.hydrateStatus)(action.profile.status)
      });

    case PATCH_PROFILE:
      return Object.assign({}, state, action.patch);

    case _users.UPDATE_AVATAR:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          avatars: action.avatars
        });
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          username: action.username,
          slug: action.slug
        });
      }
      return state;

    default:
      return state;
  }
}

},{"./users":380,"moment":"moment"}],373:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.update = update;
exports.updateProvider = updateProvider;
exports.default = participants;
var REPLACE_SEARCH = exports.REPLACE_SEARCH = 'REPLACE_SEARCH';
var UPDATE_SEARCH = exports.UPDATE_SEARCH = 'UPDATE_SEARCH';
var UPDATE_SEARCH_PROVIDER = exports.UPDATE_SEARCH_PROVIDER = 'UPDATE_SEARCH_PROVIDER';

var initialState = exports.initialState = {
  isLoading: false,
  query: '',
  providers: []
};

function replace(newState) {
  return {
    type: REPLACE_SEARCH,
    state: {
      isLoading: false,
      providers: newState
    }
  };
}

function update(newState) {
  return {
    type: UPDATE_SEARCH,
    update: newState
  };
}

function updateProvider(provider) {
  return {
    type: UPDATE_SEARCH_PROVIDER,
    provider: provider
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_SEARCH:
      return action.state;

    case UPDATE_SEARCH:
      return Object.assign({}, state, action.update);

    case UPDATE_SEARCH_PROVIDER:
      return Object.assign({}, state, {
        providers: state.providers.map(function (provider) {
          if (provider.id === action.provider.id) {
            return action.provider;
          } else {
            return provider;
          }
        })
      });

    default:
      return state;
  }
}

},{}],374:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SELECT_ITEM = exports.SELECT_NONE = exports.SELECT_ALL = undefined;
exports.all = all;
exports.none = none;
exports.item = item;
exports.default = selection;

var _sets = require('../utils/sets');

var SELECT_ALL = exports.SELECT_ALL = 'SELECT_ALL';
var SELECT_NONE = exports.SELECT_NONE = 'SELECT_NONE';
var SELECT_ITEM = exports.SELECT_ITEM = 'SELECT_ITEM';

function all(itemsIds) {
  return {
    type: SELECT_ALL,
    items: itemsIds
  };
}

function none() {
  return {
    type: SELECT_NONE
  };
}

function item(itemId) {
  return {
    type: SELECT_ITEM,
    item: itemId
  };
}

function selection() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_ALL:
      return action.items;

    case SELECT_NONE:
      return [];

    case SELECT_ITEM:
      return (0, _sets.toggle)(state, action.item);

    default:
      return state;
  }
}

},{"../utils/sets":407}],375:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.showSnackbar = showSnackbar;
exports.hideSnackbar = hideSnackbar;
exports.default = snackbar;
var initialState = exports.initialState = {
  type: 'info',
  message: '',
  isVisible: false
};

var SHOW_SNACKBAR = exports.SHOW_SNACKBAR = 'SHOW_SNACKBAR';
var HIDE_SNACKBAR = exports.HIDE_SNACKBAR = 'HIDE_SNACKBAR';

function showSnackbar(message, type) {
  return {
    type: SHOW_SNACKBAR,
    message: message,
    messageType: type
  };
}

function hideSnackbar() {
  return {
    type: HIDE_SNACKBAR
  };
}

function snackbar() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === SHOW_SNACKBAR) {
    return {
      type: action.messageType,
      message: action.message,
      isVisible: true
    };
  } else if (action.type === HIDE_SNACKBAR) {
    return Object.assign({}, state, {
      isVisible: false
    });
  } else {
    return state;
  }
}

},{}],376:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_THREAD_ACL = exports.UPDATE_THREAD = exports.REPLACE_THREAD = exports.RELEASE_THREAD = exports.BUSY_THREAD = undefined;
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.updateAcl = updateAcl;
exports.default = thread;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _poll = require('./poll');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_THREAD = exports.BUSY_THREAD = 'BUSY_THREAD';
var RELEASE_THREAD = exports.RELEASE_THREAD = 'RELEASE_THREAD';
var REPLACE_THREAD = exports.REPLACE_THREAD = 'REPLACE_THREAD';
var UPDATE_THREAD = exports.UPDATE_THREAD = 'UPDATE_THREAD';
var UPDATE_THREAD_ACL = exports.UPDATE_THREAD_ACL = 'UPDATE_THREAD_ACL';

function hydrate(json) {
  return Object.assign({}, json, {
    started_on: (0, _moment2.default)(json.started_on),
    last_post_on: (0, _moment2.default)(json.last_post_on),
    best_answer_marked_on: json.best_answer_marked_on ? (0, _moment2.default)(json.best_answer_marked_on) : null,

    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_THREAD
  };
}

function release() {
  return {
    type: RELEASE_THREAD
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: REPLACE_THREAD,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_THREAD,
    data: data
  };
}

function updateAcl(data) {
  return {
    type: UPDATE_THREAD_ACL,
    data: data
  };
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_THREAD:
      return Object.assign({}, state, { isBusy: true });

    case RELEASE_THREAD:
      return Object.assign({}, state, { isBusy: false });

    case _poll.REMOVE_POLL:
      return Object.assign({}, state, { poll: null });

    case _poll.REPLACE_POLL:
      return Object.assign({}, state, { poll: action.state });

    case REPLACE_THREAD:
      return action.state;

    case UPDATE_THREAD:
      return Object.assign({}, state, action.data);

    case UPDATE_THREAD_ACL:
      var acl = Object.assign({}, state.acl, action.data);
      return Object.assign({}, state, { acl: acl });

    default:
      return state;
  }
}

},{"./poll":368,"moment":"moment"}],377:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MODERATION_PERMISSIONS = exports.SORT_THREADS = exports.PATCH_THREAD = exports.HYDRATE_THREADS = exports.FILTER_THREADS = exports.DELETE_THREAD = exports.APPEND_THREADS = undefined;
exports.append = append;
exports.deleteThread = deleteThread;
exports.filterThreads = filterThreads;
exports.hydrate = hydrate;
exports.patch = patch;
exports.sort = sort;
exports.getThreadModerationOptions = getThreadModerationOptions;
exports.hydrateThread = hydrateThread;
exports.default = thread;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_THREADS = exports.APPEND_THREADS = 'APPEND_THREADS';
var DELETE_THREAD = exports.DELETE_THREAD = 'DELETE_THREAD';
var FILTER_THREADS = exports.FILTER_THREADS = 'FILTER_THREADS';
var HYDRATE_THREADS = exports.HYDRATE_THREADS = 'HYDRATE_THREADS';
var PATCH_THREAD = exports.PATCH_THREAD = 'PATCH_THREAD';
var SORT_THREADS = exports.SORT_THREADS = 'SORT_THREADS';

var MODERATION_PERMISSIONS = exports.MODERATION_PERMISSIONS = ['can_announce', 'can_approve', 'can_close', 'can_hide', 'can_move', 'can_merge', 'can_pin', 'can_review'];

function append(items, sorting) {
  return {
    type: APPEND_THREADS,
    items: items,
    sorting: sorting
  };
}

function deleteThread(thread) {
  return {
    type: DELETE_THREAD,
    thread: thread
  };
}

function filterThreads(category, categoriesMap) {
  return {
    type: FILTER_THREADS,
    category: category,
    categoriesMap: categoriesMap
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_THREADS,
    items: items
  };
}

function patch(thread, patch) {
  var sorting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

  return {
    type: PATCH_THREAD,
    thread: thread,
    patch: patch,
    sorting: sorting
  };
}

function sort(sorting) {
  return {
    type: SORT_THREADS,
    sorting: sorting
  };
}

function getThreadModerationOptions(thread_acl) {
  var options = [];
  MODERATION_PERMISSIONS.forEach(function (perm) {
    if (thread_acl[perm]) {
      options.push(perm);
    }
  });
  return options;
}

function hydrateThread(thread) {
  return Object.assign({}, thread, {
    started_on: (0, _moment2.default)(thread.started_on),
    last_post_on: (0, _moment2.default)(thread.last_post_on),
    moderation: getThreadModerationOptions(thread.acl)
  });
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_THREADS:
      var mergedState = (0, _concatUnique2.default)(action.items.map(hydrateThread), state);
      return mergedState.sort(action.sorting);

    case DELETE_THREAD:
      return state.filter(function (item) {
        return item.id !== action.thread.id;
      });

    case FILTER_THREADS:
      return state.filter(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          // same or sub category
          return true;
        } else if (item.weight == 2) {
          // globally pinned
          return true;
        } else {
          // thread moved outside displayed scope, hide it
          return false;
        }
      });

    case HYDRATE_THREADS:
      return action.items.map(hydrateThread);

    case PATCH_THREAD:
      var patchedState = state.map(function (item) {
        if (item.id === action.thread.id) {
          return Object.assign({}, item, action.patch);
        } else {
          return item;
        }
      });

      if (action.sorting) {
        return patchedState.sort(action.sorting);
      }
      return patchedState;

    case SORT_THREADS:
      return state.sort(action.sorting);

    default:
      return state;
  }
}

},{"../utils/concat-unique":397,"moment":"moment"}],378:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.doTick = doTick;
exports.default = tick;
var initialState = exports.initialState = {
  tick: 0
};

var TICK = exports.TICK = 'TICK';

function doTick() {
  return {
    type: TICK
  };
}

function tick() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === TICK) {
    return Object.assign({}, state, {
      tick: state.tick + 1
    });
  } else {
    return state;
  }
}

},{}],379:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.HYDRATE_HISTORY = exports.APPEND_HISTORY = exports.ADD_NAME_CHANGE = undefined;
exports.addNameChange = addNameChange;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateNamechange = hydrateNamechange;
exports.default = username;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ADD_NAME_CHANGE = exports.ADD_NAME_CHANGE = 'ADD_NAME_CHANGE';
var APPEND_HISTORY = exports.APPEND_HISTORY = 'APPEND_HISTORY';
var HYDRATE_HISTORY = exports.HYDRATE_HISTORY = 'HYDRATE_HISTORY';

function addNameChange(change, user, changedBy) {
  return {
    type: ADD_NAME_CHANGE,
    change: change,
    user: user,
    changedBy: changedBy
  };
}

function append(items) {
  return {
    type: APPEND_HISTORY,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_HISTORY,
    items: items
  };
}

function hydrateNamechange(namechange) {
  return Object.assign({}, namechange, {
    changed_on: (0, _moment2.default)(namechange.changed_on)
  });
}

function username() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case ADD_NAME_CHANGE:
      var newState = state.slice();
      newState.unshift({
        id: Math.floor(Date.now() / 1000), // just small hax for getting id
        changed_by: action.changedBy,
        changed_by_username: action.changedBy.username,
        changed_on: (0, _moment2.default)(),
        new_username: action.change.username,
        old_username: action.user.username
      });
      return newState;

    case APPEND_HISTORY:
      return (0, _concatUnique2.default)(state, action.items.map(hydrateNamechange));

    case HYDRATE_HISTORY:
      return action.items.map(hydrateNamechange);

    case _users.UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            avatars: action.avatars
          });
        }

        return item;
      });

    case _users.UPDATE_USERNAME:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            username: action.username,
            slug: action.slug
          });
        }

        return Object.assign({}, item);
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":397,"./users":380,"moment":"moment"}],380:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_USERNAME = exports.UPDATE_AVATAR = exports.HYDRATE_USERS = exports.APPEND_USERS = undefined;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateStatus = hydrateStatus;
exports.hydrateUser = hydrateUser;
exports.updateAvatar = updateAvatar;
exports.updateUsername = updateUsername;
exports.default = user;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_USERS = exports.APPEND_USERS = 'APPEND_USERS';
var HYDRATE_USERS = exports.HYDRATE_USERS = 'HYDRATE_USERS';
var UPDATE_AVATAR = exports.UPDATE_AVATAR = 'UPDATE_AVATAR';
var UPDATE_USERNAME = exports.UPDATE_USERNAME = 'UPDATE_USERNAME';

function append(items) {
  return {
    type: APPEND_USERS,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_USERS,
    items: items
  };
}

function hydrateStatus(status) {
  if (status) {
    return Object.assign({}, status, {
      last_click: status.last_click ? (0, _moment2.default)(status.last_click) : null,
      banned_until: status.banned_until ? (0, _moment2.default)(status.banned_until) : null
    });
  } else {
    return null;
  }
}

function hydrateUser(user) {
  return Object.assign({}, user, {
    joined_on: (0, _moment2.default)(user.joined_on),
    status: hydrateStatus(user.status)
  });
}

function updateAvatar(user, avatars) {
  return {
    type: UPDATE_AVATAR,
    userId: user.id,
    avatars: avatars
  };
}

function updateUsername(user, username, slug) {
  return {
    type: UPDATE_USERNAME,
    userId: user.id,
    username: username,
    slug: slug
  };
}

function user() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_USERS:
      return (0, _concatUnique2.default)(state, action.items.map(hydrateUser));

    case HYDRATE_USERS:
      return action.items.map(hydrateUser);

    case UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.id === action.userId) {
          item.avatars = action.avatars;
        }

        return item;
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":397,"moment":"moment"}],381:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Ajax = exports.Ajax = function () {
  function Ajax() {
    _classCallCheck(this, Ajax);

    this._cookieName = null;
    this._csrfToken = null;
    this._locks = {};
  }

  _createClass(Ajax, [{
    key: 'init',
    value: function init(cookieName) {
      this._cookieName = cookieName;
    }
  }, {
    key: 'getCsrfToken',
    value: function getCsrfToken() {
      if (document.cookie.indexOf(this._cookieName) !== -1) {
        var cookieRegex = new RegExp(this._cookieName + '\=([^;]*)');
        var cookie = document.cookie.match(cookieRegex)[0];
        return cookie ? cookie.split('=')[1] : null;
      } else {
        return null;
      }
    }
  }, {
    key: 'request',
    value: function request(method, url, data) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: method,
          headers: {
            'X-CSRFToken': self.getCsrfToken()
          },

          data: data ? JSON.stringify(data) : null,
          contentType: "application/json; charset=utf-8",
          dataType: 'json',

          success: function success(data) {
            resolve(data);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === 'NOT FOUND') {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }, {
    key: 'get',
    value: function get(url, params, lock) {
      if (params) {
        url += '?' + $.param(params);
      }

      if (lock) {
        var self = this;

        // update url in existing lock?
        if (this._locks[lock]) {
          this._locks[lock].url = url;
        }

        // immediately dereference promise handlers without doing anything
        // we are already waiting for existing response to resolve
        if (this._locks[lock] && this._locks[lock].waiter) {
          return {
            then: function then() {
              return;
            }
          };

          // return promise that will begin when original one resolves
        } else if (this._locks[lock] && this._locks[lock].wait) {
          this._locks[lock].waiter = true;

          return new Promise(function (resolve, reject) {
            var wait = function wait(url) {
              // keep waiting on promise
              if (self._locks[lock].wait) {
                window.setTimeout(function () {
                  wait(url);
                }, 300);

                // poll for new url
              } else if (self._locks[lock].url !== url) {
                wait(self._locks[lock].url);

                // ajax backend for response
              } else {
                self._locks[lock].waiter = false;
                self.request('GET', self._locks[lock].url).then(function (data) {
                  if (self._locks[lock].url === url) {
                    resolve(data);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                }, function (rejection) {
                  if (self._locks[lock].url === url) {
                    reject(rejection);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                });
              }
            };

            window.setTimeout(function () {
              wait(url);
            }, 300);
          });

          // setup new lock without waiter
        } else {
          this._locks[lock] = {
            url: url,
            wait: true,
            waiter: false
          };

          return new Promise(function (resolve, reject) {
            self.request('GET', url).then(function (data) {
              self._locks[lock].wait = false;
              if (self._locks[lock].url === url) {
                resolve(data);
              }
            }, function (rejection) {
              self._locks[lock].wait = false;
              if (self._locks[lock].url === url) {
                reject(rejection);
              }
            });
          });
        }
      } else {
        return this.request('GET', url);
      }
    }
  }, {
    key: 'post',
    value: function post(url, data) {
      return this.request('POST', url, data);
    }
  }, {
    key: 'patch',
    value: function patch(url, data) {
      return this.request('PATCH', url, data);
    }
  }, {
    key: 'put',
    value: function put(url, data) {
      return this.request('PUT', url, data);
    }
  }, {
    key: 'delete',
    value: function _delete(url, data) {
      return this.request('DELETE', url, data);
    }
  }, {
    key: 'upload',
    value: function upload(url, data, progress) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: 'POST',
          headers: {
            'X-CSRFToken': self.getCsrfToken()
          },

          data: data,
          contentType: false,
          processData: false,

          xhr: function xhr() {
            var xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener("progress", function (evt) {
              if (evt.lengthComputable) {
                progress(Math.round(evt.loaded / evt.total * 100));
              }
            }, false);
            return xhr;
          },

          success: function success(response) {
            resolve(response);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 413 && !rejection.detail) {
              rejection.detail = gettext("Upload was rejected by server as too large.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === 'NOT FOUND') {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }]);

  return Ajax;
}();

exports.default = new Ajax();

},{}],382:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Auth = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _auth = require('../reducers/auth');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var Auth = exports.Auth = function () {
  function Auth() {
    _classCallCheck(this, Auth);
  }

  _createClass(Auth, [{
    key: 'init',
    value: function init(store, local, modal) {
      this._store = store;
      this._local = local;
      this._modal = modal;

      // tell other tabs what auth state is because we are most current with it
      this.syncSession();

      // listen for other tabs to tell us that state changed
      this.watchState();
    }
  }, {
    key: 'syncSession',
    value: function syncSession() {
      var state = this._store.getState().auth;
      if (state.isAuthenticated) {
        this._local.set('auth', {
          isAuthenticated: true,
          username: state.user.username
        });
      } else {
        this._local.set('auth', {
          isAuthenticated: false
        });
      }
    }
  }, {
    key: 'watchState',
    value: function watchState() {
      var _this = this;

      var state = this._store.getState().auth;
      this._local.watch('auth', function (newState) {
        if (newState.isAuthenticated) {
          _this._store.dispatch((0, _auth.signIn)({
            username: newState.username
          }));
        } else if (state.isAuthenticated) {
          // check if we are authenticated in this tab
          // because some browser plugins prune local store
          // aggressively, forcing erroneous message to display here
          // tracking bug #955
          _this._store.dispatch((0, _auth.signOut)());
        }
      });
      this._modal.hide();
    }
  }, {
    key: 'signIn',
    value: function signIn(user) {
      this._store.dispatch((0, _auth.signIn)(user));
      this._local.set('auth', {
        isAuthenticated: true,
        username: user.username
      });
      this._modal.hide();
    }
  }, {
    key: 'signOut',
    value: function signOut() {
      this._store.dispatch((0, _auth.signOut)());
      this._local.set('auth', {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }, {
    key: 'softSignOut',
    value: function softSignOut() {
      this._store.dispatch((0, _auth.signOut)(true));
      this._local.set('auth', {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }]);

  return Auth;
}();

exports.default = new Auth();

},{"../reducers/auth":366}],383:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global grecaptcha */
// jshint ignore:line


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _formGroup = require('../components/form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var BaseCaptcha = exports.BaseCaptcha = function () {
  function BaseCaptcha() {
    _classCallCheck(this, BaseCaptcha);
  }

  _createClass(BaseCaptcha, [{
    key: 'init',
    value: function init(context, ajax, include, snackbar) {
      this._context = context;
      this._ajax = ajax;
      this._include = include;
      this._snackbar = snackbar;
    }
  }]);

  return BaseCaptcha;
}();

var NoCaptcha = exports.NoCaptcha = function (_BaseCaptcha) {
  _inherits(NoCaptcha, _BaseCaptcha);

  function NoCaptcha() {
    _classCallCheck(this, NoCaptcha);

    return _possibleConstructorReturn(this, (NoCaptcha.__proto__ || Object.getPrototypeOf(NoCaptcha)).apply(this, arguments));
  }

  _createClass(NoCaptcha, [{
    key: 'load',
    value: function load() {
      return new Promise(function (resolve) {
        // immediately resolve as we don't have anything to validate
        resolve();
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return null;
    }
  }, {
    key: 'component',
    value: function component() {
      return null;
    }
  }]);

  return NoCaptcha;
}(BaseCaptcha);

var QACaptcha = exports.QACaptcha = function (_BaseCaptcha2) {
  _inherits(QACaptcha, _BaseCaptcha2);

  function QACaptcha() {
    _classCallCheck(this, QACaptcha);

    return _possibleConstructorReturn(this, (QACaptcha.__proto__ || Object.getPrototypeOf(QACaptcha)).apply(this, arguments));
  }

  _createClass(QACaptcha, [{
    key: 'load',
    value: function load() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._ajax.get(self._context.get('CAPTCHA_API')).then(function (data) {
          self.question = data.question;
          self.helpText = data.help_text;
          resolve();
        }, function () {
          self._snackbar.error(gettext("Failed to load CAPTCHA."));
          reject();
        });
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return [];
    }

    /* jshint ignore:start */

  }, {
    key: 'component',
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        {
          label: this.question,
          'for': 'id_captcha',
          labelClass: kwargs.labelClass || "",
          controlClass: kwargs.controlClass || "",
          validation: kwargs.form.state.errors.captcha,
          helpText: this.helpText || null
        },
        _react2.default.createElement('input', {
          'aria-describedby': 'id_captcha_status',
          className: 'form-control',
          disabled: kwargs.form.state.isLoading,
          id: 'id_captcha',
          onChange: kwargs.form.bindInput('captcha'),
          type: 'text',
          value: kwargs.form.state.captcha
        })
      );
    }
    /* jshint ignore:end */

  }]);

  return QACaptcha;
}(BaseCaptcha);

var ReCaptchaComponent = exports.ReCaptchaComponent = function (_React$Component) {
  _inherits(ReCaptchaComponent, _React$Component);

  function ReCaptchaComponent() {
    _classCallCheck(this, ReCaptchaComponent);

    return _possibleConstructorReturn(this, (ReCaptchaComponent.__proto__ || Object.getPrototypeOf(ReCaptchaComponent)).apply(this, arguments));
  }

  _createClass(ReCaptchaComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this4 = this;

      grecaptcha.render('recaptcha', {
        'sitekey': this.props.siteKey,
        'callback': function callback(response) {
          // fire fakey event to binding
          _this4.props.binding({
            target: {
              value: response
            }
          });
        }
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement('div', { id: 'recaptcha' });
      /* jshint ignore:end */
    }
  }]);

  return ReCaptchaComponent;
}(_react2.default.Component);

var ReCaptcha = exports.ReCaptcha = function (_BaseCaptcha3) {
  _inherits(ReCaptcha, _BaseCaptcha3);

  function ReCaptcha() {
    _classCallCheck(this, ReCaptcha);

    return _possibleConstructorReturn(this, (ReCaptcha.__proto__ || Object.getPrototypeOf(ReCaptcha)).apply(this, arguments));
  }

  _createClass(ReCaptcha, [{
    key: 'load',
    value: function load() {
      this._include.include('https://www.google.com/recaptcha/api.js', true);

      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof grecaptcha === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return [];
    }

    /* jshint ignore:start */

  }, {
    key: 'component',
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        {
          label: gettext("Please solve the quick test"),
          'for': 'id_captcha',
          labelClass: kwargs.labelClass || "",
          controlClass: kwargs.controlClass || "",
          validation: kwargs.form.state.errors.captcha,
          helpText: gettext("This test helps us prevent automated spam registrations on our site.")
        },
        _react2.default.createElement(ReCaptchaComponent, {
          binding: kwargs.form.bindInput('captcha'),
          siteKey: this._context.get('SETTINGS').recaptcha_site_key
        })
      );
    }
    /* jshint ignore:end */

  }]);

  return ReCaptcha;
}(BaseCaptcha);

var Captcha = exports.Captcha = function () {
  function Captcha() {
    _classCallCheck(this, Captcha);
  }

  _createClass(Captcha, [{
    key: 'init',
    value: function init(context, ajax, include, snackbar) {
      switch (context.get('SETTINGS').captcha_type) {
        case 'no':
          this._captcha = new NoCaptcha();
          break;

        case 'qa':
          this._captcha = new QACaptcha();
          break;

        case 're':
          this._captcha = new ReCaptcha();
          break;
      }

      this._captcha.init(context, ajax, include, snackbar);
    }

    // accessors for underlying strategy

  }, {
    key: 'load',
    value: function load() {
      return this._captcha.load();
    }
  }, {
    key: 'validator',
    value: function validator() {
      return this._captcha.validator();
    }
  }, {
    key: 'component',
    value: function component(kwargs) {
      return this._captcha.component(kwargs);
    }
  }]);

  return Captcha;
}();

exports.default = new Captcha();

},{"../components/form-group":70,"react":"react"}],384:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Include = exports.Include = function () {
  function Include() {
    _classCallCheck(this, Include);
  }

  _createClass(Include, [{
    key: 'init',
    value: function init(staticUrl) {
      this._staticUrl = staticUrl;
      this._included = [];
    }
  }, {
    key: 'include',
    value: function include(script) {
      var remote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (this._included.indexOf(script) === -1) {
        this._included.push(script);
        this._include(script, remote);
      }
    }
  }, {
    key: '_include',
    value: function _include(script, remote) {
      $.ajax({
        url: (!remote ? this._staticUrl : '') + script,
        cache: true,
        dataType: 'script'
      });
    }
  }]);

  return Include;
}();

exports.default = new Include();

},{}],385:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var storage = window.localStorage;

var LocalStorage = exports.LocalStorage = function () {
  function LocalStorage() {
    _classCallCheck(this, LocalStorage);
  }

  _createClass(LocalStorage, [{
    key: 'init',
    value: function init(prefix) {
      var _this = this;

      this._prefix = prefix;
      this._watchers = [];

      window.addEventListener('storage', function (e) {
        var newValueJson = JSON.parse(e.newValue);
        _this._watchers.forEach(function (watcher) {
          if (watcher.key === e.key && e.oldValue !== e.newValue) {
            watcher.callback(newValueJson);
          }
        });
      });
    }
  }, {
    key: 'set',
    value: function set(key, value) {
      storage.setItem(this._prefix + key, JSON.stringify(value));
    }
  }, {
    key: 'get',
    value: function get(key) {
      var itemString = storage.getItem(this._prefix + key);
      if (itemString) {
        return JSON.parse(itemString);
      } else {
        return null;
      }
    }
  }, {
    key: 'watch',
    value: function watch(key, callback) {
      this._watchers.push({
        key: this._prefix + key,
        callback: callback
      });
    }
  }]);

  return LocalStorage;
}();

exports.default = new LocalStorage();

},{}],386:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MobileNavbarDropdown = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MobileNavbarDropdown = exports.MobileNavbarDropdown = function () {
  function MobileNavbarDropdown() {
    _classCallCheck(this, MobileNavbarDropdown);
  }

  _createClass(MobileNavbarDropdown, [{
    key: 'init',
    value: function init(element) {
      this._element = element;
      this._component = null;
    }
  }, {
    key: 'show',
    value: function show(component) {
      if (this._component === component) {
        this.hide();
      } else {
        this._component = component;
        (0, _mountComponent2.default)(component, this._element.id);
        $(this._element).addClass('open');
      }
    }
  }, {
    key: 'showConnected',
    value: function showConnected(name, component) {
      if (this._component === name) {
        this.hide();
      } else {
        this._component = name;
        (0, _mountComponent2.default)(component, this._element.id, true);
        $(this._element).addClass('open');
      }
    }
  }, {
    key: 'hide',
    value: function hide() {
      $(this._element).removeClass('open');
      this._component = null;
    }
  }]);

  return MobileNavbarDropdown;
}();

exports.default = new MobileNavbarDropdown();

},{"../utils/mount-component":402}],387:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Modal = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Modal = exports.Modal = function () {
  function Modal() {
    _classCallCheck(this, Modal);
  }

  _createClass(Modal, [{
    key: 'init',
    value: function init(element) {
      var _this = this;

      this._element = element;

      this._modal = $(element).modal({ show: false });

      this._modal.on('hidden.bs.modal', function () {
        _reactDom2.default.unmountComponentAtNode(_this._element);
      });
    }
  }, {
    key: 'show',
    value: function show(component, callback) {
      (0, _mountComponent2.default)(component, this._element.id);
      this._modal.modal('show');
      if (callback && typeof callback === "function") {
        this._modal.on('hide.bs.modal', callback);
      }
    }
  }, {
    key: 'hide',
    value: function hide() {
      this._modal.modal('hide');
    }
  }]);

  return Modal;
}();

exports.default = new Modal();

},{"../utils/mount-component":402,"react-dom":"react-dom"}],388:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.parseYoutubeUrl = parseYoutubeUrl;
exports.cleanUrl = cleanUrl;
exports.getVideoIdFromUrl = getVideoIdFromUrl;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ytRegExp = new RegExp('^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*');

var OneBox = exports.OneBox = function () {
  function OneBox() {
    var _this = this;

    _classCallCheck(this, OneBox);

    this.render = function (domnode) {
      if (!domnode) return;
      _this.highlightCode(domnode);
      _this.embedYoutubePlayers(domnode);
    };

    this._youtube = {};
  }

  // jshint ignore:start


  _createClass(OneBox, [{
    key: 'highlightCode',

    // jshint ignore:end

    value: function highlightCode(domnode) {
      var codeblocks = domnode.querySelectorAll('pre>code');
      for (var i = 0; i < codeblocks.length; i++) {
        var code = codeblocks[i];
        hljs.highlightBlock(code);
      }
    }
  }, {
    key: 'embedYoutubePlayers',
    value: function embedYoutubePlayers(domnode) {
      var anchors = domnode.querySelectorAll('p>a');
      for (var i = 0; i < anchors.length; i++) {
        var a = anchors[i];
        var p = a.parentNode;
        var onlyChild = p.childNodes.length === 1;

        if (!this._youtube[a.href]) {
          this._youtube[a.href] = parseYoutubeUrl(a.href);
        }

        var youtubeMovie = this._youtube[a.href];
        if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {
          this.swapYoutubePlayer(a, youtubeMovie);
        }
      }
    }
  }, {
    key: 'swapYoutubePlayer',
    value: function swapYoutubePlayer(element, youtube) {
      var url = 'https://www.youtube.com/embed/';
      url += youtube.video;
      url += '?rel=0';
      if (youtube.start) {
        url += '&start=' + youtube.start;
      }

      var player = $('<iframe class="embed-responsive-item" src="' + url + '" allowfullscreen></iframe>');
      $(element).replaceWith(player);
      player.wrap('<div class="embed-responsive embed-responsive-16by9"></div>');
    }
  }]);

  return OneBox;
}();

exports.default = new OneBox();
function parseYoutubeUrl(url) {
  var cleanedUrl = cleanUrl(url);
  var video = getVideoIdFromUrl(cleanedUrl);

  if (!video) return null;

  var start = 0;
  if (cleanedUrl.indexOf('?') > 0) {
    var query = cleanedUrl.substr(cleanedUrl.indexOf('?') + 1);
    var timebit = query.split('&').filter(function (i) {
      return i.substr(0, 2) === 't=';
    })[0];

    if (timebit) {
      var bits = timebit.substr(2).split('m');
      if (bits[0].substr(-1) === 's') {
        start += parseInt(bits[0].substr(0, bits[0].length - 1));
      } else {
        start += parseInt(bits[0]) * 60;
        if (!!bits[1] && bits[1].substr(-1) === 's') {
          start += parseInt(bits[1].substr(0, bits[1].length - 1));
        }
      }
    }
  }

  return {
    start: start,
    video: video
  };
}

function cleanUrl(url) {
  var clean = url;

  if (url.substr(0, 8) === 'https://') {
    clean = clean.substr(8);
  } else if (url.substr(0, 7) === 'http://') {
    clean = clean.substr(7);
  }

  if (clean.substr(0, 4) === 'www.') {
    clean = clean.substr(4);
  }

  return clean;
}

function getVideoIdFromUrl(url) {
  if (url.indexOf('youtu') === -1) return null;

  var video = url.match(ytRegExp);
  if (video) {
    return video[1];
  }
  return null;
}

},{}],389:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var PageTitle = exports.PageTitle = function () {
  function PageTitle() {
    _classCallCheck(this, PageTitle);
  }

  _createClass(PageTitle, [{
    key: 'init',
    value: function init(indexTitle, forumName) {
      this._indexTitle = indexTitle;
      this._forumName = forumName;
    }
  }, {
    key: 'set',
    value: function set(title) {
      if (!title) {
        document.title = this._indexTitle || this._forumName;
        return;
      }

      if (typeof title === 'string') {
        title = { title: title };
      }

      var finalTitle = title.title;

      if (title.page > 1) {
        var pageLabel = interpolate(gettext('page: %(page)s'), {
          page: title.page
        }, true);

        finalTitle += ' (' + pageLabel + ')';
      }

      if (title.parent) {
        finalTitle += ' | ' + title.parent;
      }

      document.title = finalTitle + ' | ' + this._forumName;
    }
  }]);

  return PageTitle;
}();

exports.default = new PageTitle();

},{}],390:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Polls = exports.Polls = function () {
  function Polls() {
    _classCallCheck(this, Polls);
  }

  _createClass(Polls, [{
    key: "init",
    value: function init(ajax, snackbar) {
      this._ajax = ajax;
      this._snackbar = snackbar;

      this._polls = {};
    }
  }, {
    key: "start",
    value: function start(kwargs) {
      var _this = this;

      this.stop(kwargs.poll);

      var poolServer = function poolServer() {
        _this._polls[kwargs.poll] = kwargs;

        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {
          if (!_this._polls[kwargs.poll]._stopped) {
            kwargs.update(data);

            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);
          }
        }, function (rejection) {
          if (!_this._polls[kwargs.poll]._stopped) {
            if (kwargs.error) {
              kwargs.error(rejection);
            } else {
              _this._snackbar.apiError(rejection);
            }
          }
        });
      };

      if (kwargs.delayed) {
        this._polls[kwargs.poll] = {
          timeout: window.setTimeout(poolServer, kwargs.frequency)
        };
      } else {
        poolServer();
      }
    }
  }, {
    key: "stop",
    value: function stop(pollId) {
      if (this._polls[pollId]) {
        window.clearTimeout(this._polls[pollId].timeout);
        this._polls[pollId]._stopped = true;
      }
    }
  }]);

  return Polls;
}();

exports.default = new Polls();

},{}],391:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Posting = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _poll = require('../components/poll');

var _posting = require('../components/posting');

var _posting2 = _interopRequireDefault(_posting);

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var Posting = exports.Posting = function () {
  function Posting() {
    var _this = this;

    _classCallCheck(this, Posting);

    this.close = function () {
      if (_this._isOpen && !_this._isClosing) {
        _this._isClosing = true;
        _this._placeholder.removeClass('slide-in');

        window.setTimeout(function () {
          _reactDom2.default.unmountComponentAtNode(document.getElementById('posting-mount'));
          _this._isClosing = false;
          _this._isOpen = false;
        }, 300);
      }
    };
  }

  _createClass(Posting, [{
    key: 'init',
    value: function init(ajax, snackbar, placeholder) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._placeholder = $(placeholder);

      this._mode = null;

      this._isOpen = false;
      this._isClosing = false;
    }
  }, {
    key: 'open',
    value: function open(props) {
      if (this._isOpen === false) {
        this._mode = props.mode;
        this._isOpen = props.submit;
        this._realOpen(props);
      } else if (this._isOpen !== props.submit) {
        var message = gettext("You are already working on other message. Do you want to discard it?");
        if (this._mode == 'POLL') {
          message = gettext("You are already working on a poll. Do you want to discard it?");
        }

        var changeForm = confirm(message);
        if (changeForm) {
          this._mode = props.mode;
          this._isOpen = props.submit;
          this._realOpen(props);
        }
      } else if (this._mode == 'REPLY' && props.mode == 'REPLY') {
        this._realOpen(props);
      }
    }

    // jshint ignore:start

  }, {
    key: '_realOpen',

    // jshint ignore:end
    value: function _realOpen(props) {
      if (props.mode == 'POLL') {
        (0, _mountComponent2.default)(_react2.default.createElement(_poll.PollForm, props), 'posting-mount');
      } else {
        (0, _mountComponent2.default)(_react2.default.createElement(_posting2.default, props), 'posting-mount');
      }

      this._placeholder.addClass('slide-in');

      $('html, body').animate({
        scrollTop: this._placeholder.offset().top
      }, 1000);
    }
  }]);

  return Posting;
}();

exports.default = new Posting();

},{"../components/poll":121,"../components/posting":149,"../utils/mount-component":402,"react":"react","react-dom":"react-dom"}],392:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _snackbar = require('../reducers/snackbar');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var HIDE_ANIMATION_LENGTH = 300;
var MESSAGE_SHOW_LENGTH = 5000;

var Snackbar = exports.Snackbar = function () {
  function Snackbar() {
    _classCallCheck(this, Snackbar);
  }

  _createClass(Snackbar, [{
    key: 'init',
    value: function init(store) {
      this._store = store;
      this._timeout = null;
    }
  }, {
    key: 'alert',
    value: function alert(message, type) {
      var _this = this;

      if (this._timeout) {
        window.clearTimeout(this._timeout);
        this._store.dispatch((0, _snackbar.hideSnackbar)());

        this._timeout = window.setTimeout(function () {
          _this._timeout = null;
          _this.alert(message, type);
        }, HIDE_ANIMATION_LENGTH);
      } else {
        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));
        this._timeout = window.setTimeout(function () {
          _this._store.dispatch((0, _snackbar.hideSnackbar)());
          _this._timeout = null;
        }, MESSAGE_SHOW_LENGTH);
      }
    }

    // shorthands for message types

  }, {
    key: 'info',
    value: function info(message) {
      this.alert(message, 'info');
    }
  }, {
    key: 'success',
    value: function success(message) {
      this.alert(message, 'success');
    }
  }, {
    key: 'warning',
    value: function warning(message) {
      this.alert(message, 'warning');
    }
  }, {
    key: 'error',
    value: function error(message) {
      this.alert(message, 'error');
    }

    // shorthand for api errors

  }, {
    key: 'apiError',
    value: function apiError(rejection) {
      var message = rejection.detail;

      if (!message) {
        if (rejection.status === 404) {
          message = gettext("Action link is invalid.");
        } else {
          message = gettext("Unknown error has occured.");
        }
      }

      if (rejection.status === 403 && message === "Permission denied") {
        message = gettext("You don't have permission to perform this action.");
      }

      this.error(message);
    }
  }]);

  return Snackbar;
}();

exports.default = new Snackbar();

},{"../reducers/snackbar":375}],393:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StoreWrapper = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _redux = require('redux');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var StoreWrapper = exports.StoreWrapper = function () {
  function StoreWrapper() {
    _classCallCheck(this, StoreWrapper);

    this._store = null;
    this._reducers = {};
    this._initialState = {};
  }

  _createClass(StoreWrapper, [{
    key: 'addReducer',
    value: function addReducer(name, reducer, initialState) {
      this._reducers[name] = reducer;
      this._initialState[name] = initialState;
    }
  }, {
    key: 'init',
    value: function init() {
      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);
    }
  }, {
    key: 'getStore',
    value: function getStore() {
      return this._store;
    }

    // Store API

  }, {
    key: 'getState',
    value: function getState() {
      return this._store.getState();
    }
  }, {
    key: 'dispatch',
    value: function dispatch(action) {
      return this._store.dispatch(action);
    }
  }]);

  return StoreWrapper;
}();

exports.default = new StoreWrapper();

},{"redux":"redux"}],394:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* global zxcvbn */
var Zxcvbn = exports.Zxcvbn = function () {
  function Zxcvbn() {
    _classCallCheck(this, Zxcvbn);
  }

  _createClass(Zxcvbn, [{
    key: "init",
    value: function init(include) {
      this._include = include;
      this._isLoaded = false;
    }
  }, {
    key: "scorePassword",
    value: function scorePassword(password, inputs) {
      // 0-4 score, the more the stronger password
      if (this._isLoaded) {
        return zxcvbn(password, inputs).score;
      }

      return 0;
    }
  }, {
    key: "load",
    value: function load() {
      if (!this._isLoaded) {
        this._include.include('misago/js/zxcvbn.js');
        return this._loadingPromise();
      } else {
        return this._loadedPromise();
      }
    }
  }, {
    key: "_loadingPromise",
    value: function _loadingPromise() {
      var self = this;

      return new Promise(function (resolve, reject) {
        var wait = function wait() {
          var tries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

          tries += 1;
          if (tries > 200) {
            reject();
          } else if (typeof zxcvbn === "undefined") {
            window.setTimeout(function () {
              wait(tries);
            }, 200);
          } else {
            self._isLoaded = true;
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: "_loadedPromise",
    value: function _loadedPromise() {
      // we have already loaded zxcvbn.js, resolve away!
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }]);

  return Zxcvbn;
}();

exports.default = new Zxcvbn();

},{}],395:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (ban, changeState) {
  _reactDom2.default.render(
  /* jshint ignore:start */
  _react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(RedrawedBannedPage, { message: ban.message,
      expires: ban.expires_on ? (0, _moment2.default)(ban.expires_on) : null })
  ),
  /* jshint ignore:end */
  document.getElementById('page-mount'));

  if (typeof changeState === 'undefined' || changeState) {
    var forumName = _index2.default.get('SETTINGS').forum_name;
    document.title = gettext("You are banned") + ' | ' + forumName;
    window.history.pushState({}, "", _index2.default.get('BANNED_URL'));
  }
};

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _bannedPage = require('../components/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:line

/* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
var select = function select(state) {
  return state.tick;
}; // jshint ignore:line
// jshint ignore:line


var RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage2.default);
/* jshint ignore:end */

},{"../components/banned-page":23,"../index":318,"../services/store":393,"moment":"moment","react":"react","react-dom":"react-dom","react-redux":"react-redux"}],396:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (list, rowWidth) {
  var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  var rows = [];
  var row = [];

  list.forEach(function (element) {
    row.push(element);
    if (row.length === rowWidth) {
      rows.push(row);
      row = [];
    }
  });

  // pad row to required length?
  if (padding !== false && row.length > 0 && row.length < rowWidth) {
    for (var i = row.length; i < rowWidth; i++) {
      row.push(padding);
    }
  }

  if (row.length) {
    rows.push(row);
  }

  return rows;
};

},{}],397:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (a, b) {
  var ids = [];
  return a.concat(b).filter(function (item) {
    if (ids.indexOf(item.id) === -1) {
      ids.push(item.id);
      return true;
    } else {
      return false;
    }
  });
};

},{}],398:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _class = function () {
  function _class(callback, count) {
    _classCallCheck(this, _class);

    this._callback = callback;
    this._count = count;
  }

  _createClass(_class, [{
    key: "count",
    value: function count() {
      this._count -= 1;
      if (this._count === 0) {
        this._callback();
      }
    }
  }]);

  return _class;
}();

exports.default = _class;

},{}],399:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (text) {
  return text.replace(/[&<>"']/g, function (m) {
    return map[m];
  });
};

var map = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#039;'
};

},{}],400:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (bytes) {
  if (bytes > 1024 * 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024 * 1024)) + ' GB';
  } else if (bytes > 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024)) + ' MB';
  } else if (bytes > 1024) {
    return roundSize(bytes / 1024) + ' KB';
  } else {
    return roundSize(bytes) + ' B';
  }
};

exports.roundSize = roundSize;
function roundSize(value) {
  return value.toFixed(1);
}

},{}],401:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (str) {
  return URL_PATTERN.test($.trim(str));
};

var URL_PATTERN = new RegExp('^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$', 'i');

},{}],402:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (Component, rootElementId) {
  var connected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

  var rootElement = document.getElementById(rootElementId);

  /* jshint ignore:start */
  var finalComponent = Component.props ? Component : _react2.default.createElement(Component, null);
  /* jshint ignore:end */

  if (rootElement) {
    if (connected) {
      _reactDom2.default.render(
      /* jshint ignore:start */
      _react2.default.createElement(
        _reactRedux.Provider,
        { store: _store2.default.getStore() },
        finalComponent
      ),
      /* jshint ignore:end */
      rootElement);
    } else {
      /* jshint ignore:start */
      _reactDom2.default.render(finalComponent, rootElement);
      /* jshint ignore:end */
    }
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../services/store":393,"react":"react","react-dom":"react-dom","react-redux":"react-redux"}],403:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var OrderedList = function () {
  function OrderedList(items) {
    _classCallCheck(this, OrderedList);

    this.isOrdered = false;
    this._items = items || [];
  }

  _createClass(OrderedList, [{
    key: "add",
    value: function add(key, item, order) {
      this._items.push({
        key: key,
        item: item,

        after: order ? order.after || null : null,
        before: order ? order.before || null : null
      });
    }
  }, {
    key: "get",
    value: function get(key, value) {
      for (var i = 0; i < this._items.length; i++) {
        if (this._items[i].key === key) {
          return this._items[i].item;
        }
      }

      return value;
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.get(key) !== undefined;
    }
  }, {
    key: "values",
    value: function values() {
      var values = [];
      for (var i = 0; i < this._items.length; i++) {
        values.push(this._items[i].item);
      }
      return values;
    }
  }, {
    key: "order",
    value: function order(values_only) {
      if (!this.isOrdered) {
        this._items = this._order(this._items);
        this.isOrdered = true;
      }

      if (values_only || typeof values_only === 'undefined') {
        return this.values();
      } else {
        return this._items;
      }
    }
  }, {
    key: "orderedValues",
    value: function orderedValues() {
      return this.order(true);
    }
  }, {
    key: "_order",
    value: function _order(unordered) {
      // Index of unordered items
      var index = [];
      unordered.forEach(function (item) {
        index.push(item.key);
      });

      // Ordered items
      var ordered = [];
      var ordering = [];

      // First pass: register items that
      // don't specify their order
      unordered.forEach(function (item) {
        if (!item.after && !item.before) {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Second pass: register items that
      // specify their before to "_end"
      unordered.forEach(function (item) {
        if (item.before === "_end") {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Third pass: keep iterating items
      // until we hit iterations limit or finish
      // ordering list
      function insertItem(item) {
        var insertAt = -1;
        if (ordering.indexOf(item.key) === -1) {
          if (item.after) {
            insertAt = ordering.indexOf(item.after);
            if (insertAt !== -1) {
              insertAt += 1;
            }
          } else if (item.before) {
            insertAt = ordering.indexOf(item.before);
          }

          if (insertAt !== -1) {
            ordered.splice(insertAt, 0, item);
            ordering.splice(insertAt, 0, item.key);
          }
        }
      }

      var iterations = 200;
      while (iterations > 0 && index.length !== ordering.length) {
        iterations -= 1;
        unordered.forEach(insertItem);
      }

      return ordered;
    }
  }]);

  return OrderedList;
}();

exports.default = OrderedList;

},{}],404:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.int = int;
exports.range = range;
function int(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function range(min, max) {
  var array = new Array(int(min, max));
  for (var i = 0; i < array.length; i++) {
    array[i] = i;
  }

  return array;
}

},{}],405:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  window.scrollTo(0, 0);
};

},{}],406:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (options) {
  var routes = {
    component: options.component || null,
    childRoutes: []
  };

  if (options.root) {
    routes.childRoutes = [{
      path: options.root,
      onEnter: function onEnter(nextState, replaceState) {
        replaceState(null, options.paths[0].path);
      }
    }].concat(options.paths);
  } else {
    routes.childRoutes = options.paths;
  }

  _reactDom2.default.render(_react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(_reactRouter.Router, { routes: routes, history: _reactRouter.browserHistory })
  ), rootElement);
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _reactRouter = require('react-router');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rootElement = document.getElementById('page-mount'); // jshint ignore:start

},{"../services/store":393,"react":"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],407:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.push = push;
exports.remove = remove;
exports.toggle = toggle;
function push(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array;
  }
}

function remove(array, value) {
  if (array.indexOf(value) >= 0) {
    return array.filter(function (i) {
      return i !== value;
    });
  } else {
    return array;
  }
}

function toggle(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array.filter(function (i) {
      return i !== value;
    });
  }
}

},{}],408:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (string, subString) {
  string = (string + "").toLowerCase();
  subString = (subString + "").toLowerCase();

  if (subString.length <= 0) return 0;

  var n = 0;
  var pos = 0;
  var step = subString.length;

  while (true) {
    pos = string.indexOf(subString, pos);
    if (pos >= 0) {
      n += 1;
      pos += step;
    } else {
      break;
    }
  }

  return n;
};

},{}],409:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.required = required;
exports.requiredTermsOfService = requiredTermsOfService;
exports.requiredPrivacyPolicy = requiredPrivacyPolicy;
exports.email = email;
exports.minLength = minLength;
exports.maxLength = maxLength;
exports.usernameMinLength = usernameMinLength;
exports.usernameMaxLength = usernameMaxLength;
exports.usernameContent = usernameContent;
exports.passwordMinLength = passwordMinLength;
var EMAIL = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
var USERNAME = new RegExp('^[0-9a-z]+$', 'i');

function required(message) {
  return function (value) {
    if (value === false || value === null || $.trim(value).length === 0) {
      return message || gettext("This field is required.");
    }
  };
}

function requiredTermsOfService(message) {
  var error = gettext("You have to accept the terms of service.");
  return required(message || error);
}

function requiredPrivacyPolicy(message) {
  var error = gettext("You have to accept the privacy policy.");
  return required(message || error);
}

function email(message) {
  return function (value) {
    if (!EMAIL.test(value)) {
      return message || gettext("Enter a valid email address.");
    }
  };
}

function minLength(limitValue, message) {
  return function (value) {
    var returnMessage = '';
    var length = $.trim(value).length;

    if (length < limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at least %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function maxLength(limitValue, message) {
  return function (value) {
    var returnMessage = '';
    var length = $.trim(value).length;

    if (length > limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at most %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function usernameMinLength(lengthMin) {
  var message = function message(lengthMin) {
    return ngettext("Username must be at least %(limit_value)s character long.", "Username must be at least %(limit_value)s characters long.", lengthMin);
  };
  return minLength(lengthMin, message);
}

function usernameMaxLength(lengthMax) {
  var message = function message(lengthMax) {
    return ngettext("Username cannot be longer than %(limit_value)s character.", "Username cannot be longer than %(limit_value)s characters.", lengthMax);
  };
  return maxLength(lengthMax, message);
}

function usernameContent() {
  return function (value) {
    if (!USERNAME.test($.trim(value))) {
      return gettext("Username can only contain latin alphabet letters and digits.");
    }
  };
}

function passwordMinLength(limitValue) {
  return function (value) {
    var length = value.length;

    if (length < limitValue) {
      var returnMessage = ngettext("Valid password must be at least %(limit_value)s character long.", "Valid password must be at least %(limit_value)s characters long.", limitValue);

      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

},{}]},{},[318,319,320,321,322,339,340,341,342,343,344,345,346,362,363,364,365,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvcHJvcC10eXBlcy9jaGVja1Byb3BUeXBlcy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzIiwibm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJub2RlX21vZHVsZXMvcHJvcC10eXBlcy9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9xci5qcy9saWIvOEJpdEJ5dGUuanMiLCJub2RlX21vZHVsZXMvcXIuanMvbGliL0JpdEJ1ZmZlci5qcyIsIm5vZGVfbW9kdWxlcy9xci5qcy9saWIvRXJyb3JDb3JyZWN0TGV2ZWwuanMiLCJub2RlX21vZHVsZXMvcXIuanMvbGliL1BvbHlub21pYWwuanMiLCJub2RlX21vZHVsZXMvcXIuanMvbGliL1FSQ29kZS5qcyIsIm5vZGVfbW9kdWxlcy9xci5qcy9saWIvUlNCbG9jay5qcyIsIm5vZGVfbW9kdWxlcy9xci5qcy9saWIvbWF0aC5qcyIsIm5vZGVfbW9kdWxlcy9xci5qcy9saWIvbW9kZS5qcyIsIm5vZGVfbW9kdWxlcy9xci5qcy9saWIvdXRpbC5qcyIsIm5vZGVfbW9kdWxlcy9xcmNvZGUucmVhY3QvbGliL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvUmVnaXN0ZXJMZWdhbEZvb3Rub3RlLmpzIiwic3JjL2NvbXBvbmVudHMvU3RhcnRTb2NpYWxBdXRoLmpzIiwic3JjL2NvbXBvbmVudHMvYWNjZXB0LWFncmVlbWVudC5qcyIsInNyYy9jb21wb25lbnRzL2FkZC1wYXJ0aWNpcGFudC5qcyIsInNyYy9jb21wb25lbnRzL2F1dGgtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL2F2YXRhci5qcyIsInNyYy9jb21wb25lbnRzL2Jhbm5lZC1wYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9ibGFua3NsYXRlLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yaWVzLWxpc3QuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vZGVzY3JpcHRpb24uanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9pY29uLmpzIiwic3JjL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS9saXN0LWl0ZW0vaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9sYXN0LXRocmVhZC5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL21haW4uanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9zdGF0cy5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkvbGlzdC1pdGVtL3N1YmNhdGVnb3JpZXMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5L2xpc3QtaXRlbS9zdWJjYXRlZ29yaWVzL2xpc3QtaXRlbS5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2Nyb3AuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2dhbGxlcnkuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci91cGxvYWQuanMiLCJzcmMvY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0LWRldGFpbHMvYmxhbmtzbGF0ZS5qcyIsInNyYy9jb21wb25lbnRzL2VkaXQtZGV0YWlscy9maWVsZC1pbnB1dC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXQtZGV0YWlscy9maWVsZHNldC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXQtZGV0YWlscy9mb3JtLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdC1kZXRhaWxzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdC1kZXRhaWxzL2xvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL2FjdGlvbi5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL2NvZGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9lbXBoYXNpcy5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL2hyLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvaW1hZ2UuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9saW5rLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvcXVvdGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9zdHJpa2V0cm91Z2guanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9zdHJvbmcuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC9jb21wbGV0ZS5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy9hdHRhY2htZW50L2Vycm9yLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC91cGxvYWQuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy91cGxvYWQtYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL3VwbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL21hcmt1cC1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL3RleHR1dGlscy5qcyIsInNyYy9jb21wb25lbnRzL2Zvcm0tZ3JvdXAuanMiLCJzcmMvY29tcG9uZW50cy9mb3JtLmpzIiwic3JjL2NvbXBvbmVudHMvbGkuanMiLCJzcmMvY29tcG9uZW50cy9sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9tZXJnZS1jb25mbGljdC5qcyIsInNyYy9jb21wb25lbnRzL21pc2Fnby1tYXJrdXAuanMiLCJzcmMvY29tcG9uZW50cy9tb2RhbC1sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9jbGVhbi1yZXN1bHRzLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9jb25zdGFudHMuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL2Ryb3Bkb3duLW1lbnUuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL2VtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9mbGF0dGVuLXJlc3VsdHMuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9pbnB1dC5qcyIsInNyYy9jb21wb25lbnRzL25hdmJhci1zZWFyY2gvZHJvcGRvd24vbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9yZXN1bHQvZm9vdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9yZXN1bHQvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9kcm9wZG93bi9yZXN1bHQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL3Jlc3VsdC9yZXN1bHQuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL3Jlc3VsdC90aHJlYWQuanMiLCJzcmMvY29tcG9uZW50cy9uYXZiYXItc2VhcmNoL2Ryb3Bkb3duL3Jlc3VsdC91c2VyLmpzIiwic3JjL2NvbXBvbmVudHMvbmF2YmFyLXNlYXJjaC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9hZGluZy5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9ja2VkLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2RlbGV0ZS1hY2NvdW50LmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9kb3dubG9hZC1kYXRhLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9lZGl0LWRldGFpbHMuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2ZvcnVtLW9wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL25hdnMuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvVW51c2FibGVQYXNzd29yZE1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvY2hhbmdlLWVtYWlsLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL2NoYW5nZS1wYXNzd29yZC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvcGFnZS1sZWFkLmpzIiwic3JjL2NvbXBvbmVudHMvcGFuZWwtbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9hZGQtcGFydGljaXBhbnQuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9hY3Rpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvY2FyZC5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9jYXJkcy1saXN0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvbWFrZS1vd25lci5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9jYXJkcy1saXN0L3JlbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy91dGlscy5qcyIsInNyYy9jb21wb25lbnRzL3Bhc3N3b3JkLXN0cmVuZ3RoLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9mb3JtL2Nob2ljZXMtY29udHJvbC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvZm9ybS9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL2luZm8uanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3BvbGwuanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3Jlc3VsdHMvY2hhcnQuanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3Jlc3VsdHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3Jlc3VsdHMvbW9kYWwuanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3Jlc3VsdHMvb3B0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvdm90aW5nL2hlbHAuanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL3ZvdGluZy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvdm90aW5nL3NlbGVjdC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvdm90aW5nL3V0aWxzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvZGlmZi5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtY2hhbmdlbG9nL2Zvb3Rlci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtY2hhbmdlbG9nL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvdG9vbGJhci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtY2hhbmdlbG9nL3V0aWxzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvYm9keS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3Bvc3QvcG9zdC1zaWRlL2Fub255bW91cy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L3Bvc3Qtc2lkZS9idXR0b24uanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9wb3N0LXNpZGUvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWZlZWQvcG9zdC9wb3N0LXNpZGUvcmVnaXN0ZXJlZC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3QtZmVlZC9wb3N0L3Bvc3Qtc2lkZS91c2VyLXRpdGxlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1mZWVkL3ByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWxpa2VzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9lZGl0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvcmVwbHkuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3N0YXJ0LXByaXZhdGUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3N0YXJ0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9hdHRhY2htZW50cy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvY29udGFpbmVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL21lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL3VzZXJuYW1lcy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvdmFsaWRhdG9ycy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvY29udHJvbHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L2ljb24uanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9pbmZvLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC91bnJlYWQtbGFiZWwuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvYXR0YWNobWVudHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvYm9keS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9hY3Rpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL2Ryb3Bkb3duLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvc3BsaXQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvZmxhZ3MuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvZm9vdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvYW5vbnltb3VzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS9oYXMtdmlzaWJsZS10aXRsZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL3JlZ2lzdGVyZWQuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcG9zdC1zaWRlL3VzZXItcG9zdGNvdW50LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3Bvc3Qtc2lkZS91c2VyLXN0YXR1cy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wb3N0LXNpZGUvdXNlci10aXRsZS5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3NlbGVjdC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3Qvd2F5cG9pbnQuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2Jhbi1kZXRhaWxzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9kZXRhaWxzL2VtcHR5LW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvZmllbGQtdmFsdWUuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvZmllbGQuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9ncm91cC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9ncm91cHMtbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZGV0YWlscy9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2RldGFpbHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZlZWQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZlZWQvcm91dGUuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvdy1idXR0b24uanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvd2Vycy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93cy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tZXNzYWdlLWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9hdmF0YXItY29udHJvbHMuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vY2hhbmdlLXVzZXJuYW1lLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2RlbGV0ZS1hY2NvdW50LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL25hdi5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbmF2cy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9jb21wb25lbnRzL3F1aWNrLXNlYXJjaC5qcyIsInNyYy9jb21wb25lbnRzL3JlZ2lzdGVyLWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3JlZ2lzdGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsuanMiLCJzcmMvY29tcG9uZW50cy9yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LmpzIiwic3JjL2NvbXBvbmVudHMvcmVzZXQtcGFzc3dvcmQtZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL3Jld2FyZC1zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC9wYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL3NpZGVuYXYuanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvdGhyZWFkcy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC90aHJlYWRzL3Jlc3VsdHMuanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvdXNlcnMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9zaWduLWluLmpzIiwic3JjL2NvbXBvbmVudHMvc25hY2tiYXIuanMiLCJzcmMvY29tcG9uZW50cy9zb2NpYWwtYXV0aC9jb21wbGV0ZS5qcyIsInNyYy9jb21wb25lbnRzL3NvY2lhbC1hdXRoL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3NvY2lhbC1hdXRoL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvc29jaWFsLWF1dGgvcmVnaXN0ZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvaGVhZGVyL2JyZWFkY3J1bWJzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL2hlYWRlci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9oZWFkZXIvc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9hY3Rpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvZHJvcGRvd24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9lcnJvcnMtbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL3NwbGl0LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2lzLXZpc2libGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi90aHJlYWQvbWVyZ2UuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi90aHJlYWQvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9wYWdpbmF0b3IuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcmVwbHktYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcm91dGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvc3Vic2NyaXB0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Rvb2xiYXItYm90dG9tLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Rvb2xiYXItdG9wLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZGlmZi1tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZW1wdHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2RldGFpbHMvYm90dG9tLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2NhdGVnb3J5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL3RvcC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvbGFzdC1hY3Rpb24uanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3ByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3JlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vY29tcGFjdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGwuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9tb2RhbC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3VzZXItdXJsLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9jYXRlZ29yeS1waWNrZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2NvbXBhcmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2NvbnRhaW5lci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvaGVhZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2Vycm9ycy1saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21lcmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21vdmUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vc2VsZWN0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9uYXYuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3JvdXRlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy90b29sYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy91dGlscy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS9ndWVzdC1uYXYuanMiLCJzcmMvY29tcG9uZW50cy91c2VyLW1lbnUvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS91c2VyLW5hdi5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItc3RhdHVzLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UtcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L2NhcmQvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L2NhcmQvc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9wcmV2aWV3L2NhcmQuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy1saXN0L3ByZXZpZXcvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtLXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW0uanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXJlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL25hdi5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdC1sb2FkaW5nLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcmFuay9saXN0LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvcmFuay9wYWdlci5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3Jhbmsvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy93aXRoLWRyb3Bkb3duLmpzIiwic3JjL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaC5qcyIsInNyYy9kYXRhL3Byb2ZpbGUtZGV0YWlscy5qcyIsInNyYy9pbmRleC5qcyIsInNyYy9pbml0aWFsaXplcnMvYWpheC5qcyIsInNyYy9pbml0aWFsaXplcnMvYXV0aC1zeW5jLmpzIiwic3JjL2luaXRpYWxpemVycy9hdXRoLmpzIiwic3JjL2luaXRpYWxpemVycy9jYXB0Y2hhLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2FjY2VwdC1hZ3JlZW1lbnQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvYXV0aC1tZXNzYWdlLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2Jhbm5lZC1wYWdlLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL2NhdGVnb3JpZXMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvb3B0aW9ucy5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9wcm9maWxlLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3JlcXVlc3QtYWN0aXZhdGlvbi1saW5rLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvcmVzZXQtcGFzc3dvcmQtZm9ybS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9zZWFyY2guanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvc29jaWFsLWF1dGguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdGhyZWFkLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3RocmVhZHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdXNlci1tZW51LmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3VzZXJzLmpzIiwic3JjL2luaXRpYWxpemVycy9pbmNsdWRlLmpzIiwic3JjL2luaXRpYWxpemVycy9sb2NhbC1zdG9yYWdlLmpzIiwic3JjL2luaXRpYWxpemVycy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duLmpzIiwic3JjL2luaXRpYWxpemVycy9tb2RhbC5qcyIsInNyYy9pbml0aWFsaXplcnMvbW9tZW50LWxvY2FsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcGFnZS10aXRsZS5qcyIsInNyYy9pbml0aWFsaXplcnMvcG9sbHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3Bvc3RpbmcuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3BhcnRpY2lwYW50cy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcG9sbC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcG9zdHMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3Byb2ZpbGUtZGV0YWlscy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcHJvZmlsZS1oeWRyYXRlLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wcm9maWxlLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9zZWFyY2guanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3NlbGVjdGlvbi5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3RocmVhZC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGhyZWFkcy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGljay5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3NuYWNrYmFyLmpzIiwic3JjL2luaXRpYWxpemVycy9zdG9yZS5qcyIsInNyYy9pbml0aWFsaXplcnMvdGljay1zdGFydC5qcyIsInNyYy9pbml0aWFsaXplcnMvenhjdmJuLmpzIiwic3JjL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvcmVkdWNlcnMvcGFydGljaXBhbnRzLmpzIiwic3JjL3JlZHVjZXJzL3BvbGwuanMiLCJzcmMvcmVkdWNlcnMvcG9zdC5qcyIsInNyYy9yZWR1Y2Vycy9wb3N0cy5qcyIsInNyYy9yZWR1Y2Vycy9wcm9maWxlLWRldGFpbHMuanMiLCJzcmMvcmVkdWNlcnMvcHJvZmlsZS5qcyIsInNyYy9yZWR1Y2Vycy9zZWFyY2guanMiLCJzcmMvcmVkdWNlcnMvc2VsZWN0aW9uLmpzIiwic3JjL3JlZHVjZXJzL3NuYWNrYmFyLmpzIiwic3JjL3JlZHVjZXJzL3RocmVhZC5qcyIsInNyYy9yZWR1Y2Vycy90aHJlYWRzLmpzIiwic3JjL3JlZHVjZXJzL3RpY2suanMiLCJzcmMvcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9yZWR1Y2Vycy91c2Vycy5qcyIsInNyYy9zZXJ2aWNlcy9hamF4LmpzIiwic3JjL3NlcnZpY2VzL2F1dGguanMiLCJzcmMvc2VydmljZXMvY2FwdGNoYS5qcyIsInNyYy9zZXJ2aWNlcy9pbmNsdWRlLmpzIiwic3JjL3NlcnZpY2VzL2xvY2FsLXN0b3JhZ2UuanMiLCJzcmMvc2VydmljZXMvbW9iaWxlLW5hdmJhci1kcm9wZG93bi5qcyIsInNyYy9zZXJ2aWNlcy9tb2RhbC5qcyIsInNyYy9zZXJ2aWNlcy9vbmUtYm94LmpzIiwic3JjL3NlcnZpY2VzL3BhZ2UtdGl0bGUuanMiLCJzcmMvc2VydmljZXMvcG9sbHMuanMiLCJzcmMvc2VydmljZXMvcG9zdGluZy5qcyIsInNyYy9zZXJ2aWNlcy9zbmFja2Jhci5qcyIsInNyYy9zZXJ2aWNlcy9zdG9yZS5qcyIsInNyYy9zZXJ2aWNlcy96eGN2Ym4uanMiLCJzcmMvdXRpbHMvYmFubmVkLXBhZ2UuanMiLCJzcmMvdXRpbHMvYmF0Y2guanMiLCJzcmMvdXRpbHMvY29uY2F0LXVuaXF1ZS5qcyIsInNyYy91dGlscy9jb3VudGRvd24uanMiLCJzcmMvdXRpbHMvZXNjYXBlLWh0bWwuanMiLCJzcmMvdXRpbHMvZmlsZS1zaXplLmpzIiwic3JjL3V0aWxzL2lzLXVybC5qcyIsInNyYy91dGlscy9tb3VudC1jb21wb25lbnQuanMiLCJzcmMvdXRpbHMvb3JkZXJlZC1saXN0LmpzIiwic3JjL3V0aWxzL3JhbmRvbS5qcyIsInNyYy91dGlscy9yZXNldC1zY3JvbGwuanMiLCJzcmMvdXRpbHMvcm91dGVkLWNvbXBvbmVudC5qcyIsInNyYy91dGlscy9zZXRzLmpzIiwic3JjL3V0aWxzL3N0cmluZy1jb3VudC5qcyIsInNyYy91dGlscy92YWxpZGF0b3JzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0YkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LEVBQW9CO0FBQ2hDLFdBQU8sU0FDTCwyREFESyxFQUVMLDREQUZLLEVBR0wsU0FISyxDQUFQO0FBSUQsR0FMRDtBQU1BLFNBQU8sVUFBVSxTQUFWLEVBQXFCLE9BQXJCLENBQVA7QUFDRDs7QUFFTSxTQUFTLGlCQUFULENBQTJCLFNBQTNCLEVBQXNDO0FBQzNDLE1BQUksVUFBVSxTQUFWLE9BQVUsQ0FBUyxTQUFULEVBQW9CO0FBQ2hDLFdBQU8sU0FDTCwyREFESyxFQUVMLDREQUZLLEVBR0wsU0FISyxDQUFQO0FBSUQsR0FMRDtBQU1BLFNBQU8sVUFBVSxTQUFWLEVBQXFCLE9BQXJCLENBQVA7QUFDRDs7QUFFTSxTQUFTLGVBQVQsR0FBMkI7QUFDaEMsU0FBTyxVQUFTLEtBQVQsRUFBZ0I7QUFDckIsUUFBSSxDQUFDLFNBQVMsSUFBVCxDQUFjLEVBQUUsSUFBRixDQUFPLEtBQVAsQ0FBZCxDQUFMLEVBQW1DO0FBQ2pDLGFBQU8sUUFBUSw4REFBUixDQUFQO0FBQ0Q7QUFDRixHQUpEO0FBS0Q7O0FBRU0sU0FBUyxpQkFBVCxDQUEyQixVQUEzQixFQUF1QztBQUM1QyxTQUFPLFVBQVMsS0FBVCxFQUFnQjtBQUNyQixRQUFNLFNBQVMsTUFBTSxNQUFyQjs7QUFFQSxRQUFJLFNBQVMsVUFBYixFQUF5QjtBQUN2QixVQUFNLGdCQUFnQixTQUNwQixpRUFEb0IsRUFFcEIsa0VBRm9CLEVBR3BCLFVBSG9CLENBQXRCOztBQUtBLGFBQU8sWUFBWSxhQUFaLEVBQTJCO0FBQ2hDLHFCQUFhLFVBRG1CO0FBRWhDLG9CQUFZO0FBRm9CLE9BQTNCLEVBR0osSUFISSxDQUFQO0FBSUQ7QUFDRixHQWREO0FBZUQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChcImRldmVsb3BtZW50XCIgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG5cbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyB0ZXh0O1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG4gIGlmIChcImRldmVsb3BtZW50XCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcbiAgICAgIGlmICh0eXBlU3BlY3MuaGFzT3duUHJvcGVydHkodHlwZVNwZWNOYW1lKSkge1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIC8vIFByb3AgdHlwZSB2YWxpZGF0aW9uIG1heSB0aHJvdy4gSW4gY2FzZSB0aGV5IGRvLCB3ZSBkb24ndCB3YW50IHRvXG4gICAgICAgIC8vIGZhaWwgdGhlIHJlbmRlciBwaGFzZSB3aGVyZSBpdCBkaWRuJ3QgZmFpbCBiZWZvcmUuIFNvIHdlIGxvZyBpdC5cbiAgICAgICAgLy8gQWZ0ZXIgdGhlc2UgaGF2ZSBiZWVuIGNsZWFuZWQgdXAsIHdlJ2xsIGxldCB0aGVtIHRocm93LlxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxuICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cbiAgICAgICAgICBpZiAodHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gRXJyb3IoXG4gICAgICAgICAgICAgIChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogJyArIGxvY2F0aW9uICsgJyB0eXBlIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgJyArXG4gICAgICAgICAgICAgICdpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJyArIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSArICdgLidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXJyb3IgPSB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSh2YWx1ZXMsIHR5cGVTcGVjTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIG51bGwsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciAmJiAhKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgICAgICAgcHJpbnRXYXJuaW5nKFxuICAgICAgICAgICAgKGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJykgKyAnOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJyArXG4gICAgICAgICAgICBsb2NhdGlvbiArICcgYCcgKyB0eXBlU3BlY05hbWUgKyAnYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgK1xuICAgICAgICAgICAgJ2Z1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICcgKyB0eXBlb2YgZXJyb3IgKyAnLiAnICtcbiAgICAgICAgICAgICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICtcbiAgICAgICAgICAgICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgK1xuICAgICAgICAgICAgJ3NoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS4nXG4gICAgICAgICAgKVxuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcblxuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICdGYWlsZWQgJyArIGxvY2F0aW9uICsgJyB0eXBlOiAnICsgZXJyb3IubWVzc2FnZSArIChzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2hlY2tQcm9wVHlwZXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKFxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgKTtcbiAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB0aHJvdyBlcnI7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG52YXIgY2hlY2tQcm9wVHlwZXMgPSByZXF1aXJlKCcuL2NoZWNrUHJvcFR5cGVzJyk7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAoXCJkZXZlbG9wbWVudFwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyB0ZXh0O1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGwoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG4gIC8qIGdsb2JhbCBTeW1ib2wgKi9cbiAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaXRlcmF0b3IgbWV0aG9kIGZ1bmN0aW9uIGNvbnRhaW5lZCBvbiB0aGUgaXRlcmFibGUgb2JqZWN0LlxuICAgKlxuICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcbiAgICpcbiAgICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAqICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChteUl0ZXJhYmxlKTtcbiAgICogICAgICAgLi4uXG4gICAqICAgICB9XG4gICAqXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XG4gICAqL1xuICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyB0aGF0IGFsbG93IGRlY2xhcmF0aW9uIGFuZCB2YWxpZGF0aW9uIG9mIHByb3BzIHRoYXQgYXJlXG4gICAqIHN1cHBsaWVkIHRvIFJlYWN0IGNvbXBvbmVudHMuIEV4YW1wbGUgdXNhZ2U6XG4gICAqXG4gICAqICAgdmFyIFByb3BzID0gcmVxdWlyZSgnUmVhY3RQcm9wVHlwZXMnKTtcbiAgICogICB2YXIgTXlBcnRpY2xlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICAgcHJvcFR5cGVzOiB7XG4gICAqICAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBwcm9wIG5hbWVkIFwiZGVzY3JpcHRpb25cIi5cbiAgICogICAgICAgZGVzY3JpcHRpb246IFByb3BzLnN0cmluZyxcbiAgICpcbiAgICogICAgICAgLy8gQSByZXF1aXJlZCBlbnVtIHByb3AgbmFtZWQgXCJjYXRlZ29yeVwiLlxuICAgKiAgICAgICBjYXRlZ29yeTogUHJvcHMub25lT2YoWydOZXdzJywnUGhvdG9zJ10pLmlzUmVxdWlyZWQsXG4gICAqXG4gICAqICAgICAgIC8vIEEgcHJvcCBuYW1lZCBcImRpYWxvZ1wiIHRoYXQgcmVxdWlyZXMgYW4gaW5zdGFuY2Ugb2YgRGlhbG9nLlxuICAgKiAgICAgICBkaWFsb2c6IFByb3BzLmluc3RhbmNlT2YoRGlhbG9nKS5pc1JlcXVpcmVkXG4gICAqICAgICB9LFxuICAgKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHsgLi4uIH1cbiAgICogICB9KTtcbiAgICpcbiAgICogQSBtb3JlIGZvcm1hbCBzcGVjaWZpY2F0aW9uIG9mIGhvdyB0aGVzZSBtZXRob2RzIGFyZSB1c2VkOlxuICAgKlxuICAgKiAgIHR5cGUgOj0gYXJyYXl8Ym9vbHxmdW5jfG9iamVjdHxudW1iZXJ8c3RyaW5nfG9uZU9mKFsuLi5dKXxpbnN0YW5jZU9mKC4uLilcbiAgICogICBkZWNsIDo9IFJlYWN0UHJvcFR5cGVzLnt0eXBlfSguaXNSZXF1aXJlZCk/XG4gICAqXG4gICAqIEVhY2ggYW5kIGV2ZXJ5IGRlY2xhcmF0aW9uIHByb2R1Y2VzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBzaWduYXR1cmUuIFRoaXNcbiAgICogYWxsb3dzIHRoZSBjcmVhdGlvbiBvZiBjdXN0b20gdmFsaWRhdGlvbiBmdW5jdGlvbnMuIEZvciBleGFtcGxlOlxuICAgKlxuICAgKiAgdmFyIE15TGluayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICogICAgcHJvcFR5cGVzOiB7XG4gICAqICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIG9yIFVSSSBwcm9wIG5hbWVkIFwiaHJlZlwiLlxuICAgKiAgICAgIGhyZWY6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgKiAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICogICAgICAgIGlmIChwcm9wVmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgcHJvcFZhbHVlICE9PSAnc3RyaW5nJyAmJlxuICAgKiAgICAgICAgICAgICEocHJvcFZhbHVlIGluc3RhbmNlb2YgVVJJKSkge1xuICAgKiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgKiAgICAgICAgICAgICdFeHBlY3RlZCBhIHN0cmluZyBvciBhbiBVUkkgZm9yICcgKyBwcm9wTmFtZSArICcgaW4gJyArXG4gICAqICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgKiAgICAgICAgICApO1xuICAgKiAgICAgICAgfVxuICAgKiAgICAgIH1cbiAgICogICAgfSxcbiAgICogICAgcmVuZGVyOiBmdW5jdGlvbigpIHsuLi59XG4gICAqICB9KTtcbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuXG4gIHZhciBBTk9OWU1PVVMgPSAnPDxhbm9ueW1vdXM+Pic7XG5cbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2FycmF5JyksXG4gICAgYm9vbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Jvb2xlYW4nKSxcbiAgICBmdW5jOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignZnVuY3Rpb24nKSxcbiAgICBudW1iZXI6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdudW1iZXInKSxcbiAgICBvYmplY3Q6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdvYmplY3QnKSxcbiAgICBzdHJpbmc6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzdHJpbmcnKSxcbiAgICBzeW1ib2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzeW1ib2wnKSxcblxuICAgIGFueTogY3JlYXRlQW55VHlwZUNoZWNrZXIoKSxcbiAgICBhcnJheU9mOiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIsXG4gICAgZWxlbWVudDogY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCksXG4gICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcbiAgICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxuICAgIG9iamVjdE9mOiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyLFxuICAgIG9uZU9mOiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIsXG4gICAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuICAgIHNoYXBlOiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyLFxuICAgIGV4YWN0OiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyLFxuICB9O1xuXG4gIC8qKlxuICAgKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICAgKi9cbiAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuICBmdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG4gICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICAgIH1cbiAgfVxuICAvKmVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlKi9cblxuICAvKipcbiAgICogV2UgdXNlIGFuIEVycm9yLWxpa2Ugb2JqZWN0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFzIHBlb3BsZSBtYXkgY2FsbFxuICAgKiBQcm9wVHlwZXMgZGlyZWN0bHkgYW5kIGluc3BlY3QgdGhlaXIgb3V0cHV0LiBIb3dldmVyLCB3ZSBkb24ndCB1c2UgcmVhbFxuICAgKiBFcnJvcnMgYW55bW9yZS4gV2UgZG9uJ3QgaW5zcGVjdCB0aGVpciBzdGFjayBhbnl3YXksIGFuZCBjcmVhdGluZyB0aGVtXG4gICAqIGlzIHByb2hpYml0aXZlbHkgZXhwZW5zaXZlIGlmIHRoZXkgYXJlIGNyZWF0ZWQgdG9vIG9mdGVuLCBzdWNoIGFzIHdoYXRcbiAgICogaGFwcGVucyBpbiBvbmVPZlR5cGUoKSBmb3IgYW55IHR5cGUgYmVmb3JlIHRoZSBvbmUgdGhhdCBtYXRjaGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gUHJvcFR5cGVFcnJvcihtZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrID0gJyc7XG4gIH1cbiAgLy8gTWFrZSBgaW5zdGFuY2VvZiBFcnJvcmAgc3RpbGwgd29yayBmb3IgcmV0dXJuZWQgZXJyb3JzLlxuICBQcm9wVHlwZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblxuICBmdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSkge1xuICAgIGlmIChcImRldmVsb3BtZW50XCIgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlID0ge307XG4gICAgICB2YXIgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja1R5cGUoaXNSZXF1aXJlZCwgcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lIHx8IEFOT05ZTU9VUztcbiAgICAgIHByb3BGdWxsTmFtZSA9IHByb3BGdWxsTmFtZSB8fCBwcm9wTmFtZTtcblxuICAgICAgaWYgKHNlY3JldCAhPT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgICAgaWYgKHRocm93T25EaXJlY3RBY2Nlc3MpIHtcbiAgICAgICAgICAvLyBOZXcgYmVoYXZpb3Igb25seSBmb3IgdXNlcnMgb2YgYHByb3AtdHlwZXNgIHBhY2thZ2VcbiAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgICAgICAgJ1VzZSBgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKClgIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAgICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICAgICAgICApO1xuICAgICAgICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfSBlbHNlIGlmIChcImRldmVsb3BtZW50XCIgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAvLyBPbGQgYmVoYXZpb3IgZm9yIHBlb3BsZSB1c2luZyBSZWFjdC5Qcm9wVHlwZXNcbiAgICAgICAgICB2YXIgY2FjaGVLZXkgPSBjb21wb25lbnROYW1lICsgJzonICsgcHJvcE5hbWU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIW1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSAmJlxuICAgICAgICAgICAgLy8gQXZvaWQgc3BhbW1pbmcgdGhlIGNvbnNvbGUgYmVjYXVzZSB0aGV5IGFyZSBvZnRlbiBub3QgYWN0aW9uYWJsZSBleGNlcHQgZm9yIGxpYiBhdXRob3JzXG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA8IDNcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICAgJ1lvdSBhcmUgbWFudWFsbHkgY2FsbGluZyBhIFJlYWN0LlByb3BUeXBlcyB2YWxpZGF0aW9uICcgK1xuICAgICAgICAgICAgICAnZnVuY3Rpb24gZm9yIHRoZSBgJyArIHByb3BGdWxsTmFtZSArICdgIHByb3Agb24gYCcgKyBjb21wb25lbnROYW1lICArICdgLiBUaGlzIGlzIGRlcHJlY2F0ZWQgJyArXG4gICAgICAgICAgICAgICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAgICAgICAgICdZb3UgbWF5IGJlIHNlZWluZyB0aGlzIHdhcm5pbmcgZHVlIHRvIGEgdGhpcmQtcGFydHkgUHJvcFR5cGVzICcgK1xuICAgICAgICAgICAgICAnbGlicmFyeS4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1kb250LWNhbGwtcHJvcHR5cGVzICcgKyAnZm9yIGRldGFpbHMuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSA9IHRydWU7XG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCAnICsgKCdpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgbnVsbGAuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGB1bmRlZmluZWRgLicpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaGFpbmVkQ2hlY2tUeXBlID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgZmFsc2UpO1xuICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuXG4gICAgcmV0dXJuIGNoYWluZWRDaGVja1R5cGU7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcihleHBlY3RlZFR5cGUpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcbiAgICAgICAgLy8gY2hlY2ssIGJ1dCB3ZSBjYW4gb2ZmZXIgYSBtb3JlIHByZWNpc2UgZXJyb3IgbWVzc2FnZSBoZXJlIHJhdGhlciB0aGFuXG4gICAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cbiAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFueVR5cGVDaGVja2VyKCkge1xuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG4gICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICAgIHZhciBhY3R1YWxDbGFzc05hbWUgPSBnZXRDbGFzc05hbWUocHJvcHNbcHJvcE5hbWVdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgYWN0dWFsQ2xhc3NOYW1lICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdpbnN0YW5jZSBvZiBgJyArIGV4cGVjdGVkQ2xhc3NOYW1lICsgJ2AuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWRWYWx1ZXMpKSB7XG4gICAgICBcImRldmVsb3BtZW50XCIgIT09ICdwcm9kdWN0aW9uJyA/IHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZiwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpcyhwcm9wVmFsdWUsIGV4cGVjdGVkVmFsdWVzW2ldKSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcyk7XG4gICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgcHJvcFZhbHVlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIG9iamVjdC4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcFZhbHVlKSB7XG4gICAgICAgIGlmIChwcm9wVmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVW5pb25UeXBlQ2hlY2tlcihhcnJheU9mVHlwZUNoZWNrZXJzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5T2ZUeXBlQ2hlY2tlcnMpKSB7XG4gICAgICBcImRldmVsb3BtZW50XCIgIT09ICdwcm9kdWN0aW9uJyA/IHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICBpZiAodHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJpbnRXYXJuaW5nKFxuICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZS4gRXhwZWN0ZWQgYW4gYXJyYXkgb2YgY2hlY2sgZnVuY3Rpb25zLCBidXQgJyArXG4gICAgICAgICAgJ3JlY2VpdmVkICcgKyBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcoY2hlY2tlcikgKyAnIGF0IGluZGV4ICcgKyBpICsgJy4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcbiAgICAgICAgaWYgKGNoZWNrZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBSZWFjdFByb3BUeXBlc1NlY3JldCkgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIWlzTm9kZShwcm9wc1twcm9wTmFtZV0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNoYXBlVHlwZXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgYWxsIGtleXMgaW4gY2FzZSBzb21lIGFyZSByZXF1aXJlZCBidXQgbWlzc2luZyBmcm9tXG4gICAgICAvLyBwcm9wcy5cbiAgICAgIHZhciBhbGxLZXlzID0gYXNzaWduKHt9LCBwcm9wc1twcm9wTmFtZV0sIHNoYXBlVHlwZXMpO1xuICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcbiAgICAgICAgICAgICdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICtcbiAgICAgICAgICAgICdcXG5CYWQgb2JqZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkocHJvcHNbcHJvcE5hbWVdLCBudWxsLCAnICAnKSArXG4gICAgICAgICAgICAnXFxuVmFsaWQga2V5czogJyArICBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhzaGFwZVR5cGVzKSwgbnVsbCwgJyAgJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gIXByb3BWYWx1ZTtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcbiAgICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwocHJvcFZhbHVlKTtcbiAgICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gcHJvcFZhbHVlLmVudHJpZXMpIHtcbiAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgaWYgKCFpc05vZGUoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSXRlcmF0b3Igd2lsbCBwcm92aWRlIGVudHJ5IFtrLHZdIHR1cGxlcyByYXRoZXIgdGhhbiB2YWx1ZXMuXG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSB7XG4gICAgLy8gTmF0aXZlIFN5bWJvbC5cbiAgICBpZiAocHJvcFR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddID09PSAnU3ltYm9sJ1xuICAgIGlmIChwcm9wVmFsdWVbJ0BAdG9TdHJpbmdUYWcnXSA9PT0gJ1N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIGZvciBub24tc3BlYyBjb21wbGlhbnQgU3ltYm9scyB3aGljaCBhcmUgcG9seWZpbGxlZC5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wVmFsdWUgaW5zdGFuY2VvZiBTeW1ib2wpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEVxdWl2YWxlbnQgb2YgYHR5cGVvZmAgYnV0IHdpdGggc3BlY2lhbCBoYW5kbGluZyBmb3IgYXJyYXkgYW5kIHJlZ2V4cC5cbiAgZnVuY3Rpb24gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKSB7XG4gICAgdmFyIHByb3BUeXBlID0gdHlwZW9mIHByb3BWYWx1ZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ2FycmF5JztcbiAgICB9XG4gICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgLy8gT2xkIHdlYmtpdHMgKGF0IGxlYXN0IHVudGlsIEFuZHJvaWQgNC4wKSByZXR1cm4gJ2Z1bmN0aW9uJyByYXRoZXIgdGhhblxuICAgICAgLy8gJ29iamVjdCcgZm9yIHR5cGVvZiBhIFJlZ0V4cC4gV2UnbGwgbm9ybWFsaXplIHRoaXMgaGVyZSBzbyB0aGF0IC9ibGEvXG4gICAgICAvLyBwYXNzZXMgUHJvcFR5cGVzLm9iamVjdC5cbiAgICAgIHJldHVybiAnb2JqZWN0JztcbiAgICB9XG4gICAgaWYgKGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpKSB7XG4gICAgICByZXR1cm4gJ3N5bWJvbCc7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfVxuXG4gIC8vIFRoaXMgaGFuZGxlcyBtb3JlIHR5cGVzIHRoYW4gYGdldFByb3BUeXBlYC4gT25seSB1c2VkIGZvciBlcnJvciBtZXNzYWdlcy5cbiAgLy8gU2VlIGBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcmAuXG4gIGZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuICAgIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAndW5kZWZpbmVkJyB8fCBwcm9wVmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAnJyArIHByb3BWYWx1ZTtcbiAgICB9XG4gICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICBpZiAocHJvcFR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gJ2RhdGUnO1xuICAgICAgfSBlbHNlIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgcmV0dXJuICdyZWdleHAnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcFR5cGU7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgc3RyaW5nIHRoYXQgaXMgcG9zdGZpeGVkIHRvIGEgd2FybmluZyBhYm91dCBhbiBpbnZhbGlkIHR5cGUuXG4gIC8vIEZvciBleGFtcGxlLCBcInVuZGVmaW5lZFwiIG9yIFwib2YgdHlwZSBhcnJheVwiXG4gIGZ1bmN0aW9uIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyh2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gZ2V0UHJlY2lzZVR5cGUodmFsdWUpO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgcmV0dXJuICdhbiAnICsgdHlwZTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICBjYXNlICdyZWdleHAnOlxuICAgICAgICByZXR1cm4gJ2EgJyArIHR5cGU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gIH1cblxuICAvLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxuICBmdW5jdGlvbiBnZXRDbGFzc05hbWUocHJvcFZhbHVlKSB7XG4gICAgaWYgKCFwcm9wVmFsdWUuY29uc3RydWN0b3IgfHwgIXByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgICByZXR1cm4gQU5PTllNT1VTO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG4gIH1cblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGNoZWNrUHJvcFR5cGVzO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAoXCJkZXZlbG9wbWVudFwiICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgU3ltYm9sLmZvciAmJlxuICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAweGVhYzc7XG5cbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICBvYmplY3QgIT09IG51bGwgJiZcbiAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsInZhciBtb2RlID0gcmVxdWlyZSgnLi9tb2RlJyk7XG5cbmZ1bmN0aW9uIFFSOGJpdEJ5dGUoZGF0YSkge1xuXHR0aGlzLm1vZGUgPSBtb2RlLk1PREVfOEJJVF9CWVRFO1xuXHR0aGlzLmRhdGEgPSBkYXRhO1xufVxuXG5RUjhiaXRCeXRlLnByb3RvdHlwZSA9IHtcblxuXHRnZXRMZW5ndGggOiBmdW5jdGlvbihidWZmZXIpIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aDtcblx0fSxcblx0XG5cdHdyaXRlIDogZnVuY3Rpb24oYnVmZmVyKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdC8vIG5vdCBKSVMgLi4uXG5cdFx0XHRidWZmZXIucHV0KHRoaXMuZGF0YS5jaGFyQ29kZUF0KGkpLCA4KTtcblx0XHR9XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUVI4Yml0Qnl0ZTtcblxuIiwiZnVuY3Rpb24gUVJCaXRCdWZmZXIoKSB7XG5cdHRoaXMuYnVmZmVyID0gbmV3IEFycmF5KCk7XG5cdHRoaXMubGVuZ3RoID0gMDtcbn1cblxuUVJCaXRCdWZmZXIucHJvdG90eXBlID0ge1xuXG5cdGdldCA6IGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0dmFyIGJ1ZkluZGV4ID0gTWF0aC5mbG9vcihpbmRleCAvIDgpO1xuXHRcdHJldHVybiAoICh0aGlzLmJ1ZmZlcltidWZJbmRleF0gPj4+ICg3IC0gaW5kZXggJSA4KSApICYgMSkgPT0gMTtcblx0fSxcblx0XG5cdHB1dCA6IGZ1bmN0aW9uKG51bSwgbGVuZ3RoKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0dGhpcy5wdXRCaXQoICggKG51bSA+Pj4gKGxlbmd0aCAtIGkgLSAxKSApICYgMSkgPT0gMSk7XG5cdFx0fVxuXHR9LFxuXHRcblx0Z2V0TGVuZ3RoSW5CaXRzIDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubGVuZ3RoO1xuXHR9LFxuXHRcblx0cHV0Qml0IDogZnVuY3Rpb24oYml0KSB7XG5cdFxuXHRcdHZhciBidWZJbmRleCA9IE1hdGguZmxvb3IodGhpcy5sZW5ndGggLyA4KTtcblx0XHRpZiAodGhpcy5idWZmZXIubGVuZ3RoIDw9IGJ1ZkluZGV4KSB7XG5cdFx0XHR0aGlzLmJ1ZmZlci5wdXNoKDApO1xuXHRcdH1cblx0XG5cdFx0aWYgKGJpdCkge1xuXHRcdFx0dGhpcy5idWZmZXJbYnVmSW5kZXhdIHw9ICgweDgwID4+PiAodGhpcy5sZW5ndGggJSA4KSApO1xuXHRcdH1cblx0XG5cdFx0dGhpcy5sZW5ndGgrKztcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBRUkJpdEJ1ZmZlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRMIDogMSxcblx0TSA6IDAsXG5cdFEgOiAzLFxuXHRIIDogMlxufTtcblxuIiwidmFyIG1hdGggPSByZXF1aXJlKCcuL21hdGgnKTtcblxuZnVuY3Rpb24gUVJQb2x5bm9taWFsKG51bSwgc2hpZnQpIHtcblxuXHRpZiAobnVtLmxlbmd0aCA9PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IobnVtLmxlbmd0aCArIFwiL1wiICsgc2hpZnQpO1xuXHR9XG5cblx0dmFyIG9mZnNldCA9IDA7XG5cblx0d2hpbGUgKG9mZnNldCA8IG51bS5sZW5ndGggJiYgbnVtW29mZnNldF0gPT0gMCkge1xuXHRcdG9mZnNldCsrO1xuXHR9XG5cblx0dGhpcy5udW0gPSBuZXcgQXJyYXkobnVtLmxlbmd0aCAtIG9mZnNldCArIHNoaWZ0KTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBudW0ubGVuZ3RoIC0gb2Zmc2V0OyBpKyspIHtcblx0XHR0aGlzLm51bVtpXSA9IG51bVtpICsgb2Zmc2V0XTtcblx0fVxufVxuXG5RUlBvbHlub21pYWwucHJvdG90eXBlID0ge1xuXG5cdGdldCA6IGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0cmV0dXJuIHRoaXMubnVtW2luZGV4XTtcblx0fSxcblx0XG5cdGdldExlbmd0aCA6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm51bS5sZW5ndGg7XG5cdH0sXG5cdFxuXHRtdWx0aXBseSA6IGZ1bmN0aW9uKGUpIHtcblx0XG5cdFx0dmFyIG51bSA9IG5ldyBBcnJheSh0aGlzLmdldExlbmd0aCgpICsgZS5nZXRMZW5ndGgoKSAtIDEpO1xuXHRcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ2V0TGVuZ3RoKCk7IGkrKykge1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBlLmdldExlbmd0aCgpOyBqKyspIHtcblx0XHRcdFx0bnVtW2kgKyBqXSBePSBtYXRoLmdleHAobWF0aC5nbG9nKHRoaXMuZ2V0KGkpICkgKyBtYXRoLmdsb2coZS5nZXQoaikgKSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0cmV0dXJuIG5ldyBRUlBvbHlub21pYWwobnVtLCAwKTtcblx0fSxcblx0XG5cdG1vZCA6IGZ1bmN0aW9uKGUpIHtcblx0XG5cdFx0aWYgKHRoaXMuZ2V0TGVuZ3RoKCkgLSBlLmdldExlbmd0aCgpIDwgMCkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcblx0XHR2YXIgcmF0aW8gPSBtYXRoLmdsb2codGhpcy5nZXQoMCkgKSAtIG1hdGguZ2xvZyhlLmdldCgwKSApO1xuXHRcblx0XHR2YXIgbnVtID0gbmV3IEFycmF5KHRoaXMuZ2V0TGVuZ3RoKCkgKTtcblx0XHRcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ2V0TGVuZ3RoKCk7IGkrKykge1xuXHRcdFx0bnVtW2ldID0gdGhpcy5nZXQoaSk7XG5cdFx0fVxuXHRcdFxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZS5nZXRMZW5ndGgoKTsgaSsrKSB7XG5cdFx0XHRudW1baV0gXj0gbWF0aC5nZXhwKG1hdGguZ2xvZyhlLmdldChpKSApICsgcmF0aW8pO1xuXHRcdH1cblx0XG5cdFx0Ly8gcmVjdXJzaXZlIGNhbGxcblx0XHRyZXR1cm4gbmV3IFFSUG9seW5vbWlhbChudW0sIDApLm1vZChlKTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBRUlBvbHlub21pYWw7XG4iLCJ2YXIgQml0Qnl0ZSA9IHJlcXVpcmUoJy4vOEJpdEJ5dGUnKTtcbnZhciBSU0Jsb2NrID0gcmVxdWlyZSgnLi9SU0Jsb2NrJyk7XG52YXIgQml0QnVmZmVyID0gcmVxdWlyZSgnLi9CaXRCdWZmZXInKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG52YXIgUG9seW5vbWlhbCA9IHJlcXVpcmUoJy4vUG9seW5vbWlhbCcpO1xuXG5mdW5jdGlvbiBRUkNvZGUodHlwZU51bWJlciwgZXJyb3JDb3JyZWN0TGV2ZWwpIHtcblx0dGhpcy50eXBlTnVtYmVyID0gdHlwZU51bWJlcjtcblx0dGhpcy5lcnJvckNvcnJlY3RMZXZlbCA9IGVycm9yQ29ycmVjdExldmVsO1xuXHR0aGlzLm1vZHVsZXMgPSBudWxsO1xuXHR0aGlzLm1vZHVsZUNvdW50ID0gMDtcblx0dGhpcy5kYXRhQ2FjaGUgPSBudWxsO1xuXHR0aGlzLmRhdGFMaXN0ID0gW107XG59XG5cbi8vIGZvciBjbGllbnQgc2lkZSBtaW5pZmljYXRpb25cbnZhciBwcm90byA9IFFSQ29kZS5wcm90b3R5cGU7XG5cbnByb3RvLmFkZERhdGEgPSBmdW5jdGlvbihkYXRhKSB7XG5cdHZhciBuZXdEYXRhID0gbmV3IEJpdEJ5dGUoZGF0YSk7XG5cdHRoaXMuZGF0YUxpc3QucHVzaChuZXdEYXRhKTtcblx0dGhpcy5kYXRhQ2FjaGUgPSBudWxsO1xufTtcblxucHJvdG8uaXNEYXJrID0gZnVuY3Rpb24ocm93LCBjb2wpIHtcblx0aWYgKHJvdyA8IDAgfHwgdGhpcy5tb2R1bGVDb3VudCA8PSByb3cgfHwgY29sIDwgMCB8fCB0aGlzLm1vZHVsZUNvdW50IDw9IGNvbCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihyb3cgKyBcIixcIiArIGNvbCk7XG5cdH1cblx0cmV0dXJuIHRoaXMubW9kdWxlc1tyb3ddW2NvbF07XG59O1xuXG5wcm90by5nZXRNb2R1bGVDb3VudCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5tb2R1bGVDb3VudDtcbn07XG5cbnByb3RvLm1ha2UgPSBmdW5jdGlvbigpIHtcblx0Ly8gQ2FsY3VsYXRlIGF1dG9tYXRpY2FsbHkgdHlwZU51bWJlciBpZiBwcm92aWRlZCBpcyA8IDFcblx0aWYgKHRoaXMudHlwZU51bWJlciA8IDEgKXtcblx0XHR2YXIgdHlwZU51bWJlciA9IDE7XG5cdFx0Zm9yICh0eXBlTnVtYmVyID0gMTsgdHlwZU51bWJlciA8IDQwOyB0eXBlTnVtYmVyKyspIHtcblx0XHRcdHZhciByc0Jsb2NrcyA9IFJTQmxvY2suZ2V0UlNCbG9ja3ModHlwZU51bWJlciwgdGhpcy5lcnJvckNvcnJlY3RMZXZlbCk7XG5cblx0XHRcdHZhciBidWZmZXIgPSBuZXcgQml0QnVmZmVyKCk7XG5cdFx0XHR2YXIgdG90YWxEYXRhQ291bnQgPSAwO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCByc0Jsb2Nrcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR0b3RhbERhdGFDb3VudCArPSByc0Jsb2Nrc1tpXS5kYXRhQ291bnQ7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kYXRhTGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgZGF0YSA9IHRoaXMuZGF0YUxpc3RbaV07XG5cdFx0XHRcdGJ1ZmZlci5wdXQoZGF0YS5tb2RlLCA0KTtcblx0XHRcdFx0YnVmZmVyLnB1dChkYXRhLmdldExlbmd0aCgpLCB1dGlsLmdldExlbmd0aEluQml0cyhkYXRhLm1vZGUsIHR5cGVOdW1iZXIpICk7XG5cdFx0XHRcdGRhdGEud3JpdGUoYnVmZmVyKTtcblx0XHRcdH1cblx0XHRcdGlmIChidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCkgPD0gdG90YWxEYXRhQ291bnQgKiA4KVxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdFx0dGhpcy50eXBlTnVtYmVyID0gdHlwZU51bWJlcjtcblx0fVxuXHR0aGlzLm1ha2VJbXBsKGZhbHNlLCB0aGlzLmdldEJlc3RNYXNrUGF0dGVybigpICk7XG59O1xuXG5wcm90by5tYWtlSW1wbCA9IGZ1bmN0aW9uKHRlc3QsIG1hc2tQYXR0ZXJuKSB7XG5cdFxuXHR0aGlzLm1vZHVsZUNvdW50ID0gdGhpcy50eXBlTnVtYmVyICogNCArIDE3O1xuXHR0aGlzLm1vZHVsZXMgPSBuZXcgQXJyYXkodGhpcy5tb2R1bGVDb3VudCk7XG5cdFxuXHRmb3IgKHZhciByb3cgPSAwOyByb3cgPCB0aGlzLm1vZHVsZUNvdW50OyByb3crKykge1xuXHRcdFxuXHRcdHRoaXMubW9kdWxlc1tyb3ddID0gbmV3IEFycmF5KHRoaXMubW9kdWxlQ291bnQpO1xuXHRcdFxuXHRcdGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IHRoaXMubW9kdWxlQ291bnQ7IGNvbCsrKSB7XG5cdFx0XHR0aGlzLm1vZHVsZXNbcm93XVtjb2xdID0gbnVsbDsvLyhjb2wgKyByb3cpICUgMztcblx0XHR9XG5cdH1cblxuXHR0aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4oMCwgMCk7XG5cdHRoaXMuc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybih0aGlzLm1vZHVsZUNvdW50IC0gNywgMCk7XG5cdHRoaXMuc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybigwLCB0aGlzLm1vZHVsZUNvdW50IC0gNyk7XG5cdHRoaXMuc2V0dXBQb3NpdGlvbkFkanVzdFBhdHRlcm4oKTtcblx0dGhpcy5zZXR1cFRpbWluZ1BhdHRlcm4oKTtcblx0dGhpcy5zZXR1cFR5cGVJbmZvKHRlc3QsIG1hc2tQYXR0ZXJuKTtcblx0XG5cdGlmICh0aGlzLnR5cGVOdW1iZXIgPj0gNykge1xuXHRcdHRoaXMuc2V0dXBUeXBlTnVtYmVyKHRlc3QpO1xuXHR9XG5cblx0aWYgKHRoaXMuZGF0YUNhY2hlID09IG51bGwpIHtcblx0XHR0aGlzLmRhdGFDYWNoZSA9IFFSQ29kZS5jcmVhdGVEYXRhKHRoaXMudHlwZU51bWJlciwgdGhpcy5lcnJvckNvcnJlY3RMZXZlbCwgdGhpcy5kYXRhTGlzdCk7XG5cdH1cblxuXHR0aGlzLm1hcERhdGEodGhpcy5kYXRhQ2FjaGUsIG1hc2tQYXR0ZXJuKTtcbn07XG5cbnByb3RvLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4gPSBmdW5jdGlvbihyb3csIGNvbCkgIHtcblx0XG5cdGZvciAodmFyIHIgPSAtMTsgciA8PSA3OyByKyspIHtcblx0XHRcblx0XHRpZiAocm93ICsgciA8PSAtMSB8fCB0aGlzLm1vZHVsZUNvdW50IDw9IHJvdyArIHIpIGNvbnRpbnVlO1xuXHRcdFxuXHRcdGZvciAodmFyIGMgPSAtMTsgYyA8PSA3OyBjKyspIHtcblx0XHRcdFxuXHRcdFx0aWYgKGNvbCArIGMgPD0gLTEgfHwgdGhpcy5tb2R1bGVDb3VudCA8PSBjb2wgKyBjKSBjb250aW51ZTtcblx0XHRcdFxuXHRcdFx0aWYgKCAoMCA8PSByICYmIHIgPD0gNiAmJiAoYyA9PSAwIHx8IGMgPT0gNikgKVxuXHRcdFx0XHRcdHx8ICgwIDw9IGMgJiYgYyA8PSA2ICYmIChyID09IDAgfHwgciA9PSA2KSApXG5cdFx0XHRcdFx0fHwgKDIgPD0gciAmJiByIDw9IDQgJiYgMiA8PSBjICYmIGMgPD0gNCkgKSB7XG5cdFx0XHRcdHRoaXMubW9kdWxlc1tyb3cgKyByXVtjb2wgKyBjXSA9IHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLm1vZHVsZXNbcm93ICsgcl1bY29sICsgY10gPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XHRcdFxuXHR9XHRcdFxufTtcblxucHJvdG8uZ2V0QmVzdE1hc2tQYXR0ZXJuID0gZnVuY3Rpb24oKSB7XG5cblx0dmFyIG1pbkxvc3RQb2ludCA9IDA7XG5cdHZhciBwYXR0ZXJuID0gMDtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykge1xuXHRcdFxuXHRcdHRoaXMubWFrZUltcGwodHJ1ZSwgaSk7XG5cblx0XHR2YXIgbG9zdFBvaW50ID0gdXRpbC5nZXRMb3N0UG9pbnQodGhpcyk7XG5cblx0XHRpZiAoaSA9PSAwIHx8IG1pbkxvc3RQb2ludCA+ICBsb3N0UG9pbnQpIHtcblx0XHRcdG1pbkxvc3RQb2ludCA9IGxvc3RQb2ludDtcblx0XHRcdHBhdHRlcm4gPSBpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBwYXR0ZXJuO1xufTtcblxucHJvdG8uY3JlYXRlTW92aWVDbGlwID0gZnVuY3Rpb24odGFyZ2V0X21jLCBpbnN0YW5jZV9uYW1lLCBkZXB0aCkge1xuXG5cdHZhciBxcl9tYyA9IHRhcmdldF9tYy5jcmVhdGVFbXB0eU1vdmllQ2xpcChpbnN0YW5jZV9uYW1lLCBkZXB0aCk7XG5cdHZhciBjcyA9IDE7XG5cblx0dGhpcy5tYWtlKCk7XG5cblx0Zm9yICh2YXIgcm93ID0gMDsgcm93IDwgdGhpcy5tb2R1bGVzLmxlbmd0aDsgcm93KyspIHtcblx0XHRcblx0XHR2YXIgeSA9IHJvdyAqIGNzO1xuXHRcdFxuXHRcdGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IHRoaXMubW9kdWxlc1tyb3ddLmxlbmd0aDsgY29sKyspIHtcblxuXHRcdFx0dmFyIHggPSBjb2wgKiBjcztcblx0XHRcdHZhciBkYXJrID0gdGhpcy5tb2R1bGVzW3Jvd11bY29sXTtcblx0XHRcblx0XHRcdGlmIChkYXJrKSB7XG5cdFx0XHRcdHFyX21jLmJlZ2luRmlsbCgwLCAxMDApO1xuXHRcdFx0XHRxcl9tYy5tb3ZlVG8oeCwgeSk7XG5cdFx0XHRcdHFyX21jLmxpbmVUbyh4ICsgY3MsIHkpO1xuXHRcdFx0XHRxcl9tYy5saW5lVG8oeCArIGNzLCB5ICsgY3MpO1xuXHRcdFx0XHRxcl9tYy5saW5lVG8oeCwgeSArIGNzKTtcblx0XHRcdFx0cXJfbWMuZW5kRmlsbCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIHFyX21jO1xufTtcblxucHJvdG8uc2V0dXBUaW1pbmdQYXR0ZXJuID0gZnVuY3Rpb24oKSB7XG5cdFxuXHRmb3IgKHZhciByID0gODsgciA8IHRoaXMubW9kdWxlQ291bnQgLSA4OyByKyspIHtcblx0XHRpZiAodGhpcy5tb2R1bGVzW3JdWzZdICE9IG51bGwpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHR0aGlzLm1vZHVsZXNbcl1bNl0gPSAociAlIDIgPT0gMCk7XG5cdH1cblxuXHRmb3IgKHZhciBjID0gODsgYyA8IHRoaXMubW9kdWxlQ291bnQgLSA4OyBjKyspIHtcblx0XHRpZiAodGhpcy5tb2R1bGVzWzZdW2NdICE9IG51bGwpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHR0aGlzLm1vZHVsZXNbNl1bY10gPSAoYyAlIDIgPT0gMCk7XG5cdH1cbn07XG5cbnByb3RvLnNldHVwUG9zaXRpb25BZGp1c3RQYXR0ZXJuID0gZnVuY3Rpb24oKSB7XG5cblx0dmFyIHBvcyA9IHV0aWwuZ2V0UGF0dGVyblBvc2l0aW9uKHRoaXMudHlwZU51bWJlcik7XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHBvcy5sZW5ndGg7IGkrKykge1xuXHRcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHBvcy5sZW5ndGg7IGorKykge1xuXHRcdFxuXHRcdFx0dmFyIHJvdyA9IHBvc1tpXTtcblx0XHRcdHZhciBjb2wgPSBwb3Nbal07XG5cdFx0XHRcblx0XHRcdGlmICh0aGlzLm1vZHVsZXNbcm93XVtjb2xdICE9IG51bGwpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGZvciAodmFyIHIgPSAtMjsgciA8PSAyOyByKyspIHtcblx0XHRcdFxuXHRcdFx0XHRmb3IgKHZhciBjID0gLTI7IGMgPD0gMjsgYysrKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChyID09IC0yIHx8IHIgPT0gMiB8fCBjID09IC0yIHx8IGMgPT0gMlxuXHRcdFx0XHRcdFx0XHR8fCAociA9PSAwICYmIGMgPT0gMCkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm1vZHVsZXNbcm93ICsgcl1bY29sICsgY10gPSB0cnVlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLm1vZHVsZXNbcm93ICsgcl1bY29sICsgY10gPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbnByb3RvLnNldHVwVHlwZU51bWJlciA9IGZ1bmN0aW9uKHRlc3QpIHtcblxuXHR2YXIgYml0cyA9IHV0aWwuZ2V0QkNIVHlwZU51bWJlcih0aGlzLnR5cGVOdW1iZXIpO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgMTg7IGkrKykge1xuXHRcdHZhciBtb2QgPSAoIXRlc3QgJiYgKCAoYml0cyA+PiBpKSAmIDEpID09IDEpO1xuXHRcdHRoaXMubW9kdWxlc1tNYXRoLmZsb29yKGkgLyAzKV1baSAlIDMgKyB0aGlzLm1vZHVsZUNvdW50IC0gOCAtIDNdID0gbW9kO1xuXHR9XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxODsgaSsrKSB7XG5cdFx0dmFyIG1vZCA9ICghdGVzdCAmJiAoIChiaXRzID4+IGkpICYgMSkgPT0gMSk7XG5cdFx0dGhpcy5tb2R1bGVzW2kgJSAzICsgdGhpcy5tb2R1bGVDb3VudCAtIDggLSAzXVtNYXRoLmZsb29yKGkgLyAzKV0gPSBtb2Q7XG5cdH1cbn07XG5cbnByb3RvLnNldHVwVHlwZUluZm8gPSBmdW5jdGlvbih0ZXN0LCBtYXNrUGF0dGVybikge1xuXG5cdHZhciBkYXRhID0gKHRoaXMuZXJyb3JDb3JyZWN0TGV2ZWwgPDwgMykgfCBtYXNrUGF0dGVybjtcblx0dmFyIGJpdHMgPSB1dGlsLmdldEJDSFR5cGVJbmZvKGRhdGEpO1xuXG5cdC8vIHZlcnRpY2FsXHRcdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IDE1OyBpKyspIHtcblxuXHRcdHZhciBtb2QgPSAoIXRlc3QgJiYgKCAoYml0cyA+PiBpKSAmIDEpID09IDEpO1xuXG5cdFx0aWYgKGkgPCA2KSB7XG5cdFx0XHR0aGlzLm1vZHVsZXNbaV1bOF0gPSBtb2Q7XG5cdFx0fSBlbHNlIGlmIChpIDwgOCkge1xuXHRcdFx0dGhpcy5tb2R1bGVzW2kgKyAxXVs4XSA9IG1vZDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5tb2R1bGVzW3RoaXMubW9kdWxlQ291bnQgLSAxNSArIGldWzhdID0gbW9kO1xuXHRcdH1cblx0fVxuXG5cdC8vIGhvcml6b250YWxcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxNTsgaSsrKSB7XG5cblx0XHR2YXIgbW9kID0gKCF0ZXN0ICYmICggKGJpdHMgPj4gaSkgJiAxKSA9PSAxKTtcblx0XHRcblx0XHRpZiAoaSA8IDgpIHtcblx0XHRcdHRoaXMubW9kdWxlc1s4XVt0aGlzLm1vZHVsZUNvdW50IC0gaSAtIDFdID0gbW9kO1xuXHRcdH0gZWxzZSBpZiAoaSA8IDkpIHtcblx0XHRcdHRoaXMubW9kdWxlc1s4XVsxNSAtIGkgLSAxICsgMV0gPSBtb2Q7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubW9kdWxlc1s4XVsxNSAtIGkgLSAxXSA9IG1vZDtcblx0XHR9XG5cdH1cblxuXHQvLyBmaXhlZCBtb2R1bGVcblx0dGhpcy5tb2R1bGVzW3RoaXMubW9kdWxlQ291bnQgLSA4XVs4XSA9ICghdGVzdCk7XG59O1xuXG5wcm90by5tYXBEYXRhID0gZnVuY3Rpb24oZGF0YSwgbWFza1BhdHRlcm4pIHtcblx0XG5cdHZhciBpbmMgPSAtMTtcblx0dmFyIHJvdyA9IHRoaXMubW9kdWxlQ291bnQgLSAxO1xuXHR2YXIgYml0SW5kZXggPSA3O1xuXHR2YXIgYnl0ZUluZGV4ID0gMDtcblx0XG5cdGZvciAodmFyIGNvbCA9IHRoaXMubW9kdWxlQ291bnQgLSAxOyBjb2wgPiAwOyBjb2wgLT0gMikge1xuXG5cdFx0aWYgKGNvbCA9PSA2KSBjb2wtLTtcblxuXHRcdHdoaWxlICh0cnVlKSB7XG5cblx0XHRcdGZvciAodmFyIGMgPSAwOyBjIDwgMjsgYysrKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAodGhpcy5tb2R1bGVzW3Jvd11bY29sIC0gY10gPT0gbnVsbCkge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHZhciBkYXJrID0gZmFsc2U7XG5cblx0XHRcdFx0XHRpZiAoYnl0ZUluZGV4IDwgZGF0YS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGRhcmsgPSAoICggKGRhdGFbYnl0ZUluZGV4XSA+Pj4gYml0SW5kZXgpICYgMSkgPT0gMSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFyIG1hc2sgPSB1dGlsLmdldE1hc2sobWFza1BhdHRlcm4sIHJvdywgY29sIC0gYyk7XG5cblx0XHRcdFx0XHRpZiAobWFzaykge1xuXHRcdFx0XHRcdFx0ZGFyayA9ICFkYXJrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHR0aGlzLm1vZHVsZXNbcm93XVtjb2wgLSBjXSA9IGRhcms7XG5cdFx0XHRcdFx0Yml0SW5kZXgtLTtcblxuXHRcdFx0XHRcdGlmIChiaXRJbmRleCA9PSAtMSkge1xuXHRcdFx0XHRcdFx0Ynl0ZUluZGV4Kys7XG5cdFx0XHRcdFx0XHRiaXRJbmRleCA9IDc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0cm93ICs9IGluYztcblxuXHRcdFx0aWYgKHJvdyA8IDAgfHwgdGhpcy5tb2R1bGVDb3VudCA8PSByb3cpIHtcblx0XHRcdFx0cm93IC09IGluYztcblx0XHRcdFx0aW5jID0gLWluYztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG5RUkNvZGUuUEFEMCA9IDB4RUM7XG5RUkNvZGUuUEFEMSA9IDB4MTE7XG5cblFSQ29kZS5jcmVhdGVEYXRhID0gZnVuY3Rpb24odHlwZU51bWJlciwgZXJyb3JDb3JyZWN0TGV2ZWwsIGRhdGFMaXN0KSB7XG5cdFxuXHR2YXIgcnNCbG9ja3MgPSBSU0Jsb2NrLmdldFJTQmxvY2tzKHR5cGVOdW1iZXIsIGVycm9yQ29ycmVjdExldmVsKTtcblx0XG5cdHZhciBidWZmZXIgPSBuZXcgQml0QnVmZmVyKCk7XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFMaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGRhdGEgPSBkYXRhTGlzdFtpXTtcblx0XHRidWZmZXIucHV0KGRhdGEubW9kZSwgNCk7XG5cdFx0YnVmZmVyLnB1dChkYXRhLmdldExlbmd0aCgpLCB1dGlsLmdldExlbmd0aEluQml0cyhkYXRhLm1vZGUsIHR5cGVOdW1iZXIpICk7XG5cdFx0ZGF0YS53cml0ZShidWZmZXIpO1xuXHR9XG5cblx0Ly8gY2FsYyBudW0gbWF4IGRhdGEuXG5cdHZhciB0b3RhbERhdGFDb3VudCA9IDA7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgcnNCbG9ja3MubGVuZ3RoOyBpKyspIHtcblx0XHR0b3RhbERhdGFDb3VudCArPSByc0Jsb2Nrc1tpXS5kYXRhQ291bnQ7XG5cdH1cblxuXHRpZiAoYnVmZmVyLmdldExlbmd0aEluQml0cygpID4gdG90YWxEYXRhQ291bnQgKiA4KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiY29kZSBsZW5ndGggb3ZlcmZsb3cuIChcIlxuXHRcdFx0KyBidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKClcblx0XHRcdCsgXCI+XCJcblx0XHRcdCsgIHRvdGFsRGF0YUNvdW50ICogOFxuXHRcdFx0KyBcIilcIik7XG5cdH1cblxuXHQvLyBlbmQgY29kZVxuXHRpZiAoYnVmZmVyLmdldExlbmd0aEluQml0cygpICsgNCA8PSB0b3RhbERhdGFDb3VudCAqIDgpIHtcblx0XHRidWZmZXIucHV0KDAsIDQpO1xuXHR9XG5cblx0Ly8gcGFkZGluZ1xuXHR3aGlsZSAoYnVmZmVyLmdldExlbmd0aEluQml0cygpICUgOCAhPSAwKSB7XG5cdFx0YnVmZmVyLnB1dEJpdChmYWxzZSk7XG5cdH1cblxuXHQvLyBwYWRkaW5nXG5cdHdoaWxlICh0cnVlKSB7XG5cdFx0XG5cdFx0aWYgKGJ1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKSA+PSB0b3RhbERhdGFDb3VudCAqIDgpIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRidWZmZXIucHV0KFFSQ29kZS5QQUQwLCA4KTtcblx0XHRcblx0XHRpZiAoYnVmZmVyLmdldExlbmd0aEluQml0cygpID49IHRvdGFsRGF0YUNvdW50ICogOCkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGJ1ZmZlci5wdXQoUVJDb2RlLlBBRDEsIDgpO1xuXHR9XG5cblx0cmV0dXJuIFFSQ29kZS5jcmVhdGVCeXRlcyhidWZmZXIsIHJzQmxvY2tzKTtcbn07XG5cblFSQ29kZS5jcmVhdGVCeXRlcyA9IGZ1bmN0aW9uKGJ1ZmZlciwgcnNCbG9ja3MpIHtcblxuXHR2YXIgb2Zmc2V0ID0gMDtcblx0XG5cdHZhciBtYXhEY0NvdW50ID0gMDtcblx0dmFyIG1heEVjQ291bnQgPSAwO1xuXHRcblx0dmFyIGRjZGF0YSA9IG5ldyBBcnJheShyc0Jsb2Nrcy5sZW5ndGgpO1xuXHR2YXIgZWNkYXRhID0gbmV3IEFycmF5KHJzQmxvY2tzLmxlbmd0aCk7XG5cdFxuXHRmb3IgKHZhciByID0gMDsgciA8IHJzQmxvY2tzLmxlbmd0aDsgcisrKSB7XG5cblx0XHR2YXIgZGNDb3VudCA9IHJzQmxvY2tzW3JdLmRhdGFDb3VudDtcblx0XHR2YXIgZWNDb3VudCA9IHJzQmxvY2tzW3JdLnRvdGFsQ291bnQgLSBkY0NvdW50O1xuXG5cdFx0bWF4RGNDb3VudCA9IE1hdGgubWF4KG1heERjQ291bnQsIGRjQ291bnQpO1xuXHRcdG1heEVjQ291bnQgPSBNYXRoLm1heChtYXhFY0NvdW50LCBlY0NvdW50KTtcblx0XHRcblx0XHRkY2RhdGFbcl0gPSBuZXcgQXJyYXkoZGNDb3VudCk7XG5cdFx0XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkY2RhdGFbcl0ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGRjZGF0YVtyXVtpXSA9IDB4ZmYgJiBidWZmZXIuYnVmZmVyW2kgKyBvZmZzZXRdO1xuXHRcdH1cblx0XHRvZmZzZXQgKz0gZGNDb3VudDtcblx0XHRcblx0XHR2YXIgcnNQb2x5ID0gdXRpbC5nZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsKGVjQ291bnQpO1xuXHRcdHZhciByYXdQb2x5ID0gbmV3IFBvbHlub21pYWwoZGNkYXRhW3JdLCByc1BvbHkuZ2V0TGVuZ3RoKCkgLSAxKTtcblxuXHRcdHZhciBtb2RQb2x5ID0gcmF3UG9seS5tb2QocnNQb2x5KTtcblx0XHRlY2RhdGFbcl0gPSBuZXcgQXJyYXkocnNQb2x5LmdldExlbmd0aCgpIC0gMSk7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlY2RhdGFbcl0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBtb2RJbmRleCA9IGkgKyBtb2RQb2x5LmdldExlbmd0aCgpIC0gZWNkYXRhW3JdLmxlbmd0aDtcblx0XHRcdGVjZGF0YVtyXVtpXSA9IChtb2RJbmRleCA+PSAwKT8gbW9kUG9seS5nZXQobW9kSW5kZXgpIDogMDtcblx0XHR9XG5cblx0fVxuXHRcblx0dmFyIHRvdGFsQ29kZUNvdW50ID0gMDtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCByc0Jsb2Nrcy5sZW5ndGg7IGkrKykge1xuXHRcdHRvdGFsQ29kZUNvdW50ICs9IHJzQmxvY2tzW2ldLnRvdGFsQ291bnQ7XG5cdH1cblxuXHR2YXIgZGF0YSA9IG5ldyBBcnJheSh0b3RhbENvZGVDb3VudCk7XG5cdHZhciBpbmRleCA9IDA7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXhEY0NvdW50OyBpKyspIHtcblx0XHRmb3IgKHZhciByID0gMDsgciA8IHJzQmxvY2tzLmxlbmd0aDsgcisrKSB7XG5cdFx0XHRpZiAoaSA8IGRjZGF0YVtyXS5sZW5ndGgpIHtcblx0XHRcdFx0ZGF0YVtpbmRleCsrXSA9IGRjZGF0YVtyXVtpXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IG1heEVjQ291bnQ7IGkrKykge1xuXHRcdGZvciAodmFyIHIgPSAwOyByIDwgcnNCbG9ja3MubGVuZ3RoOyByKyspIHtcblx0XHRcdGlmIChpIDwgZWNkYXRhW3JdLmxlbmd0aCkge1xuXHRcdFx0XHRkYXRhW2luZGV4KytdID0gZWNkYXRhW3JdW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkYXRhO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBRUkNvZGU7XG5cbiIsIi8vIEVycm9yQ29ycmVjdExldmVsXG52YXIgRUNMID0gcmVxdWlyZSgnLi9FcnJvckNvcnJlY3RMZXZlbCcpO1xuXG5mdW5jdGlvbiBRUlJTQmxvY2sodG90YWxDb3VudCwgZGF0YUNvdW50KSB7XG5cdHRoaXMudG90YWxDb3VudCA9IHRvdGFsQ291bnQ7XG5cdHRoaXMuZGF0YUNvdW50ICA9IGRhdGFDb3VudDtcbn1cblxuUVJSU0Jsb2NrLlJTX0JMT0NLX1RBQkxFID0gW1xuXG5cdC8vIExcblx0Ly8gTVxuXHQvLyBRXG5cdC8vIEhcblxuXHQvLyAxXG5cdFsxLCAyNiwgMTldLFxuXHRbMSwgMjYsIDE2XSxcblx0WzEsIDI2LCAxM10sXG5cdFsxLCAyNiwgOV0sXG5cdFxuXHQvLyAyXG5cdFsxLCA0NCwgMzRdLFxuXHRbMSwgNDQsIDI4XSxcblx0WzEsIDQ0LCAyMl0sXG5cdFsxLCA0NCwgMTZdLFxuXG5cdC8vIDNcblx0WzEsIDcwLCA1NV0sXG5cdFsxLCA3MCwgNDRdLFxuXHRbMiwgMzUsIDE3XSxcblx0WzIsIDM1LCAxM10sXG5cblx0Ly8gNFx0XHRcblx0WzEsIDEwMCwgODBdLFxuXHRbMiwgNTAsIDMyXSxcblx0WzIsIDUwLCAyNF0sXG5cdFs0LCAyNSwgOV0sXG5cdFxuXHQvLyA1XG5cdFsxLCAxMzQsIDEwOF0sXG5cdFsyLCA2NywgNDNdLFxuXHRbMiwgMzMsIDE1LCAyLCAzNCwgMTZdLFxuXHRbMiwgMzMsIDExLCAyLCAzNCwgMTJdLFxuXHRcblx0Ly8gNlxuXHRbMiwgODYsIDY4XSxcblx0WzQsIDQzLCAyN10sXG5cdFs0LCA0MywgMTldLFxuXHRbNCwgNDMsIDE1XSxcblx0XG5cdC8vIDdcdFx0XG5cdFsyLCA5OCwgNzhdLFxuXHRbNCwgNDksIDMxXSxcblx0WzIsIDMyLCAxNCwgNCwgMzMsIDE1XSxcblx0WzQsIDM5LCAxMywgMSwgNDAsIDE0XSxcblx0XG5cdC8vIDhcblx0WzIsIDEyMSwgOTddLFxuXHRbMiwgNjAsIDM4LCAyLCA2MSwgMzldLFxuXHRbNCwgNDAsIDE4LCAyLCA0MSwgMTldLFxuXHRbNCwgNDAsIDE0LCAyLCA0MSwgMTVdLFxuXHRcblx0Ly8gOVxuXHRbMiwgMTQ2LCAxMTZdLFxuXHRbMywgNTgsIDM2LCAyLCA1OSwgMzddLFxuXHRbNCwgMzYsIDE2LCA0LCAzNywgMTddLFxuXHRbNCwgMzYsIDEyLCA0LCAzNywgMTNdLFxuXHRcblx0Ly8gMTBcdFx0XG5cdFsyLCA4NiwgNjgsIDIsIDg3LCA2OV0sXG5cdFs0LCA2OSwgNDMsIDEsIDcwLCA0NF0sXG5cdFs2LCA0MywgMTksIDIsIDQ0LCAyMF0sXG5cdFs2LCA0MywgMTUsIDIsIDQ0LCAxNl0sXG5cblx0Ly8gMTFcblx0WzQsIDEwMSwgODFdLFxuXHRbMSwgODAsIDUwLCA0LCA4MSwgNTFdLFxuXHRbNCwgNTAsIDIyLCA0LCA1MSwgMjNdLFxuXHRbMywgMzYsIDEyLCA4LCAzNywgMTNdLFxuXG5cdC8vIDEyXG5cdFsyLCAxMTYsIDkyLCAyLCAxMTcsIDkzXSxcblx0WzYsIDU4LCAzNiwgMiwgNTksIDM3XSxcblx0WzQsIDQ2LCAyMCwgNiwgNDcsIDIxXSxcblx0WzcsIDQyLCAxNCwgNCwgNDMsIDE1XSxcblxuXHQvLyAxM1xuXHRbNCwgMTMzLCAxMDddLFxuXHRbOCwgNTksIDM3LCAxLCA2MCwgMzhdLFxuXHRbOCwgNDQsIDIwLCA0LCA0NSwgMjFdLFxuXHRbMTIsIDMzLCAxMSwgNCwgMzQsIDEyXSxcblxuXHQvLyAxNFxuXHRbMywgMTQ1LCAxMTUsIDEsIDE0NiwgMTE2XSxcblx0WzQsIDY0LCA0MCwgNSwgNjUsIDQxXSxcblx0WzExLCAzNiwgMTYsIDUsIDM3LCAxN10sXG5cdFsxMSwgMzYsIDEyLCA1LCAzNywgMTNdLFxuXG5cdC8vIDE1XG5cdFs1LCAxMDksIDg3LCAxLCAxMTAsIDg4XSxcblx0WzUsIDY1LCA0MSwgNSwgNjYsIDQyXSxcblx0WzUsIDU0LCAyNCwgNywgNTUsIDI1XSxcblx0WzExLCAzNiwgMTJdLFxuXG5cdC8vIDE2XG5cdFs1LCAxMjIsIDk4LCAxLCAxMjMsIDk5XSxcblx0WzcsIDczLCA0NSwgMywgNzQsIDQ2XSxcblx0WzE1LCA0MywgMTksIDIsIDQ0LCAyMF0sXG5cdFszLCA0NSwgMTUsIDEzLCA0NiwgMTZdLFxuXG5cdC8vIDE3XG5cdFsxLCAxMzUsIDEwNywgNSwgMTM2LCAxMDhdLFxuXHRbMTAsIDc0LCA0NiwgMSwgNzUsIDQ3XSxcblx0WzEsIDUwLCAyMiwgMTUsIDUxLCAyM10sXG5cdFsyLCA0MiwgMTQsIDE3LCA0MywgMTVdLFxuXG5cdC8vIDE4XG5cdFs1LCAxNTAsIDEyMCwgMSwgMTUxLCAxMjFdLFxuXHRbOSwgNjksIDQzLCA0LCA3MCwgNDRdLFxuXHRbMTcsIDUwLCAyMiwgMSwgNTEsIDIzXSxcblx0WzIsIDQyLCAxNCwgMTksIDQzLCAxNV0sXG5cblx0Ly8gMTlcblx0WzMsIDE0MSwgMTEzLCA0LCAxNDIsIDExNF0sXG5cdFszLCA3MCwgNDQsIDExLCA3MSwgNDVdLFxuXHRbMTcsIDQ3LCAyMSwgNCwgNDgsIDIyXSxcblx0WzksIDM5LCAxMywgMTYsIDQwLCAxNF0sXG5cblx0Ly8gMjBcblx0WzMsIDEzNSwgMTA3LCA1LCAxMzYsIDEwOF0sXG5cdFszLCA2NywgNDEsIDEzLCA2OCwgNDJdLFxuXHRbMTUsIDU0LCAyNCwgNSwgNTUsIDI1XSxcblx0WzE1LCA0MywgMTUsIDEwLCA0NCwgMTZdLFxuXG5cdC8vIDIxXG5cdFs0LCAxNDQsIDExNiwgNCwgMTQ1LCAxMTddLFxuXHRbMTcsIDY4LCA0Ml0sXG5cdFsxNywgNTAsIDIyLCA2LCA1MSwgMjNdLFxuXHRbMTksIDQ2LCAxNiwgNiwgNDcsIDE3XSxcblxuXHQvLyAyMlxuXHRbMiwgMTM5LCAxMTEsIDcsIDE0MCwgMTEyXSxcblx0WzE3LCA3NCwgNDZdLFxuXHRbNywgNTQsIDI0LCAxNiwgNTUsIDI1XSxcblx0WzM0LCAzNywgMTNdLFxuXG5cdC8vIDIzXG5cdFs0LCAxNTEsIDEyMSwgNSwgMTUyLCAxMjJdLFxuXHRbNCwgNzUsIDQ3LCAxNCwgNzYsIDQ4XSxcblx0WzExLCA1NCwgMjQsIDE0LCA1NSwgMjVdLFxuXHRbMTYsIDQ1LCAxNSwgMTQsIDQ2LCAxNl0sXG5cblx0Ly8gMjRcblx0WzYsIDE0NywgMTE3LCA0LCAxNDgsIDExOF0sXG5cdFs2LCA3MywgNDUsIDE0LCA3NCwgNDZdLFxuXHRbMTEsIDU0LCAyNCwgMTYsIDU1LCAyNV0sXG5cdFszMCwgNDYsIDE2LCAyLCA0NywgMTddLFxuXG5cdC8vIDI1XG5cdFs4LCAxMzIsIDEwNiwgNCwgMTMzLCAxMDddLFxuXHRbOCwgNzUsIDQ3LCAxMywgNzYsIDQ4XSxcblx0WzcsIDU0LCAyNCwgMjIsIDU1LCAyNV0sXG5cdFsyMiwgNDUsIDE1LCAxMywgNDYsIDE2XSxcblxuXHQvLyAyNlxuXHRbMTAsIDE0MiwgMTE0LCAyLCAxNDMsIDExNV0sXG5cdFsxOSwgNzQsIDQ2LCA0LCA3NSwgNDddLFxuXHRbMjgsIDUwLCAyMiwgNiwgNTEsIDIzXSxcblx0WzMzLCA0NiwgMTYsIDQsIDQ3LCAxN10sXG5cblx0Ly8gMjdcblx0WzgsIDE1MiwgMTIyLCA0LCAxNTMsIDEyM10sXG5cdFsyMiwgNzMsIDQ1LCAzLCA3NCwgNDZdLFxuXHRbOCwgNTMsIDIzLCAyNiwgNTQsIDI0XSxcblx0WzEyLCA0NSwgMTUsIDI4LCA0NiwgMTZdLFxuXG5cdC8vIDI4XG5cdFszLCAxNDcsIDExNywgMTAsIDE0OCwgMTE4XSxcblx0WzMsIDczLCA0NSwgMjMsIDc0LCA0Nl0sXG5cdFs0LCA1NCwgMjQsIDMxLCA1NSwgMjVdLFxuXHRbMTEsIDQ1LCAxNSwgMzEsIDQ2LCAxNl0sXG5cblx0Ly8gMjlcblx0WzcsIDE0NiwgMTE2LCA3LCAxNDcsIDExN10sXG5cdFsyMSwgNzMsIDQ1LCA3LCA3NCwgNDZdLFxuXHRbMSwgNTMsIDIzLCAzNywgNTQsIDI0XSxcblx0WzE5LCA0NSwgMTUsIDI2LCA0NiwgMTZdLFxuXG5cdC8vIDMwXG5cdFs1LCAxNDUsIDExNSwgMTAsIDE0NiwgMTE2XSxcblx0WzE5LCA3NSwgNDcsIDEwLCA3NiwgNDhdLFxuXHRbMTUsIDU0LCAyNCwgMjUsIDU1LCAyNV0sXG5cdFsyMywgNDUsIDE1LCAyNSwgNDYsIDE2XSxcblxuXHQvLyAzMVxuXHRbMTMsIDE0NSwgMTE1LCAzLCAxNDYsIDExNl0sXG5cdFsyLCA3NCwgNDYsIDI5LCA3NSwgNDddLFxuXHRbNDIsIDU0LCAyNCwgMSwgNTUsIDI1XSxcblx0WzIzLCA0NSwgMTUsIDI4LCA0NiwgMTZdLFxuXG5cdC8vIDMyXG5cdFsxNywgMTQ1LCAxMTVdLFxuXHRbMTAsIDc0LCA0NiwgMjMsIDc1LCA0N10sXG5cdFsxMCwgNTQsIDI0LCAzNSwgNTUsIDI1XSxcblx0WzE5LCA0NSwgMTUsIDM1LCA0NiwgMTZdLFxuXG5cdC8vIDMzXG5cdFsxNywgMTQ1LCAxMTUsIDEsIDE0NiwgMTE2XSxcblx0WzE0LCA3NCwgNDYsIDIxLCA3NSwgNDddLFxuXHRbMjksIDU0LCAyNCwgMTksIDU1LCAyNV0sXG5cdFsxMSwgNDUsIDE1LCA0NiwgNDYsIDE2XSxcblxuXHQvLyAzNFxuXHRbMTMsIDE0NSwgMTE1LCA2LCAxNDYsIDExNl0sXG5cdFsxNCwgNzQsIDQ2LCAyMywgNzUsIDQ3XSxcblx0WzQ0LCA1NCwgMjQsIDcsIDU1LCAyNV0sXG5cdFs1OSwgNDYsIDE2LCAxLCA0NywgMTddLFxuXG5cdC8vIDM1XG5cdFsxMiwgMTUxLCAxMjEsIDcsIDE1MiwgMTIyXSxcblx0WzEyLCA3NSwgNDcsIDI2LCA3NiwgNDhdLFxuXHRbMzksIDU0LCAyNCwgMTQsIDU1LCAyNV0sXG5cdFsyMiwgNDUsIDE1LCA0MSwgNDYsIDE2XSxcblxuXHQvLyAzNlxuXHRbNiwgMTUxLCAxMjEsIDE0LCAxNTIsIDEyMl0sXG5cdFs2LCA3NSwgNDcsIDM0LCA3NiwgNDhdLFxuXHRbNDYsIDU0LCAyNCwgMTAsIDU1LCAyNV0sXG5cdFsyLCA0NSwgMTUsIDY0LCA0NiwgMTZdLFxuXG5cdC8vIDM3XG5cdFsxNywgMTUyLCAxMjIsIDQsIDE1MywgMTIzXSxcblx0WzI5LCA3NCwgNDYsIDE0LCA3NSwgNDddLFxuXHRbNDksIDU0LCAyNCwgMTAsIDU1LCAyNV0sXG5cdFsyNCwgNDUsIDE1LCA0NiwgNDYsIDE2XSxcblxuXHQvLyAzOFxuXHRbNCwgMTUyLCAxMjIsIDE4LCAxNTMsIDEyM10sXG5cdFsxMywgNzQsIDQ2LCAzMiwgNzUsIDQ3XSxcblx0WzQ4LCA1NCwgMjQsIDE0LCA1NSwgMjVdLFxuXHRbNDIsIDQ1LCAxNSwgMzIsIDQ2LCAxNl0sXG5cblx0Ly8gMzlcblx0WzIwLCAxNDcsIDExNywgNCwgMTQ4LCAxMThdLFxuXHRbNDAsIDc1LCA0NywgNywgNzYsIDQ4XSxcblx0WzQzLCA1NCwgMjQsIDIyLCA1NSwgMjVdLFxuXHRbMTAsIDQ1LCAxNSwgNjcsIDQ2LCAxNl0sXG5cblx0Ly8gNDBcblx0WzE5LCAxNDgsIDExOCwgNiwgMTQ5LCAxMTldLFxuXHRbMTgsIDc1LCA0NywgMzEsIDc2LCA0OF0sXG5cdFszNCwgNTQsIDI0LCAzNCwgNTUsIDI1XSxcblx0WzIwLCA0NSwgMTUsIDYxLCA0NiwgMTZdXG5dO1xuXG5RUlJTQmxvY2suZ2V0UlNCbG9ja3MgPSBmdW5jdGlvbih0eXBlTnVtYmVyLCBlcnJvckNvcnJlY3RMZXZlbCkge1xuXHRcblx0dmFyIHJzQmxvY2sgPSBRUlJTQmxvY2suZ2V0UnNCbG9ja1RhYmxlKHR5cGVOdW1iZXIsIGVycm9yQ29ycmVjdExldmVsKTtcblx0XG5cdGlmIChyc0Jsb2NrID09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcImJhZCBycyBibG9jayBAIHR5cGVOdW1iZXI6XCIgKyB0eXBlTnVtYmVyICsgXCIvZXJyb3JDb3JyZWN0TGV2ZWw6XCIgKyBlcnJvckNvcnJlY3RMZXZlbCk7XG5cdH1cblxuXHR2YXIgbGVuZ3RoID0gcnNCbG9jay5sZW5ndGggLyAzO1xuXHRcblx0dmFyIGxpc3QgPSBuZXcgQXJyYXkoKTtcblx0XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblxuXHRcdHZhciBjb3VudCA9IHJzQmxvY2tbaSAqIDMgKyAwXTtcblx0XHR2YXIgdG90YWxDb3VudCA9IHJzQmxvY2tbaSAqIDMgKyAxXTtcblx0XHR2YXIgZGF0YUNvdW50ICA9IHJzQmxvY2tbaSAqIDMgKyAyXTtcblxuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY291bnQ7IGorKykge1xuXHRcdFx0bGlzdC5wdXNoKG5ldyBRUlJTQmxvY2sodG90YWxDb3VudCwgZGF0YUNvdW50KSApO1x0XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gbGlzdDtcbn1cblxuUVJSU0Jsb2NrLmdldFJzQmxvY2tUYWJsZSA9IGZ1bmN0aW9uKHR5cGVOdW1iZXIsIGVycm9yQ29ycmVjdExldmVsKSB7XG5cblx0c3dpdGNoKGVycm9yQ29ycmVjdExldmVsKSB7XG5cdGNhc2UgRUNMLkwgOlxuXHRcdHJldHVybiBRUlJTQmxvY2suUlNfQkxPQ0tfVEFCTEVbKHR5cGVOdW1iZXIgLSAxKSAqIDQgKyAwXTtcblx0Y2FzZSBFQ0wuTSA6XG5cdFx0cmV0dXJuIFFSUlNCbG9jay5SU19CTE9DS19UQUJMRVsodHlwZU51bWJlciAtIDEpICogNCArIDFdO1xuXHRjYXNlIEVDTC5RIDpcblx0XHRyZXR1cm4gUVJSU0Jsb2NrLlJTX0JMT0NLX1RBQkxFWyh0eXBlTnVtYmVyIC0gMSkgKiA0ICsgMl07XG5cdGNhc2UgRUNMLkggOlxuXHRcdHJldHVybiBRUlJTQmxvY2suUlNfQkxPQ0tfVEFCTEVbKHR5cGVOdW1iZXIgLSAxKSAqIDQgKyAzXTtcblx0ZGVmYXVsdCA6XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFFSUlNCbG9jaztcbiIsInZhciBRUk1hdGggPSB7XG5cblx0Z2xvZyA6IGZ1bmN0aW9uKG4pIHtcblx0XG5cdFx0aWYgKG4gPCAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJnbG9nKFwiICsgbiArIFwiKVwiKTtcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIFFSTWF0aC5MT0dfVEFCTEVbbl07XG5cdH0sXG5cdFxuXHRnZXhwIDogZnVuY3Rpb24obikge1xuXHRcblx0XHR3aGlsZSAobiA8IDApIHtcblx0XHRcdG4gKz0gMjU1O1xuXHRcdH1cblx0XG5cdFx0d2hpbGUgKG4gPj0gMjU2KSB7XG5cdFx0XHRuIC09IDI1NTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBRUk1hdGguRVhQX1RBQkxFW25dO1xuXHR9LFxuXHRcblx0RVhQX1RBQkxFIDogbmV3IEFycmF5KDI1NiksXG5cdFxuXHRMT0dfVEFCTEUgOiBuZXcgQXJyYXkoMjU2KVxuXG59O1xuXHRcbmZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG5cdFFSTWF0aC5FWFBfVEFCTEVbaV0gPSAxIDw8IGk7XG59XG5mb3IgKHZhciBpID0gODsgaSA8IDI1NjsgaSsrKSB7XG5cdFFSTWF0aC5FWFBfVEFCTEVbaV0gPSBRUk1hdGguRVhQX1RBQkxFW2kgLSA0XVxuXHRcdF4gUVJNYXRoLkVYUF9UQUJMRVtpIC0gNV1cblx0XHReIFFSTWF0aC5FWFBfVEFCTEVbaSAtIDZdXG5cdFx0XiBRUk1hdGguRVhQX1RBQkxFW2kgLSA4XTtcbn1cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU1OyBpKyspIHtcblx0UVJNYXRoLkxPR19UQUJMRVtRUk1hdGguRVhQX1RBQkxFW2ldIF0gPSBpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFFSTWF0aDtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRNT0RFX05VTUJFUiA6XHRcdDEgPDwgMCxcblx0TU9ERV9BTFBIQV9OVU0gOiBcdDEgPDwgMSxcblx0TU9ERV84QklUX0JZVEUgOiBcdDEgPDwgMixcblx0TU9ERV9LQU5KSSA6XHRcdDEgPDwgM1xufTtcbiIsInZhciBNb2RlID0gcmVxdWlyZSgnLi9tb2RlJyk7XG52YXIgUG9seW5vbWlhbCA9IHJlcXVpcmUoJy4vUG9seW5vbWlhbCcpO1xudmFyIG1hdGggPSByZXF1aXJlKCcuL21hdGgnKTtcblxudmFyIFFSTWFza1BhdHRlcm4gPSB7XG5cdFBBVFRFUk4wMDAgOiAwLFxuXHRQQVRURVJOMDAxIDogMSxcblx0UEFUVEVSTjAxMCA6IDIsXG5cdFBBVFRFUk4wMTEgOiAzLFxuXHRQQVRURVJOMTAwIDogNCxcblx0UEFUVEVSTjEwMSA6IDUsXG5cdFBBVFRFUk4xMTAgOiA2LFxuXHRQQVRURVJOMTExIDogN1xufTtcblxudmFyIFFSVXRpbCA9IHtcblxuICAgIFBBVFRFUk5fUE9TSVRJT05fVEFCTEUgOiBbXG5cdCAgICBbXSxcblx0ICAgIFs2LCAxOF0sXG5cdCAgICBbNiwgMjJdLFxuXHQgICAgWzYsIDI2XSxcblx0ICAgIFs2LCAzMF0sXG5cdCAgICBbNiwgMzRdLFxuXHQgICAgWzYsIDIyLCAzOF0sXG5cdCAgICBbNiwgMjQsIDQyXSxcblx0ICAgIFs2LCAyNiwgNDZdLFxuXHQgICAgWzYsIDI4LCA1MF0sXG5cdCAgICBbNiwgMzAsIDU0XSxcdFx0XG5cdCAgICBbNiwgMzIsIDU4XSxcblx0ICAgIFs2LCAzNCwgNjJdLFxuXHQgICAgWzYsIDI2LCA0NiwgNjZdLFxuXHQgICAgWzYsIDI2LCA0OCwgNzBdLFxuXHQgICAgWzYsIDI2LCA1MCwgNzRdLFxuXHQgICAgWzYsIDMwLCA1NCwgNzhdLFxuXHQgICAgWzYsIDMwLCA1NiwgODJdLFxuXHQgICAgWzYsIDMwLCA1OCwgODZdLFxuXHQgICAgWzYsIDM0LCA2MiwgOTBdLFxuXHQgICAgWzYsIDI4LCA1MCwgNzIsIDk0XSxcblx0ICAgIFs2LCAyNiwgNTAsIDc0LCA5OF0sXG5cdCAgICBbNiwgMzAsIDU0LCA3OCwgMTAyXSxcblx0ICAgIFs2LCAyOCwgNTQsIDgwLCAxMDZdLFxuXHQgICAgWzYsIDMyLCA1OCwgODQsIDExMF0sXG5cdCAgICBbNiwgMzAsIDU4LCA4NiwgMTE0XSxcblx0ICAgIFs2LCAzNCwgNjIsIDkwLCAxMThdLFxuXHQgICAgWzYsIDI2LCA1MCwgNzQsIDk4LCAxMjJdLFxuXHQgICAgWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2XSxcblx0ICAgIFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0sXG5cdCAgICBbNiwgMzAsIDU2LCA4MiwgMTA4LCAxMzRdLFxuXHQgICAgWzYsIDM0LCA2MCwgODYsIDExMiwgMTM4XSxcblx0ICAgIFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0Ml0sXG5cdCAgICBbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdLFxuXHQgICAgWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdLFxuXHQgICAgWzYsIDI0LCA1MCwgNzYsIDEwMiwgMTI4LCAxNTRdLFxuXHQgICAgWzYsIDI4LCA1NCwgODAsIDEwNiwgMTMyLCAxNThdLFxuXHQgICAgWzYsIDMyLCA1OCwgODQsIDExMCwgMTM2LCAxNjJdLFxuXHQgICAgWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdLFxuXHQgICAgWzYsIDMwLCA1OCwgODYsIDExNCwgMTQyLCAxNzBdXG4gICAgXSxcblxuICAgIEcxNSA6ICgxIDw8IDEwKSB8ICgxIDw8IDgpIHwgKDEgPDwgNSkgfCAoMSA8PCA0KSB8ICgxIDw8IDIpIHwgKDEgPDwgMSkgfCAoMSA8PCAwKSxcbiAgICBHMTggOiAoMSA8PCAxMikgfCAoMSA8PCAxMSkgfCAoMSA8PCAxMCkgfCAoMSA8PCA5KSB8ICgxIDw8IDgpIHwgKDEgPDwgNSkgfCAoMSA8PCAyKSB8ICgxIDw8IDApLFxuICAgIEcxNV9NQVNLIDogKDEgPDwgMTQpIHwgKDEgPDwgMTIpIHwgKDEgPDwgMTApXHR8ICgxIDw8IDQpIHwgKDEgPDwgMSksXG5cbiAgICBnZXRCQ0hUeXBlSW5mbyA6IGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgIHZhciBkID0gZGF0YSA8PCAxMDtcblx0ICAgIHdoaWxlIChRUlV0aWwuZ2V0QkNIRGlnaXQoZCkgLSBRUlV0aWwuZ2V0QkNIRGlnaXQoUVJVdGlsLkcxNSkgPj0gMCkge1xuXHRcdCAgICBkIF49IChRUlV0aWwuRzE1IDw8IChRUlV0aWwuZ2V0QkNIRGlnaXQoZCkgLSBRUlV0aWwuZ2V0QkNIRGlnaXQoUVJVdGlsLkcxNSkgKSApOyBcdFxuXHQgICAgfVxuXHQgICAgcmV0dXJuICggKGRhdGEgPDwgMTApIHwgZCkgXiBRUlV0aWwuRzE1X01BU0s7XG4gICAgfSxcblxuICAgIGdldEJDSFR5cGVOdW1iZXIgOiBmdW5jdGlvbihkYXRhKSB7XG5cdCAgICB2YXIgZCA9IGRhdGEgPDwgMTI7XG5cdCAgICB3aGlsZSAoUVJVdGlsLmdldEJDSERpZ2l0KGQpIC0gUVJVdGlsLmdldEJDSERpZ2l0KFFSVXRpbC5HMTgpID49IDApIHtcblx0XHQgICAgZCBePSAoUVJVdGlsLkcxOCA8PCAoUVJVdGlsLmdldEJDSERpZ2l0KGQpIC0gUVJVdGlsLmdldEJDSERpZ2l0KFFSVXRpbC5HMTgpICkgKTsgXHRcblx0ICAgIH1cblx0ICAgIHJldHVybiAoZGF0YSA8PCAxMikgfCBkO1xuICAgIH0sXG5cbiAgICBnZXRCQ0hEaWdpdCA6IGZ1bmN0aW9uKGRhdGEpIHtcblxuXHQgICAgdmFyIGRpZ2l0ID0gMDtcblxuXHQgICAgd2hpbGUgKGRhdGEgIT0gMCkge1xuXHRcdCAgICBkaWdpdCsrO1xuXHRcdCAgICBkYXRhID4+Pj0gMTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIGRpZ2l0O1xuICAgIH0sXG5cbiAgICBnZXRQYXR0ZXJuUG9zaXRpb24gOiBmdW5jdGlvbih0eXBlTnVtYmVyKSB7XG5cdCAgICByZXR1cm4gUVJVdGlsLlBBVFRFUk5fUE9TSVRJT05fVEFCTEVbdHlwZU51bWJlciAtIDFdO1xuICAgIH0sXG5cbiAgICBnZXRNYXNrIDogZnVuY3Rpb24obWFza1BhdHRlcm4sIGksIGopIHtcblx0ICAgIFxuXHQgICAgc3dpdGNoIChtYXNrUGF0dGVybikge1xuXHRcdCAgICBcblx0ICAgIGNhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMDAwIDogcmV0dXJuIChpICsgaikgJSAyID09IDA7XG5cdCAgICBjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjAwMSA6IHJldHVybiBpICUgMiA9PSAwO1xuXHQgICAgY2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4wMTAgOiByZXR1cm4gaiAlIDMgPT0gMDtcblx0ICAgIGNhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMDExIDogcmV0dXJuIChpICsgaikgJSAzID09IDA7XG5cdCAgICBjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjEwMCA6IHJldHVybiAoTWF0aC5mbG9vcihpIC8gMikgKyBNYXRoLmZsb29yKGogLyAzKSApICUgMiA9PSAwO1xuXHQgICAgY2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4xMDEgOiByZXR1cm4gKGkgKiBqKSAlIDIgKyAoaSAqIGopICUgMyA9PSAwO1xuXHQgICAgY2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4xMTAgOiByZXR1cm4gKCAoaSAqIGopICUgMiArIChpICogaikgJSAzKSAlIDIgPT0gMDtcblx0ICAgIGNhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMTExIDogcmV0dXJuICggKGkgKiBqKSAlIDMgKyAoaSArIGopICUgMikgJSAyID09IDA7XG5cblx0ICAgIGRlZmF1bHQgOlxuXHRcdCAgICB0aHJvdyBuZXcgRXJyb3IoXCJiYWQgbWFza1BhdHRlcm46XCIgKyBtYXNrUGF0dGVybik7XG5cdCAgICB9XG4gICAgfSxcblxuICAgIGdldEVycm9yQ29ycmVjdFBvbHlub21pYWwgOiBmdW5jdGlvbihlcnJvckNvcnJlY3RMZW5ndGgpIHtcblxuXHQgICAgdmFyIGEgPSBuZXcgUG9seW5vbWlhbChbMV0sIDApO1xuXG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVycm9yQ29ycmVjdExlbmd0aDsgaSsrKSB7XG5cdFx0ICAgIGEgPSBhLm11bHRpcGx5KG5ldyBQb2x5bm9taWFsKFsxLCBtYXRoLmdleHAoaSldLCAwKSApO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4gYTtcbiAgICB9LFxuXG4gICAgZ2V0TGVuZ3RoSW5CaXRzIDogZnVuY3Rpb24obW9kZSwgdHlwZSkge1xuXG5cdCAgICBpZiAoMSA8PSB0eXBlICYmIHR5cGUgPCAxMCkge1xuXG5cdFx0ICAgIC8vIDEgLSA5XG5cblx0XHQgICAgc3dpdGNoKG1vZGUpIHtcblx0XHQgICAgY2FzZSBNb2RlLk1PREVfTlVNQkVSIFx0OiByZXR1cm4gMTA7XG5cdFx0ICAgIGNhc2UgTW9kZS5NT0RFX0FMUEhBX05VTSBcdDogcmV0dXJuIDk7XG5cdFx0ICAgIGNhc2UgTW9kZS5NT0RFXzhCSVRfQllURVx0OiByZXR1cm4gODtcblx0XHQgICAgY2FzZSBNb2RlLk1PREVfS0FOSkkgIFx0OiByZXR1cm4gODtcblx0XHQgICAgZGVmYXVsdCA6XG5cdFx0XHQgICAgdGhyb3cgbmV3IEVycm9yKFwibW9kZTpcIiArIG1vZGUpO1xuXHRcdCAgICB9XG5cblx0ICAgIH0gZWxzZSBpZiAodHlwZSA8IDI3KSB7XG5cblx0XHQgICAgLy8gMTAgLSAyNlxuXG5cdFx0ICAgIHN3aXRjaChtb2RlKSB7XG5cdFx0ICAgIGNhc2UgTW9kZS5NT0RFX05VTUJFUiBcdDogcmV0dXJuIDEyO1xuXHRcdCAgICBjYXNlIE1vZGUuTU9ERV9BTFBIQV9OVU0gXHQ6IHJldHVybiAxMTtcblx0XHQgICAgY2FzZSBNb2RlLk1PREVfOEJJVF9CWVRFXHQ6IHJldHVybiAxNjtcblx0XHQgICAgY2FzZSBNb2RlLk1PREVfS0FOSkkgIFx0OiByZXR1cm4gMTA7XG5cdFx0ICAgIGRlZmF1bHQgOlxuXHRcdFx0ICAgIHRocm93IG5ldyBFcnJvcihcIm1vZGU6XCIgKyBtb2RlKTtcblx0XHQgICAgfVxuXG5cdCAgICB9IGVsc2UgaWYgKHR5cGUgPCA0MSkge1xuXG5cdFx0ICAgIC8vIDI3IC0gNDBcblxuXHRcdCAgICBzd2l0Y2gobW9kZSkge1xuXHRcdCAgICBjYXNlIE1vZGUuTU9ERV9OVU1CRVIgXHQ6IHJldHVybiAxNDtcblx0XHQgICAgY2FzZSBNb2RlLk1PREVfQUxQSEFfTlVNXHQ6IHJldHVybiAxMztcblx0XHQgICAgY2FzZSBNb2RlLk1PREVfOEJJVF9CWVRFXHQ6IHJldHVybiAxNjtcblx0XHQgICAgY2FzZSBNb2RlLk1PREVfS0FOSkkgIFx0OiByZXR1cm4gMTI7XG5cdFx0ICAgIGRlZmF1bHQgOlxuXHRcdFx0ICAgIHRocm93IG5ldyBFcnJvcihcIm1vZGU6XCIgKyBtb2RlKTtcblx0XHQgICAgfVxuXG5cdCAgICB9IGVsc2Uge1xuXHRcdCAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0eXBlOlwiICsgdHlwZSk7XG5cdCAgICB9XG4gICAgfSxcblxuICAgIGdldExvc3RQb2ludCA6IGZ1bmN0aW9uKHFyQ29kZSkge1xuXHQgICAgXG5cdCAgICB2YXIgbW9kdWxlQ291bnQgPSBxckNvZGUuZ2V0TW9kdWxlQ291bnQoKTtcblx0ICAgIFxuXHQgICAgdmFyIGxvc3RQb2ludCA9IDA7XG5cdCAgICBcblx0ICAgIC8vIExFVkVMMVxuXHQgICAgXG5cdCAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBtb2R1bGVDb3VudDsgcm93KyspIHtcblxuXHRcdCAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBtb2R1bGVDb3VudDsgY29sKyspIHtcblxuXHRcdFx0ICAgIHZhciBzYW1lQ291bnQgPSAwO1xuXHRcdFx0ICAgIHZhciBkYXJrID0gcXJDb2RlLmlzRGFyayhyb3csIGNvbCk7XG5cblx0XHRcdFx0Zm9yICh2YXIgciA9IC0xOyByIDw9IDE7IHIrKykge1xuXG5cdFx0XHRcdCAgICBpZiAocm93ICsgciA8IDAgfHwgbW9kdWxlQ291bnQgPD0gcm93ICsgcikge1xuXHRcdFx0XHRcdCAgICBjb250aW51ZTtcblx0XHRcdFx0ICAgIH1cblxuXHRcdFx0XHQgICAgZm9yICh2YXIgYyA9IC0xOyBjIDw9IDE7IGMrKykge1xuXG5cdFx0XHRcdFx0ICAgIGlmIChjb2wgKyBjIDwgMCB8fCBtb2R1bGVDb3VudCA8PSBjb2wgKyBjKSB7XG5cdFx0XHRcdFx0XHQgICAgY29udGludWU7XG5cdFx0XHRcdFx0ICAgIH1cblxuXHRcdFx0XHRcdCAgICBpZiAociA9PSAwICYmIGMgPT0gMCkge1xuXHRcdFx0XHRcdFx0ICAgIGNvbnRpbnVlO1xuXHRcdFx0XHRcdCAgICB9XG5cblx0XHRcdFx0XHQgICAgaWYgKGRhcmsgPT0gcXJDb2RlLmlzRGFyayhyb3cgKyByLCBjb2wgKyBjKSApIHtcblx0XHRcdFx0XHRcdCAgICBzYW1lQ291bnQrKztcblx0XHRcdFx0XHQgICAgfVxuXHRcdFx0XHQgICAgfVxuXHRcdFx0ICAgIH1cblxuXHRcdFx0ICAgIGlmIChzYW1lQ291bnQgPiA1KSB7XG5cdFx0XHRcdCAgICBsb3N0UG9pbnQgKz0gKDMgKyBzYW1lQ291bnQgLSA1KTtcblx0XHRcdCAgICB9XG5cdFx0ICAgIH1cblx0ICAgIH1cblxuXHQgICAgLy8gTEVWRUwyXG5cblx0ICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IG1vZHVsZUNvdW50IC0gMTsgcm93KyspIHtcblx0XHQgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgbW9kdWxlQ291bnQgLSAxOyBjb2wrKykge1xuXHRcdFx0ICAgIHZhciBjb3VudCA9IDA7XG5cdFx0XHQgICAgaWYgKHFyQ29kZS5pc0Rhcmsocm93LCAgICAgY29sICAgICkgKSBjb3VudCsrO1xuXHRcdFx0ICAgIGlmIChxckNvZGUuaXNEYXJrKHJvdyArIDEsIGNvbCAgICApICkgY291bnQrKztcblx0XHRcdCAgICBpZiAocXJDb2RlLmlzRGFyayhyb3csICAgICBjb2wgKyAxKSApIGNvdW50Kys7XG5cdFx0XHQgICAgaWYgKHFyQ29kZS5pc0Rhcmsocm93ICsgMSwgY29sICsgMSkgKSBjb3VudCsrO1xuXHRcdFx0ICAgIGlmIChjb3VudCA9PSAwIHx8IGNvdW50ID09IDQpIHtcblx0XHRcdFx0ICAgIGxvc3RQb2ludCArPSAzO1xuXHRcdFx0ICAgIH1cblx0XHQgICAgfVxuXHQgICAgfVxuXG5cdCAgICAvLyBMRVZFTDNcblxuXHQgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgbW9kdWxlQ291bnQ7IHJvdysrKSB7XG5cdFx0ICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG1vZHVsZUNvdW50IC0gNjsgY29sKyspIHtcblx0XHRcdCAgICBpZiAocXJDb2RlLmlzRGFyayhyb3csIGNvbClcblx0XHRcdFx0XHQgICAgJiYgIXFyQ29kZS5pc0Rhcmsocm93LCBjb2wgKyAxKVxuXHRcdFx0XHRcdCAgICAmJiAgcXJDb2RlLmlzRGFyayhyb3csIGNvbCArIDIpXG5cdFx0XHRcdFx0ICAgICYmICBxckNvZGUuaXNEYXJrKHJvdywgY29sICsgMylcblx0XHRcdFx0XHQgICAgJiYgIHFyQ29kZS5pc0Rhcmsocm93LCBjb2wgKyA0KVxuXHRcdFx0XHRcdCAgICAmJiAhcXJDb2RlLmlzRGFyayhyb3csIGNvbCArIDUpXG5cdFx0XHRcdFx0ICAgICYmICBxckNvZGUuaXNEYXJrKHJvdywgY29sICsgNikgKSB7XG5cdFx0XHRcdCAgICBsb3N0UG9pbnQgKz0gNDA7XG5cdFx0XHQgICAgfVxuXHRcdCAgICB9XG5cdCAgICB9XG5cblx0ICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG1vZHVsZUNvdW50OyBjb2wrKykge1xuXHRcdCAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBtb2R1bGVDb3VudCAtIDY7IHJvdysrKSB7XG5cdFx0XHQgICAgaWYgKHFyQ29kZS5pc0Rhcmsocm93LCBjb2wpXG5cdFx0XHRcdFx0ICAgICYmICFxckNvZGUuaXNEYXJrKHJvdyArIDEsIGNvbClcblx0XHRcdFx0XHQgICAgJiYgIHFyQ29kZS5pc0Rhcmsocm93ICsgMiwgY29sKVxuXHRcdFx0XHRcdCAgICAmJiAgcXJDb2RlLmlzRGFyayhyb3cgKyAzLCBjb2wpXG5cdFx0XHRcdFx0ICAgICYmICBxckNvZGUuaXNEYXJrKHJvdyArIDQsIGNvbClcblx0XHRcdFx0XHQgICAgJiYgIXFyQ29kZS5pc0Rhcmsocm93ICsgNSwgY29sKVxuXHRcdFx0XHRcdCAgICAmJiAgcXJDb2RlLmlzRGFyayhyb3cgKyA2LCBjb2wpICkge1xuXHRcdFx0XHQgICAgbG9zdFBvaW50ICs9IDQwO1xuXHRcdFx0ICAgIH1cblx0XHQgICAgfVxuXHQgICAgfVxuXG5cdCAgICAvLyBMRVZFTDRcblx0ICAgIFxuXHQgICAgdmFyIGRhcmtDb3VudCA9IDA7XG5cblx0ICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG1vZHVsZUNvdW50OyBjb2wrKykge1xuXHRcdCAgICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCBtb2R1bGVDb3VudDsgcm93KyspIHtcblx0XHRcdCAgICBpZiAocXJDb2RlLmlzRGFyayhyb3csIGNvbCkgKSB7XG5cdFx0XHRcdCAgICBkYXJrQ291bnQrKztcblx0XHRcdCAgICB9XG5cdFx0ICAgIH1cblx0ICAgIH1cblx0ICAgIFxuXHQgICAgdmFyIHJhdGlvID0gTWF0aC5hYnMoMTAwICogZGFya0NvdW50IC8gbW9kdWxlQ291bnQgLyBtb2R1bGVDb3VudCAtIDUwKSAvIDU7XG5cdCAgICBsb3N0UG9pbnQgKz0gcmF0aW8gKiAxMDtcblxuXHQgICAgcmV0dXJuIGxvc3RQb2ludDtcdFx0XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBRUlV0aWw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7IC8vIHFyLmpzIGRvZXNuJ3QgaGFuZGxlIGVycm9yIGxldmVsIG9mIHplcm8gKE0pIHNvIHdlIG5lZWQgdG8gZG8gaXQgcmlnaHQsXG4vLyB0aHVzIHRoZSBkZWVwIHJlcXVpcmUuXG5cblxudmFyIFFSQ29kZUltcGwgPSByZXF1aXJlKCdxci5qcy9saWIvUVJDb2RlJyk7XG5cbnZhciBFcnJvckNvcnJlY3RMZXZlbCA9IHJlcXVpcmUoJ3FyLmpzL2xpYi9FcnJvckNvcnJlY3RMZXZlbCcpOyAvLyBDb252ZXJ0IGZyb20gVVRGLTE2LCBmb3JjaW5nIHRoZSB1c2Ugb2YgYnl0ZS1tb2RlIGVuY29kaW5nIGluIG91ciBRUiBDb2RlLlxuLy8gVGhpcyBhbGxvd3MgdXMgdG8gZW5jb2RlIEhhbmppLCBLYW5qaSwgZW1vamksIGV0Yy4gSWRlYWxseSB3ZSdkIGRvIG1vcmVcbi8vIGRldGVjdGlvbiBhbmQgbm90IHJlc29ydCB0byBieXRlLW1vZGUgaWYgcG9zc2libGUsIGJ1dCB3ZSdyZSB0cmFkaW5nIG9mZlxuLy8gYSBzbWFsbGVyIGxpYnJhcnkgZm9yIGEgc21hbGxlciBhbW91bnQgb2YgZGF0YSB3ZSBjYW4gcG90ZW50aWFsbHkgZW5jb2RlLlxuLy8gQmFzZWQgb24gaHR0cDovL2pvbmlzYWxvbmVuLmNvbS8yMDEyL2Zyb20tdXRmLTE2LXRvLXV0Zi04LWluLWphdmFzY3JpcHQvXG5cblxuZnVuY3Rpb24gY29udmVydFN0cihzdHIpIHtcbiAgdmFyIG91dCA9ICcnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNoYXJjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cbiAgICBpZiAoY2hhcmNvZGUgPCAweDAwODApIHtcbiAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJjb2RlKTtcbiAgICB9IGVsc2UgaWYgKGNoYXJjb2RlIDwgMHgwODAwKSB7XG4gICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweGMwIHwgY2hhcmNvZGUgPj4gNik7XG4gICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweDgwIHwgY2hhcmNvZGUgJiAweDNmKTtcbiAgICB9IGVsc2UgaWYgKGNoYXJjb2RlIDwgMHhkODAwIHx8IGNoYXJjb2RlID49IDB4ZTAwMCkge1xuICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhlMCB8IGNoYXJjb2RlID4+IDEyKTtcbiAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ODAgfCBjaGFyY29kZSA+PiA2ICYgMHgzZik7XG4gICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweDgwIHwgY2hhcmNvZGUgJiAweDNmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBpcyBhIHN1cnJvZ2F0ZSBwYWlyLCBzbyB3ZSdsbCByZWNvbnNpdHV0ZSB0aGUgcGllY2VzIGFuZCB3b3JrXG4gICAgICAvLyBmcm9tIHRoYXRcbiAgICAgIGkrKztcbiAgICAgIGNoYXJjb2RlID0gMHgxMDAwMCArICgoY2hhcmNvZGUgJiAweDNmZikgPDwgMTAgfCBzdHIuY2hhckNvZGVBdChpKSAmIDB4M2ZmKTtcbiAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZjAgfCBjaGFyY29kZSA+PiAxOCk7XG4gICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweDgwIHwgY2hhcmNvZGUgPj4gMTIgJiAweDNmKTtcbiAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ODAgfCBjaGFyY29kZSA+PiA2ICYgMHgzZik7XG4gICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgweDgwIHwgY2hhcmNvZGUgJiAweDNmKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuXG52YXIgREVGQVVMVF9QUk9QUyA9IHtcbiAgc2l6ZTogMTI4LFxuICBsZXZlbDogJ0wnLFxuICBiZ0NvbG9yOiAnI0ZGRkZGRicsXG4gIGZnQ29sb3I6ICcjMDAwMDAwJyxcbiAgaW5jbHVkZU1hcmdpbjogZmFsc2Vcbn07XG52YXIgUFJPUF9UWVBFUyA9IHtcbiAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgc2l6ZTogUHJvcFR5cGVzLm51bWJlcixcbiAgbGV2ZWw6IFByb3BUeXBlcy5vbmVPZihbJ0wnLCAnTScsICdRJywgJ0gnXSksXG4gIGJnQ29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGZnQ29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGluY2x1ZGVNYXJnaW46IFByb3BUeXBlcy5ib29sXG59O1xudmFyIE1BUkdJTl9TSVpFID0gNDtcblxuZnVuY3Rpb24gZ2VuZXJhdGVQYXRoKG1vZHVsZXMpIHtcbiAgdmFyIG1hcmdpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgdmFyIG9wcyA9IFtdO1xuICBtb2R1bGVzLmZvckVhY2goZnVuY3Rpb24gKHJvdywgeSkge1xuICAgIHZhciBzdGFydCA9IG51bGw7XG4gICAgcm93LmZvckVhY2goZnVuY3Rpb24gKGNlbGwsIHgpIHtcbiAgICAgIGlmICghY2VsbCAmJiBzdGFydCAhPT0gbnVsbCkge1xuICAgICAgICAvLyBNMCAwaDd2MUgweiBpbmplY3RzIHRoZSBzcGFjZSB3aXRoIHRoZSBtb3ZlIGFuZCBkcm9wcyB0aGUgY29tbWEsXG4gICAgICAgIC8vIHNhdmluZyBhIGNoYXIgcGVyIG9wZXJhdGlvblxuICAgICAgICBvcHMucHVzaChcIk1cIi5jb25jYXQoc3RhcnQgKyBtYXJnaW4sIFwiIFwiKS5jb25jYXQoeSArIG1hcmdpbiwgXCJoXCIpLmNvbmNhdCh4IC0gc3RhcnQsIFwidjFIXCIpLmNvbmNhdChzdGFydCArIG1hcmdpbiwgXCJ6XCIpKTtcbiAgICAgICAgc3RhcnQgPSBudWxsO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGVuZCBvZiByb3csIGNsZWFuIHVwIG9yIHNraXBcblxuXG4gICAgICBpZiAoeCA9PT0gcm93Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgaWYgKCFjZWxsKSB7XG4gICAgICAgICAgLy8gV2Ugd291bGQgaGF2ZSBjbG9zZWQgdGhlIG9wIGFib3ZlIGFscmVhZHkgc28gdGhpcyBjYW4gb25seSBtZWFuXG4gICAgICAgICAgLy8gMisgbGlnaHQgbW9kdWxlcyBpbiBhIHJvdy5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhcnQgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBKdXN0IGEgc2luZ2xlIGRhcmsgbW9kdWxlLlxuICAgICAgICAgIG9wcy5wdXNoKFwiTVwiLmNvbmNhdCh4ICsgbWFyZ2luLCBcIixcIikuY29uY2F0KHkgKyBtYXJnaW4sIFwiIGgxdjFIXCIpLmNvbmNhdCh4ICsgbWFyZ2luLCBcInpcIikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE90aGVyd2lzZSBmaW5pc2ggdGhlIGN1cnJlbnQgbGluZS5cbiAgICAgICAgICBvcHMucHVzaChcIk1cIi5jb25jYXQoc3RhcnQgKyBtYXJnaW4sIFwiLFwiKS5jb25jYXQoeSArIG1hcmdpbiwgXCIgaFwiKS5jb25jYXQoeCArIDEgLSBzdGFydCwgXCJ2MUhcIikuY29uY2F0KHN0YXJ0ICsgbWFyZ2luLCBcInpcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2VsbCAmJiBzdGFydCA9PT0gbnVsbCkge1xuICAgICAgICBzdGFydCA9IHg7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gb3BzLmpvaW4oJycpO1xufSAvLyBGb3IgY2FudmFzIHdlJ3JlIGdvaW5nIHRvIHN3aXRjaCBvdXIgZHJhd2luZyBtb2RlIGJhc2VkIG9uIHdoZXRoZXIgb3Igbm90XG4vLyB0aGUgZW52aXJvbm1lbnQgc3VwcG9ydHMgUGF0aDJELiBXZSBvbmx5IG5lZWQgdGhlIGNvbnN0cnVjdG9yIHRvIGJlXG4vLyBzdXBwb3J0ZWQuXG5cblxudmFyIFNVUFBPUlRTX1BBVEgyRCA9IHR5cGVvZiBQYXRoMkQgPT09ICdmdW5jdGlvbic7XG5cbnZhciBRUkNvZGVDYW52YXMgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhRUkNvZGVDYW52YXMsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBRUkNvZGVDYW52YXMoKSB7XG4gICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7XG5cbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUVJDb2RlQ2FudmFzKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKFFSQ29kZUNhbnZhcykpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLCBcIl9jYW52YXNcIiwgdm9pZCAwKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhRUkNvZGVDYW52YXMsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHZhbHVlID0gX3RoaXMkcHJvcHMudmFsdWUsXG4gICAgICAgICAgc2l6ZSA9IF90aGlzJHByb3BzLnNpemUsXG4gICAgICAgICAgbGV2ZWwgPSBfdGhpcyRwcm9wcy5sZXZlbCxcbiAgICAgICAgICBiZ0NvbG9yID0gX3RoaXMkcHJvcHMuYmdDb2xvcixcbiAgICAgICAgICBmZ0NvbG9yID0gX3RoaXMkcHJvcHMuZmdDb2xvcixcbiAgICAgICAgICBpbmNsdWRlTWFyZ2luID0gX3RoaXMkcHJvcHMuaW5jbHVkZU1hcmdpbjsgLy8gV2UnbGwgdXNlIHR5cGU9PT0tMSB0byBmb3JjZSBRUkNvZGUgdG8gYXV0b21hdGljYWxseSBwaWNrIHRoZSBiZXN0IHR5cGVcblxuICAgICAgdmFyIHFyY29kZSA9IG5ldyBRUkNvZGVJbXBsKC0xLCBFcnJvckNvcnJlY3RMZXZlbFtsZXZlbF0pO1xuICAgICAgcXJjb2RlLmFkZERhdGEoY29udmVydFN0cih2YWx1ZSkpO1xuICAgICAgcXJjb2RlLm1ha2UoKTtcblxuICAgICAgaWYgKHRoaXMuX2NhbnZhcyAhPSBudWxsKSB7XG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXM7XG4gICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICBpZiAoIWN0eCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjZWxscyA9IHFyY29kZS5tb2R1bGVzO1xuXG4gICAgICAgIGlmIChjZWxscyA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYXJnaW4gPSBpbmNsdWRlTWFyZ2luID8gTUFSR0lOX1NJWkUgOiAwO1xuICAgICAgICB2YXIgbnVtQ2VsbHMgPSBjZWxscy5sZW5ndGggKyBtYXJnaW4gKiAyOyAvLyBXZSdyZSBnb2luZyB0byBzY2FsZSB0aGlzIHNvIHRoYXQgdGhlIG51bWJlciBvZiBkcmF3YWJsZSB1bml0c1xuICAgICAgICAvLyBtYXRjaGVzIHRoZSBudW1iZXIgb2YgY2VsbHMuIFRoaXMgYXZvaWRzIHJvdW5kaW5nIGlzc3VlcywgYnV0IGRvZXNcbiAgICAgICAgLy8gcmVzdWx0IGluIHNvbWUgcG90ZW50aWFsbHkgdW53YW50ZWQgc2luZ2xlIHBpeGVsIGlzc3VlcyBiZXR3ZWVuXG4gICAgICAgIC8vIGJsb2Nrcywgb25seSBpbiBlbnZpcm9ubWVudHMgdGhhdCBkb24ndCBzdXBwb3J0IFBhdGgyRC5cblxuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXMud2lkdGggPSBzaXplICogcGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIHNjYWxlID0gc2l6ZSAvIG51bUNlbGxzICogcGl4ZWxSYXRpbztcbiAgICAgICAgY3R4LnNjYWxlKHNjYWxlLCBzY2FsZSk7IC8vIERyYXcgc29saWQgYmFja2dyb3VuZCwgb25seSBwYWludCBkYXJrIG1vZHVsZXMuXG5cbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGJnQ29sb3I7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBudW1DZWxscywgbnVtQ2VsbHMpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gZmdDb2xvcjtcblxuICAgICAgICBpZiAoU1VQUE9SVFNfUEFUSDJEKSB7XG4gICAgICAgICAgLy8gJEZsb3dGaXhNZTogUGF0aDJEIGMndG9yIGRvZXNuJ3Qgc3VwcG9ydCBhcmdzIHlldC5cbiAgICAgICAgICBjdHguZmlsbChuZXcgUGF0aDJEKGdlbmVyYXRlUGF0aChjZWxscywgbWFyZ2luKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNlbGxzLmZvckVhY2goZnVuY3Rpb24gKHJvdywgcmR4KSB7XG4gICAgICAgICAgICByb3cuZm9yRWFjaChmdW5jdGlvbiAoY2VsbCwgY2R4KSB7XG4gICAgICAgICAgICAgIGlmIChjZWxsKSB7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGNkeCArIG1hcmdpbiwgcmR4ICsgbWFyZ2luLCAxLCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICB2YWx1ZSA9IF90aGlzJHByb3BzMi52YWx1ZSxcbiAgICAgICAgICBzaXplID0gX3RoaXMkcHJvcHMyLnNpemUsXG4gICAgICAgICAgbGV2ZWwgPSBfdGhpcyRwcm9wczIubGV2ZWwsXG4gICAgICAgICAgYmdDb2xvciA9IF90aGlzJHByb3BzMi5iZ0NvbG9yLFxuICAgICAgICAgIGZnQ29sb3IgPSBfdGhpcyRwcm9wczIuZmdDb2xvcixcbiAgICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzMi5zdHlsZSxcbiAgICAgICAgICBpbmNsdWRlTWFyZ2luID0gX3RoaXMkcHJvcHMyLmluY2x1ZGVNYXJnaW4sXG4gICAgICAgICAgb3RoZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfdGhpcyRwcm9wczIsIFtcInZhbHVlXCIsIFwic2l6ZVwiLCBcImxldmVsXCIsIFwiYmdDb2xvclwiLCBcImZnQ29sb3JcIiwgXCJzdHlsZVwiLCBcImluY2x1ZGVNYXJnaW5cIl0pO1xuXG4gICAgICB2YXIgY2FudmFzU3R5bGUgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgICB3aWR0aDogc2l6ZVxuICAgICAgfSwgc3R5bGUpO1xuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiLCBfZXh0ZW5kcyh7XG4gICAgICAgIHN0eWxlOiBjYW52YXNTdHlsZSxcbiAgICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgICB3aWR0aDogc2l6ZSxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuX2NhbnZhcyA9IF9yZWY7XG4gICAgICAgIH1cbiAgICAgIH0sIG90aGVyUHJvcHMpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUVJDb2RlQ2FudmFzO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KFFSQ29kZUNhbnZhcywgXCJkZWZhdWx0UHJvcHNcIiwgREVGQVVMVF9QUk9QUyk7XG5cbl9kZWZpbmVQcm9wZXJ0eShRUkNvZGVDYW52YXMsIFwicHJvcFR5cGVzXCIsIFBST1BfVFlQRVMpO1xuXG52YXIgUVJDb2RlU1ZHID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudDIpIHtcbiAgX2luaGVyaXRzKFFSQ29kZVNWRywgX1JlYWN0JFB1cmVDb21wb25lbnQyKTtcblxuICBmdW5jdGlvbiBRUkNvZGVTVkcoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFFSQ29kZVNWRyk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFFSQ29kZVNWRykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUVJDb2RlU1ZHLCBbe1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdmFsdWUgPSBfdGhpcyRwcm9wczMudmFsdWUsXG4gICAgICAgICAgc2l6ZSA9IF90aGlzJHByb3BzMy5zaXplLFxuICAgICAgICAgIGxldmVsID0gX3RoaXMkcHJvcHMzLmxldmVsLFxuICAgICAgICAgIGJnQ29sb3IgPSBfdGhpcyRwcm9wczMuYmdDb2xvcixcbiAgICAgICAgICBmZ0NvbG9yID0gX3RoaXMkcHJvcHMzLmZnQ29sb3IsXG4gICAgICAgICAgaW5jbHVkZU1hcmdpbiA9IF90aGlzJHByb3BzMy5pbmNsdWRlTWFyZ2luLFxuICAgICAgICAgIG90aGVyUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3RoaXMkcHJvcHMzLCBbXCJ2YWx1ZVwiLCBcInNpemVcIiwgXCJsZXZlbFwiLCBcImJnQ29sb3JcIiwgXCJmZ0NvbG9yXCIsIFwiaW5jbHVkZU1hcmdpblwiXSk7IC8vIFdlJ2xsIHVzZSB0eXBlPT09LTEgdG8gZm9yY2UgUVJDb2RlIHRvIGF1dG9tYXRpY2FsbHkgcGljayB0aGUgYmVzdCB0eXBlXG5cblxuICAgICAgdmFyIHFyY29kZSA9IG5ldyBRUkNvZGVJbXBsKC0xLCBFcnJvckNvcnJlY3RMZXZlbFtsZXZlbF0pO1xuICAgICAgcXJjb2RlLmFkZERhdGEoY29udmVydFN0cih2YWx1ZSkpO1xuICAgICAgcXJjb2RlLm1ha2UoKTtcbiAgICAgIHZhciBjZWxscyA9IHFyY29kZS5tb2R1bGVzO1xuXG4gICAgICBpZiAoY2VsbHMgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBtYXJnaW4gPSBpbmNsdWRlTWFyZ2luID8gTUFSR0lOX1NJWkUgOiAwOyAvLyBEcmF3aW5nIHN0cmF0ZWd5OiBpbnN0ZWFkIG9mIGEgcmVjdCBwZXIgbW9kdWxlLCB3ZSdyZSBnb2luZyB0byBjcmVhdGUgYVxuICAgICAgLy8gc2luZ2xlIHBhdGggZm9yIHRoZSBkYXJrIG1vZHVsZXMgYW5kIGxheWVyIHRoYXQgb24gdG9wIG9mIGEgbGlnaHQgcmVjdCxcbiAgICAgIC8vIGZvciBhIHRvdGFsIG9mIDIgRE9NIG5vZGVzLiBXZSBwYXkgYSBiaXQgbW9yZSBpbiBzdHJpbmcgY29uY2F0IGJ1dCB0aGF0J3NcbiAgICAgIC8vIHdheSBmYXN0ZXIgdGhhbiBET00gb3BzLlxuICAgICAgLy8gRm9yIGxldmVsIDEsIDQ0MSBub2RlcyAtPiAyXG4gICAgICAvLyBGb3IgbGV2ZWwgNDAsIDMxMzI5IC0+IDJcblxuICAgICAgdmFyIGZnUGF0aCA9IGdlbmVyYXRlUGF0aChjZWxscywgbWFyZ2luKTtcbiAgICAgIHZhciBudW1DZWxscyA9IGNlbGxzLmxlbmd0aCArIG1hcmdpbiAqIDI7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyh7XG4gICAgICAgIHNoYXBlUmVuZGVyaW5nOiBcImNyaXNwRWRnZXNcIixcbiAgICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgICB3aWR0aDogc2l6ZSxcbiAgICAgICAgdmlld0JveDogXCIwIDAgXCIuY29uY2F0KG51bUNlbGxzLCBcIiBcIikuY29uY2F0KG51bUNlbGxzKVxuICAgICAgfSwgb3RoZXJQcm9wcyksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogYmdDb2xvcixcbiAgICAgICAgZDogXCJNMCwwIGhcIi5jb25jYXQobnVtQ2VsbHMsIFwidlwiKS5jb25jYXQobnVtQ2VsbHMsIFwiSDB6XCIpXG4gICAgICB9KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBmZ0NvbG9yLFxuICAgICAgICBkOiBmZ1BhdGhcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUVJDb2RlU1ZHO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuX2RlZmluZVByb3BlcnR5KFFSQ29kZVNWRywgXCJkZWZhdWx0UHJvcHNcIiwgREVGQVVMVF9QUk9QUyk7XG5cbl9kZWZpbmVQcm9wZXJ0eShRUkNvZGVTVkcsIFwicHJvcFR5cGVzXCIsIFBST1BfVFlQRVMpO1xuXG52YXIgUVJDb2RlID0gZnVuY3Rpb24gUVJDb2RlKHByb3BzKSB7XG4gIHZhciByZW5kZXJBcyA9IHByb3BzLnJlbmRlckFzLFxuICAgICAgb3RoZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wicmVuZGVyQXNcIl0pO1xuXG4gIHZhciBDb21wb25lbnQgPSByZW5kZXJBcyA9PT0gJ3N2ZycgPyBRUkNvZGVTVkcgOiBRUkNvZGVDYW52YXM7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgb3RoZXJQcm9wcyk7XG59O1xuXG5RUkNvZGUuZGVmYXVsdFByb3BzID0gX29iamVjdFNwcmVhZCh7XG4gIHJlbmRlckFzOiAnY2FudmFzJ1xufSwgREVGQVVMVF9QUk9QUyk7XG5tb2R1bGUuZXhwb3J0cyA9IFFSQ29kZTsiLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuY29uc3QgQUdSRUVNRU5UX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIHRhcmdldD1cIl9ibGFua1wiPiUoYWdyZWVtZW50KXM8L2E+J1xuXG5jb25zdCBSZWdpc3RlckxlZ2FsRm9vdG5vdGUgPSAocHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIGVycm9ycyxcbiAgICBwcml2YWN5UG9saWN5LFxuICAgIHRlcm1zT2ZTZXJ2aWNlLFxuICAgIG9uUHJpdmFjeVBvbGljeUNoYW5nZSxcbiAgICBvblRlcm1zT2ZTZXJ2aWNlQ2hhbmdlXG4gIH0gPSBwcm9wcztcbiAgXG4gIGNvbnN0IHRlcm1zT2ZTZXJ2aWNlSWQgPSBtaXNhZ28uZ2V0KCdURVJNU19PRl9TRVJWSUNFX0lEJyk7XG4gIGNvbnN0IHRlcm1zT2ZTZXJ2aWNlVXJsID0gbWlzYWdvLmdldCgnVEVSTVNfT0ZfU0VSVklDRV9VUkwnKTtcblxuICBjb25zdCBwcml2YWN5UG9saWN5SWQgPSBtaXNhZ28uZ2V0KCdQUklWQUNZX1BPTElDWV9JRCcpO1xuICBjb25zdCBwcml2YWN5UG9saWN5VXJsID0gbWlzYWdvLmdldCgnUFJJVkFDWV9QT0xJQ1lfVVJMJyk7XG5cbiAgaWYgKCF0ZXJtc09mU2VydmljZUlkICYmICFwcml2YWN5UG9saWN5SWQpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxMZWdhbEFncmVlbWVudFxuICAgICAgICBhZ3JlZW1lbnQ9e2dldHRleHQoXCJ0aGUgdGVybXMgb2Ygc2VydmljZVwiKX1cbiAgICAgICAgY2hlY2tlZD17dGVybXNPZlNlcnZpY2UgIT09IG51bGx9XG4gICAgICAgIGVycm9ycz17ZXJyb3JzLnRlcm1zT2ZTZXJ2aWNlfVxuICAgICAgICB1cmw9e3Rlcm1zT2ZTZXJ2aWNlVXJsfVxuICAgICAgICB2YWx1ZT17dGVybXNPZlNlcnZpY2VJZH1cbiAgICAgICAgb25DaGFuZ2U9e29uVGVybXNPZlNlcnZpY2VDaGFuZ2V9XG4gICAgICAvPlxuICAgICAgPExlZ2FsQWdyZWVtZW50XG4gICAgICAgIGFncmVlbWVudD17Z2V0dGV4dChcInRoZSBwcml2YWN5IHBvbGljeVwiKX1cbiAgICAgICAgY2hlY2tlZD17cHJpdmFjeVBvbGljeSAhPT0gbnVsbH1cbiAgICAgICAgZXJyb3JzPXtlcnJvcnMucHJpdmFjeVBvbGljeX1cbiAgICAgICAgdXJsPXtwcml2YWN5UG9saWN5VXJsfVxuICAgICAgICB2YWx1ZT17cHJpdmFjeVBvbGljeUlkfVxuICAgICAgICBvbkNoYW5nZT17b25Qcml2YWN5UG9saWN5Q2hhbmdlfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuY29uc3QgTGVnYWxBZ3JlZW1lbnQgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBhZ3JlZW1lbnQsIGNoZWNrZWQsIGVycm9ycywgdXJsLCB2YWx1ZSwgb25DaGFuZ2UgfSA9IHByb3BzO1xuXG4gIGlmICghdXJsKSByZXR1cm47XG5cbiAgY29uc3QgYWdyZWVtZW50SHRtbCA9IGludGVycG9sYXRlKFxuICAgIEFHUkVFTUVOVF9VUkwsXG4gICAgeyBhZ3JlZW1lbnQ6IGVzY2FwZUh0bWwoYWdyZWVtZW50KSwgdXJsOiBlc2NhcGVIdG1sKHVybCkgfSxcbiAgICB0cnVlXG4gIClcbiAgY29uc3QgbGFiZWwgPSBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJJIGhhdmUgcmVhZCBhbmQgYWNjZXB0ICUoYWdyZWVtZW50KXMuXCIpLFxuICAgICAgeyBhZ3JlZW1lbnQ6IGFncmVlbWVudEh0bWwgfSxcbiAgICAgIHRydWVcbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2tib3ggbGVnYWwtZm9vdG5vdGVcIj5cbiAgICAgIDxsYWJlbD5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgY2hlY2tlZD17Y2hlY2tlZH1cbiAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBsYWJlbH19XG4gICAgICAgIC8+XG4gICAgICA8L2xhYmVsPlxuICAgICAge2Vycm9ycyAmJiBlcnJvcnMubWFwKChlcnJvciwgaSkgPT4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlbHAtYmxvY2sgZXJyb3JzXCIga2V5PXtpfT5cbiAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZ2lzdGVyTGVnYWxGb290bm90ZTsiLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2FnbydcblxuY29uc3QgU3RhcnRTb2NpYWxBdXRoID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBidXR0b25DbGFzc05hbWUsXG4gICAgYnV0dG9uTGFiZWwsXG4gICAgZm9ybUxhYmVsLFxuICAgIGhlYWRlcixcbiAgICBsYWJlbENsYXNzTmFtZSxcbiAgfSA9IHByb3BzO1xuICBjb25zdCBzb2NpYWxBdXRoID0gbWlzYWdvLmdldCgnU0VUVElOR1MnKS5TT0NJQUxfQVVUSDtcblxuICBpZiAoc29jaWFsQXV0aC5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwIGZvcm0tc29jaWFsLWF1dGhcIj5cbiAgICAgIDxGb3JtSGVhZGVyIGNsYXNzTmFtZT17bGFiZWxDbGFzc05hbWV9IHRleHQ9e2hlYWRlcn0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHtzb2NpYWxBdXRoLm1hcCgoeyBpZCwgbmFtZSwgdXJsIH0pID0+IHtcbiAgICAgICAgICBjb25zdCBjbGFzc05hbWUgPSAnYnRuIGJ0bi1ibG9jayBidG4tZGVmYXVsdCBidG4tc29jaWFsLScgKyBpZDtcbiAgICAgICAgICBjb25zdCBmaW5hbEJ1dHRvbkxhYmVsID0gaW50ZXJwb2xhdGUoYnV0dG9uTGFiZWwsIHsgc2l0ZTogbmFtZSB9LCB0cnVlKTtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YnV0dG9uQ2xhc3NOYW1lIHx8ICdjb2wteHMtMTInfSBrZXk9e2lkfT5cbiAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGhyZWY9e3VybH0+XG4gICAgICAgICAgICAgICAge2ZpbmFsQnV0dG9uTGFiZWx9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgICA8aHIgLz5cbiAgICAgIDxGb3JtSGVhZGVyIGNsYXNzTmFtZT17bGFiZWxDbGFzc05hbWV9IHRleHQ9e2Zvcm1MYWJlbH0gLz5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5jb25zdCBGb3JtSGVhZGVyID0gKHsgY2xhc3NOYW1lLCB0ZXh0IH0pID0+IHtcbiAgaWYgKCF0ZXh0KSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIChcbiAgICA8aDUgY2xhc3NOYW1lPXtjbGFzc05hbWUgfHwgXCJcIn0+e3RleHR9PC9oNT5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU3RhcnRTb2NpYWxBdXRoIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NlcHRBZ3JlZW1lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7IHN1Ym1pdGluZzogZmFsc2UgfTtcbiAgfVxuXG4gIGhhbmRsZURlY2xpbmUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc3VibWl0aW5nKSByZXR1cm47XG5cbiAgICBjb25zdCBjb25maXJtYXRpb24gPSBjb25maXJtKGdldHRleHQoXCJEZWNsaW5pbmcgd2lsbCByZXN1bHQgaW4gaW1tZWRpYXRlIGRlYWN0aXZhdGlvbiBhbmQgZGVsZXRpb24gb2YgeW91ciBhY2NvdW50LiBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZS5cIikpO1xuICAgIGlmICghY29uZmlybWF0aW9uKSByZXR1cm47XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgc3VibWl0aW5nOiB0cnVlIH0pO1xuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMuYXBpLCB7IGFjY2VwdDogZmFsc2UgfSkudGhlbigoKSA9PiB7XG4gICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSlcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlQWNjZXB0ID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLnN1Ym1pdGluZykgcmV0dXJuO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN1Ym1pdGluZzogdHJ1ZSB9KTtcblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLmFwaSwgeyBhY2NlcHQ6IHRydWUgfSkudGhlbigoKSA9PiB7XG4gICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSlcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zdWJtaXRpbmd9XG4gICAgICAgICAgdHlwZT1cImJ1dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZURlY2xpbmV9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRlY2xpbmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5zdWJtaXRpbmd9XG4gICAgICAgICAgdHlwZT1cImJ1dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUFjY2VwdH1cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWNjZXB0IGFuZCBjb250aW51ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGb3JtIGZyb20gJy4vZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnO1xuaW1wb3J0ICogYXMgcGFydGljaXBhbnRzIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wYXJ0aWNpcGFudHMnO1xuaW1wb3J0IHsgdXBkYXRlQWNsIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVzZXJuYW1lOiAnJ1xuICAgIH07XG4gIH1cblxuICBvblVzZXJuYW1lQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgndXNlcm5hbWUnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51c2VybmFtZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgdXNlciBuYW1lLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBhdGNoKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAge29wOiAnYWRkJywgcGF0aDogJ3BhcnRpY2lwYW50cycsIHZhbHVlOiB0aGlzLnN0YXRlLnVzZXJuYW1lfSxcbiAgICAgIHtvcDogJ2FkZCcsIHBhdGg6ICdhY2wnLCB2YWx1ZTogMX1cbiAgICBdKTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUFjbChkYXRhKSk7XG4gICAgc3RvcmUuZGlzcGF0Y2gocGFydGljaXBhbnRzLnJlcGxhY2UoZGF0YS5wYXJ0aWNpcGFudHMpKTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIk5ldyBwYXJ0aWNpcGFudCBoYXMgYmVlbiBhZGRlZCB0byB0aHJlYWQuXCIpKTtcblxuICAgIG1vZGFsLmhpZGUoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtc21cIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxGb3JtR3JvdXAgZm9yPVwiaWRfdXNlcm5hbWVcIiBsYWJlbD17Z2V0dGV4dChcIlVzZXIgdG8gYWRkXCIpfT5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXNlcm5hbWVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQWRkIHBhcnRpY2lwYW50XCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJBZGQgcGFydGljaXBhbnRcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVmcmVzaCgpIHtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gIH1cblxuICBnZXRNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNpZ25lZEluKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCJZb3UgaGF2ZSBzaWduZWQgaW4gYXMgJSh1c2VybmFtZSlzLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBiZWZvcmUgY29udGludWluZy5cIiksXG4gICAgICAgIHt1c2VybmFtZTogdGhpcy5wcm9wcy5zaWduZWRJbi51c2VybmFtZX0sIHRydWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zaWduZWRPdXQpIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91IGhhdmUgYmVlbiBzaWduZWQgb3V0LiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBiZWZvcmUgY29udGludWluZy5cIiksXG4gICAgICAgIHt1c2VybmFtZTogdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBsZXQgY2xhc3NOYW1lID0gJ2F1dGgtbWVzc2FnZSc7XG4gICAgaWYgKHRoaXMucHJvcHMuc2lnbmVkSW4gfHwgdGhpcy5wcm9wcy5zaWduZWRPdXQpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnIHNob3cnO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMuZ2V0TWVzc2FnZSgpfTwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmVmcmVzaH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJSZWxvYWQgcGFnZVwiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICAgICAgICB7JyAnICsgZ2V0dGV4dChcIm9yIHByZXNzIEY1IGtleS5cIil9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdXNlcjogc3RhdGUuYXV0aC51c2VyLFxuICAgIHNpZ25lZEluOiBzdGF0ZS5hdXRoLnNpZ25lZEluLFxuICAgIHNpZ25lZE91dDogc3RhdGUuYXV0aC5zaWduZWRPdXRcbiAgfTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCBzaXplID0gcHJvcHMuc2l6ZSB8fCAxMDA7XG4gIGNvbnN0IHNpemUyeCA9IHByb3BzLnNpemUyeCB8fCBzaXplO1xuXG4gIHJldHVybiAoXG4gICAgPGltZ1xuICAgICAgYWx0PScnXG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCAndXNlci1hdmF0YXInfVxuICAgICAgc3JjPXtnZXRTcmMocHJvcHMudXNlciwgc2l6ZSl9XG4gICAgICBzcmNTZXQ9e2dldFNyYyhwcm9wcy51c2VyLCBzaXplMngpfVxuICAgICAgd2lkdGg9e3NpemV9XG4gICAgICBoZWlnaHQ9e3NpemV9XG4gICAgLz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNyYyh1c2VyLCBzaXplKSB7XG4gIGlmICh1c2VyICYmIHVzZXIuaWQpIHtcbiAgICAvLyBqdXN0IGF2YXRhciBoYXNoLCBzaXplIGFuZCB1c2VyIGlkXG4gICAgcmV0dXJuIHJlc29sdmVBdmF0YXJGb3JTaXplKHVzZXIuYXZhdGFycywgc2l6ZSkudXJsO1xuICB9IGVsc2Uge1xuICAgIC8vIGp1c3QgYXBwZW5kIGF2YXRhciBzaXplIHRvIGZpbGUgdG8gcHJvZHVjZSBuby1hdmF0YXIgcGxhY2Vob2xkZXJcbiAgICByZXR1cm4gbWlzYWdvLmdldCgnQkxBTktfQVZBVEFSX1VSTCcpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXZhdGFyRm9yU2l6ZShhdmF0YXJzLCBzaXplKSB7XG4gIGxldCBhdmF0YXIgPSBhdmF0YXJzWzBdO1xuICBhdmF0YXJzLmZvckVhY2goKGF2KSA9PiB7XG4gICAgaWYgKGF2LnNpemUgPj0gc2l6ZSkge1xuICAgICAgYXZhdGFyID0gYXY7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGF2YXRhcjtcbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFJlYXNvbk1lc3NhZ2UoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnByb3BzLm1lc3NhZ2UuaHRtbCkge1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibGVhZFwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgX19odG1sOiB0aGlzLnByb3BzLm1lc3NhZ2UuaHRtbFxuICAgICAgICB9fSAvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57dGhpcy5wcm9wcy5tZXNzYWdlLnBsYWlufTwvcD47XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRFeHBpcmF0aW9uTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5leHBpcmVzKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5leHBpcmVzLmlzQWZ0ZXIobW9tZW50KCkpKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgb24gJShleHBpcmVzX29uKXMuXCIpLCB7XG4gICAgICAgICAgICAnZXhwaXJlc19vbic6IHRoaXMucHJvcHMuZXhwaXJlcy5mb3JtYXQoJ0xMLCBMVCcpXG4gICAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiVGhpcyBiYW4gZXhwaXJlcyAlKGV4cGlyZXNfb24pcy5cIiksIHtcbiAgICAgICAgICAgICdleHBpcmVzX29uJzogdGhpcy5wcm9wcy5leHBpcmVzLmZyb21Ob3coKVxuICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIHJldHVybiA8YWJiciB0aXRsZT17dGl0bGV9PlxuICAgICAgICAgIHttZXNzYWdlfVxuICAgICAgICA8L2FiYnI+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGJhbiBoYXMgZXhwaXJlZC5cIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBiYW4gaXMgcGVybWFuZW50LlwiKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1lcnJvciBwYWdlLWVycm9yLWJhbm5lZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLXBhbmVsXCI+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmhpZ2hsaWdodF9vZmY8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIHt0aGlzLmdldFJlYXNvbk1lc3NhZ2UoKX1cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1lc3NhZ2UtZm9vdG5vdGVcIj5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSAnYnRuICcgKyB0aGlzLnByb3BzLmNsYXNzTmFtZTtcbiAgICBsZXQgZGlzYWJsZWQgPSB0aGlzLnByb3BzLmRpc2FibGVkO1xuXG4gICAgaWYgKHRoaXMucHJvcHMubG9hZGluZykge1xuICAgICAgY2xhc3NOYW1lICs9ICcgYnRuLWxvYWRpbmcnO1xuICAgICAgZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xpY2t9XG4gICAgICAgIHR5cGU9e3RoaXMucHJvcHMub25DbGljayA/ICdidXR0b24nIDogJ3N1Ym1pdCd9XG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICB7dGhpcy5wcm9wcy5sb2FkaW5nID8gPExvYWRlciAvPiA6IG51bGx9XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuXG5CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWU6IFwiYnRuLWRlZmF1bHRcIixcblxuICB0eXBlOiBcInN1Ym1pdFwiLFxuXG4gIGxvYWRpbmc6IGZhbHNlLFxuICBkaXNhYmxlZDogZmFsc2UsXG5cbiAgb25DbGljazogbnVsbFxufTtcbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yaWVzLWxpc3RcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiTm8gY2F0ZWdvcmllcyBleGlzdCBvciB5b3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHNlZSB0aGVtLlwiKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2F0ZWdvcnkgZnJvbSAnLi9jYXRlZ29yeSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcmllcyB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yaWVzLWxpc3RcIj5cbiAgICAgIHtjYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Q2F0ZWdvcnlcbiAgICAgICAgICAgIGNhdGVnb3J5PXtjYXRlZ29yeX1cbiAgICAgICAgICAgIGtleT17Y2F0ZWdvcnkuaWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGlzdEl0ZW0gZnJvbSAnLi9saXN0LWl0ZW0nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5IH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9ICdsaXN0LWdyb3VwIGxpc3QtZ3JvdXAtY2F0ZWdvcnknO1xuICBpZiAoY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgbGlzdC1ncm91cC1jYXRlZ29yeS1oYXMtZmxhdm9yJztcbiAgICBjbGFzc05hbWUgKz0gJyBsaXN0LWdyb3VwLWNhdGVnb3J5LScgKyBjYXRlZ29yeS5jc3NfY2xhc3M7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8TGlzdEl0ZW1cbiAgICAgICAgY2F0ZWdvcnk9e2NhdGVnb3J5fVxuICAgICAgICBpc0ZpcnN0PXt0cnVlfVxuICAgICAgLz5cbiAgICAgIHtjYXRlZ29yeS5zdWJjYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlzdEl0ZW1cbiAgICAgICAgICAgIGNhdGVnb3J5PXtjYXRlZ29yeX1cbiAgICAgICAgICAgIGlzRmlyc3Q9e2ZhbHNlfVxuICAgICAgICAgICAga2V5PXtjYXRlZ29yeS5pZH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5IH0pIHtcbiAgaWYgKCFjYXRlZ29yeS5kZXNjcmlwdGlvbikgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9XCJjYXRlZ29yeS1kZXNjcmlwdGlvblwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICBfX2h0bWw6IGNhdGVnb3J5LmRlc2NyaXB0aW9uLmh0bWxcbiAgICAgIH19XG4gICAgLz5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5IH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2dldENsYXNzTmFtZShjYXRlZ29yeSl9XG4gICAgICB0aXRsZT17Z2V0VGl0bGUoY2F0ZWdvcnkpfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAge2dldEljb24oY2F0ZWdvcnkpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKGNhdGVnb3J5KSB7XG4gIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgcmV0dXJuICdyZWFkLXN0YXR1cyBpdGVtLXJlYWQnO1xuICB9XG5cbiAgcmV0dXJuICdyZWFkLXN0YXR1cyBpdGVtLW5ldyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZShjYXRlZ29yeSkge1xuICBpZiAoY2F0ZWdvcnkuaXNfY2xvc2VkKSB7XG4gICAgaWYgKGNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBoYXMgbm8gbmV3IHBvc3RzLiAoY2xvc2VkKVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5ldyBwb3N0cy4gKGNsb3NlZClcIik7XG4gIH1cblxuICBpZiAoY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBoYXMgbm8gbmV3IHBvc3RzLlwiKTtcbiAgfVxuXG4gIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBoYXMgbmV3IHBvc3RzLlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEljb24oY2F0ZWdvcnkpIHtcbiAgaWYgKGNhdGVnb3J5LmlzX2Nsb3NlZCkge1xuICAgIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gJ2xvY2tfb3V0bGluZSc7XG4gICAgfVxuXG4gICAgcmV0dXJuICdsb2NrJztcbiAgfVxuXG4gIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgcmV0dXJuICdjaGF0X2J1YmJsZV9vdXRsaW5lJztcbiAgfVxuXG4gIHJldHVybiAnY2hhdF9idWJibGUnO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTWFpbiBmcm9tICcuL21haW4nO1xuaW1wb3J0IExhc3RUaHJlYWQgZnJvbSAnLi9sYXN0LXRocmVhZCc7XG5pbXBvcnQgU3RhdHMgZnJvbSAnLi9zdGF0cyc7XG5pbXBvcnQgU3ViY2F0ZWdvcmllcyBmcm9tICcuL3N1YmNhdGVnb3JpZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5LCBpc0ZpcnN0IH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9ICdsaXN0LWdyb3VwLWl0ZW0nO1xuXG4gIGlmIChjYXRlZ29yeS5kZXNjcmlwdGlvbikge1xuICAgIGNsYXNzTmFtZSArPSAnIGxpc3QtZ3JvdXAtY2F0ZWdvcnktaGFzLWRlc2NyaXB0aW9uJztcbiAgfSBlbHNlIHtcbiAgICBjbGFzc05hbWUgKz0gJyBsaXN0LWdyb3VwLWNhdGVnb3J5LW5vLWRlc2NyaXB0aW9uJztcbiAgfVxuXG4gIGlmIChpc0ZpcnN0KSB7XG4gICAgY2xhc3NOYW1lICs9ICcgbGlzdC1ncm91cC1pdGVtLWZpcnN0JztcbiAgfVxuICBpZiAoY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgbGlzdC1ncm91cC1jYXRlZ29yeS1oYXMtZmxhdm9yJztcbiAgICBjbGFzc05hbWUgKz0gJyBsaXN0LWdyb3VwLWl0ZW0tY2F0ZWdvcnktJyArIGNhdGVnb3J5LmNzc19jbGFzcztcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxNYWluIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgICAgPFN0YXRzIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgICAgPExhc3RUaHJlYWQgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8U3ViY2F0ZWdvcmllc1xuICAgICAgICBjYXRlZ29yeT17Y2F0ZWdvcnl9XG4gICAgICAgIGlzRmlyc3Q9e2lzRmlyc3R9XG4gICAgICAvPlxuICAgIDwvbGk+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTQgY2F0ZWdvcnktbGFzdC10aHJlYWRcIj5cbiAgICAgIDxMYXN0VGhyZWFkIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgIDxFbXB0eSBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICA8UHJpdmF0ZSBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICA8UHJvdGVjdGVkIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RUaHJlYWQoeyBjYXRlZ29yeSB9KSB7XG4gIGlmICghY2F0ZWdvcnkuYWNsLmNhbl9icm93c2UpIHJldHVybiBudWxsO1xuICBpZiAoIWNhdGVnb3J5LmFjbC5jYW5fc2VlX2FsbF90aHJlYWRzKSByZXR1cm4gbnVsbDtcbiAgaWYgKCFjYXRlZ29yeS5sYXN0X3RocmVhZF90aXRsZSkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnQgaGlkZGVuLXhzXCI+XG4gICAgICAgIDxMYXN0UG9zdGVyQXZhdGFyIGNhdGVnb3J5PXtjYXRlZ29yeX0gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC10aXRsZVwiXG4gICAgICAgICAgICBocmVmPXtjYXRlZ29yeS51cmwubGFzdF90aHJlYWRfbmV3fVxuICAgICAgICAgICAgdGl0bGU9e2NhdGVnb3J5Lmxhc3RfdGhyZWFkX3RpdGxlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtjYXRlZ29yeS5sYXN0X3RocmVhZF90aXRsZX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmVcIj5cbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktbGFzdC10aHJlYWQtcG9zdGVyXCI+XG4gICAgICAgICAgICA8TGFzdFBvc3Rlck5hbWUgY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRpdmlkZXJcIj5cbiAgICAgICAgICAgICYjODIxMjtcbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJjYXRlZ29yeS1sYXN0LXRocmVhZC1kYXRlXCI+XG4gICAgICAgICAgICA8YSBocmVmPXtjYXRlZ29yeS51cmwubGFzdF9wb3N0fT5cbiAgICAgICAgICAgICAge2NhdGVnb3J5Lmxhc3RfcG9zdF9vbi5mcm9tTm93KCl9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3RlckF2YXRhcih7IGNhdGVnb3J5IH0pIHtcbiAgaWYgKGNhdGVnb3J5Lmxhc3RfcG9zdGVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cImxhc3QtcG9zdGVyLWF2YXRhclwiXG4gICAgICAgIGhyZWY9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyLnVybH1cbiAgICAgICAgdGl0bGU9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICA+XG4gICAgICAgIDxBdmF0YXJcbiAgICAgICAgICBjbGFzc05hbWU9XCJtZWRpYS1vYmplY3RcIlxuICAgICAgICAgIHNpemU9ezQwfVxuICAgICAgICAgIHVzZXI9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyfVxuICAgICAgICAvPlxuICAgICAgPC9hPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwibGFzdC1wb3N0ZXItYXZhdGFyXCJcbiAgICAgICAgdGl0bGU9e2NhdGVnb3J5Lmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICA+XG4gICAgICAgIDxBdmF0YXJcbiAgICAgICAgICBjbGFzc05hbWU9XCJtZWRpYS1vYmplY3RcIlxuICAgICAgICAgIHNpemU9ezQwfVxuICAgICAgICAvPlxuICAgICAgPC9zcGFuPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3Rlck5hbWUoeyBjYXRlZ29yeSB9KSB7XG4gIGlmIChjYXRlZ29yeS5sYXN0X3Bvc3Rlcikge1xuICAgIHJldHVybiAoXG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCJcbiAgICAgICAgaHJlZj17Y2F0ZWdvcnkubGFzdF9wb3N0ZXIudXJsfVxuICAgICAgPlxuICAgICAgICB7Y2F0ZWdvcnkubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICAgIDwvYT5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICB7Y2F0ZWdvcnkubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICA8L3NwYW4+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFbXB0eSh7IGNhdGVnb3J5IH0pIHtcbiAgaWYgKCFjYXRlZ29yeS5hY2wuY2FuX2Jyb3dzZSkgcmV0dXJuIG51bGw7XG4gIGlmICghY2F0ZWdvcnkuYWNsLmNhbl9zZWVfYWxsX3RocmVhZHMpIHJldHVybiBudWxsO1xuICBpZiAoY2F0ZWdvcnkubGFzdF90aHJlYWRfdGl0bGUpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPE1lc3NhZ2VcbiAgICAgIG1lc3NhZ2U9e2dldHRleHQoXCJUaGlzIGNhdGVnb3J5IGlzIGVtcHR5LiBObyB0aHJlYWRzIHdlcmUgcG9zdGVkIHdpdGhpbiBpdCBzbyBmYXIuXCIpfVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcml2YXRlKHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoIWNhdGVnb3J5LmFjbC5jYW5fYnJvd3NlKSByZXR1cm4gbnVsbDtcbiAgaWYgKGNhdGVnb3J5LmFjbC5jYW5fc2VlX2FsbF90aHJlYWRzKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxNZXNzYWdlXG4gICAgICBtZXNzYWdlPXtnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBpcyBwcml2YXRlLiBZb3UgY2FuIHNlZSBvbmx5IHlvdXIgb3duIHRocmVhZHMgd2l0aGluIGl0LlwiKX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJvdGVjdGVkKHsgY2F0ZWdvcnkgfSkge1xuICBpZiAoY2F0ZWdvcnkuYWNsLmNhbl9icm93c2UpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPE1lc3NhZ2VcbiAgICAgIG1lc3NhZ2U9e2dldHRleHQoXCJUaGlzIGNhdGVnb3J5IGlzIHByb3RlY3RlZC4gWW91IGNhbid0IGJyb3dzZSBpdCdzIGNvbnRlbnRzLlwiKX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTWVzc2FnZSh7IG1lc3NhZ2UgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEgY2F0ZWdvcnktdGhyZWFkLW1lc3NhZ2VcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgIDxwPlxuICAgICAgICAgIHttZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERlc2NyaXB0aW9uIGZyb20gJy4vZGVzY3JpcHRpb24nO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjYXRlZ29yeSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTYgY2F0ZWdvcnktbWFpblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICA8SWNvbiBjYXRlZ29yeT17Y2F0ZWdvcnl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgICAgPGEgaHJlZj17Y2F0ZWdvcnkudXJsLmluZGV4fT5cbiAgICAgICAgICAgICAge2NhdGVnb3J5Lm5hbWV9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9oND5cbiAgICAgICAgICA8RGVzY3JpcHRpb24gY2F0ZWdvcnk9e2NhdGVnb3J5fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnkgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTIgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgY2F0ZWdvcnktc3RhdHNcIj5cbiAgICAgICAgPFRocmVhZHMgdGhyZWFkcz17Y2F0ZWdvcnkudGhyZWFkc30gLz5cbiAgICAgICAgPFBvc3RzIHBvc3RzPXtjYXRlZ29yeS5wb3N0c30gLz5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUaHJlYWRzKHsgdGhyZWFkcyB9KSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcIiUodGhyZWFkcylzIHRocmVhZFwiLCBcIiUodGhyZWFkcylzIHRocmVhZHNcIiwgdGhyZWFkcyk7XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktc3RhdC10aHJlYWRzXCI+XG4gICAgICB7aW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndGhyZWFkcyc6IHRocmVhZHNcbiAgICAgIH0sIHRydWUpfVxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0cyh7IHBvc3RzIH0pIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJShwb3N0cylzIHBvc3RcIiwgXCIlKHBvc3RzKXMgcG9zdHNcIiwgcG9zdHMpO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImNhdGVnb3J5LXN0YXQtcG9zdHNcIj5cbiAgICAgIHtpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICdwb3N0cyc6IHBvc3RzXG4gICAgICB9LCB0cnVlKX1cbiAgICA8L2xpPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGlzdEl0ZW0gZnJvbSAnLi9saXN0LWl0ZW0nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5LCBpc0ZpcnN0IH0pIHtcbiAgaWYgKGlzRmlyc3QpIHJldHVybiBudWxsO1xuICBpZiAoY2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgc3ViY2F0ZWdvcmllcy1saXN0XCI+XG4gICAgICB7Y2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5tYXAoKGNhdGVnb3J5KSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpc3RJdGVtXG4gICAgICAgICAgICBjYXRlZ29yeT17Y2F0ZWdvcnl9XG4gICAgICAgICAgICBrZXk9e2NhdGVnb3J5LmlkfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5IH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9ICdidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbSBidG4tc3ViY2F0ZWdvcnknO1xuICBpZiAoIWNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICBjbGFzc05hbWUgKz0gJyBidG4tc3ViY2F0ZWdvcnktbmV3JztcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTQgY29sLW1kLTNcIj5cbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICBocmVmPXtjYXRlZ29yeS51cmwuaW5kZXh9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7Z2V0SWNvbihjYXRlZ29yeSl9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi10ZXh0XCI+XG4gICAgICAgICAge2NhdGVnb3J5Lm5hbWV9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEljb24oY2F0ZWdvcnkpIHtcbiAgaWYgKGNhdGVnb3J5LmlzX2Nsb3NlZCkge1xuICAgIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gJ2xvY2tfb3V0bGluZSc7XG4gICAgfVxuXG4gICAgcmV0dXJuICdsb2NrJztcbiAgfVxuXG4gIGlmIChjYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgcmV0dXJuICdjaGF0X2J1YmJsZV9vdXRsaW5lJztcbiAgfVxuXG4gIHJldHVybiAnY2hhdF9idWJibGUnO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQmxhbmtzbGF0ZSBmcm9tICcuL2JsYW5rc2xhdGUnO1xuaW1wb3J0IENhdGVnb3JpZXNMaXN0IGZyb20gJy4vY2F0ZWdvcmllcy1saXN0JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuXG5jb25zdCBoeWRyYXRlID0gZnVuY3Rpb24oY2F0ZWdvcnkpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNhdGVnb3J5LCB7XG4gICAgbGFzdF9wb3N0X29uOiBjYXRlZ29yeS5sYXN0X3Bvc3Rfb24gPyBtb21lbnQoY2F0ZWdvcnkubGFzdF9wb3N0X29uKSA6IG51bGwsXG4gICAgc3ViY2F0ZWdvcmllczogY2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5tYXAoaHlkcmF0ZSlcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3JpZXM6IG1pc2Fnby5nZXQoJ0NBVEVHT1JJRVMnKS5tYXAoaHlkcmF0ZSlcbiAgICB9O1xuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcobWlzYWdvLmdldCgnQ0FURUdPUklFU19BUEknKSk7XG4gIH1cblxuICBzdGFydFBvbGxpbmcoYXBpKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogJ2NhdGVnb3JpZXMnLFxuICAgICAgdXJsOiBhcGksXG4gICAgICBmcmVxdWVuY3k6IDE4MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlXG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGUgPSAoZGF0YSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2F0ZWdvcmllczogZGF0YS5tYXAoaHlkcmF0ZSlcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjYXRlZ29yaWVzIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKGNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QmxhbmtzbGF0ZSAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENhdGVnb3JpZXNMaXN0IGNhdGVnb3JpZXM9e2NhdGVnb3JpZXN9IC8+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3RpY2snOiBzdG9yZS50aWNrLnRpY2ssXG4gIH07XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8c2VsZWN0XG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCAnZm9ybS1jb250cm9sJ31cbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX1cbiAgICAgIGlkPXtwcm9wcy5pZCB8fCBudWxsfVxuICAgICAgb25DaGFuZ2U9e3Byb3BzLm9uQ2hhbmdlfVxuICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxuICAgID5cbiAgICAgIHtwcm9wcy5jaG9pY2VzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgIGRpc2FibGVkPXtpdGVtLmRpc2FibGVkIHx8IGZhbHNlfVxuICAgICAgICAgICAga2V5PXtpdGVtLnZhbHVlfVxuICAgICAgICAgICAgdmFsdWU9e2l0ZW0udmFsdWV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyctIC0gJy5yZXBlYXQoaXRlbS5sZXZlbCkgKyBpdGVtLmxhYmVsfVxuICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC9zZWxlY3Q+XG4gICk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZGV2aWNlUmF0aW86IDEsXG4gICAgfTtcbiAgfVxuXG4gIGdldEF2YXRhclNpemUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXBsb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3BfdG1wLnNpemU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF9zcmMuc2l6ZTtcbiAgICB9XG4gIH1cblxuICBnZXRJbWFnZVBhdGgoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXBsb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5kYXRhVXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfc3JjLnVybDtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBsZXQgY3JvcGl0ID0gJCgnLmNyb3AtZm9ybScpO1xuICAgIGxldCBjcm9wcGVyV2lkdGggPSB0aGlzLmdldEF2YXRhclNpemUoKTtcblxuICAgIGNvbnN0IGluaXRpYWxXaWR0aCA9IGNyb3BpdC53aWR0aCgpO1xuICAgIHdoaWxlIChpbml0aWFsV2lkdGggPCBjcm9wcGVyV2lkdGgpIHtcbiAgICAgIGNyb3BwZXJXaWR0aCA9IGNyb3BwZXJXaWR0aCAvIDI7XG4gICAgfVxuXG4gICAgY29uc3QgZGV2aWNlUmF0aW8gPSB0aGlzLmdldEF2YXRhclNpemUoKSAvIGNyb3BwZXJXaWR0aDtcblxuICAgIGNyb3BpdC53aWR0aChjcm9wcGVyV2lkdGgpO1xuXG4gICAgY3JvcGl0LmNyb3BpdCh7XG4gICAgICB3aWR0aDogY3JvcHBlcldpZHRoLFxuICAgICAgaGVpZ2h0OiBjcm9wcGVyV2lkdGgsXG4gICAgICBleHBvcnRab29tOiBkZXZpY2VSYXRpbyxcbiAgICAgIGltYWdlU3RhdGU6IHtcbiAgICAgICAgc3JjOiB0aGlzLmdldEltYWdlUGF0aCgpXG4gICAgICB9LFxuICAgICAgb25JbWFnZUxvYWRlZDogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy51cGxvYWQpIHtcbiAgICAgICAgICAvLyBjZW50ZXIgdXBsb2FkZWQgaW1hZ2VcbiAgICAgICAgICBsZXQgem9vbUxldmVsID0gY3JvcGl0LmNyb3BpdCgnem9vbScpO1xuICAgICAgICAgIGxldCBpbWFnZVNpemUgPSBjcm9waXQuY3JvcGl0KCdpbWFnZVNpemUnKTtcblxuICAgICAgICAgIC8vIGlzIGl0IHdpZGVyIHRoYW4gdGFsbGVyP1xuICAgICAgICAgIGlmIChpbWFnZVNpemUud2lkdGggPiBpbWFnZVNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgZGlzcGxheWVkV2lkdGggPSAoaW1hZ2VTaXplLndpZHRoICogem9vbUxldmVsKTtcbiAgICAgICAgICAgIGxldCBvZmZzZXRYID0gKGRpc3BsYXllZFdpZHRoIC0gdGhpcy5nZXRBdmF0YXJTaXplKCkpIC8gLTI7XG5cbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoJ29mZnNldCcsIHtcbiAgICAgICAgICAgICAgeDogb2Zmc2V0WCxcbiAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpbWFnZVNpemUud2lkdGggPCBpbWFnZVNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgZGlzcGxheWVkSGVpZ2h0ID0gKGltYWdlU2l6ZS5oZWlnaHQgKiB6b29tTGV2ZWwpO1xuICAgICAgICAgICAgbGV0IG9mZnNldFkgPSAoZGlzcGxheWVkSGVpZ2h0IC0gdGhpcy5nZXRBdmF0YXJTaXplKCkpIC8gLTI7XG5cbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoJ29mZnNldCcsIHtcbiAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgeTogb2Zmc2V0WVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoJ29mZnNldCcsIHtcbiAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHVzZSBwcmVzZXJ2ZWQgY3JvcFxuICAgICAgICAgIGxldCBjcm9wID0gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfc3JjLmNyb3A7XG5cbiAgICAgICAgICBpZiAoY3JvcCkge1xuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdCgnem9vbScsIGNyb3Auem9vbSk7XG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KCdvZmZzZXQnLCB7XG4gICAgICAgICAgICAgIHg6IGNyb3AueCxcbiAgICAgICAgICAgICAgeTogY3JvcC55XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICQoJy5jcm9wLWZvcm0nKS5jcm9waXQoJ2Rpc2FibGUnKTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY3JvcEF2YXRhciA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG5cbiAgICBsZXQgYXZhdGFyVHlwZSA9IHRoaXMucHJvcHMudXBsb2FkID8gJ2Nyb3BfdG1wJyA6ICdjcm9wX3NyYyc7XG4gICAgbGV0IGNyb3BpdCA9ICQoJy5jcm9wLWZvcm0nKTtcblxuICAgIGNvbnN0IGRldmljZVJhdGlvID0gY3JvcGl0LmNyb3BpdCgnZXhwb3J0Wm9vbScpO1xuICAgIGNvbnN0IGNyb3BpdE9mZnNldCA9IGNyb3BpdC5jcm9waXQoJ29mZnNldCcpO1xuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGkuYXZhdGFyLCB7XG4gICAgICBhdmF0YXI6IGF2YXRhclR5cGUsXG4gICAgICBjcm9wOiB7XG4gICAgICAgIG9mZnNldDoge1xuICAgICAgICAgIHg6IGNyb3BpdE9mZnNldC54ICogZGV2aWNlUmF0aW8sXG4gICAgICAgICAgeTogY3JvcGl0T2Zmc2V0LnkgKiBkZXZpY2VSYXRpbyxcbiAgICAgICAgfSxcbiAgICAgICAgem9vbTogY3JvcGl0LmNyb3BpdCgnem9vbScpICogZGV2aWNlUmF0aW8sXG4gICAgICB9XG4gICAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRlKGRhdGEpO1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhkYXRhLmRldGFpbCk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci1jcm9wXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcm9wLWZvcm1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3JvcGl0LXByZXZpZXdcIj48L2Rpdj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjcm9waXQtaW1hZ2Utem9vbS1pbnB1dFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY3JvcEF2YXRhcn1cbiAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLnVwbG9hZCA/IGdldHRleHQoXCJTZXQgYXZhdGFyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGdldHRleHQoXCJDcm9wIGltYWdlXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93SW5kZXh9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGJhdGNoIGZyb20gJ21pc2Fnby91dGlscy9iYXRjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgR2FsbGVyeUl0ZW0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNlbGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdCh0aGlzLnByb3BzLmlkKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0aW9uID09PSB0aGlzLnByb3BzLmlkKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gJ2J0biBidG4tYXZhdGFyIGJ0bi1kaXNhYmxlZCBhdmF0YXItc2VsZWN0ZWQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdidG4gYnRuLWF2YXRhciBhdmF0YXItc2VsZWN0ZWQnO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuICdidG4gYnRuLWF2YXRhciBidG4tZGlzYWJsZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2J0biBidG4tYXZhdGFyJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbGVjdH1cbiAgICAgID5cbiAgICAgICAgPGltZyBzcmM9e3RoaXMucHJvcHMudXJsfSAvPlxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHYWxsZXJ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhdmF0YXJzLWdhbGxlcnlcIj5cbiAgICAgIDxoMz57dGhpcy5wcm9wcy5uYW1lfTwvaDM+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFycy1nYWxsZXJ5LWltYWdlc1wiPlxuICAgICAgICB7YmF0Y2godGhpcy5wcm9wcy5pbWFnZXMsIDQsIG51bGwpLm1hcCgocm93LCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicm93XCIga2V5PXtpfT5cbiAgICAgICAgICAgIHtyb3cubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCIga2V5PXtpfT5cbiAgICAgICAgICAgICAgICB7aXRlbSA/IDxHYWxsZXJ5SXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0PXt0aGlzLnByb3BzLnNlbGVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgey4uLml0ZW19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDogPGRpdiBjbGFzc05hbWU9XCJibGFuay1hdmF0YXJcIiAvPn1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdzZWxlY3Rpb24nOiBudWxsLFxuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2VsZWN0ID0gKGltYWdlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzZWxlY3Rpb246IGltYWdlXG4gICAgfSk7XG4gIH07XG5cbiAgc2F2ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5hdmF0YXIsIHtcbiAgICAgIGF2YXRhcjogJ2dhbGxlcmllcycsXG4gICAgICBpbWFnZTogdGhpcy5zdGF0ZS5zZWxlY3Rpb25cbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKTtcbiAgICAgIHRoaXMucHJvcHMub25Db21wbGV0ZShyZXNwb25zZSk7XG4gICAgICB0aGlzLnByb3BzLnNob3dJbmRleCgpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItZ2FsbGVyeVwiPlxuXG4gICAgICAgIHt0aGlzLnByb3BzLm9wdGlvbnMuZ2FsbGVyaWVzLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8R2FsbGVyeSBuYW1lPXtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlcz17aXRlbS5pbWFnZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5zdGF0ZS5zZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0PXt0aGlzLnNlbGVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpfSAvPjtcbiAgICAgICAgfSl9XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IGNvbC1tZC1vZmZzZXQtM1wiPlxuXG4gICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuc2F2ZX1cbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5zZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiPlxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zZWxlY3Rpb24gPyBnZXR0ZXh0KFwiU2F2ZSBjaG9pY2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0dGV4dChcIlNlbGVjdCBhdmF0YXJcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjYWxsQXBpKGF2YXRhclR5cGUpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5hdmF0YXIsIHtcbiAgICAgIGF2YXRhcjogYXZhdGFyVHlwZVxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpO1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRlKHJlc3BvbnNlKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAnaXNMb2FkaW5nJzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByb3BzLnNob3dFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzZXRHcmF2YXRhciA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoJ2dyYXZhdGFyJyk7XG4gIH07XG5cbiAgc2V0R2VuZXJhdGVkID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaSgnZ2VuZXJhdGVkJyk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0R3JhdmF0YXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5ncmF2YXRhcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxCdXR0b24gb25DbGljaz17dGhpcy5zZXRHcmF2YXRhcn1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1ncmF2YXRhclwiPlxuICAgICAgICB7Z2V0dGV4dChcIkRvd25sb2FkIG15IEdyYXZhdGFyXCIpfVxuICAgICAgPC9CdXR0b24+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q3JvcEJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3NyYykgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItY3JvcFwiXG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93Q3JvcH1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJSZS1jcm9wIHVwbG9hZGVkIGltYWdlXCIpfVxuICAgICAgPC9CdXR0b24+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0VXBsb2FkQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZCkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItdXBsb2FkXCJcbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dVcGxvYWR9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiVXBsb2FkIG5ldyBpbWFnZVwiKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldEdhbGxlcnlCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm9wdGlvbnMuZ2FsbGVyaWVzKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPEJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1nYWxsZXJ5XCJcbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dHYWxsZXJ5fVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlBpY2sgYXZhdGFyIGZyb20gZ2FsbGVyeVwiKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldEF2YXRhclByZXZpZXcoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGxldCB1c2VyUGV2aWV3ID0ge1xuICAgICAgaWQ6IHRoaXMucHJvcHMudXNlci5pZCxcbiAgICAgIGF2YXRhcnM6IHRoaXMucHJvcHMub3B0aW9ucy5hdmF0YXJzXG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyLXByZXZpZXcgcHJldmlldy1sb2FkaW5nXCI+XG4gICAgICAgICAgPEF2YXRhclxuICAgICAgICAgICAgc2l6ZT1cIjIwMFwiXG4gICAgICAgICAgICB1c2VyPXt1c2VyUGV2aWV3fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPExvYWRlciAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXItcHJldmlld1wiPlxuICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgc2l6ZT1cIjIwMFwiXG4gICAgICAgICAgdXNlcj17dXNlclBldmlld31cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItaW5kZXhcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTVcIj5cblxuICAgICAgICAgIHt0aGlzLmdldEF2YXRhclByZXZpZXcoKX1cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtN1wiPlxuXG4gICAgICAgICAge3RoaXMuZ2V0R3JhdmF0YXJCdXR0b24oKX1cblxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5zZXRHZW5lcmF0ZWR9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1nZW5lcmF0ZVwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJHZW5lcmF0ZSBteSBpbmRpdmlkdWFsIGF2YXRhclwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIHt0aGlzLmdldENyb3BCdXR0b24oKX1cbiAgICAgICAgICB7dGhpcy5nZXRVcGxvYWRCdXR0b24oKX1cbiAgICAgICAgICB7dGhpcy5nZXRHYWxsZXJ5QnV0dG9uKCl9XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFySW5kZXggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9pbmRleCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEF2YXRhckNyb3AgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQXZhdGFyVXBsb2FkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvdXBsb2FkJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQXZhdGFyR2FsbGVyeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2dhbGxlcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyB1cGRhdGVBdmF0YXIgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIENoYW5nZUF2YXRhckVycm9yIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RXJyb3JSZWFzb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucmVhc29uKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHRoaXMucHJvcHMucmVhc29ufX0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICByZW1vdmVfY2lyY2xlX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgICB7dGhpcy5nZXRFcnJvclJlYXNvbigpfVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIk9rXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy51c2VyLmFwaS5hdmF0YXIpLnRoZW4oKG9wdGlvbnMpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAnY29tcG9uZW50JzogQXZhdGFySW5kZXgsXG4gICAgICAgICdvcHRpb25zJzogb3B0aW9ucyxcbiAgICAgICAgJ2Vycm9yJzogbnVsbFxuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zaG93RXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2hvd0Vycm9yID0gKGVycm9yKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBlcnJvclxuICAgIH0pO1xuICB9O1xuXG4gIHNob3dJbmRleCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdjb21wb25lbnQnOiBBdmF0YXJJbmRleFxuICAgIH0pO1xuICB9O1xuXG4gIHNob3dVcGxvYWQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnY29tcG9uZW50JzogQXZhdGFyVXBsb2FkXG4gICAgfSk7XG4gIH07XG5cbiAgc2hvd0Nyb3AgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnY29tcG9uZW50JzogQXZhdGFyQ3JvcFxuICAgIH0pO1xuICB9O1xuXG4gIHNob3dHYWxsZXJ5ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2NvbXBvbmVudCc6IEF2YXRhckdhbGxlcnlcbiAgICB9KTtcbiAgfTtcblxuICBjb21wbGV0ZUZsb3cgPSAob3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUF2YXRhcih0aGlzLnByb3BzLnVzZXIsIG9wdGlvbnMuYXZhdGFycykpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnY29tcG9uZW50JzogQXZhdGFySW5kZXgsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Qm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPENoYW5nZUF2YXRhckVycm9yIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3IuZGV0YWlsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbj17dGhpcy5zdGF0ZS5lcnJvci5yZWFzb259IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPHRoaXMuc3RhdGUuY29tcG9uZW50IG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZT17dGhpcy5jb21wbGV0ZUZsb3d9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yPXt0aGlzLnNob3dFcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93SW5kZXg9e3RoaXMuc2hvd0luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDcm9wPXt0aGlzLnNob3dDcm9wfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dVcGxvYWQ9e3RoaXMuc2hvd1VwbG9hZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93R2FsbGVyeT17dGhpcy5zaG93R2FsbGVyeX0gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TG9hZGVyIC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICBpZiAodGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1jaGFuZ2UtYXZhdGFyXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1jaGFuZ2UtYXZhdGFyXCI7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgYXZhdGFyXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHt0aGlzLmdldEJvZHkoKX1cblxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgICd1c2VyJzogc3RhdGUuYXV0aC51c2VyXG4gIH07XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhckNyb3AgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9jcm9wJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBmaWxlU2l6ZSBmcm9tICdtaXNhZ28vdXRpbHMvZmlsZS1zaXplJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpbWFnZTogbnVsbCxcbiAgICAgIHByZXZpZXc6IG51bGwsXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIHVwbG9hZGVkOiBudWxsLFxuICAgICAgZGF0YVVybDogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgdmFsaWRhdGVGaWxlKGltYWdlKSB7XG4gICAgaWYgKGltYWdlLnNpemUgPiB0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkLmxpbWl0KSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIlNlbGVjdGVkIGZpbGUgaXMgdG9vIGJpZy4gKCUoZmlsZXNpemUpcylcIiksIHtcbiAgICAgICAgJ2ZpbGVzaXplJzogZmlsZVNpemUoaW1hZ2Uuc2l6ZSlcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cblxuICAgIGxldCBpbnZhbGlkVHlwZU1zZyA9IGdldHRleHQoXCJTZWxlY3RlZCBmaWxlIHR5cGUgaXMgbm90IHN1cHBvcnRlZC5cIik7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQuYWxsb3dlZF9taW1lX3R5cGVzLmluZGV4T2YoaW1hZ2UudHlwZSkgPT09IC0xKSB7XG4gICAgICByZXR1cm4gaW52YWxpZFR5cGVNc2c7XG4gICAgfVxuXG4gICAgbGV0IGV4dGVuc2lvbkZvdW5kID0gZmFsc2U7XG4gICAgbGV0IGxvd2VyZWRGaWxlbmFtZSA9IGltYWdlLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkLmFsbG93ZWRfZXh0ZW5zaW9ucy5tYXAoZnVuY3Rpb24oZXh0ZW5zaW9uKSB7XG4gICAgICBpZiAobG93ZXJlZEZpbGVuYW1lLnN1YnN0cihleHRlbnNpb24ubGVuZ3RoICogLTEpID09PSBleHRlbnNpb24pIHtcbiAgICAgICAgZXh0ZW5zaW9uRm91bmQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCFleHRlbnNpb25Gb3VuZCkge1xuICAgICAgcmV0dXJuIGludmFsaWRUeXBlTXNnO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgcGlja0ZpbGUgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F2YXRhci1oaWRkZW4tdXBsb2FkJykuY2xpY2soKTtcbiAgfTtcblxuICB1cGxvYWRGaWxlID0gKCkgPT4ge1xuICAgIGxldCBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdmF0YXItaGlkZGVuLXVwbG9hZCcpLmZpbGVzWzBdO1xuICAgIGlmICghaW1hZ2UpIHJldHVybjtcblxuICAgIGxldCB2YWxpZGF0aW9uRXJyb3IgPSB0aGlzLnZhbGlkYXRlRmlsZShpbWFnZSk7XG4gICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgc25hY2tiYXIuZXJyb3IodmFsaWRhdGlvbkVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGltYWdlLFxuICAgICAgcHJldmlldzogVVJMLmNyZWF0ZU9iamVjdFVSTChpbWFnZSksXG4gICAgICBwcm9ncmVzczogMFxuICAgIH0pO1xuXG4gICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBkYXRhLmFwcGVuZCgnYXZhdGFyJywgJ3VwbG9hZCcpO1xuICAgIGRhdGEuYXBwZW5kKCdpbWFnZScsIGltYWdlKTtcblxuICAgIGFqYXgudXBsb2FkKHRoaXMucHJvcHMudXNlci5hcGkuYXZhdGFyLCBkYXRhLCAocHJvZ3Jlc3MpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwcm9ncmVzc1xuICAgICAgfSk7XG4gICAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG9wdGlvbnM6IGRhdGEsXG4gICAgICAgIHVwbG9hZGVkOiBkYXRhLmRldGFpbCxcbiAgICAgIH0pO1xuXG4gICAgICBzbmFja2Jhci5pbmZvKGdldHRleHQoXCJZb3VyIGltYWdlIGhhcyBiZWVuIHVwbG9hZGVkIGFuZCB5b3UgbWF5IG5vdyBjcm9wIGl0LlwiKSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCB8fCByZWplY3Rpb24uc3RhdHVzID09PSA0MTMpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgaW1hZ2U6IG51bGwsXG4gICAgICAgICAgcHJvZ3Jlc3M6IDBcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByb3BzLnNob3dFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFVwbG9hZFJlcXVpcmVtZW50cyhvcHRpb25zKSB7XG4gICAgbGV0IGV4dGVuc2lvbnMgPSBvcHRpb25zLmFsbG93ZWRfZXh0ZW5zaW9ucy5tYXAoZnVuY3Rpb24oZXh0ZW5zaW9uKSB7XG4gICAgICByZXR1cm4gZXh0ZW5zaW9uLnN1YnN0cigxKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJShmaWxlcylzIGZpbGVzIHNtYWxsZXIgdGhhbiAlKGxpbWl0KXNcIiksIHtcbiAgICAgICAgJ2ZpbGVzJzogZXh0ZW5zaW9ucy5qb2luKCcsICcpLFxuICAgICAgICAnbGltaXQnOiBmaWxlU2l6ZShvcHRpb25zLmxpbWl0KVxuICAgICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBnZXRVcGxvYWRCdXR0b24oKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLXVwbG9hZFwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXBpY2stZmlsZVwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5waWNrRmlsZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNlbGVjdCBmaWxlXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPlxuICAgICAgICAgIHt0aGlzLmdldFVwbG9hZFJlcXVpcmVtZW50cyh0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkKX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0VXBsb2FkUHJvZ3Jlc3NMYWJlbCgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUocHJvZ3Jlc3MpcyAlIGNvbXBsZXRlXCIpLCB7XG4gICAgICAgICdwcm9ncmVzcyc6IHRoaXMuc3RhdGUucHJvZ3Jlc3NcbiAgICAgIH0sIHRydWUpO1xuICB9XG5cbiAgZ2V0VXBsb2FkUHJvZ3Jlc3MoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtYXZhdGFyLXVwbG9hZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVwbG9hZC1wcm9ncmVzc1wiPlxuICAgICAgICAgIDxpbWcgc3JjPXt0aGlzLnN0YXRlLnByZXZpZXd9IC8+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb2dyZXNzLWJhclwiXG4gICAgICAgICAgICAgIHJvbGU9XCJwcm9ncmVzc2JhclwiXG4gICAgICAgICAgICAgIGFyaWEtdmFsdWVub3c9XCJ7dGhpcy5zdGF0ZS5wcm9ncmVzc31cIlxuICAgICAgICAgICAgICBhcmlhLXZhbHVlbWluPVwiMFwiXG4gICAgICAgICAgICAgIGFyaWEtdmFsdWVtYXg9XCIxMDBcIlxuICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiB0aGlzLnN0YXRlLnByb2dyZXNzICsgJyUnfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPnt0aGlzLmdldFVwbG9hZFByb2dyZXNzTGFiZWwoKX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXJVcGxvYWQoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgaWQ9XCJhdmF0YXItaGlkZGVuLXVwbG9hZFwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuLWZpbGUtdXBsb2FkXCJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy51cGxvYWRGaWxlfVxuICAgICAgICAvPlxuICAgICAgICB7dGhpcy5zdGF0ZS5pbWFnZSA/IHRoaXMuZ2V0VXBsb2FkUHJvZ3Jlc3MoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0VXBsb2FkQnV0dG9uKCl9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cblxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyEhdGhpcy5zdGF0ZS5pbWFnZX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlckNyb3AoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8QXZhdGFyQ3JvcFxuICAgICAgICBvcHRpb25zPXt0aGlzLnN0YXRlLm9wdGlvbnN9XG4gICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgdXBsb2FkPXt0aGlzLnN0YXRlLnVwbG9hZGVkfVxuICAgICAgICBkYXRhVXJsPXt0aGlzLnN0YXRlLnByZXZpZXd9XG4gICAgICAgIG9uQ29tcGxldGU9e3RoaXMucHJvcHMub25Db21wbGV0ZX1cbiAgICAgICAgc2hvd0Vycm9yPXt0aGlzLnByb3BzLnNob3dFcnJvcn1cbiAgICAgICAgc2hvd0luZGV4PXt0aGlzLnByb3BzLnNob3dJbmRleH1cbiAgICAgIC8+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS51cGxvYWRlZCkgcmV0dXJuIHRoaXMucmVuZGVyQ3JvcCgpO1xuXG4gICAgcmV0dXJuIHRoaXMucmVuZGVyVXBsb2FkKCk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRyb3Bkb3duKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWFsaWduZWQgYnRuLWljb24gYnRuLWRyb3Bkb3duLXRvZ2dsZSBvcGVuIGhpZGRlbi1tZCBoaWRkZW4tbGdcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1hbGlnbmVkIGJ0bi1pY29uIGJ0bi1kcm9wZG93bi10b2dnbGUgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxidXR0b24gY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlTmF2fVxuICAgICAgICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPXt0aGlzLnByb3BzLmRyb3Bkb3duID8gJ3RydWUnIDogJ2ZhbHNlJ30+XG4gICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIG1lbnVcbiAgICAgIDwvaT5cbiAgICA8L2J1dHRvbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFuZWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGRpc3BsYXkgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPFBhbmVsTWVzc2FnZVxuICAgICAgaGVscFRleHQ9e2dldHRleHQoXCJObyBwcm9maWxlIGRldGFpbHMgYXJlIGVkaXRhYmxlIGF0IHRoaXMgdGltZS5cIil9XG4gICAgICBtZXNzYWdlPXtnZXR0ZXh0KFwiVGhpcyBvcHRpb24gaXMgY3VycmVudGx5IHVuYXZhaWxhYmxlLlwiKX1cbiAgICAvPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NlbGVjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DaGFuZ2UgPSAoZXYpID0+IHtcbiAgICBjb25zdCB7IGZpZWxkLCBvbkNoYW5nZSB9ID0gdGhpcy5wcm9wcztcbiAgICBvbkNoYW5nZShmaWVsZC5maWVsZG5hbWUsIGV2LnRhcmdldC52YWx1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkaXNhYmxlZCwgZmllbGQsIHZhbHVlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgaW5wdXQgfSA9IGZpZWxkO1xuXG4gICAgaWYgKGlucHV0LnR5cGUgPT09ICdzZWxlY3QnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgY2hvaWNlcz17aW5wdXQuY2hvaWNlc31cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgaWQ9e1wiaWRfXCIgKyBmaWVsZC5maWVsZG5hbWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoaW5wdXQudHlwZSA9PT0gJ3RleHRhcmVhJykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgaWQ9e1wiaWRfXCIgKyBmaWVsZC5maWVsZG5hbWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgcm93cz1cIjRcIlxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChpbnB1dC50eXBlID09PSAndGV4dCcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIGlkPXtcImlkX1wiICsgZmllbGQuZmllbGRuYW1lfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGaWVsZElucHV0IGZyb20gJy4vZmllbGQtaW5wdXQnO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBkaXNhYmxlZCwgZXJyb3JzLCBmaWVsZHMsIG5hbWUsIG9uQ2hhbmdlLCB2YWx1ZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGZpZWxkc2V0PlxuICAgICAgPGxlZ2VuZD57bmFtZX08L2xlZ2VuZD5cbiAgICAgIHtmaWVsZHMubWFwKChmaWVsZCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGZvcj17XCJpZF9cIiArIGZpZWxkLmZpZWxkbmFtZX1cbiAgICAgICAgICAgIGhlbHBUZXh0PXtmaWVsZC5oZWxwX3RleHR9XG4gICAgICAgICAgICBrZXk9e2ZpZWxkLmZpZWxkbmFtZX1cbiAgICAgICAgICAgIGxhYmVsPXtmaWVsZC5sYWJlbH1cbiAgICAgICAgICAgIHZhbGlkYXRpb249e2Vycm9yc1tmaWVsZC5maWVsZG5hbWVdfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxGaWVsZElucHV0XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICAgICAgZmllbGQ9e2ZpZWxkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZVtmaWVsZC5maWVsZG5hbWVdfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvZmllbGRzZXQ+XG4gICk7XG59XG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZpZWxkc2V0IGZyb20gJy4vZmllbGRzZXQnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG5cbiAgICBjb25zdCBncm91cHMgPSBwcm9wcy5ncm91cHMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzOyBpKyspIHtcbiAgICAgIGNvbnN0IGdyb3VwID0gcHJvcHMuZ3JvdXBzW2ldO1xuICAgICAgY29uc3QgZmllbGRzID0gZ3JvdXAuZmllbGRzLmxlbmd0aDtcbiAgICAgIGZvciAobGV0IGYgPSAwOyBmIDwgZmllbGRzOyBmKyspIHtcbiAgICAgICAgY29uc3QgZmllbGRuYW1lID0gZ3JvdXAuZmllbGRzW2ZdLmZpZWxkbmFtZTtcbiAgICAgICAgY29uc3QgaW5pdGlhbCA9IGdyb3VwLmZpZWxkc1tmXS5pbml0aWFsO1xuICAgICAgICB0aGlzLnN0YXRlW2ZpZWxkbmFtZV0gPSBpbml0aWFsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgY29uc3QgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUsIHtcbiAgICAgIGVycm9yczogbnVsbCxcbiAgICAgIGlzTG9hZGluZzogbnVsbFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLmFwaSwgZGF0YSlcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHRoaXMucHJvcHMub25TdWNjZXNzKGRhdGEpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3JzOiByZWplY3Rpb24gfSlcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBvbkNoYW5nZSA9IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgW25hbWVdOiB2YWx1ZVxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuZ3JvdXBzLm1hcCgoZ3JvdXAsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxGaWVsZHNldFxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBlcnJvcnM9e3RoaXMuc3RhdGUuZXJyb3JzfVxuICAgICAgICAgICAgICAgIGZpZWxkcz17Z3JvdXAuZmllbGRzfVxuICAgICAgICAgICAgICAgIG5hbWU9e2dyb3VwLm5hbWV9XG4gICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICA8Q2FuY2VsQnV0dG9uXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5wcm9wcy5vbkNhbmNlbH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIHsnICd9XG4gICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2F2ZSBjaGFuZ2VzXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDYW5jZWxCdXR0b24oeyBvbkNhbmNlbCwgZGlzYWJsZWQgfSkge1xuICBpZiAoIW9uQ2FuY2VsKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e29uQ2FuY2VsfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJsYW5rc2xhdGUgZnJvbSAnLi9ibGFua3NsYXRlJztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi9sb2FkZXInO1xuaW1wb3J0IEZvcm0gZnJvbSAnLi9mb3JtJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICBncm91cHM6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5hcGkpLnRoZW4oXG4gICAgICAoZ3JvdXBzKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuXG4gICAgICAgICAgZ3JvdXBzXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIChyZWplY3Rpb24pID0+IHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2FuY2VsKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBncm91cHMsIGxvYWRpbmcgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkVkaXQgZGV0YWlsc1wiKX1cbiAgICAgICAgICA8L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPExvYWRlciBkaXNwbGF5PXtsb2FkaW5nfSAvPlxuICAgICAgICA8QmxhbmtzbGF0ZSBkaXNwbGF5PXshbG9hZGluZyAmJiAhZ3JvdXBzLmxlbmd0aH0gLz5cbiAgICAgICAgPEZvcm1EaXNwbGF5XG4gICAgICAgICAgYXBpPXt0aGlzLnByb3BzLmFwaX1cbiAgICAgICAgICBkaXNwbGF5PXshbG9hZGluZyAmJiBncm91cHMubGVuZ3RofVxuICAgICAgICAgIGdyb3Vwcz17Z3JvdXBzfVxuICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLnByb3BzLm9uQ2FuY2VsfVxuICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5wcm9wcy5vblN1Y2Nlc3N9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGb3JtRGlzcGxheSh7IGFwaSwgZGlzcGxheSwgZ3JvdXBzLCBvbkNhbmNlbCwgb25TdWNjZXNzIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxGb3JtXG4gICAgICBhcGk9e2FwaX1cbiAgICAgIGdyb3Vwcz17Z3JvdXBzfVxuICAgICAgb25DYW5jZWw9e29uQ2FuY2VsfVxuICAgICAgb25TdWNjZXNzPXtvblN1Y2Nlc3N9XG4gICAgLz5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGRpc3BsYXkgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICA8TG9hZGVyIC8+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmVwbGFjZVNlbGVjdGlvbih0aGlzLnByb3BzLmV4ZWNBY3Rpb24pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9eydidG4gYnRuLWljb24gJyArIHRoaXMucHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9uIGZyb20gJy4vYWN0aW9uJztcbmltcG9ydCBpc1VybCBmcm9tICdtaXNhZ28vdXRpbHMvaXMtdXJsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uXG4gICAgICBleGVjQWN0aW9uPXtpbnNlcnRDb2RlfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgY29kZVwiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGZ1bmN0aW9uc1xuICAgICAgPC9zcGFuPlxuICAgIDwvQWN0aW9uPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0Q29kZShzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgY29uc3Qgc3ludGF4ID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgbmFtZSBvZiBzeW50YXggb2YgeW91ciBjb2RlIChvcHRpb25hbClcIikgKyAnOicpKTtcbiAgcmVwbGFjZShcIlxcblxcbmBgYFwiICsgc3ludGF4ICsgJ1xcbicgKyBzZWxlY3Rpb24gKyBcIlxcbmBgYFxcblxcblwiKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjdGlvbiBmcm9tICcuL2FjdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvblxuICAgICAgZXhlY0FjdGlvbj17bWFrZUVtcGhhc2lzfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJFbXBoYXNlIHNlbGVjdGlvblwiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGZvcm1hdF9pdGFsaWNcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VFbXBoYXNpcyhzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgaWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICByZXBsYWNlKCcqJyArIHNlbGVjdGlvbiArICcqJyk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjdGlvbiBmcm9tICcuL2FjdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvblxuICAgICAgZXhlY0FjdGlvbj17aW5zZXJ0SHJ9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIkluc2VydCBob3Jpem9udGFsIHJ1bGVyXCIpfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgcmVtb3ZlXG4gICAgICA8L3NwYW4+XG4gICAgPC9BY3Rpb24+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRIcihzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgcmVwbGFjZSgnXFxuXFxuLSAtIC0gLSAtXFxuXFxuJyk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuaW1wb3J0IGlzVXJsIGZyb20gJ21pc2Fnby91dGlscy9pcy11cmwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e2luc2VydEltYWdlfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgaW1hZ2VcIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBpbnNlcnRfcGhvdG9cbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEltYWdlKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgdXJsID0gJyc7XG4gIGxldCBsYWJlbCA9ICcnO1xuXG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgaWYgKGlzVXJsKHNlbGVjdGlvbikpIHtcbiAgICAgIHVybCA9IHNlbGVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFiZWwgPSBzZWxlY3Rpb247XG4gICAgfVxuICB9XG5cbiAgdXJsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgbGluayB0byBpbWFnZVwiKSArICc6JywgdXJsKSk7XG4gIGxhYmVsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgaW1hZ2UgbGFiZWwgKG9wdGlvbmFsKVwiKSArICc6JywgbGFiZWwpKTtcblxuICBpZiAodXJsLmxlbmd0aCkge1xuICAgIGlmIChsYWJlbC5sZW5ndGggPiAwKSB7XG4gICAgICByZXBsYWNlKCchWycgKyBsYWJlbCArICddKCcgKyB1cmwgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKCchKCcgKyB1cmwgKyAnKScpO1xuICAgIH1cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9uIGZyb20gJy4vYWN0aW9uJztcbmltcG9ydCBpc1VybCBmcm9tICdtaXNhZ28vdXRpbHMvaXMtdXJsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uXG4gICAgICBleGVjQWN0aW9uPXtpbnNlcnRMaW5rfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgbGlua1wiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGluc2VydF9saW5rXG4gICAgICA8L3NwYW4+XG4gICAgPC9BY3Rpb24+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRMaW5rKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgdXJsID0gJyc7XG4gIGxldCBsYWJlbCA9ICcnO1xuXG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgaWYgKGlzVXJsKHNlbGVjdGlvbikpIHtcbiAgICAgIHVybCA9IHNlbGVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFiZWwgPSBzZWxlY3Rpb247XG4gICAgfVxuICB9XG5cbiAgdXJsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgbGluayBhZGRyZXNzXCIpICsgJzonLCB1cmwpIHx8ICcnKTtcbiAgaWYgKHVybC5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcbiAgbGFiZWwgPSAkLnRyaW0ocHJvbXB0KGdldHRleHQoXCJFbnRlciBsaW5rIGxhYmVsIChvcHRpb25hbClcIikgKyAnOicsIGxhYmVsKSk7XG5cbiAgaWYgKHVybC5sZW5ndGgpIHtcbiAgICBpZiAobGFiZWwubGVuZ3RoID4gMCkge1xuICAgICAgcmVwbGFjZSgnWycgKyBsYWJlbCArICddKCcgKyB1cmwgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKHVybCk7XG4gICAgfVxuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuaW1wb3J0IGlzVXJsIGZyb20gJ21pc2Fnby91dGlscy9pcy11cmwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e2luc2VydFF1b3RlfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgcXVvdGVcIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBmb3JtYXRfcXVvdGVcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFF1b3RlKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgdGl0bGUgPSAkLnRyaW0ocHJvbXB0KGdldHRleHQoXCJFbnRlciBxdW90ZSBhdXRvciwgcHJlZml4IHVzZXJuYW1lcyB3aXRoIEBcIikgKyAnOicsIHRpdGxlKSk7XG5cbiAgaWYgKHRpdGxlKSB7XG4gICAgcmVwbGFjZSgnXFxuXFxuW3F1b3RlPVwiJyArIHRpdGxlICsgJ1wiXVxcbicgKyBzZWxlY3Rpb24gKyAnXFxuWy9xdW90ZV1cXG5cXG4nKTtcbiAgfSBlbHNlIHtcbiAgICByZXBsYWNlKCdcXG5cXG5bcXVvdGVdXFxuJyArIHNlbGVjdGlvbiArICdcXG5bL3F1b3RlXVxcblxcbicpO1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e21ha2VTdHJpa2V0cm91Z2h9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlN0cmlrZXRyb3VnaCBzZWxlY3Rpb25cIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBmb3JtYXRfc3RyaWtldGhyb3VnaFxuICAgICAgPC9zcGFuPlxuICAgIDwvQWN0aW9uPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVN0cmlrZXRyb3VnaChzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgaWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICByZXBsYWNlKCd+ficgKyBzZWxlY3Rpb24gKyAnfn4nKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9uIGZyb20gJy4vYWN0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uXG4gICAgICBleGVjQWN0aW9uPXttYWtlU3Ryb25nfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJCb2xkZXIgc2VsZWN0aW9uXCIpfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgZm9ybWF0X2JvbGRcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTdHJvbmcoc2VsZWN0aW9uLCByZXBsYWNlKSB7XG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgcmVwbGFjZSgnKionICsgc2VsZWN0aW9uICsgJyoqJyk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcbmltcG9ydCBmb3JtYXRGaWxlc2l6ZSBmcm9tICdtaXNhZ28vdXRpbHMvZmlsZS1zaXplJztcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkluc2VydCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnJlcGxhY2VTZWxlY3Rpb24odGhpcy5pbnNlcnRBdHRhY2htZW50KTtcbiAgfTtcblxuICBpbnNlcnRBdHRhY2htZW50ID0gKHNlbGVjdGlvbiwgcmVwbGFjZSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnByb3BzLml0ZW07XG5cbiAgICBpZiAoaXRlbS5pc19pbWFnZSkge1xuICAgICAgaWYgKGl0ZW0udXJsLnRodW1iKSB7XG4gICAgICAgIHJlcGxhY2UoJ1shWycgKyBpdGVtLmZpbGVuYW1lICsgJ10oJyArIGl0ZW0udXJsLnRodW1iICsgJyldKCcgKyBpdGVtLnVybC5pbmRleCArICcpJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXBsYWNlKCdbIVsnICsgaXRlbS5maWxlbmFtZSArICddKCcgKyBpdGVtLnVybC5pbmRleCArICcpXSgnICsgaXRlbS51cmwuaW5kZXggKyAnKScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKCdbJyArIGl0ZW0uZmlsZW5hbWUgKyAnXSgnICsgaXRlbS51cmwuaW5kZXggKyAnKScpO1xuICAgIH1cbiAgfTtcblxuICBvblJlbW92ZSA9ICgpID0+IHtcbiAgICB0aGlzLnVwZGF0ZUl0ZW0oe1xuICAgICAgaXNSZW1vdmVkOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgb25VbmRvID0gKCkgPT4ge1xuICAgIHRoaXMudXBkYXRlSXRlbSh7XG4gICAgICBpc1JlbW92ZWQ6IGZhbHNlXG4gICAgfSk7XG4gIH07XG5cbiAgdXBkYXRlSXRlbSA9IChuZXdTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWRBdHRhY2htZW50cyA9IHRoaXMucHJvcHMuYXR0YWNobWVudHMubWFwKChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5pZCA9PT0gdGhpcy5wcm9wcy5pdGVtLmlkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCBuZXdTdGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodXBkYXRlZEF0dGFjaG1lbnRzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1jb21wbGV0ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS04IGNvbC1tZC05XCI+XG4gICAgICAgICAgICA8UHJldmlldyB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtZGV0YWlsc1wiPlxuICAgICAgICAgICAgICA8RmlsZW5hbWUgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxEZXRhaWxzIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTQgY29sLW1kLTMgeHMtbWFyZ2luLXRvcC1oYWxmXCI+XG4gICAgICAgICAgICA8QWN0aW9uc1xuICAgICAgICAgICAgICBvbkluc2VydD17dGhpcy5vbkluc2VydH1cbiAgICAgICAgICAgICAgb25SZW1vdmU9e3RoaXMub25SZW1vdmV9XG4gICAgICAgICAgICAgIG9uVW5kbz17dGhpcy5vblVuZG99XG4gICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmV2aWV3KHByb3BzKSB7XG4gIGlmIChwcm9wcy5pdGVtLmlzX2ltYWdlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxJbWFnZSB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEljb24gey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEltYWdlKHByb3BzKSB7XG4gIGNvbnN0IHRodW1ibmFpbFVybCA9IHByb3BzLml0ZW0udXJsLnRodW1iIHx8IHByb3BzLml0ZW0udXJsLmluZGV4O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1pbWFnZVwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMuaXRlbS51cmwuaW5kZXggKyAnP3NodmE9MSd9XG4gICAgICAgIHN0eWxlPXt7YmFja2dyb3VuZEltYWdlOiBcInVybCgnXCIgKyB0aHVtYm5haWxVcmwgKyBcIj9zaHZhPTEnKVwifX1cbiAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSWNvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtaWNvblwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBpbnNlcnRfZHJpdmVfZmlsZVxuICAgICAgPC9zcGFuPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlsZW5hbWUocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8aDQ+XG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCJcbiAgICAgICAgaHJlZj17cHJvcHMuaXRlbS51cmwuaW5kZXggKyAnP3NodmE9MSd9XG4gICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICA+XG4gICAgICAgIHtwcm9wcy5pdGVtLmZpbGVuYW1lfVxuICAgICAgPC9hPlxuICAgIDwvaDQ+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZXRhaWxzKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbDtcbiAgaWYgKHByb3BzLml0ZW0udXJsLnVwbG9hZGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cmwudXBsb2FkZXIpLFxuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVyX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfU1BBTiwge1xuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVyX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoREFURV9BQkJSLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cGxvYWRlZF9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5pdGVtLnVwbG9hZGVkX29uLmZyb21Ob3coKSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcIiUoZmlsZXR5cGUpcywgJShzaXplKXMsIHVwbG9hZGVkIGJ5ICUodXBsb2FkZXIpcyAlKHVwbG9hZGVkX29uKXMuXCIpKSwge1xuICAgIGZpbGV0eXBlOiBwcm9wcy5pdGVtLmZpbGV0eXBlLFxuICAgIHNpemU6IGZvcm1hdEZpbGVzaXplKHByb3BzLml0ZW0uc2l6ZSksXG4gICAgdXBsb2FkZXI6IHVzZXIsXG4gICAgdXBsb2FkZWRfb246IGRhdGVcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBY3Rpb25zKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1hY3Rpb25zXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICA8SW5zZXJ0IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPFJlbW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxVbmRvIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW5zZXJ0KHByb3BzKSB7XG4gIGlmICghIXByb3BzLml0ZW0uaXNSZW1vdmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkluc2VydH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiSW5zZXJ0XCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmUocHJvcHMpIHtcbiAgaWYgKCEhcHJvcHMuaXRlbS5pc1JlbW92ZWQgJiYgcHJvcHMuaXRlbS5hY2wuY2FuX2RlbGV0ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25SZW1vdmV9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlJlbW92ZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5kbyhwcm9wcykge1xuICBpZiAoIXByb3BzLml0ZW0uaXNSZW1vdmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub25VbmRvfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJVbmRvIHJlbW92YWxcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuXG5jb25zdCBTVFJPTkcgPSAnPHN0cm9uZz4lKG5hbWUpczwvc3Ryb25nPic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBmaWx0ZXJlZEF0dGFjaG1lbnRzID0gdGhpcy5wcm9wcy5hdHRhY2htZW50cy5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBpdGVtLmtleSAhPT0gdGhpcy5wcm9wcy5pdGVtLmtleTtcbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UoZmlsdGVyZWRBdHRhY2htZW50cyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGZpbGVuYW1lID0gaW50ZXJwb2xhdGUoU1RST05HLCB7XG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuaXRlbS5maWxlbmFtZSlcbiAgICB9LCB0cnVlKTtcblxuICAgIGNvbnN0IHRpdGxlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIkVycm9yIHVwbG9hZGluZyAlKGZpbGVuYW1lKXNcIiksIHtcbiAgICAgIGZpbGVuYW1lLFxuICAgICAgcHJvZ3Jlc3M6IHRoaXMucHJvcHMuaXRlbS5wcm9ncmVzcyArICclJ1xuICAgIH0sIHRydWUpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1lcnJvclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWVycm9yLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB3YXJuaW5nXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1lcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAgPGg0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiB0aXRsZSArICc6J319IC8+XG4gICAgICAgICAgPHA+e3RoaXMucHJvcHMuaXRlbS5lcnJvcn08L3A+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkRpc21pc3NcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59OyIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXR0YWNobWVudENvbXBsZXRlIGZyb20gJy4vY29tcGxldGUnO1xuaW1wb3J0IEF0dGFjaG1lbnRFcnJvciBmcm9tICcuL2Vycm9yJztcbmltcG9ydCBBdHRhY2htZW50VXBsb2FkIGZyb20gJy4vdXBsb2FkJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pdGVtLmlkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBdHRhY2htZW50Q29tcGxldGUgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH1cblxuICBpZiAocHJvcHMuaXRlbS5lcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8QXR0YWNobWVudEVycm9yIHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QXR0YWNobWVudFVwbG9hZCB7Li4ucHJvcHN9IC8+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IFNUUk9ORyA9ICc8c3Ryb25nPiUobmFtZSlzPC9zdHJvbmc+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgZmlsZW5hbWUgPSBpbnRlcnBvbGF0ZShTVFJPTkcsIHtcbiAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0uZmlsZW5hbWUpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiVXBsb2FkaW5nICUoZmlsZW5hbWUpcy4uLiAlKHByb2dyZXNzKXNcIiksIHtcbiAgICBmaWxlbmFtZSxcbiAgICBwcm9ncmVzczogcHJvcHMuaXRlbS5wcm9ncmVzcyArICclJ1xuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC11cGxvYWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtcHJvZ3Jlc3MtYmFyXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1wcm9ncmVzc1wiXG4gICAgICAgICAgc3R5bGU9e3t3aWR0aDogcHJvcHMuaXRlbS5wcm9ncmVzcyArICclJ319XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxwXG4gICAgICAgIGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LXVwbG9hZC1tZXNzYWdlXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fVxuICAgICAgLz5cbiAgICA8L2xpPlxuICApO1xufTsiLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi9saXN0JztcbmltcG9ydCBVcGxvYWRlciBmcm9tICcuL3VwbG9hZGVyJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFtaXNhZ28uZ2V0KCd1c2VyJykuYWNsLm1heF9hdHRhY2htZW50X3NpemUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudHNcIj5cbiAgICAgIDxMaXN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVcGxvYWRlciB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdHRhY2htZW50IGZyb20gJy4vYXR0YWNobWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgZWRpdG9yLWF0dGFjaG1lbnRzLWxpc3RcIj5cbiAgICAgIHtwcm9wcy5hdHRhY2htZW50cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8QXR0YWNobWVudCBpdGVtPXtpdGVtfSBrZXk9e2l0ZW0uaWQgfHwgaXRlbS5rZXl9IHsuLi5wcm9wc30gLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gICk7XG59O1xuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0b3ItdXBsb2FkLWZpZWxkJykuY2xpY2soKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCFtaXNhZ28uZ2V0KCd1c2VyJykuYWNsLm1heF9hdHRhY2htZW50X3NpemUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17J2J0biBidG4taWNvbiAnICsgdGhpcy5wcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KCdVcGxvYWQgZmlsZScpfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGZpbGVfdXBsb2FkXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH1cbn07XG4iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdO1xuICAgIGlmICghZmlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB1cGxvYWQgPSB7XG4gICAgICBpZDogbnVsbCxcbiAgICAgIGtleTogZ2V0UmFuZG9tS2V5KCksXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgZmlsZW5hbWU6IGZpbGUubmFtZVxuICAgIH07XG5cbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UoW3VwbG9hZF0uY29uY2F0KHRoaXMucHJvcHMuYXR0YWNobWVudHMpKTtcblxuICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBkYXRhLmFwcGVuZCgndXBsb2FkJywgZmlsZSk7XG5cbiAgICBhamF4LnVwbG9hZChtaXNhZ28uZ2V0KCdBVFRBQ0hNRU5UU19BUEknKSwgZGF0YSwgKHByb2dyZXNzKSA9PiB7XG4gICAgICB1cGxvYWQucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbiAgICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmNvbmNhdCgpKTtcbiAgICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBkYXRhLnVwbG9hZGVkX29uID0gbW9tZW50KGRhdGEudXBsb2FkZWRfb24pO1xuICAgICAgT2JqZWN0LmFzc2lnbih1cGxvYWQsIGRhdGEpO1xuICAgICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKHRoaXMucHJvcHMuYXR0YWNobWVudHMuY29uY2F0KCkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDAgfHwgcmVqZWN0aW9uLnN0YXR1cyA9PT0gNDEzKSB7XG4gICAgICAgIHVwbG9hZC5lcnJvciA9IHJlamVjdGlvbi5kZXRhaWw7XG4gICAgICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmNvbmNhdCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgaWQ9XCJlZGl0b3ItdXBsb2FkLWZpZWxkXCJcbiAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUtleSgpIHtcbiAgcmV0dXJuICd1cGxkLScgKyBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENvZGUgZnJvbSAnLi9hY3Rpb25zL2NvZGUnO1xuaW1wb3J0IEVtcGhhc2lzIGZyb20gJy4vYWN0aW9ucy9lbXBoYXNpcyc7XG5pbXBvcnQgSHIgZnJvbSAnLi9hY3Rpb25zL2hyJztcbmltcG9ydCBJbWFnZSBmcm9tICcuL2FjdGlvbnMvaW1hZ2UnO1xuaW1wb3J0IExpbmsgZnJvbSAnLi9hY3Rpb25zL2xpbmsnO1xuaW1wb3J0IFN0cmlrZXRyb3VnaCBmcm9tICcuL2FjdGlvbnMvc3RyaWtldHJvdWdoJztcbmltcG9ydCBTdHJvbmcgZnJvbSAnLi9hY3Rpb25zL3N0cm9uZyc7XG5pbXBvcnQgUXVvdGUgZnJvbSAnLi9hY3Rpb25zL3F1b3RlJztcbmltcG9ydCBBdHRhY2htZW50c0VkaXRvciBmcm9tICcuL2F0dGFjaG1lbnRzJztcbmltcG9ydCBVcGxvYWQgZnJvbSAnLi9hdHRhY2htZW50cy91cGxvYWQtYnV0dG9uJztcbmltcG9ydCBNYXJrdXBQcmV2aWV3IGZyb20gJy4vbWFya3VwLXByZXZpZXcnO1xuaW1wb3J0ICogYXMgdGV4dFV0aWxzIGZyb20gJy4vdGV4dHV0aWxzJztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNQcmV2aWV3TG9hZGluZzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgJCgnI2VkaXRvci10ZXh0YXJlYScpLmF0d2hvKHtcbiAgICAgIGF0OiAnQCcsXG4gICAgICBkaXNwbGF5VHBsOiAnPGxpPjxpbWcgc3JjPVwiJHthdmF0YXJ9XCIgYWx0PVwiXCI+JHt1c2VybmFtZX08L2xpPicsXG4gICAgICBpbnNlcnRUcGw6ICdAJHt1c2VybmFtZX0nLFxuICAgICAgc2VhcmNoS2V5IDogJ3VzZXJuYW1lJyxcbiAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICByZW1vdGVGaWx0ZXI6IGZ1bmN0aW9uKHF1ZXJ5LCBjYWxsYmFjaykge1xuICAgICAgICAgICQuZ2V0SlNPTihtaXNhZ28uZ2V0KCdNRU5USU9OX0FQSScpLCB7cTogcXVlcnl9LCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJyNlZGl0b3ItdGV4dGFyZWEnKS5vbihcImluc2VydGVkLmF0d2hvXCIsIChldmVudCwgZmxhZywgcXVlcnkpID0+IHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoZXZlbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgb25QcmV2aWV3Q2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNQcmV2aWV3TG9hZGluZzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgYWpheC5wb3N0KG1pc2Fnby5nZXQoJ1BBUlNFX01BUktVUF9BUEknKSwge3Bvc3Q6IHRoaXMucHJvcHMudmFsdWV9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBtb2RhbC5zaG93KFxuICAgICAgICA8TWFya3VwUHJldmlldyBtYXJrdXA9e2RhdGEucGFyc2VkfSAvPlxuICAgICAgKTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzUHJldmlld0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzUHJldmlld0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICByZXBsYWNlU2VsZWN0aW9uID0gKG9wZXJhdGlvbikgPT4ge1xuICAgIG9wZXJhdGlvbih0ZXh0VXRpbHMuZ2V0U2VsZWN0aW9uVGV4dCgpLCB0aGlzLl9yZXBsYWNlU2VsZWN0aW9uKTtcbiAgfTtcblxuICBfcmVwbGFjZVNlbGVjdGlvbiA9IChuZXdWYWx1ZSkgPT4ge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgdGFyZ2V0OiB7XG4gICAgICAgIHZhbHVlOiB0ZXh0VXRpbHMucmVwbGFjZShuZXdWYWx1ZSlcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWJvcmRlclwiPlxuICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfVxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmd9XG4gICAgICAgICAgaWQ9XCJlZGl0b3ItdGV4dGFyZWFcIlxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfVxuICAgICAgICAgIHJvd3M9XCI5XCJcbiAgICAgICAgPjwvdGV4dGFyZWE+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9ucy1saXN0IHB1bGwtbGVmdFwiPlxuICAgICAgICAgICAgPFN0cm9uZ1xuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8RW1waGFzaXNcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFN0cmlrZXRyb3VnaFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8SHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxRdW90ZVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8Q29kZVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8VXBsb2FkXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25QcmV2aWV3Q2xpY2t9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlByZXZpZXdcIil9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNsaWNrfVxuICAgICAgICAgICAgbG9hZGluZz17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnN1Ym1pdExhYmVsIHx8IGdldHRleHQoXCJQb3N0XCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNhbmNlbH1cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXggdmlzaWJsZS14cy1ibG9ja1wiIC8+XG4gICAgICAgICAgPFByb3RlY3RcbiAgICAgICAgICAgIGNhblByb3RlY3Q9e3RoaXMucHJvcHMuY2FuUHJvdGVjdH1cbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmd9XG4gICAgICAgICAgICBvblByb3RlY3Q9e3RoaXMucHJvcHMub25Qcm90ZWN0fVxuICAgICAgICAgICAgb25VbnByb3RlY3Q9e3RoaXMucHJvcHMub25VbnByb3RlY3R9XG4gICAgICAgICAgICBwcm90ZWN0PXt0aGlzLnByb3BzLnByb3RlY3R9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxBdHRhY2htZW50c0VkaXRvclxuICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnByb3BzLmF0dGFjaG1lbnRzfVxuICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcm90ZWN0KHByb3BzKSB7XG4gIGlmICghcHJvcHMuY2FuUHJvdGVjdCkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgbGFiZWwgPSBwcm9wcy5wcm90ZWN0ID8gZ2V0dGV4dCgnUHJvdGVjdGVkJykgOiBnZXR0ZXh0KCdQcm90ZWN0Jyk7XG5cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWljb24gYnRuLWRlZmF1bHQgYnRuLXByb3RlY3QgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgb25DbGljaz17cHJvcHMucHJvdGVjdCA/IHByb3BzLm9uVW5wcm90ZWN0IDogcHJvcHMub25Qcm90ZWN0fVxuICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB7cHJvcHMucHJvdGVjdCA/ICdsb2NrJyA6ICdsb2NrX291dGxpbmUnfVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHQgaGlkZGVuLW1kIGhpZGRlbi1sZ1wiPlxuICAgICAgICB7bGFiZWx9XG4gICAgICA8L3NwYW4+XG4gICAgPC9idXR0b24+XG4gICk7XG59XG4iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9taXNhZ28tbWFya3VwJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlByZXZpZXcgbWVzc2FnZVwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1hcmt1cC1wcmV2aWV3XCI+XG4gICAgICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLm1hcmt1cH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCJleHBvcnQgY29uc3QgdGV4dGFyZWFJZCA9ICdlZGl0b3ItdGV4dGFyZWEnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGV4dGFyZWEoKSB7XG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZXh0YXJlYUlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGV4dGFyZWFJZCkudmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25SYW5nZShzdGFydCwgZW5kKSB7XG4gIHJldHVybiB7XG4gICAgc3RhcnQsXG4gICAgZW5kXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb24oKSB7XG4gIGNvbnN0IGN0cmwgPSBnZXRUZXh0YXJlYSgpO1xuICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgY3RybC5mb2N1cygpO1xuICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgY29uc3QgbGVuZ3RoID0gcmFuZ2UudGV4dC5sZW5ndGg7XG4gICAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCAtY3RybC52YWx1ZS5sZW5ndGgpO1xuICAgIHJldHVybiBnZXRTZWxlY3Rpb25SYW5nZShyYW5nZS50ZXh0Lmxlbmd0aCAtIGxlbmd0aCwgcmFuZ2UudGV4dC5sZW5ndGgpO1xuICB9IGVsc2UgaWYgKGN0cmwuc2VsZWN0aW9uU3RhcnQgfHwgY3RybC5zZWxlY3Rpb25TdGFydCA9PSAnMCcpIHtcbiAgICByZXR1cm4gZ2V0U2VsZWN0aW9uUmFuZ2UoY3RybC5zZWxlY3Rpb25TdGFydCwgY3RybC5zZWxlY3Rpb25FbmQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25UZXh0KCkge1xuICBjb25zdCByYW5nZSA9IGdldFNlbGVjdGlvbigpO1xuICByZXR1cm4gJC50cmltKGdldFZhbHVlKCkuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQpKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2VsZWN0aW9uKHNlbGVjdGlvblJhbmdlKSB7XG4gIGNvbnN0IGN0cmwgPSBnZXRUZXh0YXJlYSgpO1xuICBpZiAoY3RybC5zZXRTZWxlY3Rpb25SYW5nZSkge1xuICAgIGN0cmwuZm9jdXMoKTtcbiAgICBjdHJsLnNldFNlbGVjdGlvblJhbmdlKHNlbGVjdGlvblJhbmdlLnN0YXJ0LCBzZWxlY3Rpb25SYW5nZS5lbmQpO1xuICB9IGVsc2UgaWYgKGN0cmwuY3JlYXRlVGV4dFJhbmdlKSB7XG4gICAgY29uc3QgcmFuZ2UgPSBjdHJsLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgc2VsZWN0aW9uUmFuZ2Uuc3RhcnQpO1xuICAgIHJhbmdlLm1vdmVFbmQoJ2NoYXJhY3RlcicsIHNlbGVjdGlvblJhbmdlLmVuZCk7XG4gICAgcmFuZ2Uuc2VsZWN0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9yZXBsYWNlKG15UmFuZ2UsIHJlcGxhY2VtZW50KSB7XG4gIGNvbnN0IGN0cmwgPSBnZXRUZXh0YXJlYSgpO1xuICBjb25zdCB0ZXh0ID0gY3RybC52YWx1ZTtcbiAgY29uc3Qgc3RhcnRUZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgbXlSYW5nZS5zdGFydCk7XG4gIGN0cmwudmFsdWUgPSB0ZXh0LnN1YnN0cmluZygwLCBteVJhbmdlLnN0YXJ0KSArIHJlcGxhY2VtZW50ICsgdGV4dC5zdWJzdHJpbmcobXlSYW5nZS5lbmQpO1xuICBzZXRTZWxlY3Rpb24oZ2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnRUZXh0Lmxlbmd0aCArIHJlcGxhY2VtZW50Lmxlbmd0aCwgc3RhcnRUZXh0Lmxlbmd0aCArIHJlcGxhY2VtZW50Lmxlbmd0aCkpO1xuICByZXR1cm4gY3RybC52YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2UocmVwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIF9yZXBsYWNlKGdldFNlbGVjdGlvbigpLCByZXBsYWNlbWVudCk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGlzVmFsaWRhdGVkKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5wcm9wcy52YWxpZGF0aW9uICE9PSBcInVuZGVmaW5lZFwiO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSAnZm9ybS1ncm91cCc7XG4gICAgaWYgKHRoaXMuaXNWYWxpZGF0ZWQoKSkge1xuICAgICAgY2xhc3NOYW1lICs9ICcgaGFzLWZlZWRiYWNrJztcbiAgICAgIGlmICh0aGlzLnByb3BzLnZhbGlkYXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgY2xhc3NOYW1lICs9ICcgaGFzLXN1Y2Nlc3MnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xhc3NOYW1lICs9ICcgaGFzLWVycm9yJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzTmFtZTtcbiAgfVxuXG4gIGdldEZlZWRiYWNrKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnZhbGlkYXRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImhlbHAtYmxvY2sgZXJyb3JzXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnZhbGlkYXRpb24ubWFwKChlcnJvciwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8cCBrZXk9e3RoaXMucHJvcHMuZm9yICsgJ0ZlZWRiYWNrSXRlbScgKyBpfT57ZXJyb3J9PC9wPjtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRGZWVkYmFja0Rlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWRhdGVkKCkpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8c3BhbiBpZD17dGhpcy5wcm9wcy5mb3IgKyAnX3N0YXR1cyd9IGNsYXNzTmFtZT1cInNyLW9ubHlcIj5cbiAgICAgICAge3RoaXMucHJvcHMudmFsaWRhdGlvbiA/IGdldHRleHQoJyhlcnJvciknKSA6IGdldHRleHQoJyhzdWNjZXNzKScpfVxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhlbHBUZXh0KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPnt0aGlzLnByb3BzLmhlbHBUZXh0fTwvcD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8bGFiZWwgY2xhc3NOYW1lPXsnY29udHJvbC1sYWJlbCAnICsgKHRoaXMucHJvcHMubGFiZWxDbGFzcyB8fCAnJyl9XG4gICAgICAgICAgICAgaHRtbEZvcj17dGhpcy5wcm9wcy5mb3IgfHwgJyd9PlxuICAgICAgICB7dGhpcy5wcm9wcy5sYWJlbCArICc6J31cbiAgICAgIDwvbGFiZWw+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jb250cm9sQ2xhc3MgfHwgJyd9PlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAge3RoaXMuZ2V0RmVlZGJhY2tEZXNjcmlwdGlvbigpfVxuICAgICAgICB7dGhpcy5nZXRGZWVkYmFjaygpfVxuICAgICAgICB7dGhpcy5nZXRIZWxwVGV4dCgpfVxuICAgICAgICB7dGhpcy5wcm9wcy5leHRyYSB8fCBudWxsfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5sZXQgdmFsaWRhdGVSZXF1aXJlZCA9IHJlcXVpcmVkKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgdmFsaWRhdGUoKSB7XG4gICAgbGV0IGVycm9ycyA9IHt9O1xuICAgIGlmICghdGhpcy5zdGF0ZS52YWxpZGF0b3JzKSB7XG4gICAgICByZXR1cm4gZXJyb3JzO1xuICAgIH1cblxuICAgIGxldCB2YWxpZGF0b3JzID0ge1xuICAgICAgcmVxdWlyZWQ6IHRoaXMuc3RhdGUudmFsaWRhdG9ycy5yZXF1aXJlZCB8fCB0aGlzLnN0YXRlLnZhbGlkYXRvcnMsXG4gICAgICBvcHRpb25hbDogdGhpcy5zdGF0ZS52YWxpZGF0b3JzLm9wdGlvbmFsIHx8IHt9XG4gICAgfTtcblxuICAgIGxldCB2YWxpZGF0ZWRGaWVsZHMgPSBbXTtcblxuICAgIC8vIGFkZCByZXF1aXJlZCBmaWVsZHMgdG8gdmFsaWRhdGlvblxuICAgIGZvciAobGV0IG5hbWUgaW4gdmFsaWRhdG9ycy5yZXF1aXJlZCkge1xuICAgICAgaWYgKHZhbGlkYXRvcnMucmVxdWlyZWQuaGFzT3duUHJvcGVydHkobmFtZSkgJiZcbiAgICAgICAgICB2YWxpZGF0b3JzLnJlcXVpcmVkW25hbWVdKSB7XG4gICAgICAgIHZhbGlkYXRlZEZpZWxkcy5wdXNoKG5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZCBvcHRpb25hbCBmaWVsZHMgdG8gdmFsaWRhdGlvblxuICAgIGZvciAobGV0IG5hbWUgaW4gdmFsaWRhdG9ycy5vcHRpb25hbCkge1xuICAgICAgaWYgKHZhbGlkYXRvcnMub3B0aW9uYWwuaGFzT3duUHJvcGVydHkobmFtZSkgJiZcbiAgICAgICAgICB2YWxpZGF0b3JzLm9wdGlvbmFsW25hbWVdKSB7XG4gICAgICAgIHZhbGlkYXRlZEZpZWxkcy5wdXNoKG5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHZhbGlkYXRlIGZpZWxkcyB2YWx1ZXNcbiAgICBmb3IgKGxldCBpIGluIHZhbGlkYXRlZEZpZWxkcykge1xuICAgICAgbGV0IG5hbWUgPSB2YWxpZGF0ZWRGaWVsZHNbaV07XG4gICAgICBsZXQgZmllbGRFcnJvcnMgPSB0aGlzLnZhbGlkYXRlRmllbGQobmFtZSwgdGhpcy5zdGF0ZVtuYW1lXSk7XG5cbiAgICAgIGlmIChmaWVsZEVycm9ycyA9PT0gbnVsbCkge1xuICAgICAgICBlcnJvcnNbbmFtZV0gPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChmaWVsZEVycm9ycykge1xuICAgICAgICBlcnJvcnNbbmFtZV0gPSBmaWVsZEVycm9ycztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3JzO1xuICB9XG5cbiAgaXNWYWxpZCgpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuICAgIGZvciAobGV0IGZpZWxkIGluIGVycm9ycykge1xuICAgICAgaWYgKGVycm9ycy5oYXNPd25Qcm9wZXJ0eShmaWVsZCkpIHtcbiAgICAgICAgaWYgKGVycm9yc1tmaWVsZF0gIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHZhbGlkYXRlRmllbGQobmFtZSwgdmFsdWUpIHtcbiAgICBsZXQgZXJyb3JzID0gW107XG4gICAgaWYgKCF0aGlzLnN0YXRlLnZhbGlkYXRvcnMpIHtcbiAgICAgIHJldHVybiBlcnJvcnM7XG4gICAgfVxuXG4gICAgbGV0IHZhbGlkYXRvcnMgPSB7XG4gICAgICByZXF1aXJlZDogKHRoaXMuc3RhdGUudmFsaWRhdG9ycy5yZXF1aXJlZCB8fCB0aGlzLnN0YXRlLnZhbGlkYXRvcnMpW25hbWVdLFxuICAgICAgb3B0aW9uYWw6ICh0aGlzLnN0YXRlLnZhbGlkYXRvcnMub3B0aW9uYWwgfHwge30pW25hbWVdXG4gICAgfTtcblxuICAgIGxldCByZXF1aXJlZEVycm9yID0gdmFsaWRhdGVSZXF1aXJlZCh2YWx1ZSkgfHwgZmFsc2U7XG5cbiAgICBpZiAodmFsaWRhdG9ycy5yZXF1aXJlZCkge1xuICAgICAgaWYgKHJlcXVpcmVkRXJyb3IpIHtcbiAgICAgICAgZXJyb3JzID0gW3JlcXVpcmVkRXJyb3JdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSBpbiB2YWxpZGF0b3JzLnJlcXVpcmVkKSB7XG4gICAgICAgICAgbGV0IHZhbGlkYXRpb25FcnJvciA9IHZhbGlkYXRvcnMucmVxdWlyZWRbaV0odmFsdWUpO1xuICAgICAgICAgIGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHZhbGlkYXRpb25FcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlcnJvcnMubGVuZ3RoID8gZXJyb3JzIDogbnVsbDtcbiAgICB9IGVsc2UgaWYgKHJlcXVpcmVkRXJyb3IgPT09IGZhbHNlICYmIHZhbGlkYXRvcnMub3B0aW9uYWwpIHtcbiAgICAgIGZvciAobGV0IGkgaW4gdmFsaWRhdG9ycy5vcHRpb25hbCkge1xuICAgICAgICBsZXQgdmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdG9ycy5vcHRpb25hbFtpXSh2YWx1ZSk7XG4gICAgICAgIGlmICh2YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaCh2YWxpZGF0aW9uRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlcnJvcnMubGVuZ3RoID8gZXJyb3JzIDogbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7IC8vIGZhbHNlID09PSBmaWVsZCB3YXNuJ3QgdmFsaWRhdGVkXG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGJpbmRJbnB1dCA9IChuYW1lKSA9PiB7XG4gICAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgICAgdGhpcy5jaGFuZ2VWYWx1ZShuYW1lLCBldmVudC50YXJnZXQudmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICBjaGFuZ2VWYWx1ZSA9IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgIGxldCBuZXdTdGF0ZSA9IHtcbiAgICAgIFtuYW1lXTogdmFsdWVcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybUVycm9ycyA9IHRoaXMuc3RhdGUuZXJyb3JzIHx8IHt9O1xuICAgIGZvcm1FcnJvcnNbbmFtZV0gPSB0aGlzLnZhbGlkYXRlRmllbGQobmFtZSwgbmV3U3RhdGVbbmFtZV0pO1xuICAgIG5ld1N0YXRlLmVycm9ycyA9IGZvcm1FcnJvcnM7XG5cbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgfTtcblxuICBjbGVhbigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICB9XG5cbiAgaGFuZGxlU3VibWl0ID0gKGV2ZW50KSA9PiB7XG4gICAgLy8gd2UgZG9uJ3QgcmVsb2FkIHBhZ2Ugb24gc3VibWlzc2lvbnNcbiAgICBpZiAoZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jbGVhbigpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtpc0xvYWRpbmc6IHRydWV9KTtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5zZW5kKCk7XG5cbiAgICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UudGhlbigoc3VjY2VzcykgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzTG9hZGluZzogZmFsc2V9KTtcbiAgICAgICAgICB0aGlzLmhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcyk7XG4gICAgICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0xvYWRpbmc6IGZhbHNlfSk7XG4gICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihyZWplY3Rpb24pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzTG9hZGluZzogZmFsc2V9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBpc0FjdGl2ZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0NvbnRyb2xsZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmlzQWN0aXZlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5wYXRoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKHRoaXMucHJvcHMucGF0aCkgPT09IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgIHJldHVybiAodGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJycpICsgJyAnKyAodGhpcy5wcm9wcy5hY3RpdmVDbGFzc05hbWUgfHwgJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJyc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICA8L2xpPjtcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwibG9hZGVyXCJ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkZXItc3Bpbm5pbmctd2hlZWxcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vYnV0dG9uJztcbmltcG9ydCBGb3JtIGZyb20gJy4vZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJy4vZm9ybS1ncm91cCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgYmVzdEFuc3dlcjogJzAnLFxuICAgICAgcG9sbDogJzAnLFxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb2xscyAmJiB0aGlzLnN0YXRlLnBvbGwgPT09ICcwJykge1xuICAgICAgY29uc3QgY29uZmlybWF0aW9uID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBhbGwgcG9sbHM/XCIpKTtcbiAgICAgIHJldHVybiBjb25maXJtYXRpb25cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgY29uc3QgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMuZGF0YSwge1xuICAgICAgYmVzdF9hbnN3ZXI6IHRoaXMuc3RhdGUuYmVzdEFuc3dlcixcbiAgICAgIHBvbGw6IHRoaXMuc3RhdGUucG9sbFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLmFwaSwgZGF0YSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzID0gKHN1Y2Nlc3MpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uU3VjY2VzcyhzdWNjZXNzKTtcbiAgICBtb2RhbC5oaWRlKCk7XG4gIH07XG5cbiAgaGFuZGxlRXJyb3IgPSAocmVqZWN0aW9uKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkVycm9yKHJlamVjdGlvbik7XG4gIH07XG5cbiAgb25CZXN0QW5zd2VyQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgnYmVzdEFuc3dlcicsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25Qb2xsQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9sbCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNZXJnZSB0aHJlYWRzXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8QmVzdEFuc3dlclNlbGVjdFxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMucHJvcHMuYmVzdEFuc3dlcnN9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25CZXN0QW5zd2VyQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmJlc3RBbnN3ZXJ9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxQb2xsU2VsZWN0XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5wcm9wcy5wb2xsc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvbGxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9sbH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJlc3RBbnN3ZXJTZWxlY3Qoe2Nob2ljZXMsIG9uQ2hhbmdlLCB2YWx1ZX0pIHtcbiAgaWYgKCFjaG9pY2VzKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxGb3JtR3JvdXBcbiAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQmVzdCBhbnN3ZXJcIil9XG4gICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIlBsZWFzZSBzZWxlY3QgdGhlIGJlc3QgYW5zd2VyIGZvciB5b3VyIG5ld2x5IG1lcmdlZCB0aHJlYWQuIE5vIHBvc3RzIHdpbGwgYmUgZGVsZXRlZCBkdXJpbmcgdGhlIG1lcmdlLlwiKX1cbiAgICAgIGZvcj1cImlkX2Jlc3RfYW5zd2VyXCJcbiAgICA+XG4gICAgICA8c2VsZWN0XG4gICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgIGlkPVwiaWRfYmVzdF9hbnN3ZXJcIlxuICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgID5cbiAgICAgICAge2Nob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17Y2hvaWNlWzBdfSBrZXk9e2Nob2ljZVswXX0+XG4gICAgICAgICAgICAgIHtjaG9pY2VbMV19XG4gICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvc2VsZWN0PlxuICAgIDwvRm9ybUdyb3VwPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbFNlbGVjdCh7IGNob2ljZXMsIG9uQ2hhbmdlLCB2YWx1ZSB9KSB7XG4gIGlmICghY2hvaWNlcykgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8Rm9ybUdyb3VwXG4gICAgICBsYWJlbD17Z2V0dGV4dChcIlBvbGxcIil9XG4gICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIlBsZWFzZSBzZWxlY3QgdGhlIHBvbGwgZm9yIHlvdXIgbmV3bHkgbWVyZ2VkIHRocmVhZC4gUmVqZWN0ZWQgcG9sbHMgd2lsbCBiZSBwZXJtYW5lbnRseSBkZWxldGVkIGFuZCBjYW5ub3QgYmUgcmVjb3ZlcmVkLlwiKX1cbiAgICAgIGZvcj1cImlkX3BvbGxcIlxuICAgID5cbiAgICAgIDxzZWxlY3RcbiAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgaWQ9XCJpZF9wb2xsXCJcbiAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICA+XG4gICAgICAgIHtjaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e2Nob2ljZVswXX0ga2V5PXtjaG9pY2VbMF19PlxuICAgICAgICAgICAgICB7Y2hvaWNlWzFdfVxuICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L3NlbGVjdD5cbiAgICA8L0Zvcm1Hcm91cD5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG9uZWJveCBmcm9tICdtaXNhZ28vc2VydmljZXMvb25lLWJveCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBvbmVib3gucmVuZGVyKHRoaXMuZG9jdW1lbnROb2RlKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIG9uZWJveC5yZW5kZXIodGhpcy5kb2N1bWVudE5vZGUpO1xuICB9XG5cbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgcmV0dXJuIG5leHRQcm9wcy5tYXJrdXAgIT09IHRoaXMucHJvcHMubWFya3VwO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YXJ0aWNsZVxuICAgICAgICBjbGFzc05hbWU9XCJtaXNhZ28tbWFya3VwXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHRoaXMucHJvcHMubWFya3VwfX1cbiAgICAgICAgcmVmPXsobm9kZSkgPT4geyB0aGlzLmRvY3VtZW50Tm9kZSA9IG5vZGU7IH19XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtbG9hZGVyXCI+XG4gICAgICA8TG9hZGVyIC8+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUGFuZWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFBhbmVsTWVzc2FnZSB7XG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhlbHBUZXh0KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPlxuICAgICAgICB7dGhpcy5wcm9wcy5oZWxwVGV4dH1cbiAgICAgIDwvcD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5pY29uIHx8ICdpbmZvX291dGxpbmUnfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICAgIHt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJjb25zdCBNQVhfUkVTVUxUUyA9IDU7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGRhdGEpIHtcbiAgY29uc3QgZmlsdGVyZWQgPSBkYXRhLmZpbHRlcigoc2VjdGlvbikgPT4ge1xuICAgIHJldHVybiBzZWN0aW9uLnJlc3VsdHMuY291bnQgPiAwO1xuICB9KTtcblxuICByZXR1cm4gZmlsdGVyZWQubWFwKChzZWN0aW9uKSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHtcbiAgICAgIGNvdW50OiBzZWN0aW9uLnJlc3VsdHMuY291bnQsXG4gICAgICByZXN1bHRzOiBzZWN0aW9uLnJlc3VsdHMucmVzdWx0cy5zbGljZSgwLCBNQVhfUkVTVUxUUylcbiAgICB9KTtcbiAgfSk7XG59IiwiZXhwb3J0IGNvbnN0IEhFQURFUiA9ICdIRUFERVInO1xuZXhwb3J0IGNvbnN0IFJFU1VMVCA9ICdSRVNVTFQnO1xuZXhwb3J0IGNvbnN0IEZPT1RFUiA9ICdGT09URVInOyIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSW5wdXQgZnJvbSAnLi9pbnB1dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2hpbGRyZW4sIG9uQ2hhbmdlLCBxdWVyeSB9KSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tc2VhcmNoLXJlc3VsdHNcIiByb2xlPVwibWVudVwiPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgPElucHV0XG4gICAgICAgICAgdmFsdWU9e3F1ZXJ5fVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgLz5cbiAgICAgIDwvbGk+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC91bD5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24tc2VhcmNoLW1lc3NhZ2VcIj5cbiAgICAgIHtnZXR0ZXh0KFwiU2VhcmNoIHJldHVybmVkIG5vIHJlc3VsdHMuXCIpfVxuICAgIDwvbGk+XG4gICk7XG59IiwiaW1wb3J0IHsgSEVBREVSLCBSRVNVTFQsIEZPT1RFUiB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocmVzdWx0cykge1xuICBjb25zdCBmbGF0bGlzdCA9IFtdO1xuICBmbGF0dGVuUHJvdmlkZXJzKHJlc3VsdHMsIGZsYXRsaXN0KTtcbiAgcmV0dXJuIGZsYXRsaXN0O1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuUHJvdmlkZXJzKHJlc3VsdHMsIGZsYXRsaXN0KSB7XG4gIGNvbnN0IGFycmF5TGVuZ3RoID0gcmVzdWx0cy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlMZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gcmVzdWx0c1tpXTtcblxuICAgIGZsYXRsaXN0LnB1c2goe1xuICAgICAgcHJvdmlkZXIsXG4gICAgICB0eXBlOiBIRUFERVJcbiAgICB9KTtcblxuICAgIGZsYXR0ZW5Qcm92aWRlcihwcm92aWRlciwgZmxhdGxpc3QpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5Qcm92aWRlcihwcm92aWRlciwgZmxhdGxpc3QpIHtcbiAgY29uc3QgYXJyYXlMZW5ndGggPSBwcm92aWRlci5yZXN1bHRzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheUxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gcHJvdmlkZXIucmVzdWx0c1tpXTtcbiAgICBmbGF0bGlzdC5wdXNoKHtcbiAgICAgIHByb3ZpZGVyLFxuICAgICAgcmVzdWx0LFxuICAgICAgdHlwZTogUkVTVUxUXG4gICAgfSk7XG4gIH1cblxuICBmbGF0bGlzdC5wdXNoKHtcbiAgICBwcm92aWRlcixcbiAgICB0eXBlOiBGT09URVJcbiAgfSk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJFU1VMVCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCBEcm9wZG93bk1lbnUgZnJvbSAnLi9kcm9wZG93bi1tZW51JztcbmltcG9ydCBFbXB0eSBmcm9tICcuL2VtcHR5JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi9sb2FkZXInO1xuaW1wb3J0IFJlc3VsdCBmcm9tICcuL3Jlc3VsdCc7XG5pbXBvcnQgZmxhdHRlblJlc3VsdHMgZnJvbSAnLi9mbGF0dGVuLXJlc3VsdHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGlzTG9hZGluZywgb25DaGFuZ2UsIHJlc3VsdHMsIHF1ZXJ5IH0pIHtcbiAgaWYgKCFxdWVyeS50cmltKCkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxEcm9wZG93bk1lbnUgb25DaGFuZ2U9e29uQ2hhbmdlfSBxdWVyeT17cXVlcnl9IC8+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChyZXN1bHRzLmxlbmd0aCkge1xuICAgIGNvbnN0IGZsYXRSZXN1bHRzID0gZmxhdHRlblJlc3VsdHMocmVzdWx0cyk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPERyb3Bkb3duTWVudSBvbkNoYW5nZT17b25DaGFuZ2V9IHF1ZXJ5PXtxdWVyeX0+XG4gICAgICAgIHtmbGF0UmVzdWx0cy5tYXAoKHByb3BzKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyB0eXBlLCBwcm92aWRlciwgcmVzdWx0IH0gPSBwcm9wcztcblxuICAgICAgICAgIGlmICh0eXBlID09PSBSRVNVTFQpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxSZXN1bHRcbiAgICAgICAgICAgICAgICBrZXk9e1twcm92aWRlci5pZCwgdHlwZSwgcmVzdWx0LmlkXS5qb2luKCdfJyl9XG4gICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFJlc3VsdFxuICAgICAgICAgICAgICBrZXk9e1twcm92aWRlci5pZCwgdHlwZV0uam9pbignXycpfVxuICAgICAgICAgICAgICBxdWVyeT17cXVlcnl9XG4gICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L0Ryb3Bkb3duTWVudT5cbiAgICApO1xuICB9IGVsc2UgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8RHJvcGRvd25NZW51IG9uQ2hhbmdlPXtvbkNoYW5nZX0gcXVlcnk9e3F1ZXJ5fT5cbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgPC9Ecm9wZG93bk1lbnU+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPERyb3Bkb3duTWVudSBvbkNoYW5nZT17b25DaGFuZ2V9IHF1ZXJ5PXtxdWVyeX0+XG4gICAgICA8RW1wdHkgLz5cbiAgICA8L0Ryb3Bkb3duTWVudT5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHZhbHVlLCBvbkNoYW5nZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGlucHV0XG4gICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgYXV0b0NvbXBsZXRlPVwib2ZmXCJcbiAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlNlYXJjaFwiKX1cbiAgICAgIHJvbGU9XCJjb21ib2JveFwiXG4gICAgICB0eXBlPVwidGV4dFwiXG4gICAgLz5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IG1lc3NhZ2UgfSkge1xuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtbG9hZGVyXCI+XG4gICAgICA8TG9hZGVyIC8+XG4gICAgPC9saT5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHByb3ZpZGVyLCBxdWVyeSB9KSB7XG4gIGNvbnN0IHVybCA9IHByb3ZpZGVyLnVybCArICc/cT0nICsgZW5jb2RlVVJJKHF1ZXJ5KTtcbiAgY29uc3QgbGFiZWwgPSBuZ2V0dGV4dChcbiAgICAnU2VlIGZ1bGwgXCIlKHByb3ZpZGVyKXNcIiByZXN1bHRzIHBhZ2Ugd2l0aCAlKGNvdW50KXMgcmVzdWx0LicsXG4gICAgJ1NlZSBmdWxsIFwiJShwcm92aWRlcilzXCIgcmVzdWx0cyBwYWdlIHdpdGggJShjb3VudClzIHJlc3VsdHMuJyxcbiAgICBwcm92aWRlci5jb3VudFxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC1mb290ZXJcIj5cbiAgICAgIDxhIGhyZWY9e3VybH0+XG4gICAgICAgIHtpbnRlcnBvbGF0ZShsYWJlbCwge1xuICAgICAgICAgIGNvdW50OiBwcm92aWRlci5jb3VudCxcbiAgICAgICAgICBwcm92aWRlcjogcHJvdmlkZXIubmFtZVxuICAgICAgICB9LCB0cnVlKX1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcHJvdmlkZXIgfSkge1xuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtaGVhZGVyXCI+XG4gICAgICB7cHJvdmlkZXIubmFtZX1cbiAgICA8L2xpPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBIRUFERVIsIEZPT1RFUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vZm9vdGVyJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9oZWFkZXInO1xuaW1wb3J0IFJlc3VsdCBmcm9tICcuL3Jlc3VsdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcHJvdmlkZXIsIHJlc3VsdCwgdHlwZSwgcXVlcnkgfSkge1xuICBpZiAodHlwZSA9PT0gSEVBREVSKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxIZWFkZXIgcHJvdmlkZXI9e3Byb3ZpZGVyfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gRk9PVEVSKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxGb290ZXIgcHJvdmlkZXI9e3Byb3ZpZGVyfSBxdWVyeT17cXVlcnl9IC8+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFJlc3VsdCBwcm92aWRlcj17cHJvdmlkZXJ9IHJlc3VsdD17cmVzdWx0fSAvPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVGhyZWFkIGZyb20gJy4vdGhyZWFkJztcbmltcG9ydCBVc2VyIGZyb20gJy4vdXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcHJvdmlkZXIsIHJlc3VsdCB9KSB7XG4gIGlmIChwcm92aWRlci5pZCA9PT0gJ3RocmVhZHMnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUaHJlYWQgcmVzdWx0PXtyZXN1bHR9IC8+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFVzZXIgcmVzdWx0PXtyZXN1bHR9IC8+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyByZXN1bHQgfSkge1xuICBjb25zdCB7IHBvc3RlciwgdGhyZWFkIH0gPSByZXN1bHQ7XG4gIGNvbnN0IGZvb3RlciA9IGdldHRleHQoXCJQb3N0ZWQgYnkgJShwb3N0ZXIpcyBvbiAlKHBvc3RlZF9vbilzIGluICUoY2F0ZWdvcnkpcy5cIik7XG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YSBocmVmPXtyZXN1bHQudXJsLmluZGV4fSBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtdGhyZWFkXCI+XG4gICAgICAgIDxoNT57dGhyZWFkLnRpdGxlfTwvaDU+XG4gICAgICAgIDxzbWFsbCBjbGFzc05hbWU9XCJkcm9wZG93bi1zZWFyY2gtcG9zdC1jb250ZW50XCI+XG4gICAgICAgICAgeyQocmVzdWx0LmNvbnRlbnQpLnRleHQoKX1cbiAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC1wb3N0LWZvb3RlclwiPlxuICAgICAgICAgIHtpbnRlcnBvbGF0ZShmb290ZXIsIHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiByZXN1bHQuY2F0ZWdvcnkubmFtZSxcbiAgICAgICAgICAgIHBvc3RlZF9vbjogbW9tZW50KHJlc3VsdC5wb3N0ZWRfb24pLmZvcm1hdCgnTEwnKSxcbiAgICAgICAgICAgIHBvc3RlcjogcmVzdWx0LnBvc3Rlcl9uYW1lXG4gICAgICAgICAgfSwgdHJ1ZSl9XG4gICAgICAgIDwvc21hbGw+XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHJlc3VsdCB9KSB7XG4gIGNvbnN0IHsgcmFuayB9ID0gcmVzdWx0O1xuXG4gIGNvbnN0IGRldGFpbCA9IGdldHRleHQoXCIlKHRpdGxlKXMsIGpvaW5lZCBvbiAlKGpvaW5lZF9vbilzXCIpO1xuICBjb25zdCB0aXRsZSA9IHJlc3VsdC50aXRsZSB8fCByYW5rLnRpdGxlIHx8IHJhbmsubmFtZTtcblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Jlc3VsdC51cmx9IGNsYXNzTmFtZT1cImRyb3Bkb3duLXNlYXJjaC11c2VyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT17Mzh9IHVzZXI9e3Jlc3VsdH0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+e3Jlc3VsdC51c2VybmFtZX08L2g1PlxuICAgICAgICAgICAgPHNtYWxsPlxuICAgICAgICAgICAgICB7aW50ZXJwb2xhdGUoZGV0YWlsLCB7XG4gICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgam9pbmVkX29uOiBtb21lbnQocmVzdWx0LmpvaW5lZF9vbikuZm9ybWF0KCdMTCcpXG4gICAgICAgICAgICAgIH0sIHRydWUpfVxuICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgY2xlYW5SZXN1bHRzIGZyb20gJy4vY2xlYW4tcmVzdWx0cyc7XG5pbXBvcnQgRHJvcGRvd24gZnJvbSAnLi9kcm9wZG93bic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNPcGVuOiBmYWxzZSxcbiAgICAgIHF1ZXJ5OiAnJyxcbiAgICAgIHJlc3VsdHM6IFtdXG4gICAgfTtcblxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uRG9jdW1lbnRNb3VzZURvd24pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uRXNjYXBlKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Eb2N1bWVudE1vdXNlRG93bik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25Fc2NhcGUpO1xuICB9XG5cbiAgb25Ub2dnbGUgPSAoZXYpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUsIHByb3BzKSA9PiB7XG4gICAgICBpZiAoIXByZXZTdGF0ZS5pc09wZW4pIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuZm9jdXMoKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgaXNPcGVuOiAhcHJldlN0YXRlLmlzT3BlbiB9O1xuICAgIH0pO1xuICB9O1xuXG4gIG9uRG9jdW1lbnRNb3VzZURvd24gPSAoZXYpID0+IHtcbiAgICBsZXQgY2xvc2VSZXN1bHRzID0gdHJ1ZTtcbiAgICBsZXQgbm9kZSA9IGV2LnRhcmdldDtcblxuICAgIHdoaWxlIChub2RlICE9PSBudWxsICYmIG5vZGUgIT09IGRvY3VtZW50KSB7XG4gICAgICBpZiAobm9kZSA9PT0gdGhpcy5jb250YWluZXIpIHtcbiAgICAgICAgY2xvc2VSZXN1bHRzID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG5cbiAgICBpZiAoY2xvc2VSZXN1bHRzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiBmYWxzZSB9KTtcbiAgICB9XG4gIH07XG5cbiAgb25Fc2NhcGUgPSAoZXYpID0+IHtcbiAgICBpZiAoZXYua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogZmFsc2UgfSk7XG4gICAgfVxuICB9O1xuXG4gIG9uQ2hhbmdlID0gKGV2KSA9PiB7XG4gICAgY29uc3QgcXVlcnkgPSBldi50YXJnZXQudmFsdWU7XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgcXVlcnkgfSk7XG4gICAgdGhpcy5sb2FkUmVzdWx0cyhxdWVyeS50cmltKCkpO1xuICB9O1xuXG4gIGxvYWRSZXN1bHRzKHF1ZXJ5KSB7XG4gICAgaWYgKCFxdWVyeS5sZW5ndGgpIHJldHVybjtcblxuICAgIGNvbnN0IGRlbGF5ID0gMzAwICsgKE1hdGgucmFuZG9tKCkgKiAzMDApO1xuXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmludGVydmFsSWQpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUgfSk7XG5cbiAgICB0aGlzLmludGVydmFsSWQgPSB3aW5kb3cuc2V0VGltZW91dChcbiAgICAgICgpID0+IHtcbiAgICAgICAgYWpheC5nZXQobWlzYWdvLmdldCgnU0VBUkNIX0FQSScpLCB7cTogcXVlcnl9KS50aGVuKFxuICAgICAgICAgIChkYXRhKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaW50ZXJ2YWxJZDogbnVsbCxcbiAgICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgcmVzdWx0czogY2xlYW5SZXN1bHRzKGRhdGEpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIChyZWplY3Rpb24pID0+IHtcbiAgICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBpbnRlcnZhbElkOiBudWxsLFxuICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGRlbGF5XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gXCJuYXZiYXItc2VhcmNoIGRyb3Bkb3duXCI7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNPcGVuKSBjbGFzc05hbWUgKz0gXCIgb3BlblwiO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9IHJlZj17KGNvbnRhaW5lcikgPT4gdGhpcy5jb250YWluZXIgPSBjb250YWluZXJ9PlxuICAgICAgICA8YVxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cIm5hdmJhci1pY29uXCJcbiAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICBocmVmPXttaXNhZ28uZ2V0KCdTRUFSQ0hfVVJMJyl9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vblRvZ2dsZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHNlYXJjaFxuICAgICAgICAgIDwvaT5cbiAgICAgICAgPC9hPlxuICAgICAgICA8RHJvcGRvd25cbiAgICAgICAgICBpc0xvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgIHJlc3VsdHM9e3RoaXMuc3RhdGUucmVzdWx0c31cbiAgICAgICAgICBxdWVyeT17dGhpcy5zdGF0ZS5xdWVyeX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhbmVsTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhbmVsLWxvYWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9PC9oMz5cbiAgICAgIDwvZGl2PlxuICAgICAgPFBhbmVsTG9hZGVyIC8+XG4gIDwvZGl2PlxuICApO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFuZWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm5leHRfb24pIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiWW91IHdpbGwgYmUgYWJsZSB0byBjaGFuZ2UgeW91ciB1c2VybmFtZSAlKG5leHRfY2hhbmdlKXMuXCIpLFxuICAgICAgICAgIHsnbmV4dF9jaGFuZ2UnOiB0aGlzLnByb3BzLm9wdGlvbnMubmV4dF9vbi5mcm9tTm93KCl9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJZb3UgaGF2ZSB1c2VkIHVwIGF2YWlsYWJsZSBuYW1lIGNoYW5nZXMuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8UGFuZWxNZXNzYWdlXG4gICAgICAgICAgaGVscFRleHQ9e3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgICAgICBtZXNzYWdlPXtnZXR0ZXh0KFwiWW91IGNhbid0IGNoYW5nZSB5b3VyIHVzZXJuYW1lIGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdXNlcm5hbWU6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVzZXJuYW1lOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZUNvbnRlbnQoKSxcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lTWluTGVuZ3RoKHByb3BzLm9wdGlvbnMubGVuZ3RoX21pbiksXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1heExlbmd0aChwcm9wcy5vcHRpb25zLmxlbmd0aF9tYXgpXG4gICAgICAgIF1cbiAgICAgIH0sXG5cbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgbGV0IHBocmFzZXMgPSBbXTtcblxuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuY2hhbmdlc19sZWZ0ID4gMCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJZb3UgY2FuIGNoYW5nZSB5b3VyIHVzZXJuYW1lICUoY2hhbmdlc19sZWZ0KXMgbW9yZSB0aW1lLlwiLFxuICAgICAgICBcIllvdSBjYW4gY2hhbmdlIHlvdXIgdXNlcm5hbWUgJShjaGFuZ2VzX2xlZnQpcyBtb3JlIHRpbWVzLlwiLFxuICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMuY2hhbmdlc19sZWZ0KTtcblxuICAgICAgcGhyYXNlcy5wdXNoKGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ2NoYW5nZXNfbGVmdCc6IHRoaXMucHJvcHMub3B0aW9ucy5jaGFuZ2VzX2xlZnRcbiAgICAgIH0sIHRydWUpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLmFjbC5uYW1lX2NoYW5nZXNfZXhwaXJlID4gMCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJVc2VkIGNoYW5nZXMgYmVjb21lIGF2YWlsYWJsZSBhZ2FpbiBhZnRlciAlKG5hbWVfY2hhbmdlc19leHBpcmUpcyBkYXkuXCIsXG4gICAgICAgIFwiVXNlZCBjaGFuZ2VzIGJlY29tZSBhdmFpbGFibGUgYWdhaW4gYWZ0ZXIgJShuYW1lX2NoYW5nZXNfZXhwaXJlKXMgZGF5cy5cIixcbiAgICAgICAgdGhpcy5wcm9wcy51c2VyLmFjbC5uYW1lX2NoYW5nZXNfZXhwaXJlKTtcblxuICAgICAgcGhyYXNlcy5wdXNoKGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ25hbWVfY2hhbmdlc19leHBpcmUnOiB0aGlzLnByb3BzLnVzZXIuYWNsLm5hbWVfY2hhbmdlc19leHBpcmVcbiAgICAgIH0sIHRydWUpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGhyYXNlcy5sZW5ndGggPyBwaHJhc2VzLmpvaW4oJyAnKSA6IG51bGw7XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuICAgIGlmIChlcnJvcnMudXNlcm5hbWUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy51c2VybmFtZVswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBpZiAodGhpcy5zdGF0ZS51c2VybmFtZS50cmltKCkgPT09IHRoaXMucHJvcHMudXNlci51c2VybmFtZSkge1xuICAgICAgc25hY2tiYXIuaW5mbyhnZXR0ZXh0KFwiWW91ciBuZXcgdXNlcm5hbWUgaXMgc2FtZSBhcyBjdXJyZW50IG9uZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS51c2VybmFtZSwge1xuICAgICAgJ3VzZXJuYW1lJzogdGhpcy5zdGF0ZS51c2VybmFtZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAndXNlcm5hbWUnOiAnJ1xuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5jb21wbGV0ZShzdWNjZXNzLnVzZXJuYW1lLCBzdWNjZXNzLnNsdWcsIHN1Y2Nlc3Mub3B0aW9ucyk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cblxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgdXNlcm5hbWVcIil9IGZvcj1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXt0aGlzLmdldEhlbHBUZXh0KCl9PlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpZF91c2VybmFtZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndXNlcm5hbWUnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX0gLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cblxuICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRm9ybUxvYWRpbmcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS1sb2FkaW5nJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybUxvY2tlZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvY2tlZCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFVzZXJuYW1lSGlzdG9yeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUsIGFkZE5hbWVDaGFuZ2UgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgdXBkYXRlVXNlcm5hbWUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBvcHRpb25zOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIilcbiAgICB9KTtcblxuICAgIFByb21pc2UuYWxsKFtcbiAgICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudXNlci5hcGkudXNlcm5hbWUpLFxuICAgICAgYWpheC5nZXQobWlzYWdvLmdldCgnVVNFUk5BTUVfQ0hBTkdFU19BUEknKSwge3VzZXI6IHRoaXMucHJvcHMudXNlci5pZH0pXG4gICAgXSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhWzFdLnJlc3VsdHMpKTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgY2hhbmdlc19sZWZ0OiBkYXRhWzBdLmNoYW5nZXNfbGVmdCxcbiAgICAgICAgICBsZW5ndGhfbWluOiBkYXRhWzBdLmxlbmd0aF9taW4sXG4gICAgICAgICAgbGVuZ3RoX21heDogZGF0YVswXS5sZW5ndGhfbWF4LFxuICAgICAgICAgIG5leHRfb246IGRhdGFbMF0ubmV4dF9vbiA/IG1vbWVudChkYXRhWzBdLm5leHRfb24pIDogbnVsbCxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG9uQ29tcGxldGUgPSAodXNlcm5hbWUsIHNsdWcsIG9wdGlvbnMpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgYWRkTmFtZUNoYW5nZSh7IHVzZXJuYW1lLCBzbHVnIH0sIHRoaXMucHJvcHMudXNlciwgdGhpcy5wcm9wcy51c2VyKSk7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICB1cGRhdGVVc2VybmFtZSh0aGlzLnByb3BzLnVzZXIsIHVzZXJuYW1lLCBzbHVnKSk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHVzZXJuYW1lIGhhcyBiZWVuIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5LlwiKSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Q2hhbmdlRm9ybSgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtTG9hZGluZyAvPlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUub3B0aW9ucy5jaGFuZ2VzX2xlZnQgPT09IDApIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxGb3JtTG9ja2VkIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc30gLz5cbiAgICAgICk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1cbiAgICAgICAgY29tcGxldGU9e3RoaXMub25Db21wbGV0ZX1cbiAgICAgICAgb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfVxuICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAvPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHt0aGlzLmdldENoYW5nZUZvcm0oKX1cbiAgICAgICAgPFVzZXJuYW1lSGlzdG9yeVxuICAgICAgICAgIGNoYW5nZXM9e3RoaXMucHJvcHNbJ3VzZXJuYW1lLWhpc3RvcnknXX1cbiAgICAgICAgICBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJEZWxldGUgYWNjb3VudFwiKSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIilcbiAgICB9KTtcbiAgfVxuXG4gIG9uUGFzc3dvcmRDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgcGFzc3dvcmQ6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdCA9IChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCB7IGlzTG9hZGluZywgcGFzc3dvcmQgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgeyB1c2VyIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKHBhc3N3b3JkLmxlbmd0aCA9PSAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRW50ZXIgeW91ciBwYXNzd29yZCB0byBjb25maXJtIGFjY291bnQgZGVsZXRpb24uXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaXNMb2FkaW5nKSByZXR1cm4gZmFsc2U7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9KTtcblxuICAgIGFqYXgucG9zdCh1c2VyLmFwaS5kZWxldGUsIHsgcGFzc3dvcmQgfSkudGhlbihcbiAgICAgIChzdWNjZXNzKSA9PiB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbWlzYWdvLmdldCgnTUlTQUdPX1BBVEgnKTtcbiAgICAgIH0sXG4gICAgICAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0pO1xuICAgICAgICBpZiAocmVqZWN0aW9uLnBhc3N3b3JkKSB7XG4gICAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBhc3N3b3JkWzBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRhbmdlciBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkRlbGV0ZSBhY2NvdW50XCIpfTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJZb3UgYXJlIGdvaW5nIHRvIGRlbGV0ZSB5b3VyIGFjY291bnQuIFRoaXMgYWN0aW9uIGlzIG5vbnJldmVyc2libGUsIGFuZCB3aWxsIHJlc3VsdCBpbiBmb2xsb3dpbmcgZGF0YSBiZWluZyBkZWxldGVkOlwiKX1cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgPHA+LSB7Z2V0dGV4dChcIlN0b3JlZCBJUCBhZGRyZXNzZXMgYXNzb2NpYXRlZCB3aXRoIGNvbnRlbnQgdGhhdCB5b3UgaGF2ZSBwb3N0ZWQgd2lsbCBiZSBkZWxldGVkLlwiKX08L3A+XG4gICAgICAgICAgICA8cD4tIHtnZXR0ZXh0KFwiWW91ciB1c2VybmFtZSB3aWxsIGJlY29tZSBhdmFpbGFibGUgZm9yIG90aGVyIHVzZXIgdG8gcmVuYW1lIHRvIG9yIGZvciBuZXcgdXNlciB0byByZWdpc3RlciB0aGVpciBhY2NvdW50IHdpdGguXCIpfTwvcD5cbiAgICAgICAgICAgIDxwPi0ge2dldHRleHQoXCJZb3VyIGUtbWFpbCB3aWxsIGJlY29tZSBhdmFpbGFibGUgZm9yIHVzZSBpbiBuZXcgYWNjb3VudCByZWdpc3RyYXRpb24uXCIpfTwvcD5cblxuICAgICAgICAgICAgPGhyLz5cblxuICAgICAgICAgICAgPHA+e2dldHRleHQoXCJBbGwgeW91ciBwb3N0ZWQgY29udGVudCB3aWxsIE5PVCBiZSBkZWxldGVkLCBidXQgdXNlcm5hbWUgYXNzb2NpYXRlZCB3aXRoIGl0IHdpbGwgYmUgY2hhbmdlZCB0byBvbmUgc2hhcmVkIGJ5IGFsbCBkZWxldGVkIGFjY291bnRzLlwiKX08L3A+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlucHV0LWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICBuYW1lPVwicGFzc3dvcmQtY29uZmlybWF0aW9uXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiRW50ZXIgeW91ciBwYXNzd29yZCB0byBjb25maXJtIGFjY291bnQgZGVsZXRpb24uXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUGFzc3dvcmRDaGFuZ2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlucHV0LWdyb3VwLWJ0blwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLWRhbmdlclwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlIG15IGFjY291bnRcIil9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb3dubG9hZERhdGEgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc1N1Ym1pdGluZzogZmFsc2UsXG4gICAgICBkb3dubG9hZHM6IFtdXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiRG93bmxvYWQgeW91ciBkYXRhXCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pO1xuXG4gICAgdGhpcy5oYW5kbGVMb2FkRG93bmxvYWRzKCk7XG4gIH1cblxuICBoYW5kbGVMb2FkRG93bmxvYWRzID0gKCkgPT4ge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudXNlci5hcGkuZGF0YV9kb3dubG9hZHMpLnRoZW4oXG4gICAgICAoZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGRvd25sb2FkczogZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgKTtcbiAgfTtcblxuICBoYW5kbGVSZXF1ZXN0RGF0YURvd25sb2FkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBpc1N1Ym1pdGluZzogdHJ1ZSB9KTtcbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5yZXF1ZXN0X2RhdGFfZG93bmxvYWQpLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlTG9hZERvd25sb2FkcygpO1xuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHJlcXVlc3QgZm9yIGRhdGEgZG93bmxvYWQgaGFzIGJlZW4gcmVnaXN0ZXJlZC5cIikpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNTdWJtaXRpbmc6IGZhbHNlIH0pO1xuICAgICAgfSxcbiAgICAgIChyZWplY3Rpb24pID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVqZWN0aW9uKVxuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNTdWJtaXRpbmc6IGZhbHNlIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkRvd25sb2FkIHlvdXIgZGF0YVwiKX08L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuXG4gICAgICAgICAgICA8cD57Z2V0dGV4dChcIlRvIGRvd25sb2FkIHlvdXIgZGF0YSBmcm9tIHRoZSBzaXRlLCBjbGljayB0aGUgXFxcIlJlcXVlc3QgZGF0YSBkb3dubG9hZFxcXCIgYnV0dG9uLiBEZXBlbmRpbmcgb24gYW1vdW50IG9mIGRhdGEgdG8gYmUgYXJjaGl2ZWQgYW5kIG51bWJlciBvZiB1c2VycyB3YW50aW5nIHRvIGRvd25sb2FkIHRoZWlyIGRhdGEgYXQgc2FtZSB0aW1lIGl0IG1heSB0YWtlIHVwIHRvIGZldyBkYXlzIGZvciB5b3VyIGRvd25sb2FkIHRvIGJlIHByZXBhcmVkLiBBbiBlLW1haWwgd2l0aCBub3RpZmljYXRpb24gd2lsbCBiZSBzZW50IHRvIHlvdSB3aGVuIHlvdXIgZGF0YSBpcyByZWFkeSB0byBiZSBkb3dubG9hZGVkLlwiKX08L3A+XG5cbiAgICAgICAgICAgIDxwPntnZXR0ZXh0KFwiVGhlIGRvd25sb2FkIHdpbGwgb25seSBiZSBhdmFpbGFibGUgZm9yIGxpbWl0ZWQgYW1vdW50IG9mIHRpbWUsIGFmdGVyIHdoaWNoIGl0IHdpbGwgYmUgZGVsZXRlZCBmcm9tIHRoZSBzaXRlIGFuZCBtYXJrZWQgYXMgZXhwaXJlZC5cIil9PC9wPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRhYmxlXCI+XG4gICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGg+e2dldHRleHQoXCJSZXF1ZXN0ZWQgb25cIil9PC90aD5cbiAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwiY29sLW1kLTRcIj57Z2V0dGV4dChcIkRvd25sb2FkXCIpfTwvdGg+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5kb3dubG9hZHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2l0ZW0uaWR9PlxuICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3Jvd1N0eWxlfT57bW9tZW50KGl0ZW0ucmVxdWVzdGVkX29uKS5mcm9tTm93KCl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgICAgICAgIDxEb3dubG9hZEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0RmlsZT17aXRlbS5maWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzPXtpdGVtLnN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5kb3dubG9hZHMubGVuZ3RoID09IDAgP1xuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjb2xTcGFuPVwiMlwiPntnZXR0ZXh0KFwiWW91IGhhdmUgbm8gZGF0YSBkb3dubG9hZHMuXCIpfTwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj4gOiBudWxsfVxuICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzU3VibWl0aW5nfVxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVSZXF1ZXN0RGF0YURvd25sb2FkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJlcXVlc3QgZGF0YSBkb3dubG9hZFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgcm93U3R5bGUgPSB7XG4gIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnXG59O1xuXG5jb25zdCBTVEFUVVNfUEVORElORyA9IDA7XG5jb25zdCBTVEFUVVNfUFJPQ0VTU0lORyA9IDE7XG5cbmNvbnN0IERvd25sb2FkQnV0dG9uID0gKHsgZXhwb3J0RmlsZSwgc3RhdHVzIH0pID0+IHtcbiAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX1BFTkRJTkcgfHwgc3RhdHVzID09PSBTVEFUVVNfUFJPQ0VTU0lORykge1xuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1pbmZvIGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiRG93bmxvYWQgaXMgYmVpbmcgcHJlcGFyZWRcIil9XG4gICAgICA8L0J1dHRvbj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGV4cG9ydEZpbGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGFcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBocmVmPXtleHBvcnRGaWxlfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkRvd25sb2FkIHlvdXIgZGF0YVwiKX1cbiAgICAgIDwvYT5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gYnRuLWJsb2NrXCJcbiAgICAgIGRpc2FibGVkPXt0cnVlfVxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgPlxuICAgICAge2dldHRleHQoXCJEb3dubG9hZCBpcyBleHBpcmVkXCIpfVxuICAgIDwvQnV0dG9uPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9lZGl0LWRldGFpbHMnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkVkaXQgZGV0YWlsc1wiKSxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIilcbiAgICB9KTtcbiAgfVxuXG4gIG9uU3VjY2VzcyA9ICgpID0+IHtcbiAgICBzbmFja2Jhci5pbmZvKGdldHRleHQoXCJZb3VyIGRldGFpbHMgaGF2ZSBiZWVuIHVwZGF0ZWQuXCIpKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxGb3JtXG4gICAgICAgIGFwaT17dGhpcy5wcm9wcy51c2VyLmFwaS5lZGl0X2RldGFpbHN9XG4gICAgICAgIG9uU3VjY2Vzcz17dGhpcy5vblN1Y2Nlc3N9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBZZXNOb1N3aXRjaCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy95ZXMtbm8tc3dpdGNoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9hdXRoJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnaXNMb2FkaW5nJzogZmFsc2UsXG5cbiAgICAgICdpc19oaWRpbmdfcHJlc2VuY2UnOiBwcm9wcy51c2VyLmlzX2hpZGluZ19wcmVzZW5jZSxcbiAgICAgICdsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byc6IHByb3BzLnVzZXIubGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG8sXG4gICAgICAnc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcyc6IHByb3BzLnVzZXIuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcyxcbiAgICAgICdzdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzJzogcHJvcHMudXNlci5zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzLFxuXG4gICAgICAnZXJyb3JzJzoge31cbiAgICB9O1xuXG4gICAgdGhpcy5wcml2YXRlVGhyZWFkSW52aXRlc0Nob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ2hlbHBfb3V0bGluZScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJFdmVyeWJvZHlcIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDEsXG4gICAgICAgICdpY29uJzogJ2RvbmVfYWxsJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlVzZXJzIEkgZm9sbG93XCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAyLFxuICAgICAgICAnaWNvbic6ICdoaWdobGlnaHRfb2ZmJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vYm9keVwiKVxuICAgICAgfVxuICAgIF07XG5cbiAgICB0aGlzLnN1YnNjcmliZVRvQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAnc3Rhcl9ib3JkZXInLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDEsXG4gICAgICAgICdpY29uJzogJ3N0YXJfaGFsZicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb3RpZnlcIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDIsXG4gICAgICAgICdpY29uJzogJ3N0YXInLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm90aWZ5IHdpdGggZS1tYWlsXCIpXG4gICAgICB9XG4gICAgXTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpLm9wdGlvbnMsIHtcbiAgICAgIGlzX2hpZGluZ19wcmVzZW5jZTogdGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2UsXG4gICAgICBsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190bzogdGhpcy5zdGF0ZS5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byxcbiAgICAgIHN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcyxcbiAgICAgIHN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1xuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcygpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChwYXRjaCh7XG4gICAgICBpc19oaWRpbmdfcHJlc2VuY2U6IHRoaXMuc3RhdGUuaXNfaGlkaW5nX3ByZXNlbmNlLFxuICAgICAgbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG86IHRoaXMuc3RhdGUubGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG8sXG4gICAgICBzdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzOiB0aGlzLnN0YXRlLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMsXG4gICAgICBzdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzOiB0aGlzLnN0YXRlLnN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHNcbiAgICB9KSk7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciBmb3J1bSBvcHRpb25zIGhhdmUgYmVlbiBjaGFuZ2VkLlwiKSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiUGxlYXNlIHJlbG9hZCBwYWdlIGFuZCB0cnkgYWdhaW4uXCIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJGb3J1bSBvcHRpb25zXCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIGZvcnVtIG9wdGlvbnNcIil9PC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cblxuICAgICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgICA8bGVnZW5kPntnZXR0ZXh0KFwiUHJpdmFjeSBzZXR0aW5nc1wiKX08L2xlZ2VuZD5cblxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJIaWRlIG15IHByZXNlbmNlXCIpfVxuICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiSWYgeW91IGhpZGUgeW91ciBwcmVzZW5jZSwgb25seSBtZW1iZXJzIHdpdGggcGVybWlzc2lvbiB0byBzZWUgaGlkZGVuIHVzZXJzIHdpbGwgc2VlIHdoZW4geW91IGFyZSBvbmxpbmUuXCIpfVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2hpZGluZ19wcmVzZW5jZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8WWVzTm9Td2l0Y2hcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfaXNfaGlkaW5nX3ByZXNlbmNlXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGljb25Pbj1cInZpc2liaWxpdHlfb2ZmXCJcbiAgICAgICAgICAgICAgICAgIGljb25PZmY9XCJ2aXNpYmlsaXR5XCJcbiAgICAgICAgICAgICAgICAgIGxhYmVsT249e2dldHRleHQoXCJIaWRlIG15IHByZXNlbmNlIGZyb20gb3RoZXIgdXNlcnNcIil9XG4gICAgICAgICAgICAgICAgICBsYWJlbE9mZj17Z2V0dGV4dChcIlNob3cgbXkgcHJlc2VuY2UgdG8gb3RoZXIgdXNlcnNcIil9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2hpZGluZ19wcmVzZW5jZScpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkaW5nX3ByZXNlbmNlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlByaXZhdGUgdGhyZWFkIGludml0YXRpb25zXCIpfVxuICAgICAgICAgICAgICAgIGZvcj1cImlkX2xpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG9cIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190bycpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG99XG4gICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnByaXZhdGVUaHJlYWRJbnZpdGVzQ2hvaWNlc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgICAgIDxmaWVsZHNldD5cbiAgICAgICAgICAgICAgPGxlZ2VuZD57Z2V0dGV4dChcIkF1dG9tYXRpYyBzdWJzY3JpcHRpb25zXCIpfTwvbGVnZW5kPlxuXG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlRocmVhZHMgSSBzdGFydFwiKX1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF9zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3N1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMnKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHN9XG4gICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN1YnNjcmliZVRvQ2hvaWNlc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWRzIEkgcmVwbHkgdG9cIil9XG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3N1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHNcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdzdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzJyl9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzfVxuICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdWJzY3JpYmVUb0Nob2ljZXN9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2ZpZWxkc2V0PlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cblxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJTYXZlIGNoYW5nZXNcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgTGkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbGknO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZnVuY3Rpb24gU2lkZU5hdihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1ncm91cCBuYXYtc2lkZVwiPlxuICAgICAge3Byb3BzLm9wdGlvbnMubWFwKChvcHRpb24pID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBvcHRpb24uY29tcG9uZW50ICsgJy8nfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiXG4gICAgICAgICAgICBrZXk9e29wdGlvbi5jb21wb25lbnR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICB7b3B0aW9uLmljb259XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7b3B0aW9uLm5hbWV9XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb21wYWN0TmF2KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwiZHJvcGRvd24tbWVudSBzdGljay10by1ib3R0b21cIn0gcm9sZT1cIm1lbnVcIj5cbiAgICAgIHtwcm9wcy5vcHRpb25zLm1hcCgob3B0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpXG4gICAgICAgICAgICBwYXRoPXtwcm9wcy5iYXNlVXJsICsgb3B0aW9uLmNvbXBvbmVudCArICcvJ31cbiAgICAgICAgICAgIGtleT17b3B0aW9uLmNvbXBvbmVudH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIG9wdGlvbi5jb21wb25lbnQgKyAnLyd9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3Byb3BzLmhpZGVOYXZ9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb24gaGlkZGVuLXNtXCI+XG4gICAgICAgICAgICAgICAge29wdGlvbi5pY29ufVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHtvcHRpb24ubmFtZX1cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L0xpPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBTaWRlTmF2LCBDb21wYWN0TmF2IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9uYXZzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRGVsZXRlQWNjb3VudCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2RlbGV0ZS1hY2NvdW50JztcbmltcG9ydCBFZGl0RGV0YWlscyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2VkaXQtZGV0YWlscyc7XG5pbXBvcnQgRG93bmxvYWREYXRhIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvZG93bmxvYWQtZGF0YSc7XG5pbXBvcnQgQ2hhbmdlRm9ydW1PcHRpb25zIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvZm9ydW0tb3B0aW9ucyc7XG5pbXBvcnQgQ2hhbmdlVXNlcm5hbWUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvcm9vdCc7XG5pbXBvcnQgQ2hhbmdlU2lnbkluQ3JlZGVudGlhbHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL3Jvb3QnO1xuaW1wb3J0IFdpdGhEcm9wZG93biBmcm9tICdtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBXaXRoRHJvcGRvd24ge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1vcHRpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuXG4gICAgICAgICAgICAgIDxoMT57Z2V0dGV4dChcIkNoYW5nZSB5b3VyIG9wdGlvbnNcIil9PC9oMT5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGFicyB2aXNpYmxlLXhzLWJsb2NrIHZpc2libGUtc20tYmxvY2tcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8Q29tcGFjdE5hdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxsc1wiXG4gICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJyl9XG4gICAgICAgICAgICAgICAgICBvcHRpb25zPXttaXNhZ28uZ2V0KCdVU0VSX09QVElPTlMnKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cblxuICAgICAgICAgICAgICA8U2lkZU5hdlxuICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKX1cbiAgICAgICAgICAgICAgICBvcHRpb25zPXttaXNhZ28uZ2V0KCdVU0VSX09QVElPTlMnKX1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05XCI+XG5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAndXNlcic6IHN0b3JlLmF1dGgudXNlcixcbiAgICAndXNlcm5hbWUtaGlzdG9yeSc6IHN0b3JlWyd1c2VybmFtZS1oaXN0b3J5J11cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKCkge1xuICBjb25zdCBwYXRocyA9IFtcbiAgICB7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJykgKyAnZm9ydW0tb3B0aW9ucy8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ2hhbmdlRm9ydW1PcHRpb25zKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUkNQX1VSTCcpICsgJ2VkaXQtZGV0YWlscy8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoRWRpdERldGFpbHMpXG4gICAgfSxcbiAgICB7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJykgKyAnY2hhbmdlLXVzZXJuYW1lLycsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VVc2VybmFtZSlcbiAgICB9LFxuICAgIHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKSArICdzaWduLWluLWNyZWRlbnRpYWxzLycsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VTaWduSW5DcmVkZW50aWFscylcbiAgICB9XG4gIF07XG5cbiAgaWYgKG1pc2Fnby5nZXQoJ0VOQUJMRV9ET1dOTE9BRF9PV05fREFUQScpKSB7XG4gICAgcGF0aHMucHVzaCh7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJykgKyAnZG93bmxvYWQtZGF0YS8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoRG93bmxvYWREYXRhKVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKG1pc2Fnby5nZXQoJ0VOQUJMRV9ERUxFVEVfT1dOX0FDQ09VTlQnKSkge1xuICAgIHBhdGhzLnB1c2goe1xuICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUkNQX1VSTCcpICsgJ2RlbGV0ZS1hY2NvdW50LycsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShEZWxldGVBY2NvdW50KVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHBhdGhzO1xufVxuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcblxuY29uc3QgVW51c2FibGVQYXNzd29yZE1lc3NhZ2UgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSBlbWFpbCBvciBwYXNzd29yZFwiKX08L2gzPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgcGFuZWwtbWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIllvdSBuZWVkIHRvIHNldCBhIHBhc3N3b3JkIGZvciB5b3VyIGFjY291bnQgdG8gYmUgYWJsZSB0byBjaGFuZ2UgeW91ciB1c2VybmFtZSBvciBlbWFpbC5cIil9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj5cbiAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIGhyZWY9e21pc2Fnby5nZXQoJ0ZPUkdPVFRFTl9QQVNTV09SRF9VUkwnKX0+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2V0IHBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVW51c2FibGVQYXNzd29yZE1lc3NhZ2U7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5ld19lbWFpbDogJycsXG4gICAgICBwYXNzd29yZDogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgbmV3X2VtYWlsOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5lbWFpbCgpXG4gICAgICAgIF0sXG4gICAgICAgIHBhc3N3b3JkOiBbXVxuICAgICAgfSxcblxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuICAgIGxldCBsZW5ndGhzID0gW1xuICAgICAgdGhpcy5zdGF0ZS5uZXdfZW1haWwudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUucGFzc3dvcmQudHJpbSgpLmxlbmd0aFxuICAgIF07XG5cbiAgICBpZiAobGVuZ3Rocy5pbmRleE9mKDApICE9PSAtMSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGFsbCBmaWVsZHMuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLm5ld19lbWFpbCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLm5ld19lbWFpbFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5jaGFuZ2VfZW1haWwsIHtcbiAgICAgIG5ld19lbWFpbDogdGhpcy5zdGF0ZS5uZXdfZW1haWwsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZCxcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG5ld19lbWFpbDogJycsXG4gICAgICBwYXNzd29yZDogJydcbiAgICB9KTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24ubmV3X2VtYWlsKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5uZXdfZW1haWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBhc3N3b3JkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgPGlucHV0IHR5cGU9XCJ0eXBlXCIgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fSAvPlxuICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIGUtbWFpbCBhZGRyZXNzXCIpfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cblxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgZS1tYWlsXCIpfSBmb3I9XCJpZF9uZXdfZW1haWxcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiaWRfbmV3X2VtYWlsXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCduZXdfZW1haWwnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5uZXdfZW1haWx9IC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICA8aHIgLz5cblxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJZb3VyIGN1cnJlbnQgcGFzc3dvcmRcIil9IGZvcj1cImlkX2NvbmZpcm1fZW1haWxcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cImlkX2NvbmZpcm1fZW1haWxcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9IC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG5cbiAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgZS1tYWlsXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBuZXdfcGFzc3dvcmQ6ICcnLFxuICAgICAgcmVwZWF0X3Bhc3N3b3JkOiAnJyxcbiAgICAgIHBhc3N3b3JkOiAnJyxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICBuZXdfcGFzc3dvcmQ6IFtdLFxuICAgICAgICByZXBlYXRfcGFzc3dvcmQ6IFtdLFxuICAgICAgICBwYXNzd29yZDogW11cbiAgICAgIH0sXG5cbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcbiAgICBsZXQgbGVuZ3RocyA9IFtcbiAgICAgIHRoaXMuc3RhdGUubmV3X3Bhc3N3b3JkLnRyaW0oKS5sZW5ndGgsXG4gICAgICB0aGlzLnN0YXRlLnJlcGVhdF9wYXNzd29yZC50cmltKCkubGVuZ3RoLFxuICAgICAgdGhpcy5zdGF0ZS5wYXNzd29yZC50cmltKCkubGVuZ3RoXG4gICAgXTtcblxuICAgIGlmIChsZW5ndGhzLmluZGV4T2YoMCkgIT09IC0xKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRmlsbCBvdXQgYWxsIGZpZWxkcy5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChlcnJvcnMubmV3X3Bhc3N3b3JkKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMubmV3X3Bhc3N3b3JkWzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmQgIT09IHRoaXMuc3RhdGUucmVwZWF0X3Bhc3N3b3JkKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiTmV3IHBhc3N3b3JkcyBhcmUgZGlmZmVyZW50LlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaS5jaGFuZ2VfcGFzc3dvcmQsIHtcbiAgICAgIG5ld19wYXNzd29yZDogdGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmQsXG4gICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbmV3X3Bhc3N3b3JkOiAnJyxcbiAgICAgIHJlcGVhdF9wYXNzd29yZDogJycsXG4gICAgICBwYXNzd29yZDogJydcbiAgICB9KTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24ubmV3X3Bhc3N3b3JkKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5uZXdfcGFzc3dvcmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBhc3N3b3JkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgPGlucHV0IHR5cGU9XCJ0eXBlXCIgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fSAvPlxuICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHBhc3N3b3JkXCIpfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cblxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgcGFzc3dvcmRcIil9IGZvcj1cImlkX25ld19wYXNzd29yZFwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwiaWRfbmV3X3Bhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCduZXdfcGFzc3dvcmQnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmR9IC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiUmVwZWF0IHBhc3N3b3JkXCIpfSBmb3I9XCJpZF9yZXBlYXRfcGFzc3dvcmRcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cImlkX3JlcGVhdF9wYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgncmVwZWF0X3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucmVwZWF0X3Bhc3N3b3JkfSAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiWW91ciBjdXJyZW50IHBhc3N3b3JkXCIpfSBmb3I9XCJpZF9jb25maXJtX3Bhc3N3b3JkXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgaWQ9XCJpZF9jb25maXJtX3Bhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdwYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWZvb3RlclwiPlxuXG4gICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHBhc3N3b3JkXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENoYW5nZUVtYWlsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtZW1haWwnO1xuaW1wb3J0IENoYW5nZVBhc3N3b3JkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtcGFzc3dvcmQnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcbmltcG9ydCBVbnVzYWJsZVBhc3N3b3JkTWVzc2FnZSBmcm9tICcuL1VudXNhYmxlUGFzc3dvcmRNZXNzYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJDaGFuZ2UgZW1haWwgb3IgcGFzc3dvcmRcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnVzZXIuaGFzX3VzYWJsZV9wYXNzd29yZCkge1xuICAgICAgcmV0dXJuIDxVbnVzYWJsZVBhc3N3b3JkTWVzc2FnZSAvPlxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8Q2hhbmdlRW1haWwgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuICAgICAgICA8Q2hhbmdlUGFzc3dvcmQgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cIm1lc3NhZ2UtbGluZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHdhcm5pbmdcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldCgnRk9SR09UVEVOX1BBU1NXT1JEX1VSTCcpfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIGZvcmdvdHRlbiBwYXNzd29yZFwiKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0cmluZ0NvdW50IGZyb20gJ21pc2Fnby91dGlscy9zdHJpbmctY291bnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jb3B5ICYmIHRoaXMucHJvcHMuY29weS5sZW5ndGgpIHtcbiAgICAgIGlmIChzdHJpbmdDb3VudCh0aGlzLnByb3BzLmNvcHksICc8cCcpID09PSAxICYmIHRoaXMucHJvcHMuY29weS5pbmRleE9mKCc8YnInKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuICdwYWdlLWxlYWQgbGVhZCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICdwYWdlLWxlYWQnO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNvcHkgJiYgdGhpcy5wcm9wcy5jb3B5Lmxlbmd0aCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICBfX2h0bWw6IHRoaXMucHJvcHMuY29weVxuICAgICAgfX0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgcGFuZWwtYm9keS1sb2FkaW5nXCI+XG4gICAgICA8TG9hZGVyIGNsYXNzTmFtZT1cImxvYWRlciBsb2FkZXItc3BhY2VkXCIgLz5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhlbHBUZXh0KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHAgY2xhc3NOYW1lPVwiaGVscC1ibG9ja1wiPlxuICAgICAgICB7dGhpcy5wcm9wcy5oZWxwVGV4dH1cbiAgICAgIDwvcD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgcGFuZWwtbWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuaWNvbiB8fCAnaW5mb19vdXRsaW5lJ31cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLm1lc3NhZ2V9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIHt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFkZFBhcnRpY2lwYW50TW9kYWwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYWRkLXBhcnRpY2lwYW50JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxBZGRQYXJ0aWNpcGFudE1vZGFsIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fYWRkX3BhcnRpY2lwYW50cykgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTNcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHBlcnNvbl9hZGRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBZGQgcGFydGljaXBhbnRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgcGFydGljaXBhbnRzIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wYXJ0aWNpcGFudHMnO1xuaW1wb3J0IHsgdXBkYXRlQWNsIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gbGVhdmUodGhyZWFkLCBwYXJ0aWNpcGFudCkge1xuICBhamF4LnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICB7b3A6ICdyZW1vdmUnLCBwYXRoOiAncGFydGljaXBhbnRzJywgdmFsdWU6IHBhcnRpY2lwYW50LmlkfVxuICBdKS50aGVuKCgpID0+IHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3UgaGF2ZSBsZWZ0IHRoaXMgdGhyZWFkLlwiKSk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgd2luZG93LmxvY2F0aW9uID0gbWlzYWdvLmdldCgnUFJJVkFURV9USFJFQURTX1VSTCcpO1xuICAgIH0sIDMgKiAxMDAwKTtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHRocmVhZCwgcGFydGljaXBhbnQpIHtcbiAgYWpheC5wYXRjaCh0aHJlYWQuYXBpLmluZGV4LCBbXG4gICAge29wOiAncmVtb3ZlJywgcGF0aDogJ3BhcnRpY2lwYW50cycsIHZhbHVlOiBwYXJ0aWNpcGFudC5pZH0sXG4gICAge29wOiAnYWRkJywgcGF0aDogJ2FjbCcsIHZhbHVlOiAxfVxuICBdKS50aGVuKChkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQWNsKGRhdGEpKTtcbiAgICBzdG9yZS5kaXNwYXRjaChwYXJ0aWNpcGFudHMucmVwbGFjZShkYXRhLnBhcnRpY2lwYW50cykpO1xuXG4gICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXCIlKHVzZXIpcyBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhpcyB0aHJlYWQuXCIpO1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgdXNlcjogcGFydGljaXBhbnQudXNlcm5hbWVcbiAgICB9LCB0cnVlKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZU93bmVyKHRocmVhZCwgcGFydGljaXBhbnQpIHtcbiAgYWpheC5wYXRjaCh0aHJlYWQuYXBpLmluZGV4LCBbXG4gICAge29wOiAncmVwbGFjZScsIHBhdGg6ICdvd25lcicsIHZhbHVlOiBwYXJ0aWNpcGFudC5pZH0sXG4gICAge29wOiAnYWRkJywgcGF0aDogJ2FjbCcsIHZhbHVlOiAxfVxuICBdKS50aGVuKChkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQWNsKGRhdGEpKTtcbiAgICBzdG9yZS5kaXNwYXRjaChwYXJ0aWNpcGFudHMucmVwbGFjZShkYXRhLnBhcnRpY2lwYW50cykpO1xuXG4gICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXCIlKHVzZXIpcyBoYXMgYmVlbiBtYWRlIG5ldyB0aHJlYWQgb3duZXIuXCIpO1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgdXNlcjogcGFydGljaXBhbnQudXNlcm5hbWVcbiAgICB9LCB0cnVlKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICB9KTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1ha2VPd25lciBmcm9tICcuL21ha2Utb3duZXInO1xuaW1wb3J0IFJlbW92ZSBmcm9tICcuL3JlbW92ZSc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHBhcnRpY2lwYW50ID0gcHJvcHMucGFydGljaXBhbnQ7XG5cbiAgbGV0IGNsYXNzTmFtZSA9ICdidG4gYnRuLWRlZmF1bHQnO1xuICBpZiAocGFydGljaXBhbnQuaXNfb3duZXIpIHtcbiAgICBjbGFzc05hbWUgPSAnYnRuIGJ0bi1wcmltYXJ5JztcbiAgfVxuICBjbGFzc05hbWUgKz0gJyBidG4tdXNlciBidG4tYmxvY2snO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTMgY29sLW1kLTIgcGFydGljaXBhbnQtY2FyZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcm9wZG93blwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICBzaXplPVwiMzRcIlxuICAgICAgICAgICAgdXNlcj17cGFydGljaXBhbnR9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJidG4tdGV4dFwiPlxuICAgICAgICAgICAge3BhcnRpY2lwYW50LnVzZXJuYW1lfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IHN0aWNrLXRvLWJvdHRvbVwiPlxuICAgICAgICAgIDxVc2VyU3RhdHVzIGlzT3duZXI9e3BhcnRpY2lwYW50LmlzX293bmVyfSAvPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1oZWFkZXJcIiAvPlxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIGhyZWY9e3BhcnRpY2lwYW50LnVybH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJTZWUgcHJvZmlsZVwiKX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaSByb2xlPVwic2VwYXJhdG9yXCIgY2xhc3NOYW1lPVwiZGl2aWRlclwiPjwvbGk+XG4gICAgICAgICAgPE1ha2VPd25lciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFJlbW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJTdGF0dXMoeyBpc093bmVyIH0pIHtcbiAgaWYgKCFpc093bmVyKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1oZWFkZXIgZHJvcGRvd24taGVhZGVyLW93bmVyXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHN0YXJ0XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLXRleHRcIj5cbiAgICAgICAge2dldHRleHQoXCJUaHJlYWQgb3duZXJcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT5cbiAgKTtcbn1cbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuL2NhcmQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBhcnRpY2lwYW50cywgdGhyZWFkLCB1c2VyLCB1c2VySXNPd25lciB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYXJ0aWNpcGFudHMtY2FyZHNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIHtwYXJ0aWNpcGFudHMubWFwKChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Q2FyZFxuICAgICAgICAgICAgICBrZXk9e3BhcnRpY2lwYW50LmlkfVxuICAgICAgICAgICAgICBwYXJ0aWNpcGFudD17cGFydGljaXBhbnR9XG4gICAgICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICB1c2VySXNPd25lcj17dXNlcklzT3duZXJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNoYW5nZU93bmVyIH0gZnJvbSAnLi9hY3Rpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuaXNVc2VyID0gcHJvcHMucGFydGljaXBhbnQuaWQgPT09IHByb3BzLnVzZXIuaWQ7XG4gIH1cblxuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGxldCBjb25maXJtZWQgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5pc1VzZXIpIHtcbiAgICAgIGNvbmZpcm1lZCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byB0YWtlIG92ZXIgdGhpcyB0aHJlYWQ/XCIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2hhbmdlIHRocmVhZCBvd25lciB0byAlKHVzZXIpcz9cIik7XG4gICAgICBjb25maXJtZWQgPSBjb25maXJtKGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgdXNlcjogdGhpcy5wcm9wcy5wYXJ0aWNpcGFudC51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSkpO1xuICAgIH1cblxuICAgIGlmICghY29uZmlybWVkKSByZXR1cm47XG5cbiAgICBjaGFuZ2VPd25lcih0aGlzLnByb3BzLnRocmVhZCwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBhcnRpY2lwYW50LmlzX293bmVyKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2hhbmdlX293bmVyKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWFrZSBvd25lclwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVtb3ZlLCBsZWF2ZSB9IGZyb20gJy4vYWN0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLmlzVXNlciA9IHByb3BzLnBhcnRpY2lwYW50LmlkID09PSBwcm9wcy51c2VyLmlkO1xuICB9XG5cbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBsZXQgY29uZmlybWVkID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuaXNVc2VyKSB7XG4gICAgICBjb25maXJtZWQgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgdGhpcyB0aHJlYWQ/XCIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlICUodXNlcilzIGZyb20gdGhpcyB0aHJlYWQ/XCIpO1xuICAgICAgY29uZmlybWVkID0gY29uZmlybShpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgIHVzZXI6IHRoaXMucHJvcHMucGFydGljaXBhbnQudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpKTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbmZpcm1lZCkgcmV0dXJuO1xuXG4gICAgaWYgKHRoaXMuaXNVc2VyKSB7XG4gICAgICBsZWF2ZSh0aGlzLnByb3BzLnRocmVhZCwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSh0aGlzLnByb3BzLnRocmVhZCwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudCk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc01vZGVyYXRvciA9IHRoaXMucHJvcHMudXNlci5hY2wuY2FuX21vZGVyYXRlX3ByaXZhdGVfdGhyZWFkcztcblxuICAgIGlmICghKHRoaXMucHJvcHMudXNlcklzT3duZXIgfHwgdGhpcy5pc1VzZXIgfHwgaXNNb2RlcmF0b3IpKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHt0aGlzLmlzVXNlciA/IGdldHRleHQoXCJMZWF2ZSB0aHJlYWRcIikgOiBnZXR0ZXh0KFwiUmVtb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWRkUGFydGljaXBhbnQgZnJvbSAnLi9hZGQtcGFydGljaXBhbnQnO1xuaW1wb3J0IENhcmRzTGlzdCBmcm9tICcuL2NhcmRzLWxpc3QnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMucGFydGljaXBhbnRzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcGFydGljaXBhbnRzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgPENhcmRzTGlzdFxuICAgICAgICAgIHVzZXJJc093bmVyPXtnZXRVc2VySXNPd25lcihwcm9wcy51c2VyLCBwcm9wcy5wYXJ0aWNpcGFudHMpfVxuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8QWRkUGFydGljaXBhbnQgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTlcIj5cbiAgICAgICAgICAgIDxwPnt1dGlscy5nZXRQYXJ0aWNpcGFudHNDb3B5KHByb3BzLnBhcnRpY2lwYW50cyl9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlcklzT3duZXIodXNlciwgcGFydGljaXBhbnRzKSB7XG4gIHJldHVybiBwYXJ0aWNpcGFudHNbMF0uaWQgPT09IHVzZXIuaWRcbn0iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UGFydGljaXBhbnRzQ29weShwYXJ0aWNpcGFudHMpIHtcbiAgY29uc3QgY291bnQgPSBwYXJ0aWNpcGFudHMubGVuZ3RoO1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCJUaGlzIHRocmVhZCBoYXMgJSh1c2VycylzIHBhcnRpY2lwYW50LlwiLFxuICAgIFwiVGhpcyB0aHJlYWQgaGFzICUodXNlcnMpcyBwYXJ0aWNpcGFudHMuXCIsXG4gICAgY291bnQpO1xuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgdXNlcnM6IGNvdW50XG4gIH0sIHRydWUpO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgenhjdmJuIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy96eGN2Ym4nO1xuXG5leHBvcnQgY29uc3QgU1RZTEVTID0gW1xuICAncHJvZ3Jlc3MtYmFyLWRhbmdlcicsXG4gICdwcm9ncmVzcy1iYXItd2FybmluZycsXG4gICdwcm9ncmVzcy1iYXItd2FybmluZycsXG4gICdwcm9ncmVzcy1iYXItcHJpbWFyeScsXG4gICdwcm9ncmVzcy1iYXItc3VjY2Vzcydcbl07XG5cbmV4cG9ydCBjb25zdCBMQUJFTFMgPSBbXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHZlcnkgd2Vhay5cIiksXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHdlYWsuXCIpLFxuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyBhdmVyYWdlLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgc3Ryb25nLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgdmVyeSBzdHJvbmcuXCIpXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5fc2NvcmUgPSAwO1xuICAgIHRoaXMuX3Bhc3N3b3JkID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dHMgPSBbXTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2FkZWQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHp4Y3Zibi5sb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGVkOiB0cnVlIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0U2NvcmUocGFzc3dvcmQsIGlucHV0cykge1xuICAgIGxldCBjYWNoZVN0YWxlID0gZmFsc2U7XG5cbiAgICBpZiAocGFzc3dvcmQgIT09IHRoaXMuX3Bhc3N3b3JkKSB7XG4gICAgICBjYWNoZVN0YWxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaW5wdXRzLmxlbmd0aCAhPT0gdGhpcy5faW5wdXRzLmxlbmd0aCkge1xuICAgICAgY2FjaGVTdGFsZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0cy5tYXAoKHZhbHVlLCBpKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZS50cmltKCkgIT09IHRoaXMuX2lucHV0c1tpXSkge1xuICAgICAgICAgIGNhY2hlU3RhbGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2FjaGVTdGFsZSkge1xuICAgICAgdGhpcy5fc2NvcmUgPSB6eGN2Ym4uc2NvcmVQYXNzd29yZChwYXNzd29yZCwgaW5wdXRzKTtcbiAgICAgIHRoaXMuX3Bhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICB0aGlzLl9pbnB1dHMgPSBpbnB1dHMubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50cmltKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fc2NvcmU7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmxvYWRlZCkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgbGV0IHNjb3JlID0gdGhpcy5nZXRTY29yZSh0aGlzLnByb3BzLnBhc3N3b3JkLCB0aGlzLnByb3BzLmlucHV0cyk7XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJoZWxwLWJsb2NrIHBhc3N3b3JkLXN0cmVuZ3RoXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcInByb2dyZXNzLWJhciBcIiArIFNUWUxFU1tzY29yZV19XG4gICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogKDIwICsgKDIwICogc2NvcmUpKSArICclJ319XG4gICAgICAgICAgICAgcm9sZT1cInByb2dyZXNzLWJhclwiXG4gICAgICAgICAgICAgYXJpYS12YWx1ZW5vdz17c2NvcmV9XG4gICAgICAgICAgICAgYXJpYS12YWx1ZW1pbj1cIjBcIlxuICAgICAgICAgICAgIGFyaWEtdmFsdWVtYXg9XCI0XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPlxuICAgICAgICAgICAge0xBQkVMU1tzY29yZV19XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbWFsbFwiPlxuICAgICAgICB7TEFCRUxTW3Njb3JlXX1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25BZGQgPSAoKSA9PiB7XG4gICAgbGV0IGNob2ljZXMgPSB0aGlzLnByb3BzLmNob2ljZXMuc2xpY2UoKTtcbiAgICBjaG9pY2VzLnB1c2goe1xuICAgICAgaGFzaDogZ2VuZXJhdGVSYW5kb21IYXNoKCksXG4gICAgICBsYWJlbDogJydcbiAgICB9KTtcblxuICAgIHRoaXMucHJvcHMuc2V0Q2hvaWNlcyhjaG9pY2VzKTtcbiAgfTtcblxuICBvbkNoYW5nZSA9IChoYXNoLCBsYWJlbCkgPT4ge1xuICAgIGNvbnN0IGNob2ljZXMgPSB0aGlzLnByb3BzLmNob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgIGlmIChjaG9pY2UuaGFzaCA9PT0gaGFzaCkge1xuICAgICAgICBjaG9pY2UubGFiZWwgPSBsYWJlbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNob2ljZVxuICAgIH0pO1xuICAgIHRoaXMucHJvcHMuc2V0Q2hvaWNlcyhjaG9pY2VzKTtcbiAgfTtcblxuICBvbkRlbGV0ZSA9IChoYXNoKSA9PiB7XG4gICAgY29uc3QgY2hvaWNlcyA9IHRoaXMucHJvcHMuY2hvaWNlcy5maWx0ZXIoKGNob2ljZSkgPT4ge1xuICAgICAgcmV0dXJuIGNob2ljZS5oYXNoICE9PSBoYXNoO1xuICAgIH0pO1xuICAgIHRoaXMucHJvcHMuc2V0Q2hvaWNlcyhjaG9pY2VzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9sbC1jaG9pY2VzLWNvbnRyb2xcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8UG9sbENob2ljZVxuICAgICAgICAgICAgICAgIGNhbkRlbGV0ZT17dGhpcy5wcm9wcy5jaG9pY2VzLmxlbmd0aCA+IDJ9XG4gICAgICAgICAgICAgICAgY2hvaWNlPXtjaG9pY2V9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAga2V5PXtjaG9pY2UuaGFzaH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICAgICAgICBvbkRlbGV0ZT17dGhpcy5vbkRlbGV0ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQWRkfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJBZGQgY2hvaWNlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9sbENob2ljZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnByb3BzLmNob2ljZS5oYXNoLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIG9uRGVsZXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGRlbGV0ZUl0ZW0gPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgY2hvaWNlP1wiKSk7XG4gICAgaWYgKGRlbGV0ZUl0ZW0pIHtcbiAgICAgIHRoaXMucHJvcHMub25EZWxldGUodGhpcy5wcm9wcy5jaG9pY2UuaGFzaCk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICBkaXNhYmxlZD17IXRoaXMucHJvcHMuY2FuRGVsZXRlIHx8IHRoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkRlbGV0ZX1cbiAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkRlbGV0ZSB0aGlzIGNob2ljZVwiKX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGNsb3NlXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgbWF4TGVuZ3RoPVwiMjU1XCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcImNob2ljZSBsYWJlbFwiKX1cbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuY2hvaWNlLmxhYmVsfVxuICAgICAgICAvPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUhhc2goKSB7XG4gIGxldCByYW5kb21IYXNoID0gJyc7XG4gIHdoaWxlIChyYW5kb21IYXNoLmxlbmd0aCAhPSAxMikge1xuICAgIHJhbmRvbUhhc2ggPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICcnKS5zdWJzdHIoMSwgMTIpO1xuICB9XG4gIHJldHVybiByYW5kb21IYXNoO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2hvaWNlc0NvbnRyb2wgZnJvbSAnLi9jaG9pY2VzLWNvbnRyb2wnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnO1xuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2gnO1xuaW1wb3J0ICogYXMgcG9sbCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9sbCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IHBvbGwgPSBwcm9wcy5wb2xsIHx8IHtcbiAgICAgIHF1ZXN0aW9uOiAnJyxcbiAgICAgIGNob2ljZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGhhc2g6ICdjaG9pY2UtMTAwMDAnLFxuICAgICAgICAgIGxhYmVsOiAnJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaGFzaDogJ2Nob2ljZS0yMDAwMCcsXG4gICAgICAgICAgbGFiZWw6ICcnXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBsZW5ndGg6IDAsXG4gICAgICBhbGxvd2VkX2Nob2ljZXM6IDEsXG4gICAgICBhbGxvd19yZXZvdGVzOiAwLFxuICAgICAgaXNfcHVibGljOiAwXG4gICAgfTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFZGl0OiAhIXBvbGwucXVlc3Rpb24sXG5cbiAgICAgIHF1ZXN0aW9uOiBwb2xsLnF1ZXN0aW9uLFxuICAgICAgY2hvaWNlczogcG9sbC5jaG9pY2VzLFxuICAgICAgbGVuZ3RoOiBwb2xsLmxlbmd0aCxcbiAgICAgIGFsbG93ZWRfY2hvaWNlczogcG9sbC5hbGxvd2VkX2Nob2ljZXMsXG4gICAgICBhbGxvd19yZXZvdGVzOiBwb2xsLmFsbG93X3Jldm90ZXMsXG4gICAgICBpc19wdWJsaWM6IHBvbGwuaXNfcHVibGljLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHF1ZXN0aW9uOiBbXSxcbiAgICAgICAgY2hvaWNlczogW10sXG4gICAgICAgIGxlbmd0aDogW10sXG4gICAgICAgIGFsbG93ZWRfY2hvaWNlczogW11cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgc2V0Q2hvaWNlcyA9IChjaG9pY2VzKSA9PiB7XG4gICAgY29uc3QgZXJyb3JzID0gT2JqZWN0LmFzc2lnbih7fSwgZXJyb3JzLCB7Y2hvaWNlczogbnVsbH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjaG9pY2VzLFxuICAgICAgZXJyb3JzXG4gICAgfSk7XG4gIH07XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgcG9sbD9cIikpO1xuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2VuZCgpIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgcXVlc3Rpb246IHRoaXMuc3RhdGUucXVlc3Rpb24sXG4gICAgICBjaG9pY2VzOiB0aGlzLnN0YXRlLmNob2ljZXMsXG4gICAgICBsZW5ndGg6IHRoaXMuc3RhdGUubGVuZ3RoLFxuICAgICAgYWxsb3dlZF9jaG9pY2VzOiB0aGlzLnN0YXRlLmFsbG93ZWRfY2hvaWNlcyxcbiAgICAgIGFsbG93X3Jldm90ZXM6IHRoaXMuc3RhdGUuYWxsb3dfcmV2b3RlcyxcbiAgICAgIGlzX3B1YmxpYzogdGhpcy5zdGF0ZS5pc19wdWJsaWNcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFZGl0KSB7XG4gICAgICByZXR1cm4gYWpheC5wdXQodGhpcy5wcm9wcy5wb2xsLmFwaS5pbmRleCwgZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvbGwsIGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVwbGFjZShkYXRhKSk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0VkaXQpIHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlBvbGwgaGFzIGJlZW4gZWRpdGVkLlwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlBvbGwgaGFzIGJlZW4gcG9zdGVkLlwiKSk7XG4gICAgfVxuXG4gICAgcG9zdGluZy5jbG9zZSgpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzKSB7XG4gICAgICAgIHJlamVjdGlvbi5hbGxvd2VkX2Nob2ljZXMgPSByZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycztcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdlcnJvcnMnOiBPYmplY3QuYXNzaWduKHt9LCByZWplY3Rpb24pXG4gICAgICB9KTtcblxuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvbGwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cblxuICAgICAgICAgICAgICAgIDxmaWVsZHNldD5cbiAgICAgICAgICAgICAgICAgIDxsZWdlbmQ+e2dldHRleHQoXCJRdWVzdGlvbiBhbmQgY2hvaWNlc1wiKX08L2xlZ2VuZD5cblxuICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlBvbGwgcXVlc3Rpb25cIil9XG4gICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3F1ZXN0aW9uc1wiXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnF1ZXN0aW9ufVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX3F1ZXN0aW9uc1wiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdxdWVzdGlvbicpfVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9XCIyNTVcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnF1ZXN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJBdmFpbGFibGUgY2hvaWNlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2hvaWNlc31cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPENob2ljZXNDb250cm9sXG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jaG9pY2VzfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICBzZXRDaG9pY2VzPXt0aGlzLnNldENob2ljZXN9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICAgICAgICA8bGVnZW5kPntnZXR0ZXh0KFwiVm90aW5nXCIpfTwvbGVnZW5kPlxuXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUG9sbCBsZW5ndGhcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIkVudGVyIG51bWJlciBvZiBkYXlzIGZvciB3aGljaCB2b3RpbmcgaW4gdGhpcyBwb2xsIHNob3VsZCBiZSBwb3NzaWJsZSBvciB6ZXJvIHRvIHJ1biB0aGlzIHBvbGwgaW5kZWZpbml0ZWx5LlwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2xlbmd0aFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF9sZW5ndGhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2xlbmd0aCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQWxsb3dlZCBjaG9pY2VzXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfYWxsb3dlZF9jaG9pY2VzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmFsbG93ZWRfY2hvaWNlc31cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2FsbG93ZWRfY2hvaWNlc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnYWxsb3dlZF9jaG9pY2VzJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoPVwiMjU1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYWxsb3dlZF9jaG9pY2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPFBvbGxQdWJsaWNTd2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgICBiaW5kSW5wdXQ9e3RoaXMuYmluZElucHV0fVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICBpc0VkaXQ9e3RoaXMuc3RhdGUuaXNFZGl0fVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX3B1YmxpY31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkFsbG93IHZvdGUgY2hhbmdlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2FsbG93X3Jldm90ZXNcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxZZXNOb1N3aXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2FsbG93X3Jldm90ZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGljb25Pbj1cImNoZWNrXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk9mZj1cImNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIkFsbG93IHBhcnRpY2lwYW50cyB0byBjaGFuZ2UgdGhlaXIgdm90ZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxPZmY9e2dldHRleHQoXCJEb24ndCBhbGxvdyBwYXJ0aWNpcGFudHMgdG8gY2hhbmdlIHRoZWlyIHZvdGVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnYWxsb3dfcmV2b3RlcycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hbGxvd19yZXZvdGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHsnICd9XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNFZGl0ID8gZ2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKSA6IGdldHRleHQoXCJQb3N0IHBvbGxcIil9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxQdWJsaWNTd2l0Y2gocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzRWRpdCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNlwiPlxuICAgICAgPEZvcm1Hcm91cFxuICAgICAgICBsYWJlbD17Z2V0dGV4dChcIk1ha2Ugdm90aW5nIHB1YmxpY1wiKX1cbiAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXCJNYWtpbmcgdm90aW5nIHB1YmxpYyB3aWxsIGFsbG93IGV2ZXJ5b25lIHRvIGFjY2VzcyBkZXRhaWxlZCBsaXN0IG9mIHZvdGVzLCBzaG93aW5nIHdoaWNoIHVzZXJzIHZvdGVkIGZvciB3aGljaCBjaG9pY2VzIGFuZCBhdCB3aGljaCB0aW1lcy4gVGhpcyBvcHRpb24gY2FuJ3QgYmUgY2hhbmdlZCBhZnRlciBwb2xsJ3MgY3JlYXRpb24uIE1vZGVyYXRvcnMgbWF5IHNlZSB2b3RpbmcgZGV0YWlscyBmb3IgYWxsIHBvbGxzLlwiKX1cbiAgICAgICAgZm9yPVwiaWRfaXNfcHVibGljXCJcbiAgICAgID5cbiAgICAgICAgPFllc05vU3dpdGNoXG4gICAgICAgICAgaWQ9XCJpZF9pc19wdWJsaWNcIlxuICAgICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBpY29uT249XCJ2aXNpYmlsaXR5XCJcbiAgICAgICAgICBpY29uT2ZmPVwidmlzaWJpbGl0eV9vZmZcIlxuICAgICAgICAgIGxhYmVsT249e2dldHRleHQoXCJWb3RlcyBhcmUgcHVibGljXCIpfVxuICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiVm90ZXMgYXJlIGhpZGRlblwiKX1cbiAgICAgICAgICBvbkNoYW5nZT17cHJvcHMuYmluZElucHV0KCdpc19wdWJsaWMnKX1cbiAgICAgICAgICB2YWx1ZT17cHJvcHMudmFsdWV9XG4gICAgICAgIC8+XG4gICAgICA8L0Zvcm1Hcm91cD5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCJpbXBvcnQgUG9sbCBmcm9tICcuL3BvbGwnO1xuaW1wb3J0IFBvbGxGb3JtIGZyb20gJy4vZm9ybSc7XG5cbmV4cG9ydCB7IFBvbGwgfTtcbmV4cG9ydCB7IFBvbGxGb3JtIH07IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pbmxpbmUgcG9sbC1kZXRhaWxzXCI+XG4gICAgICA8UG9sbFZvdGVzIHZvdGVzPXtwcm9wcy5wb2xsLnZvdGVzfSAvPlxuICAgICAgPFBvbGxMZW5ndGggcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgIDxQb2xsSXNQdWJsaWMgcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgIDxQb2xsQ3JlYXRpb24gcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbENyZWF0aW9uKHByb3BzKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCJQb3N0ZWQgYnkgJShwb3N0ZXIpcyAlKHBvc3RlZF9vbilzLlwiKSksIHtcbiAgICBwb3N0ZXI6IGdldFBvc3Rlcihwcm9wcy5wb2xsKSxcbiAgICBwb3N0ZWRfb246IGdldFBvc3RlZE9uKHByb3BzLnBvbGwpXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPGxpXG4gICAgICBjbGFzc05hbWU9XCJwb2xsLWluZm8tY3JlYXRpb25cIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0ZXIocG9sbCkge1xuICBpZiAocG9sbC51cmwucG9zdGVyKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFVTRVJfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocG9sbC51cmwucG9zdGVyKSxcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShVU0VSX1NQQU4sIHtcbiAgICB1c2VyOiBlc2NhcGVIdG1sKHBvbGwucG9zdGVyX25hbWUpXG4gIH0sIHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zdGVkT24ocG9sbCkge1xuICByZXR1cm4gaW50ZXJwb2xhdGUoREFURV9BQkJSLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZWRfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZWRfb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxMZW5ndGgocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wb2xsLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcIlZvdGluZyBlbmRzICUoZW5kc19vbilzLlwiKSksIHtcbiAgICBlbmRzX29uOiBnZXRFbmRzT24ocHJvcHMucG9sbClcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8bGlcbiAgICAgIGNsYXNzTmFtZT1cInBvbGwtaW5mby1lbmRzLW9uXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5kc09uKHBvbGwpIHtcbiAgcmV0dXJuIGludGVycG9sYXRlKERBVEVfQUJCUiwge1xuICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHBvbGwuZW5kc09uLmZvcm1hdCgnTExMJykpLFxuICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHBvbGwuZW5kc09uLmZyb21Ob3coKSlcbiAgfSwgdHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsVm90ZXMocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJSh2b3RlcylzIHZvdGUuXCIsIFwiJSh2b3RlcylzIHZvdGVzLlwiLCBwcm9wcy52b3Rlcyk7XG4gIGNvbnN0IGxhYmVsID0gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICd2b3Rlcyc6IHByb3BzLnZvdGVzXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaW5mby12b3Rlc1wiPntsYWJlbH08L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbElzUHVibGljKHByb3BzKSB7XG4gIGlmICghcHJvcHMucG9sbC5pc19wdWJsaWMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaW5mby1wdWJsaWNcIj57Z2V0dGV4dChcIlZvdGVzIGFyZSBwdWJsaWMuXCIpfTwvbGk+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBSZXN1bHRzIGZyb20gJy4vcmVzdWx0cyc7XG5pbXBvcnQgVm90aW5nIGZyb20gJy4vdm90aW5nJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGxldCBzaG93UmVzdWx0cyA9IHRydWU7XG4gICAgaWYgKHByb3BzLnVzZXIuaWQgJiYgIXByb3BzLnBvbGwuaGFzU2VsZWN0ZWRDaG9pY2VzKSB7XG4gICAgICBzaG93UmVzdWx0cyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93UmVzdWx0c1xuICAgIH07XG4gIH1cblxuICBzaG93UmVzdWx0cyA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dSZXN1bHRzOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgc2hvd1ZvdGluZyA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dSZXN1bHRzOiBmYWxzZVxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLnBvbGwpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgaXNQb2xsT3ZlciA9IGdldElzUG9sbE92ZXIodGhpcy5wcm9wcy5wb2xsKTtcblxuICAgIGlmICghaXNQb2xsT3ZlciAmJiB0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl92b3RlICYmICF0aGlzLnN0YXRlLnNob3dSZXN1bHRzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Vm90aW5nIHNob3dSZXN1bHRzPXt0aGlzLnNob3dSZXN1bHRzfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZXN1bHRzXG4gICAgICAgICAgaXNQb2xsT3Zlcj17aXNQb2xsT3Zlcn1cbiAgICAgICAgICBzaG93Vm90aW5nPXt0aGlzLnNob3dWb3Rpbmd9XG4gICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXNQb2xsT3Zlcihwb2xsKSB7XG4gIGlmIChwb2xsLmxlbmd0aCkge1xuICAgIHJldHVybiBtb21lbnQoKS5pc0FmdGVyKHBvbGwuZW5kc09uKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvbGwtY2hvaWNlcy1iYXJzXCI+XG4gICAgICB7cHJvcHMucG9sbC5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFBvbGxDaG9pY2VcbiAgICAgICAgICAgIGNob2ljZT17Y2hvaWNlfVxuICAgICAgICAgICAga2V5PXtjaG9pY2UuaGFzaH1cbiAgICAgICAgICAgIHBvbGw9e3Byb3BzLnBvbGx9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbENob2ljZShwcm9wcykge1xuICBsZXQgcHJvYyA9IDA7XG4gIGlmIChwcm9wcy5jaG9pY2Uudm90ZXMgJiYgcHJvcHMucG9sbC52b3Rlcykge1xuICAgIHByb2MgPSBNYXRoLmNlaWwocHJvcHMuY2hvaWNlLnZvdGVzICogMTAwIC8gcHJvcHMucG9sbC52b3Rlcyk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkbCBjbGFzc05hbWU9XCJkbC1ob3Jpem9udGFsXCI+XG4gICAgICA8ZHQ+e3Byb3BzLmNob2ljZS5sYWJlbH08L2R0PlxuICAgICAgPGRkPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCI+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvZ3Jlc3MtYmFyXCJcbiAgICAgICAgICAgIHJvbGU9XCJwcm9ncmVzc2JhclwiXG4gICAgICAgICAgICBhcmlhLXZhbHVlbm93PXtwcm9jfVxuICAgICAgICAgICAgYXJpYS12YWx1ZW1pbj1cIjBcIlxuICAgICAgICAgICAgYXJpYS12YWx1ZW1heD1cIjEwMFwiXG4gICAgICAgICAgICBzdHlsZT17e3dpZHRoOiBwcm9jICsgJyUnfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+XG4gICAgICAgICAgICAgIHtnZXRWb3Rlc0xhYmVsKHByb3BzLnZvdGVzLCBwcm9wcy5wcm9jKX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaW5saW5lIHBvbGwtY2hhcnRcIj5cbiAgICAgICAgICA8Q2hvaWNlVm90ZXNcbiAgICAgICAgICAgIHByb2M9e3Byb2N9XG4gICAgICAgICAgICB2b3Rlcz17cHJvcHMuY2hvaWNlLnZvdGVzfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPFVzZXJDaG9pY2Ugc2VsZWN0ZWQ9e3Byb3BzLmNob2ljZS5zZWxlY3RlZH0gLz5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGQ+XG4gICAgPC9kbD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENob2ljZVZvdGVzKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtY2hhcnQtdm90ZXNcIj5cbiAgICAgIHtnZXRWb3Rlc0xhYmVsKHByb3BzLnZvdGVzLCBwcm9wcy5wcm9jKX1cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vm90ZXNMYWJlbCh2b3RlcywgcHJvYykge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCIlKHZvdGVzKXMgdm90ZSwgJShwcm9jKXMlIG9mIHRvdGFsLlwiLFxuICAgIFwiJSh2b3RlcylzIHZvdGVzLCAlKHByb2MpcyUgb2YgdG90YWwuXCIsIHZvdGVzKTtcblxuICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICd2b3Rlcyc6IHZvdGVzLFxuICAgICdwcm9jJzogcHJvY1xuICB9LCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJDaG9pY2UocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5zZWxlY3RlZCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwicG9sbC1jaGFydC1zZWxlY3RlZFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBjaGVja19ib3hcbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwiWW91ciBjaG9pY2UuXCIpfVxuICAgIDwvbGk+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaGFydCBmcm9tICcuL2NoYXJ0JztcbmltcG9ydCBPcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgUG9sbEluZm8gZnJvbSAnLi4vaW5mbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvbGxcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuICAgICAgICA8aDI+e3Byb3BzLnBvbGwucXVlc3Rpb259PC9oMj5cbiAgICAgICAgPFBvbGxJbmZvIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgICAgIDxDaGFydCBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgICAgICA8T3B0aW9uc1xuICAgICAgICAgIGlzUG9sbE92ZXI9e3Byb3BzLmlzUG9sbE92ZXJ9XG4gICAgICAgICAgcG9sbD17cHJvcHMucG9sbH1cbiAgICAgICAgICBzaG93Vm90aW5nPXtwcm9wcy5zaG93Vm90aW5nfVxuICAgICAgICAgIHRocmVhZD17cHJvcHMudGhyZWFkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgZGF0YTogW11cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wb2xsLmFwaS52b3RlcykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgaHlkcmF0ZWREYXRhID0gZGF0YS5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2hvaWNlLCB7XG4gICAgICAgICAgdm90ZXJzOiBjaG9pY2Uudm90ZXJzLm1hcCgodm90ZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB2b3Rlciwge1xuICAgICAgICAgICAgICB2b3RlZF9vbjogbW9tZW50KHZvdGVyLnZvdGVkX29uKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZGF0YTogaHlkcmF0ZWREYXRhXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17J21vZGFsLWRpYWxvZycgKyAodGhpcy5zdGF0ZS5lcnJvciA/ICcgbW9kYWwtbWVzc2FnZScgOiAnIG1vZGFsLXNtJyl9XG4gICAgICAgIHJvbGU9XCJkb2N1bWVudFwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlBvbGwgdm90ZXNcIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxNb2RhbEJvZHlcbiAgICAgICAgICAgIGRhdGE9e3RoaXMuc3RhdGUuZGF0YX1cbiAgICAgICAgICAgIGVycm9yPXt0aGlzLnN0YXRlLmVycm9yfVxuICAgICAgICAgICAgaXNMb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAvPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxCb2R5KHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExvYWRlciAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMuZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1lc3NhZ2VcbiAgICAgICAgaWNvbj0nZXJyb3Jfb3V0bGluZSdcbiAgICAgICAgbWVzc2FnZT17cHJvcHMuZXJyb3J9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxDaG9pY2VzTGlzdFxuICAgICAgZGF0YT17cHJvcHMuZGF0YX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hvaWNlc0xpc3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHkgbW9kYWwtcG9sbC12b3Rlc1wiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgdm90ZXMtZGV0YWlsc1wiPlxuICAgICAgICB7cHJvcHMuZGF0YS5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Q2hvaWNlRGV0YWlsc1xuICAgICAgICAgICAgICBrZXk9e2Nob2ljZS5oYXNofVxuICAgICAgICAgICAgICB7Li4uY2hvaWNlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaG9pY2VEZXRhaWxzKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGg0Pntwcm9wcy5sYWJlbH08L2g0PlxuICAgICAgPFZvdGVzQ291bnQgdm90ZXM9e3Byb3BzLnZvdGVzfSAvPlxuICAgICAgPFZvdGVzTGlzdCB2b3RlcnM9e3Byb3BzLnZvdGVyc30gLz5cbiAgICAgIDxoci8+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFZvdGVzQ291bnQocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJSh2b3RlcylzIHVzZXIgaGFzIHZvdGVkIGZvciB0aGlzIGNob2ljZS5cIixcbiAgICBcIiUodm90ZXMpcyB1c2VycyBoYXZlIHZvdGVkIGZvciB0aGlzIGNob2ljZS5cIixcbiAgICBwcm9wcy52b3Rlcyk7XG5cbiAgY29uc3QgbGFiZWwgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgJ3ZvdGVzJzogcHJvcHMudm90ZXNcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cD57bGFiZWx9PC9wPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVm90ZXNMaXN0KHByb3BzKSB7XG4gIGlmICghcHJvcHMudm90ZXJzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAge3Byb3BzLnZvdGVycy5tYXAoKHVzZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Vm90ZXJcbiAgICAgICAgICAgIGtleT17dXNlci51c2VybmFtZX1cbiAgICAgICAgICAgIHsuLi51c2VyfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVm90ZXIocHJvcHMpIHtcbiAgaWYgKHByb3BzLnVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxhXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiXG4gICAgICAgICAgaHJlZj17cHJvcHMudXJsfVxuICAgICAgICA+XG4gICAgICAgICAge3Byb3BzLnVzZXJuYW1lfVxuICAgICAgICA8L2E+XG4gICAgICAgIHsnICd9XG4gICAgICAgIDxWb3RlRGF0ZSB2b3RlZF9vbj17cHJvcHMudm90ZWRfb259IC8+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxzdHJvbmc+e3Byb3BzLnVzZXJuYW1lfTwvc3Ryb25nPlxuICAgICAgeycgJ31cbiAgICAgIDxWb3RlRGF0ZSB2b3RlZF9vbj17cHJvcHMudm90ZWRfb259IC8+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFZvdGVEYXRlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGFiYnJcbiAgICAgIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIlxuICAgICAgdGl0bGU9e3Byb3BzLnZvdGVkX29uLmZvcm1hdCgnTExMJyl9XG4gICAgPlxuICAgICAge3Byb3BzLnZvdGVkX29uLmZyb21Ob3coKX1cbiAgICA8L2FiYnI+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNb2RhbCBmcm9tICcuL21vZGFsJztcbmltcG9ydCAqIGFzIHBvbGwgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3BvbGwnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCB7IGlzUG9sbE92ZXIsIHBvbGwsIHNob3dWb3RpbmcsIHRocmVhZCB9ID0gcHJvcHM7XG5cbiAgaWYgKCFpc1Zpc2libGUoaXNQb2xsT3ZlciwgcG9sbC5hY2wsIHBvbGwpKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBjb250cm9scyA9IFtdO1xuXG4gIGNvbnN0IGNhblZvdGUgPSBwb2xsLmFjbC5jYW5fdm90ZTtcbiAgY29uc3QgY2FuQ2hhbmdlVm90ZSA9ICFwb2xsLmhhc1NlbGVjdGVkQ2hvaWNlcyB8fCBwb2xsLmFsbG93X3Jldm90ZXM7XG5cbiAgaWYgKGNhblZvdGUgJiYgY2FuQ2hhbmdlVm90ZSkgY29udHJvbHMucHVzaCgwKTtcbiAgaWYgKHBvbGwuaXNfcHVibGljIHx8IHBvbGwuYWNsLmNhbl9zZWVfdm90ZXMpIGNvbnRyb2xzLnB1c2goMSk7XG4gIGlmIChwb2xsLmFjbC5jYW5fZWRpdCkgY29udHJvbHMucHVzaCgyKTtcbiAgaWYgKHBvbGwuYWNsLmNhbl9kZWxldGUpIGNvbnRyb2xzLnB1c2goMyk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBwb2xsLW9wdGlvbnNcIj5cbiAgICAgIDxDaGFuZ2VWb3RlXG4gICAgICAgIGNvbnRyb2xzPXtjb250cm9sc31cbiAgICAgICAgaXNQb2xsT3Zlcj17aXNQb2xsT3Zlcn1cbiAgICAgICAgcG9sbD17cG9sbH1cbiAgICAgICAgc2hvd1ZvdGluZz17c2hvd1ZvdGluZ31cbiAgICAgIC8+XG4gICAgICA8U2VlVm90ZXNcbiAgICAgICAgY29udHJvbHM9e2NvbnRyb2xzfVxuICAgICAgICBwb2xsPXtwb2xsfVxuICAgICAgLz5cbiAgICAgIDxFZGl0XG4gICAgICAgIGNvbnRyb2xzPXtjb250cm9sc31cbiAgICAgICAgcG9sbD17cG9sbH1cbiAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAvPlxuICAgICAgPERlbGV0ZVxuICAgICAgICBjb250cm9scz17Y29udHJvbHN9XG4gICAgICAgIHBvbGw9e3BvbGx9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKGlzUG9sbE92ZXIsIGFjbCwgcG9sbCkge1xuICByZXR1cm4gKFxuICAgIHBvbGwuaXNfcHVibGljIHx8XG4gICAgYWNsLmNhbl9kZWxldGUgfHxcbiAgICBhY2wuY2FuX2VkaXQgfHxcbiAgICBhY2wuY2FuX3NlZV92b3RlcyB8fFxuICAgIChhY2wuY2FuX3ZvdGUgJiYgIWlzUG9sbE92ZXIgJiYgKCFwb2xsLmhhc1NlbGVjdGVkQ2hvaWNlcyB8fCBwb2xsLmFsbG93X3Jldm90ZXMpKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKGNvbnRyb2xzLCBjb250cm9sKSB7XG4gIGxldCBjbGFzc05hbWUgPSAnY29sLXhzLTYnO1xuXG4gIGlmIChjb250cm9scy5sZW5ndGggPT09IDEpIHtcbiAgICBjbGFzc05hbWUgPSAnY29sLXhzLTEyJztcbiAgfVxuXG4gIGlmIChjb250cm9scy5sZW5ndGggPT09IDMgJiYgY29udHJvbHNbMF0gPT09IGNvbnRyb2wpIHtcbiAgICBjbGFzc05hbWUgPSAnY29sLXhzLTEyJztcbiAgfVxuXG4gIHJldHVybiBjbGFzc05hbWUgKyAnIGNvbC1zbS0zIGNvbC1tZC0yJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYW5nZVZvdGUocHJvcHMpIHtcbiAgY29uc3QgY2FuVm90ZSA9IHByb3BzLnBvbGwuYWNsLmNhbl92b3RlO1xuICBjb25zdCBjYW5DaGFuZ2VWb3RlID0gIXByb3BzLnBvbGwuaGFzU2VsZWN0ZWRDaG9pY2VzIHx8IHByb3BzLnBvbGwuYWxsb3dfcmV2b3RlcztcblxuICBpZiAoIShjYW5Wb3RlICYmIGNhbkNoYW5nZVZvdGUpKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUocHJvcHMuY29udHJvbHMsIDApfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMucG9sbC5pc0J1c3l9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLnNob3dWb3Rpbmd9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlZvdGVcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIFNlZVZvdGVzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPE1vZGFsIHBvbGw9e3RoaXMucHJvcHMucG9sbH0gLz5cbiAgICApO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzZWVWb3RlcyA9IHRoaXMucHJvcHMucG9sbC5pc19wdWJsaWMgfHwgdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fc2VlX3ZvdGVzO1xuICAgIGlmICghc2VlVm90ZXMpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5jb250cm9scywgMSl9PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvbGwuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VlIHZvdGVzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMucG9sbC5hcGkuaW5kZXgsXG5cbiAgICAgIHRocmVhZDogdGhpcy5wcm9wcy50aHJlYWQsXG4gICAgICBwb2xsOiB0aGlzLnByb3BzLnBvbGwsXG5cbiAgICAgIG1vZGU6ICdQT0xMJ1xuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9sbC5hY2wuY2FuX2VkaXQpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhpcy5wcm9wcy5jb250cm9scywgMil9PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvbGwuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRWRpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IGRlbGV0ZVBvbGwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcG9sbD8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUuXCIpKTtcbiAgICBpZiAoIWRlbGV0ZVBvbGwpIHJldHVybiBmYWxzZTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwuYnVzeSgpKTtcblxuICAgIGFqYXguZGVsZXRlKHRoaXMucHJvcHMucG9sbC5hcGkuaW5kZXgpLnRoZW4oXG4gICAgICB0aGlzLmhhbmRsZVN1Y2Nlc3MsIHRoaXMuaGFuZGxlRXJyb3IpO1xuICB9O1xuXG4gIGhhbmRsZVN1Y2Nlc3MgPSAobmV3VGhyZWFkQWNsKSA9PiB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhcIlBvbGwgaGFzIGJlZW4gZGVsZXRlZFwiKTtcbiAgICBzdG9yZS5kaXNwYXRjaChwb2xsLnJlbW92ZSgpKTtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQudXBkYXRlQWNsKG5ld1RocmVhZEFjbCkpO1xuICB9O1xuXG4gIGhhbmRsZUVycm9yID0gKHJlamVjdGlvbikgPT4ge1xuICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZWxlYXNlKCkpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9sbC5hY2wuY2FuX2RlbGV0ZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENsYXNzTmFtZSh0aGlzLnByb3BzLmNvbnRyb2xzLCAzKX0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1zbVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9sbC5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+JztcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaW5saW5lIHBvbGwtaGVscFwiPlxuICAgICAgPFBvbGxDaG9pY2VzTGVmdCBjaG9pY2VzTGVmdD17cHJvcHMuY2hvaWNlc0xlZnR9IC8+XG4gICAgICA8UG9sbEFsbG93UmV2b3RlIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxDaG9pY2VzTGVmdCh7IGNob2ljZXNMZWZ0IH0pIHtcbiAgaWYgKGNob2ljZXNMZWZ0ID09PSAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWhlbHAtY2hvaWNlcy1sZWZ0XCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbid0IHNlbGVjdCBhbnkgbW9yZSBjaG9pY2VzLlwiKX1cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIllvdSBjYW4gc2VsZWN0ICUoY2hvaWNlcylzIG1vcmUgY2hvaWNlLlwiLFxuICAgIFwiWW91IGNhbiBzZWxlY3QgJShjaG9pY2VzKXMgbW9yZSBjaG9pY2VzLlwiLFxuICAgIGNob2ljZXNMZWZ0KTtcblxuICBjb25zdCBsYWJlbCA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAnY2hvaWNlcyc6IGNob2ljZXNMZWZ0XG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaGVscC1jaG9pY2VzLWxlZnRcIj57bGFiZWx9PC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxBbGxvd1Jldm90ZShwcm9wcykge1xuICBpZiAocHJvcHMucG9sbC5hbGxvd19yZXZvdGVzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWhlbHAtYWxsb3ctcmV2b3Rlc1wiPntnZXR0ZXh0KFwiWW91IGNhbiBjaGFuZ2UgeW91ciB2b3RlIGxhdGVyLlwiKX08L2xpPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWhlbHAtbm8tcmV2b3Rlc1wiPntnZXR0ZXh0KFwiVm90ZXMgYXJlIGZpbmFsLlwiKX08L2xpPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2hvaWNlc0hlbHAgZnJvbSAnLi9oZWxwJztcbmltcG9ydCBDaG9pY2VzU2VsZWN0IGZyb20gJy4vc2VsZWN0JztcbmltcG9ydCB7IGdldENob2ljZXNMZWZ0LCBnZXRDaG9pY2VGcm9tSGFzaCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IFBvbGxJbmZvIGZyb20gJy4uL2luZm8nO1xuaW1wb3J0IHsgRGVsZXRlLCBFZGl0LCBnZXRDbGFzc05hbWUgfSBmcm9tICcuLi9yZXN1bHRzL29wdGlvbnMnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgKiBhcyBwb2xsIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb2xsJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIGNob2ljZXM6IHByb3BzLnBvbGwuY2hvaWNlcyxcbiAgICAgIGNob2ljZXNMZWZ0OiBnZXRDaG9pY2VzTGVmdChwcm9wcy5wb2xsLCBwcm9wcy5wb2xsLmNob2ljZXMpXG4gICAgfTtcbiAgfVxuXG4gIHRvZ2dsZUNob2ljZSA9IChoYXNoKSA9PiB7XG4gICAgY29uc3QgY2hvaWNlID0gZ2V0Q2hvaWNlRnJvbUhhc2godGhpcy5zdGF0ZS5jaG9pY2VzLCBoYXNoKTtcblxuICAgIGxldCBjaG9pY2VzID0gbnVsbFxuICAgIGlmICghY2hvaWNlLnNlbGVjdGVkKSB7XG4gICAgICBjaG9pY2VzID0gdGhpcy5zZWxlY3RDaG9pY2UoY2hvaWNlLCBoYXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hvaWNlcyA9IHRoaXMuZGVzZWxlY3RDaG9pY2UoY2hvaWNlLCBoYXNoKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNob2ljZXMsXG4gICAgICBjaG9pY2VzTGVmdDogZ2V0Q2hvaWNlc0xlZnQodGhpcy5wcm9wcy5wb2xsLCBjaG9pY2VzKVxuICAgIH0pO1xuICB9O1xuXG4gIHNlbGVjdENob2ljZSA9IChjaG9pY2UsIGhhc2gpID0+IHtcbiAgICBjb25zdCBjaG9pY2VzTGVmdCA9IGdldENob2ljZXNMZWZ0KHRoaXMucHJvcHMucG9sbCwgdGhpcy5zdGF0ZS5jaG9pY2VzKTtcblxuICAgIGlmICghY2hvaWNlc0xlZnQpIHtcbiAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnN0YXRlLmNob2ljZXMuc2xpY2UoKSkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5zdGF0ZS5jaG9pY2VzW2ldO1xuICAgICAgICBpZiAoaXRlbS5zZWxlY3RlZCAmJiBpdGVtLmhhc2ggIT0gaGFzaCkge1xuICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXRlLmNob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjaG9pY2UsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IGNob2ljZS5oYXNoID09IGhhc2ggPyB0cnVlIDogY2hvaWNlLnNlbGVjdGVkXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBkZXNlbGVjdENob2ljZSA9IChjaG9pY2UsIGhhc2gpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2hvaWNlLCB7XG4gICAgICAgIHNlbGVjdGVkOiBjaG9pY2UuaGFzaCA9PSBoYXNoID8gZmFsc2UgOiBjaG9pY2Uuc2VsZWN0ZWRcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmNob2ljZXNMZWZ0ID09PSB0aGlzLnByb3BzLnBvbGwuYWxsb3dlZF9jaG9pY2VzKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IG5lZWQgdG8gc2VsZWN0IGF0IGxlYXN0IG9uZSBjaG9pY2VcIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICBsZXQgZGF0YSA9IFtdO1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnN0YXRlLmNob2ljZXMuc2xpY2UoKSkge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuc3RhdGUuY2hvaWNlc1tpXTtcbiAgICAgIGlmIChpdGVtLnNlbGVjdGVkKSB7XG4gICAgICAgIGRhdGEucHVzaChpdGVtLmhhc2gpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnBvbGwuYXBpLnZvdGVzLCBkYXRhKTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVwbGFjZShkYXRhKSk7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciB2b3RlIGhhcyBiZWVuIHNhdmVkLlwiKSk7XG5cbiAgICB0aGlzLnByb3BzLnNob3dSZXN1bHRzKCk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY29udHJvbHMgPSBbXTtcblxuICAgIGlmICh0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl92b3RlKSBjb250cm9scy5wdXNoKDApO1xuICAgIGlmICh0aGlzLnByb3BzLnBvbGwuaXNfcHVibGljIHx8IHRoaXMucHJvcHMucG9sbC5hY2wuY2FuX3NlZV92b3RlcykgY29udHJvbHMucHVzaCgxKTtcbiAgICBpZiAodGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZWRpdCkgY29udHJvbHMucHVzaCgyKTtcbiAgICBpZiAodGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZGVsZXRlKSBjb250cm9scy5wdXNoKDMpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb2xsXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8aDI+e3RoaXMucHJvcHMucG9sbC5xdWVzdGlvbn08L2gyPlxuICAgICAgICAgICAgPFBvbGxJbmZvIHBvbGw9e3RoaXMucHJvcHMucG9sbH0gLz5cbiAgICAgICAgICAgIDxDaG9pY2VzU2VsZWN0XG4gICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2hvaWNlc31cbiAgICAgICAgICAgICAgdG9nZ2xlQ2hvaWNlPXt0aGlzLnRvZ2dsZUNob2ljZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8Q2hvaWNlc0hlbHBcbiAgICAgICAgICAgICAgY2hvaWNlc0xlZnQ9e3RoaXMuc3RhdGUuY2hvaWNlc0xlZnR9XG4gICAgICAgICAgICAgIHBvbGw9e3RoaXMucHJvcHMucG9sbH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUoY29udHJvbHMsIDApfT5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2F2ZSB5b3VyIHZvdGVcIil9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q2xhc3NOYW1lKGNvbnRyb2xzLCAxKX0+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tc21cIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93UmVzdWx0c31cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2VlIHJlc3VsdHNcIil9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8RWRpdFxuICAgICAgICAgICAgICAgIGNvbnRyb2xzPXtjb250cm9sc31cbiAgICAgICAgICAgICAgICBwb2xsPXt0aGlzLnByb3BzLnBvbGx9XG4gICAgICAgICAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPERlbGV0ZVxuICAgICAgICAgICAgICAgIGNvbnRyb2xzPXtjb250cm9sc31cbiAgICAgICAgICAgICAgICBwb2xsPXt0aGlzLnByb3BzLnBvbGx9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgcG9sbC1zZWxlY3QtY2hvaWNlc1wiPlxuICAgICAge3Byb3BzLmNob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Q2hvaWNlU2VsZWN0XG4gICAgICAgICAgICBjaG9pY2U9e2Nob2ljZX1cbiAgICAgICAgICAgIGtleT17Y2hvaWNlLmhhc2h9XG4gICAgICAgICAgICB0b2dnbGVDaG9pY2U9e3Byb3BzLnRvZ2dsZUNob2ljZX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIENob2ljZVNlbGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVDaG9pY2UodGhpcy5wcm9wcy5jaG9pY2UuaGFzaCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwicG9sbC1zZWxlY3QtY2hvaWNlXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2hvaWNlLnNlbGVjdGVkID8gJ2J0biBidG4tc2VsZWN0ZWQnIDogJ2J0bid9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlLnNlbGVjdGVkID8gJ2NoZWNrX2JveCcgOiAnY2hlY2tfYm94X291dGxpbmVfYmxhbmsnfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlLmxhYmVsfVxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRDaG9pY2VGcm9tSGFzaChjaG9pY2VzLCBoYXNoKSB7XG4gIGZvciAoY29uc3QgaSBpbiBjaG9pY2VzKSB7XG4gICAgY29uc3QgY2hvaWNlID0gY2hvaWNlc1tpXTtcbiAgICBpZiAoY2hvaWNlLmhhc2ggPT09IGhhc2gpIHtcbiAgICAgIHJldHVybiBjaG9pY2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaG9pY2VzTGVmdChwb2xsLCBjaG9pY2VzKSB7XG4gIGxldCBzZWxlY3Rpb24gPSBbXTtcbiAgZm9yIChjb25zdCBpIGluIGNob2ljZXMpIHtcbiAgICBjb25zdCBjaG9pY2UgPSBjaG9pY2VzW2ldO1xuICAgIGlmIChjaG9pY2Uuc2VsZWN0ZWQpIHtcbiAgICAgIHNlbGVjdGlvbi5wdXNoKGNob2ljZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBvbGwuYWxsb3dlZF9jaG9pY2VzIC0gc2VsZWN0aW9uLmxlbmd0aDtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBwb3N0LWNoYW5nZWxvZy1kaWZmXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAgICB7cHJvcHMuZGlmZi5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPERpZmZJdGVtIGl0ZW09e2l0ZW19IGtleT17aX0gLz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEaWZmSXRlbShwcm9wcykge1xuICBpZiAocHJvcHMuaXRlbVswXSA9PT0gJz8nKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2dldEl0ZW1DbGFzc05hbWUocHJvcHMuaXRlbSl9PlxuICAgICAge2NsZWFuSXRlbShwcm9wcy5pdGVtKX1cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXRlbUNsYXNzTmFtZShpdGVtKSB7XG4gIGxldCBjbGFzc05hbWUgPSAnZGlmZi1pdGVtJztcbiAgaWYgKGl0ZW1bMF0gPT09ICctJykge1xuICAgIGNsYXNzTmFtZSArPSAnIGRpZmYtaXRlbS1zdWInO1xuICB9IGVsc2UgaWYgKGl0ZW1bMF0gPT09ICcrJykge1xuICAgIGNsYXNzTmFtZSArPSAnIGRpZmYtaXRlbS1hZGQnO1xuICB9XG4gIHJldHVybiBjbGFzc05hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbkl0ZW0oaXRlbSkge1xuICByZXR1cm4gaXRlbS5zdWJzdHIoMik7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmV2ZXJ0RWRpdCh0aGlzLnByb3BzLmVkaXQuaWQpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5jYW5SZXZlcnQpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIlJldmVydCBwb3N0IHRvIHN0YXRlIGZyb20gYmVmb3JlIHRoaXMgZWRpdC5cIil9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIlJldmVydFwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH19IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEaWZmIGZyb20gJy4vZGlmZic7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vZm9vdGVyJztcbmltcG9ydCBUb29sYmFyIGZyb20gJy4vdG9vbGJhcic7XG5pbXBvcnQgeyBoeWRyYXRlRWRpdCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZSc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlcic7XG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzQnVzeTogdHJ1ZSxcblxuICAgICAgY2FuUmV2ZXJ0OiBwcm9wcy5wb3N0LmFjbC5jYW5fZWRpdCxcblxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBlZGl0OiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZ29Ub0VkaXQoKTtcbiAgfVxuXG4gIGdvVG9FZGl0ID0gKGVkaXQ9bnVsbCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSk7XG5cbiAgICBsZXQgdXJsID0gdGhpcy5wcm9wcy5wb3N0LmFwaS5lZGl0cztcbiAgICBpZiAoZWRpdCAhPT0gbnVsbCkge1xuICAgICAgdXJsICs9ICc/ZWRpdD0nICsgZWRpdDtcbiAgICB9XG5cbiAgICBhamF4LmdldCh1cmwpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgICBpc0J1c3k6IGZhbHNlLFxuICAgICAgICBlZGl0OiBoeWRyYXRlRWRpdChkYXRhKVxuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzUmVhZHk6IHRydWUsXG4gICAgICAgIGlzQnVzeTogZmFsc2UsXG4gICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICByZXZlcnRFZGl0ID0gKGVkaXQpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0J1c3kpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbmZpcm1hdGlvbiA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2l0aCB0byByZXZlcnQgdGhpcyBwb3N0IHRvIHRoZSBzdGF0ZSBmcm9tIGJlZm9yZSB0aGlzIGVkaXQ/XCIpKTtcbiAgICBpZiAoIWNvbmZpcm1hdGlvbikgcmV0dXJuO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KTtcblxuICAgIGNvbnN0IHVybCA9IHRoaXMucHJvcHMucG9zdC5hcGkuZWRpdHMgKyAnP2VkaXQ9JyArIGVkaXQ7XG4gICAgYWpheC5wb3N0KHVybCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgaHlkcmF0ZWRQb3N0ID0gcG9zdC5oeWRyYXRlKGRhdGEpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChkYXRhLCBoeWRyYXRlZFBvc3QpKTtcblxuICAgICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiUG9zdCBoYXMgYmVlbiByZXZlcnRlZCB0byBwcmV2aW91cyBzdGF0ZS5cIikpO1xuICAgICAgbW9kYWwuaGlkZSgpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiPlxuICAgICAgICAgIDxNZXNzYWdlXG4gICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxEaWFsb2c+XG4gICAgICAgICAgPFRvb2xiYXJcbiAgICAgICAgICAgIGNhblJldmVydD17dGhpcy5zdGF0ZS5jYW5SZXZlcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgICBlZGl0PXt0aGlzLnN0YXRlLmVkaXR9XG4gICAgICAgICAgICBnb1RvRWRpdD17dGhpcy5nb1RvRWRpdH1cbiAgICAgICAgICAgIHJldmVydEVkaXQ9e3RoaXMucmV2ZXJ0RWRpdH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxEaWZmIGRpZmY9e3RoaXMuc3RhdGUuZWRpdC5kaWZmfSAvPlxuICAgICAgICAgIDxGb290ZXJcbiAgICAgICAgICAgIGNhblJldmVydD17dGhpcy5zdGF0ZS5jYW5SZXZlcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgICBlZGl0PXt0aGlzLnN0YXRlLmVkaXR9XG4gICAgICAgICAgICByZXZlcnRFZGl0PXt0aGlzLnJldmVydEVkaXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbERpYWxvZz5cbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbERpYWxvZyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwibW9kYWwtZGlhbG9nXCJ9XG4gICAgICByb2xlPVwiZG9jdW1lbnRcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJQb3N0IGVkaXRzIGhpc3RvcnlcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ29MYXN0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuZ29Ub0VkaXQoKTtcbiAgfTtcblxuICBnb0ZvcndhcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5nb1RvRWRpdCh0aGlzLnByb3BzLmVkaXQubmV4dCk7XG4gIH07XG5cbiAgZ29CYWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuZ29Ub0VkaXQodGhpcy5wcm9wcy5lZGl0LnByZXZpb3VzKTtcbiAgfTtcblxuICByZXZlcnRFZGl0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmV2ZXJ0RWRpdCh0aGlzLnByb3BzLmVkaXQuaWQpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLXRvb2xiYXIgcG9zdC1jaGFuZ2Vsb2ctdG9vbGJhclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1zbS00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy00XCI+XG4gICAgICAgICAgICAgICAgPEdvQmFja0J0blxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICBlZGl0PXt0aGlzLnByb3BzLmVkaXR9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmdvQmFja31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNFwiPlxuICAgICAgICAgICAgICAgIDxHb0ZvcndhcmRCdG5cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgZWRpdD17dGhpcy5wcm9wcy5lZGl0fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5nb0ZvcndhcmR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTRcIj5cbiAgICAgICAgICAgICAgICA8R29MYXN0QnRuXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZ29MYXN0fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTUgeHMtbWFyZ2luLXRvcC1oYWxmIHBvc3QtY2hhbmdlLWxhYmVsXCI+XG4gICAgICAgICAgICA8TGFiZWwgZWRpdD17dGhpcy5wcm9wcy5lZGl0fSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxSZXZlcnRCdG5cbiAgICAgICAgICAgIGNhblJldmVydD17dGhpcy5wcm9wcy5jYW5SZXZlcnR9XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmV2ZXJ0RWRpdH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvQmFja0J0bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tc21cIlxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkIHx8ICFwcm9wcy5lZGl0LnByZXZpb3VzfVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiU2VlIHByZXZpb3VzIGNoYW5nZVwiKX1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGNoZXZyb25fbGVmdFxuICAgICAgPC9zcGFuPlxuICAgIDwvQnV0dG9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb0ZvcndhcmRCdG4ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLXNtXCJcbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZCB8fCAhcHJvcHMuZWRpdC5uZXh0fVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiU2VlIHByZXZpb3VzIGNoYW5nZVwiKX1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGNoZXZyb25fcmlnaHRcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0J1dHRvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR29MYXN0QnRuKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1zbVwiXG4gICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWQgfHwgIXByb3BzLmVkaXQubmV4dH1cbiAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlNlZSBwcmV2aW91cyBjaGFuZ2VcIil9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBsYXN0X3BhZ2VcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0J1dHRvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmV2ZXJ0QnRuKHByb3BzKSB7XG4gIGlmICghcHJvcHMuY2FuUmV2ZXJ0KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTMgaGlkZGVuLXhzXCI+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBidG4tYmxvY2tcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiUmV2ZXJ0IHBvc3QgdG8gc3RhdGUgZnJvbSBiZWZvcmUgdGhpcyBlZGl0LlwiKX1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJSZXZlcnRcIil9XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFiZWwocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsO1xuICBpZiAocHJvcHMuZWRpdC51cmwuZWRpdG9yKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC51cmwuZWRpdG9yKSxcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0b3JfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9TUEFOLCB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmVkaXQuZWRpdG9yX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoREFURV9BQkJSLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0ZWRfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0ZWRfb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiQnkgJShlZGl0ZWRfYnkpcyAlKGVkaXRlZF9vbilzLlwiKSksIHtcbiAgICBlZGl0ZWRfYnk6IHVzZXIsXG4gICAgZWRpdGVkX29uOiBkYXRlXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVFZGl0KGpzb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICBlZGl0ZWRfb246IG1vbWVudChqc29uLmVkaXRlZF9vbilcbiAgfSk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQb3N0IGZyb20gJy4vcG9zdCc7XG5pbXBvcnQgUHJldmlldyBmcm9tICcuL3ByZXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGlzUmVhZHksIHBvc3RzLCBwb3N0ZXIgfSkge1xuICBpZiAoIWlzUmVhZHkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFByZXZpZXcgLz5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCBwb3N0LWZlZWQgdWktcmVhZHlcIj5cbiAgICAgIHtwb3N0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UG9zdFxuICAgICAgICAgICAga2V5PXtwb3N0LmlkfVxuICAgICAgICAgICAgcG9zdD17cG9zdH1cbiAgICAgICAgICAgIHBvc3Rlcj17cG9zdGVyfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTWlzYWdvTWFya3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21pc2Fnby1tYXJrdXAnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuY29udGVudCkge1xuICAgIHJldHVybiA8RGVmYXVsdCB7Li4ucHJvcHN9IC8+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8SW52YWxpZCB7Li4ucHJvcHN9IC8+O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZWZhdWx0KHByb3BzKSB7XG4gcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9keVwiPlxuICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLnBvc3QuY29udGVudH0gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEludmFsaWQocHJvcHMpIHtcbiByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5IHBvc3QtYm9keS1pbnZhbGlkXCI+XG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e2dldHRleHQoXCJUaGlzIHBvc3QncyBjb250ZW50cyBjYW5ub3QgYmUgZGlzcGxheWVkLlwiKX08L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+e2dldHRleHQoXCJUaGlzIGVycm9yIGlzIGNhdXNlZCBieSBpbnZhbGlkIHBvc3QgY29udGVudCBtYW5pcHVsYXRpb24uXCIpfTwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QgfSkge1xuICBjb25zdCB7IGNhdGVnb3J5LCB0aHJlYWQgfSA9IHBvc3Q7XG5cbiAgY29uc3QgdG9vbHRpcCA9IGludGVycG9sYXRlKGdldHRleHQoXCJwb3N0ZWQgJShwb3N0ZWRfb24pc1wiKSwge1xuICAgICdwb3N0ZWRfb24nOiBwb3N0LnBvc3RlZF9vbi5mb3JtYXQoJ0xMLCBMVCcpXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWhlYWRpbmdcIj5cbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBpdGVtLXRpdGxlXCJcbiAgICAgICAgaHJlZj17dGhyZWFkLnVybH1cbiAgICAgID5cbiAgICAgICAge3RocmVhZC50aXRsZX1cbiAgICAgIDwvYT5cbiAgICAgIDxhXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBwb3N0LWNhdGVnb3J5XCJcbiAgICAgICAgaHJlZj17Y2F0ZWdvcnkudXJsLmluZGV4fVxuICAgICAgPlxuICAgICAgICB7Y2F0ZWdvcnkubmFtZX1cbiAgICAgIDwvYT5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Bvc3QudXJsLmluZGV4fVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgcG9zdGVkLW9uXCJcbiAgICAgICAgdGl0bGU9e3Rvb2x0aXB9XG4gICAgICA+XG4gICAgICAgIHtwb3N0LnBvc3RlZF9vbi5mcm9tTm93KCl9XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCb2R5IGZyb20gJy4vYm9keSc7XG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vaGVhZGVyJztcbmltcG9ydCBQb3N0U2lkZSBmcm9tICcuL3Bvc3Qtc2lkZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgcG9zdGVyIH0pIHtcbiAgY29uc3QgdXNlciA9IHBvc3RlciB8fCBwb3N0LnBvc3RlcjtcblxuICBsZXQgY2xhc3NOYW1lID0gJ3Bvc3QnO1xuICBpZiAodXNlciAmJiB1c2VyLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgcG9zdC0nICsgdXNlci5yYW5rLmNzc19jbGFzcztcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpXG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgIGlkPXsncG9zdC0nICsgcG9zdC5pZH1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICA8UG9zdFNpZGVcbiAgICAgICAgICAgIHBvc3Q9e3Bvc3R9XG4gICAgICAgICAgICBwb3N0ZXI9e3VzZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8SGVhZGVyIHBvc3Q9e3Bvc3R9IC8+XG4gICAgICAgICAgPEJvZHkgcG9zdD17cG9zdH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5pbXBvcnQgR29Ub0J1dHRvbiBmcm9tICcuL2J1dHRvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LXNpZGUgcG9zdC1zaWRlLWFub255bW91c1wiPlxuICAgICAgPEdvVG9CdXR0b24gcG9zdD17cG9zdH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBvc3Rlci1hdmF0YXJcIlxuICAgICAgICAgICAgICBzaXplPXs1MH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1oZWFkaW5nXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgIHtwb3N0LnBvc3Rlcl9uYW1lfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgdXNlci10aXRsZS1hbm9ueW1vdXNcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVtb3ZlZCB1c2VyXCIpfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QgfSkge1xuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gcHVsbC1yaWdodFwiXG4gICAgICBocmVmPXtwb3N0LnVybC5pbmRleH1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJidG4tdGV4dC1sZWZ0IGhpZGRlbi14c1wiPlxuICAgICAgICB7Z2V0dGV4dChcIlNlZSBwb3N0XCIpfVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBjaGV2cm9uX3JpZ2h0XG4gICAgICA8L3NwYW4+XG4gICAgPC9hPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQW5vbnltb3VzIGZyb20gJy4vYW5vbnltb3VzJztcbmltcG9ydCBSZWdpc3RlcmVkIGZyb20gJy4vcmVnaXN0ZXJlZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgcG9zdGVyIH0pIHtcbiAgaWYgKHBvc3Rlci5pZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8UmVnaXN0ZXJlZFxuICAgICAgICBwb3N0PXtwb3N0fVxuICAgICAgICBwb3N0ZXI9e3Bvc3Rlcn1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEFub255bW91cyBwb3N0PXtwb3N0fSAvPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5pbXBvcnQgR29Ub0J1dHRvbiBmcm9tICcuL2J1dHRvbic7XG5pbXBvcnQgVXNlclRpdGxlIGZyb20gJy4vdXNlci10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgcG9zdGVyIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc2lkZSBwb3N0LXNpZGUtcmVnaXN0ZXJlZFwiPlxuICAgICAgPEdvVG9CdXR0b24gcG9zdD17cG9zdH0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPGEgaHJlZj17cG9zdGVyLnVybH0+XG4gICAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBvc3Rlci1hdmF0YXJcIlxuICAgICAgICAgICAgICBzaXplPXs1MH1cbiAgICAgICAgICAgICAgdXNlcj17cG9zdGVyfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIlxuICAgICAgICAgICAgICBocmVmPXtwb3N0ZXIudXJsfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7cG9zdGVyLnVzZXJuYW1lfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxVc2VyVGl0bGVcbiAgICAgICAgICAgIHRpdGxlPXtwb3N0ZXIudGl0bGV9XG4gICAgICAgICAgICByYW5rPXtwb3N0ZXIucmFua31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcmFuaywgdGl0bGUgfSkge1xuICBsZXQgdXNlclRpdGxlID0gdGl0bGUgfHwgcmFuay50aXRsZSB8fCByYW5rLm5hbWU7XG5cbiAgbGV0IGNsYXNzTmFtZSA9ICd1c2VyLXRpdGxlJztcbiAgaWYgKHJhbmsuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgdXNlci10aXRsZS0nICsgcmFuay5jc3NfY2xhc3M7XG4gIH1cblxuICBpZiAocmFuay5pc190YWIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGhyZWY9e3JhbmsudXJsfT5cbiAgICAgICAge3VzZXJUaXRsZX1cbiAgICAgIDwvYT5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICB7dXNlclRpdGxlfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInO1xuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCBwb3N0LWZlZWQgdWktcHJldmlld1wiPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cInBvc3RcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvc3RcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zaWRlIHBvc3Qtc2lkZS1hbm9ueW1vdXNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxBdmF0YXJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwb3N0ZXItYXZhdGFyXCJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplPXs1MH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAyMDApICsgXCJweFwifX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZSB1c2VyLXRpdGxlLWFub255bW91c1wiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgMjAwKSArIFwicHhcIn19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvZHlcIj5cbiAgICAgICAgICAgICAgPGFydGljbGUgY2xhc3NOYW1lPVwibWlzYWdvLW1hcmt1cFwiPlxuICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgMjAwKSArIFwicHhcIn19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAyMDApICsgXCJweFwifX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDIwMCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvYXJ0aWNsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgPC91bD5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZSc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlcic7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcblxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBsaWtlczogW11cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wb3N0LmFwaS5saWtlcykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzUmVhZHk6IHRydWUsXG4gICAgICAgIGxpa2VzOiBkYXRhLm1hcChoeWRyYXRlTGlrZSlcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxEaWFsb2cgY2xhc3NOYW1lPVwibW9kYWwtbWVzc2FnZVwiPlxuICAgICAgICAgIDxNZXNzYWdlXG4gICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5saWtlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TW9kYWxEaWFsb2dcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1vZGFsLXNtXCJcbiAgICAgICAgICAgIGxpa2VzPXt0aGlzLnN0YXRlLmxpa2VzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxMaWtlc0xpc3RcbiAgICAgICAgICAgICAgbGlrZXM9e3RoaXMuc3RhdGUubGlrZXN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1tZXNzYWdlXCI+XG4gICAgICAgICAgPE1lc3NhZ2VcbiAgICAgICAgICAgIG1lc3NhZ2U9e2dldHRleHQoXCJObyB1c2VycyBoYXZlIGxpa2VkIHRoaXMgcG9zdC5cIil9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1zbVwiPlxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICA8L01vZGFsRGlhbG9nPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVMaWtlKGRhdGEpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGRhdGEsIHtcbiAgICBsaWtlZF9vbjogbW9tZW50KGRhdGEubGlrZWRfb24pXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxEaWFsb2coeyBjbGFzc05hbWUsIGNoaWxkcmVuLCBsaWtlcyB9KSB7XG4gIGxldCB0aXRsZSA9IGdldHRleHQoXCJQb3N0IExpa2VzXCIpO1xuICBpZiAobGlrZXMpIHtcbiAgICBjb25zdCBsaWtlc0NvdW50ID0gbGlrZXMubGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiJShsaWtlcylzIGxpa2VcIixcbiAgICAgIFwiJShsaWtlcylzIGxpa2VzXCIsXG4gICAgICBsaWtlc0NvdW50KTtcblxuICAgIHRpdGxlID0gaW50ZXJwb2xhdGUobWVzc2FnZSwgeyBsaWtlczogbGlrZXNDb3VudCB9LCB0cnVlKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtcIm1vZGFsLWRpYWxvZyBcIiArIChjbGFzc05hbWUgfHwgJycpfVxuICAgICAgcm9sZT1cImRvY3VtZW50XCJcbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPnt0aXRsZX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpa2VzTGlzdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1wb3N0LWxpa2Vyc1wiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cIm1lZGlhLWxpc3RcIj5cbiAgICAgICAge3Byb3BzLmxpa2VzLm1hcCgobGlrZSkgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8TGlrZURldGFpbHNcbiAgICAgICAgICAgICAga2V5PXtsaWtlLmlkfVxuICAgICAgICAgICAgICB7Li4ubGlrZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlrZURldGFpbHMocHJvcHMpIHtcbiAgaWYgKHByb3BzLnVybCkge1xuICAgIGNvbnN0IHVzZXIgPSB7XG4gICAgICBpZDogcHJvcHMubGlrZXJfaWQsXG4gICAgICBhdmF0YXJzOiBwcm9wcy5hdmF0YXJzXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCJcbiAgICAgICAgICAgIGhyZWY9e3Byb3BzLnVybH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIHVzZXI9e3VzZXJ9IC8+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIlxuICAgICAgICAgICAgaHJlZj17cHJvcHMudXJsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtwcm9wcy51c2VybmFtZX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgeycgJ31cbiAgICAgICAgICA8TGlrZURhdGUgbGlrZWRPbj17cHJvcHMubGlrZWRfb259IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtbGVmdFwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhclwiPlxuICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjUwXCIgLz5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgPHN0cm9uZz57cHJvcHMudXNlcm5hbWV9PC9zdHJvbmc+XG4gICAgICAgIHsnICd9XG4gICAgICAgIDxMaWtlRGF0ZSBsaWtlZE9uPXtwcm9wcy5saWtlZF9vbn0gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaWtlRGF0ZShwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxzcGFuXG4gICAgICBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCJcbiAgICAgIHRpdGxlPXtwcm9wcy5saWtlZE9uLmZvcm1hdCgnTExMJyl9XG4gICAgPlxuICAgICAge3Byb3BzLmxpa2VkT24uZnJvbU5vdygpfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEVkaXRvciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9lZGl0b3InOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vdXRpbHMvY29udGFpbmVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi91dGlscy9sb2FkZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi91dGlscy9tZXNzYWdlJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIGF0dGFjaG1lbnRzIGZyb20gJy4vdXRpbHMvYXR0YWNobWVudHMnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgZ2V0UG9zdFZhbGlkYXRvcnMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgIHBvc3Q6ICcnLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuICAgICAgcHJvdGVjdDogZmFsc2UsXG5cbiAgICAgIGNhblByb3RlY3Q6IGZhbHNlLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHBvc3Q6IGdldFBvc3RWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuY29uZmlnKS50aGVuKHRoaXMubG9hZFN1Y2Nlc3MsIHRoaXMubG9hZEVycm9yKTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgbG9hZFN1Y2Nlc3MgPSAoZGF0YSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNSZWFkeTogdHJ1ZSxcblxuICAgICAgcG9zdDogZGF0YS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmh5ZHJhdGUoZGF0YS5hdHRhY2htZW50cyksXG4gICAgICBwcm90ZWN0OiBkYXRhLmlzX3Byb3RlY3RlZCxcblxuICAgICAgY2FuUHJvdGVjdDogZGF0YS5jYW5fcHJvdGVjdFxuICAgIH0pO1xuICB9O1xuXG4gIGxvYWRFcnJvciA9IChyZWplY3Rpb24pID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRXJyb3JlZDogcmVqZWN0aW9uLmRldGFpbFxuICAgIH0pO1xuICB9O1xuXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkaXNjYXJkIGNoYW5nZXM/XCIpKTtcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIG9uUHJvdGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHByb3RlY3Q6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICBvblVucHJvdGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHByb3RlY3Q6IGZhbHNlXG4gICAgfSk7XG4gIH07XG5cbiAgb25Qb3N0Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9zdCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IChhdHRhY2htZW50cykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYSBtZXNzYWdlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgaWYgKGVycm9ycy5wb3N0KSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMucG9zdFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnB1dCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgcG9zdDogdGhpcy5zdGF0ZS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmNsZWFuKHRoaXMuc3RhdGUuYXR0YWNobWVudHMpLFxuICAgICAgcHJvdGVjdDogdGhpcy5zdGF0ZS5wcm90ZWN0XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJSZXBseSBoYXMgYmVlbiBlZGl0ZWQuXCIpKTtcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybC5pbmRleDtcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc3QgZXJyb3JzID0gW10uY29uY2F0KFxuICAgICAgICByZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycyB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLmNhdGVnb3J5IHx8IFtdLFxuICAgICAgICByZWplY3Rpb24udGl0bGUgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5wb3N0IHx8IFtdLFxuICAgICAgICByZWplY3Rpb24uYXR0YWNobWVudHMgfHwgW11cbiAgICAgICk7XG5cbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9yc1swXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gbWV0aG9kPVwiUE9TVFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cblxuICAgICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgICAgY2FuUHJvdGVjdD17dGhpcy5zdGF0ZS5jYW5Qcm90ZWN0fVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIG9uUHJvdGVjdD17dGhpcy5vblByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBvblVucHJvdGVjdD17dGhpcy5vblVucHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIHByb3RlY3Q9e3RoaXMuc3RhdGUucHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiRWRpdCByZXBseVwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcmVkfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTdGFydCBmcm9tICcuL3N0YXJ0JztcbmltcG9ydCBTdGFydFByaXZhdGUgZnJvbSAnLi9zdGFydC1wcml2YXRlJztcbmltcG9ydCBSZXBseSBmcm9tICcuL3JlcGx5JztcbmltcG9ydCBFZGl0IGZyb20gJy4vZWRpdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5tb2RlID09PSAnU1RBUlQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTdGFydCB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSAnU1RBUlRfUFJJVkFURScpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFN0YXJ0UHJpdmF0ZSB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSAnUkVQTFknKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSAnRURJVCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEVkaXQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEVkaXRvciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9lZGl0b3InOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vdXRpbHMvY29udGFpbmVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi91dGlscy9sb2FkZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi91dGlscy9tZXNzYWdlJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIGF0dGFjaG1lbnRzIGZyb20gJy4vdXRpbHMvYXR0YWNobWVudHMnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgZ2V0UG9zdFZhbGlkYXRvcnMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgIHBvc3Q6ICcnLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHBvc3Q6IGdldFBvc3RWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuY29uZmlnLCB0aGlzLnByb3BzLmNvbnRleHQgfHwgbnVsbCkudGhlbih0aGlzLmxvYWRTdWNjZXNzLCB0aGlzLmxvYWRFcnJvcik7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnByb3BzLmNvbnRleHQ7XG4gICAgY29uc3QgbmV3Q29udGV4dCA9IG5leHRQcm9wcy5jb250ZXh0O1xuXG4gICAgaWYgKGNvbnRleHQgJiYgbmV3Q29udGV4dCAmJiBjb250ZXh0LnJlcGx5ID09PSBuZXdDb250ZXh0LnJlcGx5KSByZXR1cm47XG5cbiAgICBhamF4LmdldChuZXh0UHJvcHMuY29uZmlnLCBuZXh0UHJvcHMuY29udGV4dCB8fCBudWxsKS50aGVuKHRoaXMuYXBwZW5kRGF0YSwgc25hY2tiYXIuYXBpRXJyb3IpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkU3VjY2VzcyA9IChkYXRhKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICBwb3N0OiBkYXRhLnBvc3QgPyAoJ1txdW90ZT1cIkAnICsgIGRhdGEucG9zdGVyICsgJ1wiXVxcbicgKyBkYXRhLnBvc3QgKyAnXFxuWy9xdW90ZV0nKSA6ICcnXG4gICAgfSk7XG4gIH07XG5cbiAgbG9hZEVycm9yID0gKHJlamVjdGlvbikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFcnJvcmVkOiByZWplY3Rpb24uZGV0YWlsXG4gICAgfSk7XG4gIH07XG5cbiAgYXBwZW5kRGF0YSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgbmV3UG9zdCA9IGRhdGEucG9zdCA/ICgnW3F1b3RlPVwiQCcgKyAgZGF0YS5wb3N0ZXIgKyAnXCJdXFxuJyArIGRhdGEucG9zdCArICdcXG5bL3F1b3RlXVxcblxcbicpIDogJyc7XG5cbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUsIHByb3BzKSA9PiB7XG4gICAgICBpZiAocHJldlN0YXRlLnBvc3QubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBvc3Q6IHByZXZTdGF0ZS5wb3N0ICsgJ1xcblxcbicgKyBuZXdQb3N0XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvc3Q6IG5ld1Bvc3RcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgeW91ciByZXBseT9cIikpO1xuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgb25Qb3N0Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9zdCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IChhdHRhY2htZW50cykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYSBtZXNzYWdlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgaWYgKGVycm9ycy5wb3N0KSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMucG9zdFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5zdWJtaXQsIHtcbiAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciByZXBseSBoYXMgYmVlbiBwb3N0ZWQuXCIpKTtcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybC5pbmRleDtcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc3QgZXJyb3JzID0gW10uY29uY2F0KFxuICAgICAgICByZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycyB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnBvc3QgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5hdHRhY2htZW50cyB8fCBbXVxuICAgICAgKTtcblxuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnN0YXRlLmlzUmVhZHkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1mb3JtXCI+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBtZXRob2Q9XCJQT1NUXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuXG4gICAgICAgICAgICAgICAgPEVkaXRvclxuICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMuc3RhdGUuYXR0YWNobWVudHN9XG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQXR0YWNobWVudHNDaGFuZ2U9e3RoaXMub25BdHRhY2htZW50c0NoYW5nZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb3N0Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgc3VibWl0TGFiZWw9e2dldHRleHQoXCJQb3N0IHJlcGx5XCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9zdH1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L0NvbnRhaW5lcj5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzRXJyb3JlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1lc3NhZ2UgbWVzc2FnZT17dGhpcy5zdGF0ZS5pc0Vycm9yZWR9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICApO1xuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEVkaXRvciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9lZGl0b3InOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vdXRpbHMvY29udGFpbmVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4vdXRpbHMvbWVzc2FnZSc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBhdHRhY2htZW50cyBmcm9tICcuL3V0aWxzL2F0dGFjaG1lbnRzJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBjbGVhblVzZXJuYW1lcyBmcm9tICcuL3V0aWxzL3VzZXJuYW1lcyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycywgZ2V0VGl0bGVWYWxpZGF0b3JzIH0gZnJvbSAnLi91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IHRvID0gKHByb3BzLnRvIHx8IFtdKS5tYXAoKHVzZXIpID0+IHVzZXIudXNlcm5hbWUpLmpvaW4oJywgJyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdG86IHRvLFxuICAgICAgdGl0bGU6ICcnLFxuICAgICAgcG9zdDogJycsXG4gICAgICBhdHRhY2htZW50czogW10sXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlVmFsaWRhdG9ycygpLFxuICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkaXNjYXJkIHByaXZhdGUgdGhyZWFkP1wiKSk7XG4gICAgaWYgKGNhbmNlbCkge1xuICAgICAgcG9zdGluZy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBvblRvQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgndG8nLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIG9uVGl0bGVDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd0aXRsZScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25Qb3N0Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9zdCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IChhdHRhY2htZW50cykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIWNsZWFuVXNlcm5hbWVzKHRoaXMuc3RhdGUudG8pLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGF0IGxlYXN0IG9uZSByZWNpcGllbnQuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUudGl0bGUudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIHRocmVhZCB0aXRsZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGF0ZS5wb3N0LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBhIG1lc3NhZ2UuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICBpZiAoZXJyb3JzLnRpdGxlKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMudGl0bGVbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChlcnJvcnMucG9zdCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnBvc3RbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMuc3VibWl0LCB7XG4gICAgICB0bzogY2xlYW5Vc2VybmFtZXModGhpcy5zdGF0ZS50byksXG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKSxcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdXIgdGhyZWFkIGhhcyBiZWVuIHBvc3RlZC5cIikpO1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsO1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBjb25zdCBlcnJvcnMgPSBbXS5jb25jYXQoXG4gICAgICAgIHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzIHx8IFtdLFxuICAgICAgICByZWplY3Rpb24udG8gfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi50aXRsZSB8fCBbXSxcbiAgICAgICAgcmVqZWN0aW9uLnBvc3QgfHwgW10sXG4gICAgICAgIHJlamVjdGlvbi5hdHRhY2htZW50cyB8fCBbXVxuICAgICAgKTtcblxuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiIHdpdGhGaXJzdFJvdz17dHJ1ZX0+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmlyc3Qtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuXG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVG9DaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJDb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiB1c2VyIG5hbWVzLCBlZy46IERhbm55LCBMaXNhXCIpfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50b31cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmlyc3Qtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuXG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTJcIj5cblxuICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMuc3RhdGUuYXR0YWNobWVudHN9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICBzdWJtaXRMYWJlbD17Z2V0dGV4dChcIlBvc3QgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L0NvbnRhaW5lcj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZXdhcmRTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcmV3YXJkLXNlbGVjdCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRWRpdG9yIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2VkaXRvcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi91dGlscy9jb250YWluZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICcuL3V0aWxzL2xvYWRlcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuL3V0aWxzL21lc3NhZ2UnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE9wdGlvbnMgZnJvbSAnLi91dGlscy9vcHRpb25zJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIGF0dGFjaG1lbnRzIGZyb20gJy4vdXRpbHMvYXR0YWNobWVudHMnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHtnZXRQb3N0VmFsaWRhdG9ycywgZ2V0VGl0bGVWYWxpZGF0b3JzfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmNvbnN0IFFSQ29kZSA9IHJlcXVpcmUoJ3FyY29kZS5yZWFjdCcpOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgICAgICAgIHNob3dPcHRpb25zOiBmYWxzZSxcbiAgICAgICAgICAgIGNhdGVnb3J5T3B0aW9uczogbnVsbCxcblxuICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IHByb3BzLmNhdGVnb3J5IHx8IG51bGwsXG4gICAgICAgICAgICBjYXRlZ29yaWVzOiBbXSxcbiAgICAgICAgICAgIHBvc3Q6ICcnLFxuICAgICAgICAgICAgYXR0YWNobWVudHM6IFtdLFxuICAgICAgICAgICAgY2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgaGlkZTogZmFsc2UsXG4gICAgICAgICAgICBwaW46IDAsXG4gICAgICAgICAgICBvdXRUcmFkZU5vOiAnJyxcbiAgICAgICAgICAgIHJld2FyZHM6IFsxLCAxMCwgMjAgLDMwICw1MF0sXG4gICAgICAgICAgICByZXdhcmQ6IDEwLFxuICAgICAgICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBnZXRUaXRsZVZhbGlkYXRvcnMoKSxcbiAgICAgICAgICAgICAgICBwb3N0OiBnZXRQb3N0VmFsaWRhdG9ycygpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3JzOiB7fVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBhamF4LmdldCh0aGlzLnByb3BzLmNvbmZpZykudGhlbih0aGlzLmxvYWRTdWNjZXNzLCB0aGlzLmxvYWRFcnJvcik7XG4gICAgfVxuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGxvYWRTdWNjZXNzID0gKGRhdGEpID0+IHtcbiAgICAgICAgbGV0IGNhdGVnb3J5ID0gbnVsbDtcbiAgICAgICAgbGV0IHNob3dPcHRpb25zID0gZmFsc2U7XG4gICAgICAgIGxldCBjYXRlZ29yeU9wdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAvLyBwaWNrIGZpcnN0IGNhdGVnb3J5IHRoYXQgYWxsb3dzIHBvc3RpbmcgYW5kIGlmIGl0IG1heSwgb3ZlcnJpZGUgaXQgd2l0aCBpbml0aWFsIG9uZVxuICAgICAgICAgICAgaWYgKGl0ZW0ucG9zdCAhPT0gZmFsc2UgJiYgKCFjYXRlZ29yeSB8fCBpdGVtLmlkID09IHRoaXMuc3RhdGUuY2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPSBpdGVtLmlkO1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5T3B0aW9ucyA9IGl0ZW0ucG9zdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGl0ZW0ucG9zdCAmJiAoaXRlbS5wb3N0LmNsb3NlIHx8IGl0ZW0ucG9zdC5oaWRlIHx8IGl0ZW0ucG9zdC5waW4pKSB7XG4gICAgICAgICAgICAgICAgc2hvd09wdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5pZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgICAgICAgIHNob3dPcHRpb25zLFxuXG4gICAgICAgICAgICBjYXRlZ29yaWVzLFxuICAgICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgICBjYXRlZ29yeU9wdGlvbnNcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGxvYWRFcnJvciA9IChyZWplY3Rpb24pID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0Vycm9yZWQ6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIG9uQ2FuY2VsID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCB0aHJlYWQ/XCIpKTtcbiAgICAgICAgaWYgKGNhbmNlbCkge1xuICAgICAgICAgICAgcG9zdGluZy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHF1ZXJ5UGF5U3RhdHVzID0gKCkgPT4ge1xuICAgICAgICBhamF4LmdldChtaXNhZ28uZ2V0KCdQQVlfV0VDSEFUUEFZX1NUQVRVU19BUEknKSwgeydvdXRfdHJhZGVfbm8nOiB0aGlzLnN0YXRlLm91dFRyYWRlTm99KS50aGVuKFxuICAgICAgICAgICAgKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICdTVUNDRVNTJyl7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTdWJtaXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIClcbiAgICB9XG5cbiAgICBvbkNsaWNrID0gKCkgPT4ge1xuICAgICAgICBhamF4LmdldChtaXNhZ28uZ2V0KCdQQVlfV0VDSEFUUEFZX1FSQ09ERV9BUEknKSwgeydyZXdhcmQnOiB0aGlzLnN0YXRlLnJld2FyZCAqIDEwMH0pLnRoZW4oXG4gICAgICAgICAgICAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe291dFRyYWRlTm86IGRhdGEub3V0X3RyYWRlX25vfSlcbiAgICAgICAgICAgICAgICBsZXQgcXVlcnlTdGF0dXNJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwodGhpcy5xdWVyeVBheVN0YXR1cywgMTUwMClcbiAgICAgICAgICAgICAgICBtb2RhbC5zaG93KFxuICAgICAgICAgICAgICAgICAgICA8TW9kYWxEaWFsb2c+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UVJDb2RlIHZhbHVlPXtkYXRhLmNvZGVfdXJsfSBzaXplPXsyNTZ9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICAgICAgICAgICAgLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHF1ZXJ5U3RhdHVzSW50ZXJ2YWxJZClcbiAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuXG4gICAgfVxuXG4gICAgb25UaXRsZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLmNoYW5nZVZhbHVlKCd0aXRsZScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfTtcblxuICAgIG9uQ2F0ZWdvcnlDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLnN0YXRlLmNhdGVnb3JpZXMuZmluZCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC52YWx1ZSA9PSBpdGVtLnZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiBzZWxlY3RlZCBwaW4gaXMgZ3JlYXRlciB0aGFuIGFsbG93ZWQsIHJlZHVjZSBpdFxuICAgICAgICBsZXQgcGluID0gdGhpcy5zdGF0ZS5waW47XG4gICAgICAgIGlmIChjYXRlZ29yeS5wb3N0LnBpbiAmJiBjYXRlZ29yeS5wb3N0LnBpbiA8IHBpbikge1xuICAgICAgICAgICAgcGluID0gY2F0ZWdvcnkucG9zdC5waW47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeS5pZCxcbiAgICAgICAgICAgIGNhdGVnb3J5T3B0aW9uczogY2F0ZWdvcnkucG9zdCxcblxuICAgICAgICAgICAgcGluXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBvblJld2FyZENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCByZXdhcmQgPSB0aGlzLnN0YXRlLnJld2FyZHMuZmluZCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC52YWx1ZSA9PSBpdGVtXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cmV3YXJkfSlcbiAgICB9XG5cbiAgICBvblBvc3RDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9zdCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfTtcblxuICAgIG9uQXR0YWNobWVudHNDaGFuZ2UgPSAoYXR0YWNobWVudHMpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBhdHRhY2htZW50c1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgb25DbG9zZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5jaGFuZ2VWYWx1ZSgnY2xvc2UnLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgb25PcGVuID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmNoYW5nZVZhbHVlKCdjbG9zZScsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgb25QaW5HbG9iYWxseSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5jaGFuZ2VWYWx1ZSgncGluJywgMik7XG4gICAgfTtcblxuICAgIG9uUGluTG9jYWxseSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5jaGFuZ2VWYWx1ZSgncGluJywgMSk7XG4gICAgfTtcblxuICAgIG9uVW5waW4gPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3BpbicsIDApO1xuICAgIH07XG5cbiAgICBvbkhpZGUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2hhbmdlVmFsdWUoJ2hpZGUnLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgb25VbmhpZGUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2hhbmdlVmFsdWUoJ2hpZGUnLCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gICAgY2xlYW4oKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS50aXRsZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgdGhyZWFkIHRpdGxlLlwiKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYSBtZXNzYWdlLlwiKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgaWYgKGVycm9ycy50aXRsZSkge1xuICAgICAgICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnRpdGxlWzBdKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvcnMucG9zdCkge1xuICAgICAgICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnBvc3RbMF0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgc2VuZCgpIHtcbiAgICAgICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnN1Ym1pdCwge1xuICAgICAgICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgICAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgICAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKSxcbiAgICAgICAgICAgIGNsb3NlOiB0aGlzLnN0YXRlLmNsb3NlLFxuICAgICAgICAgICAgaGlkZTogdGhpcy5zdGF0ZS5oaWRlLFxuICAgICAgICAgICAgcmV3YXJkOiB0aGlzLnN0YXRlLnJld2FyZCAqIDEwMCxcbiAgICAgICAgICAgIHBpbjogdGhpcy5zdGF0ZS5waW5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIllvdXIgdGhyZWFkIGhhcyBiZWVuIHBvc3RlZC5cIikpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybDtcblxuICAgICAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvcnMgPSBbXS5jb25jYXQoXG4gICAgICAgICAgICAgICAgcmVqZWN0aW9uLm5vbl9maWVsZF9lcnJvcnMgfHwgW10sXG4gICAgICAgICAgICAgICAgcmVqZWN0aW9uLmNhdGVnb3J5IHx8IFtdLFxuICAgICAgICAgICAgICAgIHJlamVjdGlvbi50aXRsZSB8fCBbXSxcbiAgICAgICAgICAgICAgICByZWplY3Rpb24ucG9zdCB8fCBbXSxcbiAgICAgICAgICAgICAgICByZWplY3Rpb24uYXR0YWNobWVudHMgfHwgW11cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9yc1swXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlzRXJyb3JlZCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3JlZH0vPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxMb2FkZXIvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb2x1bW5zID0gMDtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2F0ZWdvcnlPcHRpb25zLmNsb3NlKSBjb2x1bW5zICs9IDE7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNhdGVnb3J5T3B0aW9ucy5oaWRlKSBjb2x1bW5zICs9IDE7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNhdGVnb3J5T3B0aW9ucy5waW4pIGNvbHVtbnMgKz0gMTtcblxuICAgICAgICBsZXQgdGl0bGVTdHlsZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKGNvbHVtbnMgPT09IDEpIHtcbiAgICAgICAgICAgIHRpdGxlU3R5bGUgPSAnY29sLXNtLTYnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGl0bGVTdHlsZSA9ICdjb2wtc20tOCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29sdW1ucyA9PT0gMykge1xuICAgICAgICAgICAgdGl0bGVTdHlsZSArPSAnIGNvbC1tZC02J1xuICAgICAgICB9IGVsc2UgaWYgKGNvbHVtbnMpIHtcbiAgICAgICAgICAgIHRpdGxlU3R5bGUgKz0gJyBjb2wtbWQtNydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlU3R5bGUgKz0gJyBjb2wtbWQtOSdcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiIHdpdGhGaXJzdFJvdz17dHJ1ZX0+XG4gICAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aXRsZVN0eWxlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblRpdGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlRocmVhZCB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29sLXhzLTEyIGNvbC1zbS00IGNvbC1tZC0zIHhzLW1hcmdpbi10b3AnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPE9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZT17dGhpcy5zdGF0ZS5jbG9zZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zPXtjb2x1bW5zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlPXt0aGlzLnN0YXRlLmhpZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5vbkNsb3NlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uSGlkZT17dGhpcy5vbkhpZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuPXt0aGlzLm9uT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblBpbkdsb2JhbGx5PXt0aGlzLm9uUGluR2xvYmFsbHl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25QaW5Mb2NhbGx5PXt0aGlzLm9uUGluTG9jYWxseX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVuaGlkZT17dGhpcy5vblVuaGlkZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblVucGluPXt0aGlzLm9uVW5waW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz17dGhpcy5zdGF0ZS5jYXRlZ29yeU9wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGluPXt0aGlzLnN0YXRlLnBpbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93T3B0aW9ucz17dGhpcy5zdGF0ZS5zaG93T3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9ybS1pbmxpbmUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImNvbnRyb2wtbGFiZWxcIj7mgqzotY/ph5Hpop06PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8UmV3YXJkU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJyZXdhcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUucmV3YXJkc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25SZXdhcmRDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucmV3YXJkfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMuc3RhdGUuYXR0YWNobWVudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0TGFiZWw9e2dldHRleHQoXCJQb3N0IHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9zdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgICApO1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbn1cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsRGlhbG9nKHByb3BzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgXCJtb2RhbC1kaWFsb2dcIn1cbiAgICAgICAgICAgIHJvbGU9XCJkb2N1bWVudFwiXG4gICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudCBjZW50ZXItYmxvY2tcIiBzdHlsZT17e3dpZHRoOiBcImZpdC1jb250ZW50XCJ9fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGUgdGV4dC1jZW50ZXJcIj57cHJvcHMudGl0bGUgfHwgXCJzYW1wbGVcIn08L2g0PlxuICAgICAgICAgICAgICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuKGF0dGFjaG1lbnRzKSB7XG4gIGNvbnN0IGNvbXBsZXRlZEF0dGFjaG1lbnRzID0gYXR0YWNobWVudHMuZmlsdGVyKChhdHRhY2htZW50KSA9PiB7XG4gICAgcmV0dXJuIGF0dGFjaG1lbnQuaWQgJiYgIWF0dGFjaG1lbnQuaXNSZW1vdmVkO1xuICB9KTtcblxuICByZXR1cm4gY29tcGxldGVkQXR0YWNobWVudHMubWFwKChhKSA9PiB7IHJldHVybiBhLmlkOyB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoYXR0YWNobWVudHMpIHtcbiAgcmV0dXJuIGF0dGFjaG1lbnRzLm1hcCgoYXR0YWNobWVudCkgPT4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBhdHRhY2htZW50LCB7XG4gICAgICB1cGxvYWRlZF9vbjogbW9tZW50KGF0dGFjaG1lbnQudXBsb2FkZWRfb24pXG4gICAgfSk7XG4gIH0pO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vY29udGFpbmVyJztcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctbG9hZGVyXCI+XG4gICAgICA8TG9hZGVyIC8+XG4gICAgPC9Db250YWluZXI+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi9jb250YWluZXInO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxDb250YWluZXIgY2xhc3NOYW1lPVwicG9zdGluZy1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBlcnJvcl9vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtwcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiIG9uQ2xpY2s9e3Bvc3RpbmcuY2xvc2V9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGlzbWlzc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L0NvbnRhaW5lcj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnNob3dPcHRpb25zKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCB7IGNvbHVtbnMgfSA9IHByb3BzO1xuXG4gIGxldCBjbGFzc05hbWUgPSAnY29sLXhzLTEyIHhzLW1hcmdpbi10b3AnO1xuXG4gIGlmIChjb2x1bW5zID09PSAxKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgY29sLXNtLTInO1xuICB9IGVsc2Uge1xuICAgIGNsYXNzTmFtZSArPSAnIHNtLW1hcmdpbi10b3AnO1xuICB9XG5cbiAgaWYgKGNvbHVtbnMgPT09IDMpIHtcbiAgICBjbGFzc05hbWUgKz0gJyBjb2wtbWQtMyc7XG4gIH0gZWxzZSB7XG4gICAgY2xhc3NOYW1lICs9ICcgY29sLW1kLTInO1xuICB9XG4gIGNsYXNzTmFtZSArPSAnIHBvc3Rpbmctb3B0aW9ucyc7XG5cbiAgY29uc3QgY29sdW1uQ2xhc3NOYW1lID0gJ2NvbC14cy0nICsgKDEyIC8gY29sdW1ucyk7XG5cbiAgbGV0IHRleHRDbGFzc05hbWUgPSAnYnRuLXRleHQnXG4gIGlmIChjb2x1bW5zID09PSAzKSB7XG4gICAgICB0ZXh0Q2xhc3NOYW1lICs9ICcgdmlzaWJsZS1zbS1pbmxpbmUtYmxvY2snO1xuICB9IGVsc2UgaWYgKGNvbHVtbnMgPT09IDIpIHtcbiAgICAgIHRleHRDbGFzc05hbWUgKz0gJyBoaWRkZW4tbWQgaGlkZGVuLWxnJztcbiAgfSBlbHNlIHtcbiAgICAgIHRleHRDbGFzc05hbWUgKz0gJyBoaWRkZW4tc20nO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgIDxQaW5PcHRpb25zXG4gICAgICAgICAgY2xhc3NOYW1lPXtjb2x1bW5DbGFzc05hbWV9XG4gICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uUGluR2xvYmFsbHk9e3Byb3BzLm9uUGluR2xvYmFsbHl9XG4gICAgICAgICAgb25QaW5Mb2NhbGx5PXtwcm9wcy5vblBpbkxvY2FsbHl9XG4gICAgICAgICAgb25VbnBpbj17cHJvcHMub25VbnBpbn1cbiAgICAgICAgICBwaW49e3Byb3BzLnBpbn1cbiAgICAgICAgICBzaG93PXtwcm9wcy5vcHRpb25zLnBpbn1cbiAgICAgICAgICB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfVxuICAgICAgICAvPlxuICAgICAgICA8SGlkZU9wdGlvbnNcbiAgICAgICAgICBjbGFzc05hbWU9e2NvbHVtbkNsYXNzTmFtZX1cbiAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgaGlkZT17cHJvcHMuaGlkZX1cbiAgICAgICAgICBvbkhpZGU9e3Byb3BzLm9uSGlkZX1cbiAgICAgICAgICBvblVuaGlkZT17cHJvcHMub25VbmhpZGV9XG4gICAgICAgICAgc2hvdz17cHJvcHMub3B0aW9ucy5oaWRlfVxuICAgICAgICAgIHRleHRDbGFzc05hbWU9e3RleHRDbGFzc05hbWV9XG4gICAgICAgIC8+XG4gICAgICAgIDxDbG9zZU9wdGlvbnNcbiAgICAgICAgICBjbGFzc05hbWU9e2NvbHVtbkNsYXNzTmFtZX1cbiAgICAgICAgICBjbG9zZT17cHJvcHMuY2xvc2V9XG4gICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uQ2xvc2U9e3Byb3BzLm9uQ2xvc2V9XG4gICAgICAgICAgb25PcGVuPXtwcm9wcy5vbk9wZW59XG4gICAgICAgICAgc2hvdz17cHJvcHMub3B0aW9ucy5jbG9zZX1cbiAgICAgICAgICB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDbG9zZU9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5zaG93KSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBsYWJlbCA9IHByb3BzLmNsb3NlID8gZ2V0dGV4dCgnQ2xvc2VkJykgOiBnZXR0ZXh0KCdPcGVuJyk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17cHJvcHMuY2xvc2UgPyBwcm9wcy5vbk9wZW4gOiBwcm9wcy5vbkNsb3NlfVxuICAgICAgICB0aXRsZT17bGFiZWx9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge3Byb3BzLmNsb3NlID8gJ2xvY2snIDogJ2xvY2tfb3V0bGluZSd9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtwcm9wcy50ZXh0Q2xhc3NOYW1lfT5cbiAgICAgICAgICB7bGFiZWx9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZU9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5zaG93KSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBsYWJlbCA9IHByb3BzLmhpZGUgPyBnZXR0ZXh0KCdIaWRkZW4nKSA6IGdldHRleHQoJ05vdCBoaWRkZW4nKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5oaWRlID8gcHJvcHMub25VbmhpZGUgOiBwcm9wcy5vbkhpZGV9XG4gICAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7cHJvcHMuaGlkZSA/ICd2aXNpYmlsaXR5X29mZicgOiAndmlzaWJpbGl0eSd9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtwcm9wcy50ZXh0Q2xhc3NOYW1lfT5cbiAgICAgICAgICB7bGFiZWx9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUGluT3B0aW9ucyhwcm9wcykge1xuICBpZiAoIXByb3BzLnNob3cpIHJldHVybiBudWxsO1xuXG4gIGxldCBpY29uID0gbnVsbDtcbiAgbGV0IG9uQ2xpY2sgPSBudWxsO1xuICBsZXQgbGFiZWwgPSBudWxsO1xuXG4gIHN3aXRjaCAocHJvcHMucGluKSB7XG4gICAgY2FzZSAwOlxuICAgICAgaWNvbiA9ICdyYWRpb19idXR0b25fdW5jaGVja2VkJztcbiAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblBpbkxvY2FsbHk7XG4gICAgICBsYWJlbCA9IGdldHRleHQoXCJVbnBpbm5lZFwiKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAxOlxuICAgICAgaWNvbiA9ICdib29rbWFya19vdXRsaW5lJztcbiAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblBpbkdsb2JhbGx5O1xuICAgICAgbGFiZWwgPSBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIik7XG5cbiAgICAgIGlmIChwcm9wcy5zaG93ID09IDIpIHtcbiAgICAgICAgb25DbGljayA9IHByb3BzLm9uUGluR2xvYmFsbHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbkNsaWNrID0gcHJvcHMub25VbnBpbjtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDI6XG4gICAgICBpY29uID0gJ2Jvb2ttYXJrJztcbiAgICAgIG9uQ2xpY2sgPSBwcm9wcy5vblVucGluO1xuICAgICAgbGFiZWwgPSBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICB0aXRsZT17bGFiZWx9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge2ljb259XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtwcm9wcy50ZXh0Q2xhc3NOYW1lfT5cbiAgICAgICAgICB7bGFiZWx9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHVzZXJuYW1lcykge1xuICBjb25zdCBub3JtYWxpc2VkTmFtZXMgPSB1c2VybmFtZXMuc3BsaXQoJywnKS5tYXAoKGkpID0+IGkudHJpbSgpLnRvTG93ZXJDYXNlKCkpO1xuICBjb25zdCByZW1vdmVkQmxhbmtzID0gbm9ybWFsaXNlZE5hbWVzLmZpbHRlcigoaSkgPT4gaS5sZW5ndGggPiAwKTtcbiAgY29uc3QgcmVtb3ZlZER1cGxpY2F0ZXMgPSByZW1vdmVkQmxhbmtzLmZpbHRlcigobmFtZSwgcG9zKSA9PiB7XG4gICAgICByZXR1cm4gcmVtb3ZlZEJsYW5rcy5pbmRleE9mKG5hbWUpID09IHBvcztcbiAgfSk7XG5cbiAgcmV0dXJuIHJlbW92ZWREdXBsaWNhdGVzO1xufSIsImltcG9ydCB7IG1heExlbmd0aCwgbWluTGVuZ3RoIH0gZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGVWYWxpZGF0b3JzKCkge1xuICByZXR1cm4gW1xuICAgIGdldFRpdGxlTGVuZ3RoTWluKCksXG4gICAgZ2V0VGl0bGVMZW5ndGhNYXgoKVxuICBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zdFZhbGlkYXRvcnMoKSB7XG4gIGlmIChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLnBvc3RfbGVuZ3RoX21heCkge1xuICAgIHJldHVybiBbXG4gICAgICB2YWxpZGF0ZVBvc3RMZW5ndGhNaW4oKSxcbiAgICAgIHZhbGlkYXRlUG9zdExlbmd0aE1heCgpXG4gICAgXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW1xuICAgICAgdmFsaWRhdGVQb3N0TGVuZ3RoTWluKClcbiAgICBdO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZUxlbmd0aE1pbigpIHtcbiAgcmV0dXJuIG1pbkxlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLnRocmVhZF90aXRsZV9sZW5ndGhfbWluLCAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaHJlYWQgdGl0bGUgc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIFwiVGhyZWFkIHRpdGxlIHNob3VsZCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyBsb25nIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgbGltaXRWYWx1ZSk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICB9LCB0cnVlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZUxlbmd0aE1heCgpIHtcbiAgcmV0dXJuIG1heExlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLnRocmVhZF90aXRsZV9sZW5ndGhfbWF4LCAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaHJlYWQgdGl0bGUgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBcIlRocmVhZCB0aXRsZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBsaW1pdFZhbHVlKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgIH0sIHRydWUpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUG9zdExlbmd0aE1pbigpIHtcbiAgcmV0dXJuIG1pbkxlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLnBvc3RfbGVuZ3RoX21pbiwgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiUG9zdGVkIG1lc3NhZ2Ugc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIFwiUG9zdGVkIG1lc3NhZ2Ugc2hvdWxkIGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBsaW1pdFZhbHVlKTtcblxuICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgIH0sIHRydWUpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUG9zdExlbmd0aE1heCgpIHtcbiAgcmV0dXJuIG1heExlbmd0aChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLnBvc3RfbGVuZ3RoX21heCB8fCAxMDAwMDAwLCAobGltaXRWYWx1ZSwgbGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJQb3N0ZWQgbWVzc2FnZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIFwiUG9zdGVkIG1lc3NhZ2UgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgbGltaXRWYWx1ZSk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICB9LCB0cnVlKTtcbiAgfSk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKGlzVmlzaWJsZShwcm9wcy5wb3N0LmFjbCkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImV2ZW50LWNvbnRyb2xzXCI+XG4gICAgICAgIDxIaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxEZWxldGUgey4uLnByb3BzfSAvPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoYWNsKSB7XG4gIHJldHVybiBhY2wuY2FuX2hpZGU7XG59XG5cbmV4cG9ydCBjbGFzcyBIaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgaXNfaGlkZGVuOiB0cnVlLFxuICAgICAgaGlkZGVuX29uOiBtb21lbnQoKSxcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWUsXG4gICAgICB1cmw6IE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcy5wb3N0LnVybCwge1xuICAgICAgICBoaWRkZW5fYnk6IHRoaXMucHJvcHMudXNlci51cmxcbiAgICAgIH0pXG4gICAgfSkpO1xuXG4gICAgY29uc3Qgb3AgPSB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiB0cnVlfTtcblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleCwgW29wXSkudGhlbigocGF0Y2gpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCBwYXRjaCkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICBpc19oaWRkZW46IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICBpc19oaWRkZW46IGZhbHNlXG4gICAgfSkpO1xuXG4gICAgY29uc3Qgb3AgPSB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiBmYWxzZX07XG5cbiAgICBhamF4LnBhdGNoKHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXgsIFtvcF0pLnRoZW4oKHBhdGNoKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwgcGF0Y2gpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgaXNfaGlkZGVuOiB0cnVlXG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBkZWNpc2lvbiA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2lzaCB0byBkZWxldGUgdGhpcyBldmVudD8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCIpKTtcbiAgICBpZiAoZGVjaXNpb24pIHtcbiAgICAgIHRoaXMuZGVsZXRlKClcbiAgICB9XG4gIH07XG5cbiAgZGVsZXRlID0gKCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICB9KSk7XG5cbiAgICBhamF4LmRlbGV0ZSh0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4KS50aGVuKCgpID0+IHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIkV2ZW50IGhhcyBiZWVuIGRlbGV0ZWQuXCIpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY29uc3QgSUNPTiA9IHtcbiAgY2hhbmdlZF90aXRsZTogJ2VkaXQnLFxuXG4gIHBpbm5lZF9nbG9iYWxseTogJ2Jvb2ttYXJrJyxcbiAgcGlubmVkX2xvY2FsbHk6ICdib29rbWFya19ib3JkZXInLFxuICB1bnBpbm5lZDogJ3Bhbm9yYW1hX2Zpc2hfZXllJyxcblxuICBtb3ZlZDogJ2Fycm93X2ZvcndhcmQnLFxuICBtZXJnZWQ6ICdjYWxsX21lcmdlJyxcblxuICBhcHByb3ZlZDogJ2RvbmUnLFxuXG4gIG9wZW5lZDogJ2xvY2tfb3BlbicsXG4gIGNsb3NlZDogJ2xvY2tfb3V0bGluZScsXG5cbiAgdW5oaWQ6ICd2aXNpYmlsaXR5JyxcbiAgaGlkOiAndmlzaWJpbGl0eV9vZmYnLFxuXG4gIGNoYW5nZWRfb3duZXI6ICdncmFkZScsXG4gIHRvb2tvdmVyOiAnZ3JhZGUnLFxuXG4gIGFkZGVkX3BhcnRpY2lwYW50OiAncGVyc29uX2FkZCcsXG5cbiAgb3duZXJfbGVmdDogJ3BlcnNvbl9vdXRsaW5lJyxcbiAgcGFydGljaXBhbnRfbGVmdDogJ3BlcnNvbl9vdXRsaW5lJyxcbiAgcmVtb3ZlZF9wYXJ0aWNpcGFudDogJ3JlbW92ZV9jaXJjbGVfb3V0bGluZScsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF2YXRhclwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB7SUNPTltwcm9wcy5wb3N0LmV2ZW50X3R5cGVdfVxuICAgICAgPC9zcGFuPlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuL2ljb24nO1xuaW1wb3J0IEluZm8gZnJvbSAnLi9pbmZvJztcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4vbWVzc2FnZSc7XG5pbXBvcnQgVW5yZWFkTGFiZWwgZnJvbSAnLi91bnJlYWQtbGFiZWwnO1xuaW1wb3J0IFdheXBvaW50IGZyb20gJy4uL3dheXBvaW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgbGV0IGNsYXNzTmFtZSA9ICdldmVudCc7XG4gIGlmIChwcm9wcy5wb3N0LmlzRGVsZXRlZCkge1xuICAgIGNsYXNzTmFtZSA9ICdoaWRlJztcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdldmVudCBwb3N0LWhpZGRlbic7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBpZD17J3Bvc3QtJyArIHByb3BzLnBvc3QuaWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxVbnJlYWRMYWJlbCBwb3N0PXtwcm9wcy5wb3N0fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMiBjb2wtc20tMyB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgPEljb24gey4uLnByb3BzfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTAgY29sLXNtLTkgdGV4dC1sZWZ0XCI+XG4gICAgICAgICAgPFdheXBvaW50IHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgICAgICAgPE1lc3NhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPEluZm8gey4uLnByb3BzfSAvPlxuICAgICAgICAgIDwvV2F5cG9pbnQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcbmltcG9ydCBDb250cm9scyBmcm9tICcuL2NvbnRyb2xzJztcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5jb25zdCBEQVRFX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hPic7XG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmUgZXZlbnQtaW5mb1wiPlxuICAgICAgPEhpZGRlbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVyIHsuLi5wcm9wc30gLz5cbiAgICAgIDxDb250cm9scyB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZGRlbihwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICBsZXQgdXNlciA9IG51bGw7XG4gICAgaWYgKHByb3BzLnBvc3QudXJsLmhpZGRlbl9ieSkge1xuICAgICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfVVJMLCB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnVybC5oaWRkZW5fYnkpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfU1BBTiwge1xuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoREFURV9BQkJSLCB7XG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX29uLmZyb21Ob3coKSlcbiAgICB9LCB0cnVlKTtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCJIaWRkZW4gYnkgJShldmVudF9ieSlzICUoZXZlbnRfb24pcy5cIikpLCB7XG4gICAgICBldmVudF9ieTogdXNlcixcbiAgICAgIGV2ZW50X29uOiBkYXRlXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpXG4gICAgICAgIGNsYXNzTmFtZT1cImV2ZW50LWhpZGRlbi1tZXNzYWdlXCJcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fVxuICAgICAgLz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZXIocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsO1xuICBpZiAocHJvcHMucG9zdC5wb3N0ZXIpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9VUkwsIHtcbiAgICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3Rlci51cmwpLFxuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnBvc3Rlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1NQQU4sIHtcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShEQVRFX1VSTCwge1xuICAgIHVybDogZXNjYXBlSHRtbChwcm9wcy5wb3N0LnVybC5pbmRleCksXG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZWRfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZWRfb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiQnkgJShldmVudF9ieSlzICUoZXZlbnRfb24pcy5cIikpLCB7XG4gICAgZXZlbnRfYnk6IHVzZXIsXG4gICAgZXZlbnRfb246IGRhdGVcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZXZlbnQtcG9zdGVyc1wiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuY29uc3QgTUVTU0FHRSA9IHtcbiAgcGlubmVkX2dsb2JhbGx5OiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHBpbm5lZCBnbG9iYWxseS5cIiksXG4gIHBpbm5lZF9sb2NhbGx5OiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHBpbm5lZCBsb2NhbGx5LlwiKSxcbiAgdW5waW5uZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gdW5waW5uZWQuXCIpLFxuXG4gIGFwcHJvdmVkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGFwcHJvdmVkLlwiKSxcblxuICBvcGVuZWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gb3BlbmVkLlwiKSxcbiAgY2xvc2VkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGNsb3NlZC5cIiksXG5cbiAgdW5oaWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcmV2ZWFsZWQuXCIpLFxuICBoaWQ6IGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbWFkZSBoaWRkZW4uXCIpLFxuXG4gIHRvb2tvdmVyOiBnZXR0ZXh0KFwiVG9vayB0aHJlYWQgb3Zlci5cIiksXG5cbiAgb3duZXJfbGVmdDogZ2V0dGV4dChcIk93bmVyIGhhcyBsZWZ0IHRocmVhZC4gVGhpcyB0aHJlYWQgaXMgbm93IGNsb3NlZC5cIiksXG4gIHBhcnRpY2lwYW50X2xlZnQ6IGdldHRleHQoXCJQYXJ0aWNpcGFudCBoYXMgbGVmdCB0aHJlYWQuXCIpLFxufVxuXG5jb25zdCBJVEVNX0xJTksgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKG5hbWUpczwvYT4nXG5jb25zdCBJVEVNX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JShuYW1lKXM8L3NwYW4+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKE1FU1NBR0VbcHJvcHMucG9zdC5ldmVudF90eXBlXSkge1xuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCI+XG4gICAgICAgIHtNRVNTQUdFW3Byb3BzLnBvc3QuZXZlbnRfdHlwZV19XG4gICAgICA8L3A+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09ICdjaGFuZ2VkX3RpdGxlJykge1xuICAgIHJldHVybiAoXG4gICAgICA8Q2hhbmdlZFRpdGxlIHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gJ21vdmVkJykge1xuICAgIHJldHVybiAoXG4gICAgICA8TW92ZWQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSAnbWVyZ2VkJykge1xuICAgIHJldHVybiAoXG4gICAgICA8TWVyZ2VkIHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gJ2NoYW5nZWRfb3duZXInKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDaGFuZ2VkT3duZXIgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSAnYWRkZWRfcGFydGljaXBhbnQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBZGRlZFBhcnRpY2lwYW50IHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gJ3JlbW92ZWRfcGFydGljaXBhbnQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZW1vdmVkUGFydGljaXBhbnQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYW5nZWRUaXRsZShwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKGdldHRleHQoXCJUaHJlYWQgdGl0bGUgaGFzIGJlZW4gY2hhbmdlZCBmcm9tICUob2xkX3RpdGxlKXMuXCIpKTtcbiAgY29uc3Qgb2xkVGl0bGUgPSBpbnRlcnBvbGF0ZShJVEVNX1NQQU4sIHtcbiAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC5vbGRfdGl0bGUpXG4gIH0sIHRydWUpO1xuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUobXNnc3RyaW5nLCB7XG4gICAgb2xkX3RpdGxlOiBvbGRUaXRsZVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb3ZlZChwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbW92ZWQgZnJvbSAlKGZyb21fY2F0ZWdvcnkpcy5cIikpO1xuICBjb25zdCBmcm9tQ2F0ZWdvcnkgPSBpbnRlcnBvbGF0ZShJVEVNX0xJTkssIHtcbiAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LmZyb21fY2F0ZWdvcnkudXJsKSxcbiAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC5mcm9tX2NhdGVnb3J5Lm5hbWUpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtc2dzdHJpbmcsIHtcbiAgICBmcm9tX2NhdGVnb3J5OiBmcm9tQ2F0ZWdvcnlcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTWVyZ2VkKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoZ2V0dGV4dChcIlRoZSAlKG1lcmdlZF90aHJlYWQpcyB0aHJlYWQgaGFzIGJlZW4gbWVyZ2VkIGludG8gdGhpcyB0aHJlYWQuXCIpKTtcbiAgY29uc3QgbWVyZ2VkVGhyZWFkID0gaW50ZXJwb2xhdGUoSVRFTV9TUEFOLCB7XG4gICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQubWVyZ2VkX3RocmVhZClcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKG1zZ3N0cmluZywge1xuICAgIG1lcmdlZF90aHJlYWQ6IG1lcmdlZFRocmVhZFxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImV2ZW50LW1lc3NhZ2VcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGFuZ2VkT3duZXIocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiQ2hhbmdlZCB0aHJlYWQgb3duZXIgdG8gJSh1c2VyKXMuXCIpKTtcbiAgY29uc3QgbmV3T3duZXIgPSBpbnRlcnBvbGF0ZShJVEVNX0xJTkssIHtcbiAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXJsKSxcbiAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVzZXJuYW1lKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUobXNnc3RyaW5nLCB7XG4gICAgdXNlcjogbmV3T3duZXJcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQWRkZWRQYXJ0aWNpcGFudChwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKGdldHRleHQoXCJBZGRlZCAlKHVzZXIpcyB0byB0aHJlYWQuXCIpKTtcbiAgY29uc3QgbmV3T3duZXIgPSBpbnRlcnBvbGF0ZShJVEVNX0xJTkssIHtcbiAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXJsKSxcbiAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVzZXJuYW1lKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUobXNnc3RyaW5nLCB7XG4gICAgdXNlcjogbmV3T3duZXJcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlZFBhcnRpY2lwYW50KHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoZ2V0dGV4dChcIlJlbW92ZWQgJSh1c2VyKXMgZnJvbSB0aHJlYWQuXCIpKTtcbiAgY29uc3QgbmV3T3duZXIgPSBpbnRlcnBvbGF0ZShJVEVNX0xJTkssIHtcbiAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0LnVzZXIudXJsKSxcbiAgICBuYW1lOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVzZXJuYW1lKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUobXNnc3RyaW5nLCB7XG4gICAgdXNlcjogbmV3T3duZXJcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCB9KSB7XG4gIGlmIChwb3N0LmlzX3JlYWQpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEwIGNvbC14cy1vZmZzZXQtMiBjb2wtc20tOSBjb2wtc20tb2Zmc2V0LTMgdGV4dC1sZWZ0XCI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJldmVudC1sYWJlbFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXVucmVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJOZXcgZXZlbnRcIil9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBFdmVudCBmcm9tICcuL2V2ZW50JztcbmltcG9ydCBQb3N0IGZyb20gJy4vcG9zdCc7XG5pbXBvcnQgUG9zdFByZXZpZXcgZnJvbSAnLi9wb3N0L3ByZXZpZXcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9XCJwb3N0cy1saXN0IHVpLXByZXZpZXdcIj5cbiAgICAgICAgPFBvc3RQcmV2aWV3IC8+XG4gICAgICA8L3VsPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJwb3N0cy1saXN0IHVpLXJlYWR5XCI+XG4gICAgICB7cHJvcHMucG9zdHMucmVzdWx0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TGlzdEl0ZW1cbiAgICAgICAgICAgIGtleT17cG9zdC5pZH1cbiAgICAgICAgICAgIHBvc3Q9e3Bvc3R9XG4gICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaXN0SXRlbShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19ldmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICA8RXZlbnQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxQb3N0IHsuLi5wcm9wc30gLz5cbiAgKTtcbn1cbiIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuaW1wb3J0IGZvcm1hdEZpbGVzaXplIGZyb20gJ21pc2Fnby91dGlscy9maWxlLXNpemUnO1xuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+JztcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyIGNvbC1tZC02XCI+XG4gICAgICA8QXR0YWNobWVudFByZXZpZXcgey4uLnByb3BzfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnRcIj5cbiAgICAgICAgPGEgaHJlZj17cHJvcHMuYXR0YWNobWVudC51cmwuaW5kZXh9IGNsYXNzTmFtZT1cImF0dGFjaG1lbnQtbmFtZSBpdGVtLXRpdGxlXCI+XG4gICAgICAgICAge3Byb3BzLmF0dGFjaG1lbnQuZmlsZW5hbWV9XG4gICAgICAgIDwvYT5cbiAgICAgICAgPEF0dGFjaG1lbnREZXRhaWxzIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudFByZXZpZXcocHJvcHMpIHtcbiAgaWYgKHByb3BzLmF0dGFjaG1lbnQuaXNfaW1hZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnQtcHJldmlld1wiPlxuICAgICAgICA8QXR0YWNobWVudFRodW1ibmFpbCB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudC1wcmV2aWV3XCI+XG4gICAgICAgIDxBdHRhY2htZW50SWNvbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2htZW50SWNvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxhIGhyZWY9e3Byb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4fSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICBpbnNlcnRfZHJpdmVfZmlsZVxuICAgIDwvYT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF0dGFjaG1lbnRUaHVtYm5haWwocHJvcHMpIHtcbiAgY29uc3QgdXJsID0gcHJvcHMuYXR0YWNobWVudC51cmwudGh1bWIgfHwgcHJvcHMuYXR0YWNobWVudC51cmwuaW5kZXg7XG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cInBvc3QtdGh1bWJuYWlsXCJcbiAgICAgIGhyZWY9e3Byb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4fVxuICAgICAgc3R5bGU9e3tiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoXCInICsgZXNjYXBlSHRtbCh1cmwpICsgJ1wiKSd9fVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2htZW50RGV0YWlscyhwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGw7XG4gIGlmIChwcm9wcy5hdHRhY2htZW50LnVybC51cGxvYWRlcikge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXJsLnVwbG9hZGVyKSxcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cGxvYWRlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1NQQU4sIHtcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cGxvYWRlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKERBVEVfQUJCUiwge1xuICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZWRfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cGxvYWRlZF9vbi5mcm9tTm93KCkpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCIlKGZpbGV0eXBlKXMsICUoc2l6ZSlzLCB1cGxvYWRlZCBieSAlKHVwbG9hZGVyKXMgJSh1cGxvYWRlZF9vbilzLlwiKSksIHtcbiAgICBmaWxldHlwZTogcHJvcHMuYXR0YWNobWVudC5maWxldHlwZSxcbiAgICBzaXplOiBmb3JtYXRGaWxlc2l6ZShwcm9wcy5hdHRhY2htZW50LnNpemUpLFxuICAgIHVwbG9hZGVyOiB1c2VyLFxuICAgIHVwbG9hZGVkX29uOiBkYXRlXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudC1kZXNjcmlwdGlvblwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19XG4gICAgLz5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGJhdGNoIGZyb20gJ21pc2Fnby91dGlscy9iYXRjaCc7XG5pbXBvcnQgQXR0YWNobWVudCBmcm9tICcuL2F0dGFjaG1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIWlzVmlzaWJsZShwcm9wcy5wb3N0KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudHNcIj5cbiAgICAgIHtiYXRjaChwcm9wcy5wb3N0LmF0dGFjaG1lbnRzLCAyKS5tYXAoKHJvdykgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSByb3cubWFwKChhKSA9PiB7cmV0dXJuIGEgPyBhLmlkIDogMDt9KS5qb2luKCdfJyk7XG4gICAgICAgIHJldHVybiA8Um93IGtleT17a2V5fSByb3c9e3Jvd30gLz47XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAoIXBvc3QuaXNfaGlkZGVuIHx8IHBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSAmJiBwb3N0LmF0dGFjaG1lbnRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUm93KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgIHtwcm9wcy5yb3cubWFwKChhdHRhY2htZW50KSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEF0dGFjaG1lbnRcbiAgICAgICAgICAgIGF0dGFjaG1lbnQ9e2F0dGFjaG1lbnR9XG4gICAgICAgICAgICBrZXk9e2F0dGFjaG1lbnQgPyBhdHRhY2htZW50LmlkIDogMH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBXYXlwb2ludCBmcm9tICcuLi93YXlwb2ludCc7XG5pbXBvcnQgTWlzYWdvTWFya3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21pc2Fnby1tYXJrdXAnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuY29uc3QgSElEREVOX0JZX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPic7XG5jb25zdCBISURERU5fQllfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgSElEREVOX09OID0gJzxhYmJyIGNsYXNzPVwibGFzdC10aXRsZVwiIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhcHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pIHtcbiAgICByZXR1cm4gPEhpZGRlbiB7Li4ucHJvcHN9IC8+O1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuY29udGVudCkge1xuICAgIHJldHVybiA8RGVmYXVsdCB7Li4ucHJvcHN9IC8+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8SW52YWxpZCB7Li4ucHJvcHN9IC8+O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZWZhdWx0KHByb3BzKSB7XG4gcmV0dXJuIChcbiAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICA8TWlzYWdvTWFya3VwIG1hcmt1cD17cHJvcHMucG9zdC5jb250ZW50fSAvPlxuICAgIDwvV2F5cG9pbnQ+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRkZW4ocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsO1xuICBpZiAocHJvcHMucG9zdC5oaWRkZW5fYnkpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoSElEREVOX0JZX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QudXJsLmhpZGRlbl9ieSksXG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKEhJRERFTl9CWV9TUEFOLCB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoSElEREVOX09OLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiSGlkZGVuIGJ5ICUoaGlkZGVuX2J5KXMgJShoaWRkZW5fb24pcy5cIikpLCB7XG4gICAgaGlkZGVuX2J5OiB1c2VyLFxuICAgIGhpZGRlbl9vbjogZGF0ZVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJwb3N0LWJvZHkgcG9zdC1ib2R5LWhpZGRlblwiIHBvc3Q9e3Byb3BzLnBvc3R9PlxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPntnZXR0ZXh0KFwiVGhpcyBwb3N0IGlzIGhpZGRlbi4gWW91IGNhbm5vdCBzZWUgaXRzIGNvbnRlbnRzLlwiKX08L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICAgIDwvV2F5cG9pbnQ+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnZhbGlkKHByb3BzKSB7XG4gcmV0dXJuIChcbiAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicG9zdC1ib2R5IHBvc3QtYm9keS1pbnZhbGlkXCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e2dldHRleHQoXCJUaGlzIHBvc3QncyBjb250ZW50cyBjYW5ub3QgYmUgZGlzcGxheWVkLlwiKX08L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+e2dldHRleHQoXCJUaGlzIGVycm9yIGlzIGNhdXNlZCBieSBpbnZhbGlkIHBvc3QgY29udGVudCBtYW5pcHVsYXRpb24uXCIpfTwvcD5cbiAgICA8L1dheXBvaW50PlxuICApO1xufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcHJvdmUocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNfdW5hcHByb3ZlZDogZmFsc2VcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy11bmFwcHJvdmVkJywgJ3ZhbHVlJzogZmFsc2V9XG4gIF07XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc191bmFwcHJvdmVkOiBwcm9wcy5wb3N0LmlzX3VuYXBwcm92ZWRcbiAgfTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3RlY3QocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNfcHJvdGVjdGVkOiB0cnVlXG4gIH0pKTtcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtcHJvdGVjdGVkJywgJ3ZhbHVlJzogdHJ1ZX1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX3Byb3RlY3RlZDogcHJvcHMucG9zdC5pc19wcm90ZWN0ZWRcbiAgfTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucHJvdGVjdChwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc19wcm90ZWN0ZWQ6IGZhbHNlXG4gIH0pKTtcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtcHJvdGVjdGVkJywgJ3ZhbHVlJzogZmFsc2V9XG4gIF07XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19wcm90ZWN0ZWQ6IHByb3BzLnBvc3QuaXNfcHJvdGVjdGVkXG4gIH07XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlKHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgIGlzX2hpZGRlbjogdHJ1ZSxcbiAgICBoaWRkZW5fb246IG1vbWVudCgpLFxuICAgIGhpZGRlbl9ieV9uYW1lOiBwcm9wcy51c2VyLnVzZXJuYW1lLFxuICAgIHVybDogT2JqZWN0LmFzc2lnbihwcm9wcy5wb3N0LnVybCwge1xuICAgICAgaGlkZGVuX2J5OiBwcm9wcy51c2VyLnVybFxuICAgIH0pXG4gIH0pKTtcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtaGlkZGVuJywgJ3ZhbHVlJzogdHJ1ZX1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX2hpZGRlbjogcHJvcHMucG9zdC5pc19oaWRkZW4sXG4gICAgaGlkZGVuX29uOiBwcm9wcy5wb3N0LmhpZGRlbl9vbixcbiAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMucG9zdC5oaWRkZW5fYnlfbmFtZSxcbiAgICB1cmw6IHByb3BzLnBvc3QudXJsXG4gIH07XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmhpZGUocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNfaGlkZGVuOiBmYWxzZVxuICB9KSk7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLWhpZGRlbicsICd2YWx1ZSc6IGZhbHNlfVxuICBdO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfaGlkZGVuOiBwcm9wcy5wb3N0LmlzX2hpZGRlblxuICB9O1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlrZShwcm9wcykge1xuICBjb25zdCBsYXN0TGlrZXMgPSBwcm9wcy5wb3N0Lmxhc3RfbGlrZXMgfHwgW107XG4gIGNvbnN0IGNvbmNhdGVkTGlrZXMgPSBbcHJvcHMudXNlcl0uY29uY2F0KGxhc3RMaWtlcyk7XG4gIGNvbnN0IGZpbmFsTGlrZXMgPSBjb25jYXRlZExpa2VzLmxlbmd0aCA+IDMgPyBjb25jYXRlZExpa2VzLnNsaWNlKDAsIC0xKSA6IGNvbmNhdGVkTGlrZXM7XG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNfbGlrZWQ6IHRydWUsXG4gICAgbGlrZXM6IHByb3BzLnBvc3QubGlrZXMgKyAxLFxuICAgIGxhc3RfbGlrZXM6IGZpbmFsTGlrZXNcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1saWtlZCcsICd2YWx1ZSc6IHRydWV9XG4gIF07XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19saWtlZDogcHJvcHMucG9zdC5pc19saWtlZCxcbiAgICBsaWtlczogcHJvcHMucG9zdC5saWtlcyxcbiAgICBsYXN0X2xpa2VzOiBwcm9wcy5wb3N0Lmxhc3RfbGlrZXNcbiAgfTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVubGlrZShwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc19saWtlZDogZmFsc2UsXG4gICAgbGlrZXM6IHByb3BzLnBvc3QubGlrZXMgLSAxLFxuICAgIGxhc3RfbGlrZXM6IHByb3BzLnBvc3QubGFzdF9saWtlcy5maWx0ZXIoKHVzZXIpID0+IHtcbiAgICAgIHJldHVybiAhdXNlci5pZCB8fCB1c2VyLmlkICE9PSBwcm9wcy51c2VyLmlkO1xuICAgIH0pXG4gIH0pKTtcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtbGlrZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX2xpa2VkOiBwcm9wcy5wb3N0LmlzX2xpa2VkLFxuICAgIGxpa2VzOiBwcm9wcy5wb3N0Lmxpa2VzLFxuICAgIGxhc3RfbGlrZXM6IHByb3BzLnBvc3QubGFzdF9saWtlc1xuICB9O1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSkge1xuICBhamF4LnBhdGNoKHByb3BzLnBvc3QuYXBpLmluZGV4LCBvcHMpLnRoZW4oKG5ld1N0YXRlKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCBuZXdTdGF0ZSkpO1xuICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCBwcmV2aW91c1N0YXRlKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHByb3BzKSB7XG4gIGxldCBjb25maXJtZWQgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcG9zdD8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCIpKTtcbiAgaWYgKCFjb25maXJtZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgfSkpO1xuXG4gIGFqYXguZGVsZXRlKHByb3BzLnBvc3QuYXBpLmluZGV4KS50aGVuKCgpID0+IHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJQb3N0IGhhcyBiZWVuIGRlbGV0ZWQuXCIpKTtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgIH0pKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXJrQXNCZXN0QW5zd2VyKHByb3BzKSB7XG4gIGNvbnN0IHsgcG9zdCwgdXNlciB9ID0gcHJvcHM7XG5cbiAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZSh7XG4gICAgYmVzdF9hbnN3ZXI6IHBvc3QuaWQsXG4gICAgYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkOiBwb3N0LmlzX3Byb3RlY3RlZCxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfb246IG1vbWVudCgpLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieTogdXNlci5pZCxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZTogdXNlci51c2VybmFtZSxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1ZzogdXNlci5zbHVnLFxuICB9KSk7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsgJ29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdiZXN0LWFuc3dlcicsICd2YWx1ZSc6IHBvc3QuaWQgfSxcbiAgICB7ICdvcCc6ICdhZGQnLCAncGF0aCc6ICdhY2wnLCAndmFsdWUnOiB0cnVlIH1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGJlc3RfYW5zd2VyOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXIsXG4gICAgYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9vbjogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9vbixcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnk6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnksXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X25hbWU6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZSxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1ZzogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieV9zbHVnLFxuICB9O1xuXG4gIHBhdGNoVGhyZWFkKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5tYXJrQmVzdEFuc3dlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3QgfSA9IHByb3BzO1xuXG4gIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUoe1xuICAgIGJlc3RfYW5zd2VyOiBudWxsLFxuICAgIGJlc3RfYW5zd2VyX2lzX3Byb3RlY3RlZDogZmFsc2UsXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX29uOiBudWxsLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9ieTogbnVsbCxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZTogbnVsbCxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1ZzogbnVsbCxcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7ICdvcCc6ICdyZW1vdmUnLCAncGF0aCc6ICdiZXN0LWFuc3dlcicsICd2YWx1ZSc6IHBvc3QuaWQgfSxcbiAgICB7ICdvcCc6ICdhZGQnLCAncGF0aCc6ICdhY2wnLCAndmFsdWUnOiB0cnVlIH1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGJlc3RfYW5zd2VyOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXIsXG4gICAgYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkOiBwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXJfaXNfcHJvdGVjdGVkLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9vbjogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9vbixcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnk6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnksXG4gICAgYmVzdF9hbnN3ZXJfbWFya2VkX2J5X25hbWU6IHByb3BzLnRocmVhZC5iZXN0X2Fuc3dlcl9tYXJrZWRfYnlfbmFtZSxcbiAgICBiZXN0X2Fuc3dlcl9tYXJrZWRfYnlfc2x1ZzogcHJvcHMudGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieV9zbHVnLFxuICB9O1xuXG4gIHBhdGNoVGhyZWFkKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2hUaHJlYWQocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSkge1xuICBhamF4LnBhdGNoKHByb3BzLnRocmVhZC5hcGkuaW5kZXgsIG9wcykudGhlbigobmV3U3RhdGUpID0+IHtcbiAgICBpZiAobmV3U3RhdGUuYmVzdF9hbnN3ZXJfbWFya2VkX29uKSB7XG4gICAgICBuZXdTdGF0ZS5iZXN0X2Fuc3dlcl9tYXJrZWRfb24gPSBtb21lbnQobmV3U3RhdGUuYmVzdF9hbnN3ZXJfbWFya2VkX29uKTtcbiAgICB9XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZShuZXdTdGF0ZSkpO1xuICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZShwcmV2aW91c1N0YXRlKSk7XG4gIH0pO1xufVxuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnO1xuaW1wb3J0ICogYXMgbW9kZXJhdGlvbiBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IE1vdmVNb2RhbCBmcm9tICcuL21vdmUnO1xuaW1wb3J0IFBvc3RDaGFuZ2Vsb2cgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cnO1xuaW1wb3J0IFNwbGl0TW9kYWwgZnJvbSAnLi9zcGxpdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIj5cbiAgICAgIDxQZXJtYWxpbmsgey4uLnByb3BzfSAvPlxuICAgICAgPEVkaXQgey4uLnByb3BzfSAvPlxuICAgICAgPE1hcmtBc0Jlc3RBbnN3ZXIgey4uLnByb3BzfSAvPlxuICAgICAgPFVubWFya01hcmtCZXN0QW5zd2VyIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0RWRpdHMgey4uLnByb3BzfSAvPlxuICAgICAgPEFwcHJvdmUgey4uLnByb3BzfSAvPlxuICAgICAgPE1vdmUgey4uLnByb3BzfSAvPlxuICAgICAgPFNwbGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RGVsZXRlIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgUGVybWFsaW5rIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBsZXQgcGVybWFVcmwgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nO1xuICAgIHBlcm1hVXJsICs9IHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuICAgIHBlcm1hVXJsICs9IHRoaXMucHJvcHMucG9zdC51cmwuaW5kZXg7XG5cbiAgICBwcm9tcHQoZ2V0dGV4dChcIlBlcm1hbWVudCBsaW5rIHRvIHRoaXMgcG9zdDpcIiksIHBlcm1hVXJsKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbGlua1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlBlcm1hbWVudCBsaW5rXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6ICdFRElUJyxcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnBvc3QuYXBpLmVkaXRvcixcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleFxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2VkaXQpIHJldHVybiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBlZGl0XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRWRpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtBc0Jlc3RBbnN3ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ubWFya0FzQmVzdEFuc3dlcih0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0LCB0aHJlYWQgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoIXRocmVhZC5hY2wuY2FuX21hcmtfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsO1xuICAgIGlmICghcG9zdC5hY2wuY2FuX21hcmtfYXNfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsO1xuICAgIGlmIChwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsO1xuICAgIGlmICh0aHJlYWQuYmVzdF9hbnN3ZXIgJiYgIXRocmVhZC5hY2wuY2FuX2NoYW5nZV9iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjaGVja19ib3hcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNYXJrIGFzIGJlc3QgYW5zd2VyXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5tYXJrTWFya0Jlc3RBbnN3ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5tYXJrQmVzdEFuc3dlcih0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0LCB0aHJlYWQgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAocG9zdC5pZCAhPT0gdGhyZWFkLmJlc3RfYW5zd2VyKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXRocmVhZC5hY2wuY2FuX3VubWFya19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjaGVja19ib3hfb3V0bGluZV9ibGFua1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVubWFyayBiZXN0IGFuc3dlclwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RFZGl0cyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxQb3N0Q2hhbmdlbG9nIHBvc3Q9e3RoaXMucHJvcHMucG9zdH0gLz5cbiAgICApXG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzSGlkZGVuID0gdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlbjtcbiAgICBjb25zdCBpc1VuZWRpdGVkID0gdGhpcy5wcm9wcy5wb3N0LmVkaXRzID09PSAwO1xuICAgIGlmIChpc0hpZGRlbiB8fCBpc1VuZWRpdGVkKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiVGhpcyBwb3N0IHdhcyBlZGl0ZWQgJShlZGl0cylzIHRpbWUuXCIsXG4gICAgICBcIlRoaXMgcG9zdCB3YXMgZWRpdGVkICUoZWRpdHMpcyB0aW1lcy5cIixcbiAgICAgIHRoaXMucHJvcHMucG9zdC5lZGl0c1xuICAgICk7XG5cbiAgICBjb25zdCB0aXRsZSA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICdlZGl0cyc6IHRoaXMucHJvcHMucG9zdC5lZGl0c1xuICAgIH0sIHRydWUpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgZWRpdFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZXMgaGlzdG9yeVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXBwcm92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5hcHByb3ZlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2FwcHJvdmUpIHJldHVybiBudWxsO1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmlzX3VuYXBwcm92ZWQpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgZG9uZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFwcHJvdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPE1vdmVNb2RhbCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICApO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX21vdmUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgYXJyb3dfZm9yd2FyZFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGxpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxTcGxpdE1vZGFsIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fbW92ZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjYWxsX3NwbGl0XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnByb3RlY3QodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fcHJvdGVjdCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19wcm90ZWN0ZWQpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUHJvdGVjdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVucHJvdGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bnByb3RlY3QodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fcHJvdGVjdCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuaXNfcHJvdGVjdGVkKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGxvY2tfb3BlblxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlJlbW92ZSBwcm90ZWN0aW9uXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5oaWRlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHBvc3QsIHRocmVhZCB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsO1xuICAgIGlmICghcG9zdC5hY2wuY2FuX2hpZGUpIHJldHVybiBudWxsO1xuICAgIGlmIChwb3N0LmlzX2hpZGRlbikgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB2aXNpYmlsaXR5X29mZlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5oaWRlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3VuaGlkZSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKCF0aGlzLnByb3BzLnBvc3QuaXNfaGlkZGVuKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHZpc2liaWxpdHlcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucmVtb3ZlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHBvc3QsIHRocmVhZCB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsO1xuICAgIGlmICghcG9zdC5hY2wuY2FuX2RlbGV0ZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjbGVhclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERyb3Bkb3duIGZyb20gJy4vZHJvcGRvd24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsbC1yaWdodCBkcm9wZG93blwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGV4cGFuZF9tb3JlXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPERyb3Bkb3duIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVybDogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXJsOiBbXVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnVybC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgbGluayB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLm1vdmUsIHtcbiAgICAgIG5ld190aHJlYWQ6IHRoaXMuc3RhdGUudXJsLFxuICAgICAgcG9zdHM6IFt0aGlzLnByb3BzLnBvc3QuaWRdXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgfSkpO1xuXG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdCB3YXMgbW92ZWQgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgb25VcmxDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd1cmwnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBmb3I9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiTGluayB0byB0aHJlYWQgeW91IHdhbnQgdG8gbW92ZSBwb3N0IHRvXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25VcmxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51cmx9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZSBwb3N0XCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1vdmUgcG9zdFwiKX08L2g0PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGFsTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPFBvc3RpbmdDb25maWcgey4uLnByb3BzfSBGb3JtPXtNb2RlcmF0aW9uRm9ybX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RpbmdDb25maWcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0Vycm9yOiBmYWxzZSxcblxuICAgICAgY2F0ZWdvcmllczogW11cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldCgnVEhSRUFEX0VESVRPUl9BUEknKSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgLy8gaHlkcmF0ZSBjYXRlZ29yaWVzLCBleHRyYWN0IHBvc3Rpbmcgb3B0aW9uc1xuICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lLFxuICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxuICAgICAgICAgIHBvc3Q6IGl0ZW0ucG9zdFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGNhdGVnb3JpZXNcbiAgICAgIH0pXG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzRXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxFcnJvciBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3J9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGVyYXRpb25Gb3JtIHsuLi50aGlzLnByb3BzfSBjYXRlZ29yaWVzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbkZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdGl0bGU6ICcnLFxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBwcm9wcy5jYXRlZ29yaWVzLFxuICAgICAgd2VpZ2h0OiAwLFxuICAgICAgaXNfaGlkZGVuOiAwLFxuICAgICAgaXNfY2xvc2VkOiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogW1xuICAgICAgICAgIHZhbGlkYXRvcnMucmVxdWlyZWQoKVxuICAgICAgICBdXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcblxuICAgIHRoaXMuaXNIaWRkZW5DaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5JyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5X29mZicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuaXNDbG9zZWRDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiBmYWxzZSxcbiAgICAgICAgJ2ljb24nOiAnbG9ja19vdXRsaW5lJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiB0cnVlLFxuICAgICAgICAnaWNvbic6ICdsb2NrJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5hY2wgPSB7fTtcbiAgICB0aGlzLnByb3BzLmNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgIGlmIChjYXRlZ29yeS5wb3N0KSB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWNsW2NhdGVnb3J5LmlkXSA9IHtcbiAgICAgICAgICBjYW5fcGluX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QucGluLFxuICAgICAgICAgIGNhbl9jbG9zZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmNsb3NlLFxuICAgICAgICAgIGNhbl9oaWRlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuaGlkZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLnNwbGl0LCB7XG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnN0YXRlLmNhdGVnb3J5LFxuICAgICAgd2VpZ2h0OiB0aGlzLnN0YXRlLndlaWdodCxcbiAgICAgIGlzX2hpZGRlbjogdGhpcy5zdGF0ZS5pc19oaWRkZW4sXG4gICAgICBpc19jbG9zZWQ6IHRoaXMuc3RhdGUuaXNfY2xvc2VkLFxuICAgICAgcG9zdHM6IFt0aGlzLnByb3BzLnBvc3QuaWRdXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgIH0pKTtcblxuICAgIG1vZGFsLmhpZGUoKTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHBvc3Qgd2FzIHNwbGl0IGludG8gbmV3IHRocmVhZC5cIikpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdlcnJvcnMnOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmVycm9ycywgcmVqZWN0aW9uKVxuICAgICAgfSk7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKTtcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiBBcnJheS5pc0FycmF5KHJlamVjdGlvbikpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17cmVqZWN0aW9ufSAvPik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IChldikgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBldi50YXJnZXQudmFsdWU7XG4gICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnlJZFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX3Bpbl90aHJlYWRzIDwgbmV3U3RhdGUud2VpZ2h0KSB7XG4gICAgICBuZXdTdGF0ZS53ZWlnaHQgPSAwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfaGlkZGVuID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19jbG9zZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgfTtcblxuICBnZXRXZWlnaHRDaG9pY2VzKCkge1xuICAgIGNvbnN0IGNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3JlbW92ZScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb3QgcGlubmVkXCIpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAnYm9va21hcmtfYm9yZGVyJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpLFxuICAgICAgfVxuICAgIF07XG5cbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzID09IDIpIHtcbiAgICAgIGNob2ljZXMucHVzaCh7XG4gICAgICAgICd2YWx1ZSc6IDIsXG4gICAgICAgICdpY29uJzogJ2Jvb2ttYXJrJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjaG9pY2VzO1xuICB9XG5cbiAgcmVuZGVyV2VpZ2h0RmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcykge1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgd2VpZ2h0XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnd2VpZ2h0Jyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2VpZ2h0fVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuZ2V0V2VpZ2h0Q2hvaWNlcygpfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJIaWRlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2hpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2hpZGRlbicpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2hpZGRlbn1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzSGlkZGVuQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2xvc2VkRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkNsb3NlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2Nsb3NlZCcpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2Nsb3NlZH1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzQ2xvc2VkQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TW9kYWwgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy50aXRsZX0+XG4gICAgICAgICAgICAgIDxpbnB1dCBpZD1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3RpdGxlJyl9XG4gICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX0gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiQ2F0ZWdvcnlcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5jYXRlZ29yeX0+XG4gICAgICAgICAgICAgIDxDYXRlZ29yeVNlbGVjdCBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc30gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJXZWlnaHRGaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVySGlkZGVuRmllbGQoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckNsb3NlZEZpZWxkKCl9XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJTcGxpdCBwb3N0XCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvTW9kYWw+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTG9hZGVyKCkge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgIDxNb2RhbExvYWRlciAvPlxuICAgIDwvTW9kYWw+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFcnJvcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHRoaXMgcG9zdCBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7cHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiU3BsaXQgcG9zdCBpbnRvIG5ldyB0aHJlYWRcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnQmVzdEFuc3dlcih7IHBvc3QsIHRocmVhZCwgdXNlciB9KSB7XG4gIGlmICghKGlzVmlzaWJsZShwb3N0KSAmJiBwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXIpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgXG4gIGxldCBtZXNzYWdlID0gbnVsbDtcbiAgaWYgKHVzZXIuaWQgJiYgdGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieSA9PT0gdXNlci5pZCkge1xuICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiTWFya2VkIGFzIGJlc3QgYW5zd2VyIGJ5IHlvdSAlKG1hcmtlZF9vbilzLlwiKSwge1xuICAgICAgbWFya2VkX29uOiB0aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX29uLmZyb21Ob3coKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiTWFya2VkIGFzIGJlc3QgYW5zd2VyIGJ5ICUobWFya2VkX2J5KXMgJShtYXJrZWRfb24pcy5cIiksIHtcbiAgICAgIG1hcmtlZF9ieTogdGhyZWFkLmJlc3RfYW5zd2VyX21hcmtlZF9ieV9uYW1lLFxuICAgICAgbWFya2VkX29uOiB0aHJlYWQuYmVzdF9hbnN3ZXJfbWFya2VkX29uLmZyb21Ob3coKVxuICAgIH0sIHRydWUpO1xuICB9XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1zdGF0dXMtbWVzc2FnZSBwb3N0LXN0YXR1cy1iZXN0LWFuc3dlclwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICAgIDxwPnttZXNzYWdlfTwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZsYWdIaWRkZW4ocHJvcHMpIHtcbiAgaWYgKCEoaXNWaXNpYmxlKHByb3BzLnBvc3QpICYmIHByb3BzLnBvc3QuaXNfaGlkZGVuKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtaGlkZGVuXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+dmlzaWJpbGl0eV9vZmY8L3NwYW4+XG4gICAgICA8cD57Z2V0dGV4dChcIlRoaXMgcG9zdCBpcyBoaWRkZW4uIE9ubHkgdXNlcnMgd2l0aCBwZXJtaXNzaW9uIG1heSBzZWUgaXRzIGNvbnRlbnRzLlwiKX08L3A+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnVW5hcHByb3ZlZChwcm9wcykge1xuICBpZiAoIShpc1Zpc2libGUocHJvcHMucG9zdCkgJiYgcHJvcHMucG9zdC5pc191bmFwcHJvdmVkKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtdW5hcHByb3ZlZFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnJlbW92ZV9jaXJjbGVfb3V0bGluZTwvc3Bhbj5cbiAgICAgIDxwPntnZXR0ZXh0KFwiVGhpcyBwb3N0IGlzIHVuYXBwcm92ZWQuIE9ubHkgdXNlcnMgd2l0aCBwZXJtaXNzaW9uIHRvIGFwcHJvdmUgcG9zdHMgYW5kIGl0cyBhdXRob3IgbWF5IHNlZSBpdHMgY29udGVudHMuXCIpfTwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZsYWdQcm90ZWN0ZWQocHJvcHMpIHtcbiAgaWYgKCEoaXNWaXNpYmxlKHByb3BzLnBvc3QpICYmIHByb3BzLnBvc3QuaXNfcHJvdGVjdGVkKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtcHJvdGVjdGVkIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sb2NrX291dGxpbmU8L3NwYW4+XG4gICAgICA8cD57Z2V0dGV4dChcIlRoaXMgcG9zdCBpcyBwcm90ZWN0ZWQuIE9ubHkgbW9kZXJhdG9ycyBtYXkgY2hhbmdlIGl0LlwiKX08L3A+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUocG9zdCkge1xuICByZXR1cm4gIXBvc3QuaXNfaGlkZGVuIHx8IHBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gJy4vY29udHJvbHMvYWN0aW9ucyc7XG5pbXBvcnQgTGlrZXNNb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0LWxpa2VzJztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIWlzVmlzaWJsZShwcm9wcy5wb3N0KSkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtZm9vdGVyXCI+XG4gICAgICA8TWFya0FzQmVzdEFuc3dlciB7Li4ucHJvcHN9IC8+XG4gICAgICA8TWFya0FzQmVzdEFuc3dlckNvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPExpa2Ugey4uLnByb3BzfSAvPlxuICAgICAgPExpa2VzXG4gICAgICAgIGxhc3RMaWtlcz17cHJvcHMucG9zdC5sYXN0X2xpa2VzfVxuICAgICAgICBsaWtlcz17cHJvcHMucG9zdC5saWtlc31cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgLz5cbiAgICAgIDxMaWtlc0NvbXBhY3RcbiAgICAgICAgbGlrZXM9e3Byb3BzLnBvc3QubGlrZXN9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgICA8UmVwbHkgey4uLnByb3BzfSAvPlxuICAgICAgPEVkaXQgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKHBvc3QpIHtcbiAgcmV0dXJuICghcG9zdC5pc19oaWRkZW4gfHwgcG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pICYmIChcbiAgICBwb3N0LmFjbC5jYW5fcmVwbHkgfHxcbiAgICBwb3N0LmFjbC5jYW5fZWRpdCB8fFxuICAgIChwb3N0LmFjbC5jYW5fc2VlX2xpa2VzICYmIChwb3N0Lmxhc3RfbGlrZXMgfHwgW10pLmxlbmd0aCkgfHxcbiAgICBwb3N0LmFjbC5jYW5fbGlrZVxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgTWFya0FzQmVzdEFuc3dlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgYWN0aW9ucy5tYXJrQXNCZXN0QW5zd2VyKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHBvc3QsIHRocmVhZCB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmICghdGhyZWFkLmFjbC5jYW5fbWFya19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGw7XG4gICAgaWYgKCFwb3N0LmFjbC5jYW5fbWFya19hc19iZXN0X2Fuc3dlcikgcmV0dXJuIG51bGw7XG4gICAgaWYgKHRocmVhZC5iZXN0X2Fuc3dlciAmJiAhdGhyZWFkLmFjbC5jYW5fY2hhbmdlX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImhpZGRlbi14cyBidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvc3QuaXNCdXN5IHx8IHBvc3QuaWQgPT09IHRocmVhZC5iZXN0X2Fuc3dlcn1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGNoZWNrX2JveFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHtnZXR0ZXh0KFwiQmVzdCBhbnN3ZXJcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIE1hcmtBc0Jlc3RBbnN3ZXJDb21wYWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBhY3Rpb25zLm1hcmtBc0Jlc3RBbnN3ZXIodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcG9zdCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKCF0aHJlYWQuYWNsLmNhbl9tYXJrX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXBvc3QuYWNsLmNhbl9tYXJrX2FzX2Jlc3RfYW5zd2VyKSByZXR1cm4gbnVsbDtcbiAgICBpZiAodGhyZWFkLmJlc3RfYW5zd2VyICYmICF0aHJlYWQuYWNsLmNhbl9jaGFuZ2VfYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwidmlzaWJsZS14cy1pbmxpbmUtYmxvY2sgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb3N0LmlzQnVzeSB8fCBwb3N0LmlkID09PSB0aHJlYWQuYmVzdF9hbnN3ZXJ9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBjaGVja19ib3hcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlrZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5pc19saWtlZCkge1xuICAgICAgYWN0aW9ucy51bmxpa2UodGhpcy5wcm9wcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGlvbnMubGlrZSh0aGlzLnByb3BzKTtcbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fbGlrZSkgcmV0dXJuIG51bGw7XG5cbiAgICBsZXQgY2xhc3NOYW1lID0gJ2J0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0JztcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzX2xpa2VkKSB7XG4gICAgICBjbGFzc05hbWUgPSAnYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbSBwdWxsLWxlZnQnO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb3N0LmlzQnVzeX1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge3RoaXMucHJvcHMucG9zdC5pc19saWtlZCA/IGdldHRleHQoXCJMaWtlZFwiKSA6IGdldHRleHQoXCJMaWtlXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlrZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TGlrZXNNb2RhbFxuICAgICAgICBwb3N0PXt0aGlzLnByb3BzLnBvc3R9XG4gICAgICAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGhhc0xpa2VzID0gKHRoaXMucHJvcHMucG9zdC5sYXN0X2xpa2VzIHx8IFtdKS5sZW5ndGggPiAwO1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzIHx8ICFoYXNMaWtlcykgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzID09PSAyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIGJ0bi1zbSBwdWxsLWxlZnQgaGlkZGVuLXhzXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0TGlrZXNNZXNzYWdlKHRoaXMucHJvcHMubGlrZXMsIHRoaXMucHJvcHMubGFzdExpa2VzKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJwdWxsLWxlZnQgaGlkZGVuLXhzXCI+XG4gICAgICAgIHtnZXRMaWtlc01lc3NhZ2UodGhpcy5wcm9wcy5saWtlcywgdGhpcy5wcm9wcy5sYXN0TGlrZXMpfVxuICAgICAgPC9wPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpa2VzQ29tcGFjdCBleHRlbmRzIExpa2VzIHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGhhc0xpa2VzID0gKHRoaXMucHJvcHMucG9zdC5sYXN0X2xpa2VzIHx8IFtdKS5sZW5ndGggPiAwO1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzIHx8ICFoYXNMaWtlcykgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzID09PSAyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIGJ0bi1zbSBsaWtlcy1jb21wYWN0IHB1bGwtbGVmdCB2aXNpYmxlLXhzLWJsb2NrXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBmYXZvcml0ZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5saWtlc31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJsaWtlcy1jb21wYWN0IHB1bGwtbGVmdCB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBmYXZvcml0ZVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHt0aGlzLnByb3BzLmxpa2VzfVxuICAgICAgPC9wPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpa2VzTWVzc2FnZShsaWtlcywgdXNlcnMpIHtcbiAgY29uc3QgdXNlcm5hbWVzID0gdXNlcnMuc2xpY2UoMCwgMykubWFwKCh1KSA9PiB1LnVzZXJuYW1lKTtcblxuICBpZiAodXNlcm5hbWVzLmxlbmd0aCA9PSAxKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXIpcyBsaWtlcyB0aGlzLlwiKSwge1xuICAgICAgdXNlcjogdXNlcm5hbWVzWzBdXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBoaWRkZW5MaWtlcyA9IGxpa2VzIC0gdXNlcm5hbWVzLmxlbmd0aDtcblxuICBjb25zdCBvdGhlclVzZXJzID0gdXNlcm5hbWVzLnNsaWNlKDAsIC0xKS5qb2luKCcsICcpO1xuICBjb25zdCBsYXN0VXNlciA9IHVzZXJuYW1lcy5zbGljZSgtMSlbMF07XG5cbiAgY29uc3QgdXNlcm5hbWVzTGlzdCA9IGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJzKXMgYW5kICUobGFzdF91c2VyKXNcIiksIHtcbiAgICB1c2Vyczogb3RoZXJVc2VycyxcbiAgICBsYXN0X3VzZXI6IGxhc3RVc2VyXG4gIH0sIHRydWUpO1xuXG4gIGlmIChoaWRkZW5MaWtlcyA9PT0gMCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VycylzIGxpa2UgdGhpcy5cIiksIHtcbiAgICAgIHVzZXJzOiB1c2VybmFtZXNMaXN0XG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCIlKHVzZXJzKXMgYW5kICUobGlrZXMpcyBvdGhlciB1c2VyIGxpa2UgdGhpcy5cIixcbiAgICBcIiUodXNlcnMpcyBhbmQgJShsaWtlcylzIG90aGVyIHVzZXJzIGxpa2UgdGhpcy5cIixcbiAgICBoaWRkZW5MaWtlcyk7XG5cbiAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICB1c2VyczogdXNlcm5hbWVzLmpvaW4oJywgJyksXG4gICAgbGlrZXM6IGhpZGRlbkxpa2VzXG4gIH0sIHRydWUpO1xufVxuXG5leHBvcnQgY2xhc3MgUmVwbHkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiAnUkVQTFknLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5lZGl0b3IsXG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCxcblxuICAgICAgY29udGV4dDoge1xuICAgICAgICByZXBseTogdGhpcy5wcm9wcy5wb3N0LmlkXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9yZXBseSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJSZXBseVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiAnRURJVCcsXG5cbiAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy5wb3N0LmFwaS5lZGl0b3IsXG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXhcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2VkaXQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW4teHMgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkVkaXRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDb250cm9scyBmcm9tICcuL2NvbnRyb2xzJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnLi9zZWxlY3QnO1xuaW1wb3J0IHtTdGF0dXNJY29uLCBnZXRTdGF0dXNDbGFzc05hbWUsIGdldFN0YXR1c0Rlc2NyaXB0aW9ufSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1cyc7XG5pbXBvcnQgUG9zdENoYW5nZWxvZyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZyc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtaGVhZGluZ1wiPlxuICAgICAgPFVucmVhZExhYmVsIHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnJlYWRDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0ZWRPbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVkT25Db21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0RWRpdHMgey4uLnByb3BzfSAvPlxuICAgICAgPFBvc3RFZGl0c0NvbXBhY3RzIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0ZWRMYWJlbCB7Li4ucHJvcHN9IC8+XG4gICAgICA8U2VsZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxDb250cm9scyB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbnJlYWRMYWJlbChwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19yZWFkKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXVucmVhZCBoaWRkZW4teHNcIj5cbiAgICAgIHtnZXR0ZXh0KFwiTmV3IHBvc3RcIil9XG4gICAgPC9zcGFuPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5yZWFkQ29tcGFjdChwcm9wcykge1xuICBpZiAocHJvcHMucG9zdC5pc19yZWFkKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXVucmVhZCB2aXNpYmxlLXhzLWlubGluZS1ibG9ja1wiPlxuICAgICAge2dldHRleHQoXCJOZXdcIil9XG4gICAgPC9zcGFuPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVkT24ocHJvcHMpIHtcbiAgY29uc3QgdG9vbHRpcCA9IGludGVycG9sYXRlKGdldHRleHQoXCJwb3N0ZWQgJShwb3N0ZWRfb24pc1wiKSwge1xuICAgICdwb3N0ZWRfb24nOiBwcm9wcy5wb3N0LnBvc3RlZF9vbi5mb3JtYXQoJ0xMLCBMVCcpXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGhyZWY9e3Byb3BzLnBvc3QudXJsLmluZGV4fVxuICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIHBvc3RlZC1vbiBoaWRkZW4teHNcIlxuICAgICAgdGl0bGU9e3Rvb2x0aXB9XG4gICAgPlxuICAgICAge3Byb3BzLnBvc3QucG9zdGVkX29uLmZyb21Ob3coKX1cbiAgICA8L2E+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZWRPbkNvbXBhY3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgaHJlZj17cHJvcHMucG9zdC51cmwuaW5kZXh9XG4gICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmsgcG9zdGVkLW9uIHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICA+XG4gICAgICB7cHJvcHMucG9zdC5wb3N0ZWRfb24uZnJvbU5vdyh0cnVlKX1cbiAgICA8L2E+XG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBQb3N0RWRpdHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8UG9zdENoYW5nZWxvZyBwb3N0PXt0aGlzLnByb3BzLnBvc3R9IC8+XG4gICAgKVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc0hpZGRlbiA9IHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW47XG4gICAgY29uc3QgaXNVbmVkaXRlZCA9IHRoaXMucHJvcHMucG9zdC5lZGl0cyA9PT0gMDtcbiAgICBpZiAoaXNIaWRkZW4gfHwgaXNVbmVkaXRlZCkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCB0b29sdGlwID0gbmdldHRleHQoXG4gICAgICBcIlRoaXMgcG9zdCB3YXMgZWRpdGVkICUoZWRpdHMpcyB0aW1lLlwiLFxuICAgICAgXCJUaGlzIHBvc3Qgd2FzIGVkaXRlZCAlKGVkaXRzKXMgdGltZXMuXCIsXG4gICAgICB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICApO1xuXG4gICAgY29uc3QgdGl0bGUgPSBpbnRlcnBvbGF0ZSh0b29sdGlwLCB7XG4gICAgICAnZWRpdHMnOiB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICB9LCB0cnVlKTtcblxuICAgIGNvbnN0IGxhYmVsID0gbmdldHRleHQoXG4gICAgICBcImVkaXRlZCAlKGVkaXRzKXMgdGltZVwiLFxuICAgICAgXCJlZGl0ZWQgJShlZGl0cylzIHRpbWVzXCIsXG4gICAgICB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIGJ0bi1zZWUtZWRpdHMgaGlkZGVuLXhzXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7aW50ZXJwb2xhdGUobGFiZWwsIHtcbiAgICAgICAgICAnZWRpdHMnOiB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICAgICAgfSwgdHJ1ZSl9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RFZGl0c0NvbXBhY3RzIGV4dGVuZHMgUG9zdEVkaXRzIHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzSGlkZGVuID0gdGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlbjtcbiAgICBjb25zdCBpc1VuZWRpdGVkID0gdGhpcy5wcm9wcy5wb3N0LmVkaXRzID09PSAwO1xuICAgIGlmIChpc0hpZGRlbiB8fCBpc1VuZWRpdGVkKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGxhYmVsID0gbmdldHRleHQoXG4gICAgICBcIiUoZWRpdHMpcyBlZGl0XCIsXG4gICAgICBcIiUoZWRpdHMpcyBlZGl0c1wiLFxuICAgICAgdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGluayBidG4tc2VlLWVkaXRzIHZpc2libGUteHMtaW5saW5lLWJsb2NrXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2ludGVycG9sYXRlKGxhYmVsLCB7XG4gICAgICAgICAgJ2VkaXRzJzogdGhpcy5wcm9wcy5wb3N0LmVkaXRzXG4gICAgICAgIH0sIHRydWUpfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcm90ZWN0ZWRMYWJlbChwcm9wcykge1xuICBjb25zdCBwb3N0QXV0aG9yID0gcHJvcHMucG9zdC5wb3N0ZXIgJiYgcHJvcHMucG9zdC5wb3N0ZXIuaWQgPT09IHByb3BzLnVzZXIuaWQ7XG4gIGNvbnN0IGhhc0FjbCA9IHByb3BzLnBvc3QuYWNsLmNhbl9wcm90ZWN0O1xuICBjb25zdCBpc1Zpc2libGUgPSBwcm9wcy51c2VyLmlkICYmIHByb3BzLnBvc3QuaXNfcHJvdGVjdGVkICYmIChwb3N0QXV0aG9yIHx8IGhhc0FjbCk7XG5cbiAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIGNsYXNzTmFtZT1cImxhYmVsIGxhYmVsLXByb3RlY3RlZCBoaWRkZW4teHNcIlxuICAgICAgdGl0bGU9e2dldHRleHQoXCJUaGlzIHBvc3QgaXMgcHJvdGVjdGVkIGFuZCBtYXkgbm90IGJlIGVkaXRlZC5cIil9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBsb2NrX291dGxpbmVcbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwicHJvdGVjdGVkXCIpfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF0dGFjaG1lbnRzIGZyb20gJy4vYXR0YWNobWVudHMnO1xuaW1wb3J0IEJvZHkgZnJvbSAnLi9ib2R5JztcbmltcG9ydCB7IEZsYWdCZXN0QW5zd2VyLCBGbGFnSGlkZGVuLCBGbGFnVW5hcHByb3ZlZCwgRmxhZ1Byb3RlY3RlZCB9IGZyb20gJy4vZmxhZ3MnO1xuaW1wb3J0IEZvb3RlciBmcm9tICcuL2Zvb3Rlcic7XG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vaGVhZGVyJztcbmltcG9ydCBQb3N0U2lkZSBmcm9tICcuL3Bvc3Qtc2lkZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGxldCBjbGFzc05hbWUgPSAncG9zdCc7XG4gIGlmIChwcm9wcy5wb3N0LmlzRGVsZXRlZCkge1xuICAgIGNsYXNzTmFtZSA9ICdoaWRlJztcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhcHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSAncG9zdCBwb3N0LWhpZGRlbic7XG4gIH1cblxuICBpZiAocHJvcHMucG9zdC5wb3N0ZXIgJiYgcHJvcHMucG9zdC5wb3N0ZXIucmFuay5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gJyBwb3N0LScgKyBwcm9wcy5wb3N0LnBvc3Rlci5yYW5rLmNzc19jbGFzcztcbiAgfVxuXG4gIGlmICghcHJvcHMucG9zdC5pc19yZWFkKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgcG9zdC1uZXcnO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgaWQ9eydwb3N0LScgKyBwcm9wcy5wb3N0LmlkfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8UG9zdFNpZGUgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTlcIj5cbiAgICAgICAgICAgICAgPEhlYWRlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnQmVzdEFuc3dlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnVW5hcHByb3ZlZCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGbGFnUHJvdGVjdGVkIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgICAgPEZsYWdIaWRkZW4gey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgICA8Qm9keSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxBdHRhY2htZW50cyB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgIDxGb290ZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5pbXBvcnQgQ29udHJvbHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L3NlbGVjdCc7XG5pbXBvcnQgVXNlclN0YXR1cywgeyBTdGF0dXNJY29uLCBTdGF0dXNMYWJlbCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzJztcbmltcG9ydCBVc2VyUG9zdGNvdW50IGZyb20gJy4vdXNlci1wb3N0Y291bnQnO1xuaW1wb3J0IFVzZXJUaXRsZSBmcm9tICcuL3VzZXItdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHBvc3QsIHRocmVhZCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTMgcG9zdC1zaWRlIHBvc3Qtc2lkZS1hbm9ueW1vdXNcIj5cbiAgICAgIDxTZWxlY3RcbiAgICAgICAgcG9zdD17cG9zdH1cbiAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAvPlxuICAgICAgPENvbnRyb2xzXG4gICAgICAgIHBvc3Q9e3Bvc3R9XG4gICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBvc3Rlci1hdmF0YXJcIlxuICAgICAgICAgICAgICBzaXplPXsxMDB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWEtYm9keVwiPlxuXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWVkaWEtaGVhZGluZyBpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICB7cG9zdC5wb3N0ZXJfbmFtZX1cbiAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIHVzZXItdGl0bGUtYW5vbnltb3VzXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlJlbW92ZWQgdXNlclwiKX1cbiAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IHRpdGxlLCByYW5rIH0pIHtcbiAgcmV0dXJuIHJhbmsuaXNfdGFiIHx8ICEhdGl0bGUgfHwgISFyYW5rLnRpdGxlO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQW5vbnltb3VzIGZyb20gJy4vYW5vbnltb3VzJztcbmltcG9ydCBSZWdpc3RlcmVkIGZyb20gJy4vcmVnaXN0ZXJlZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LnBvc3Rlcikge1xuICAgIHJldHVybiAoXG4gICAgICA8UmVnaXN0ZXJlZCB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEFub255bW91cyB7Li4ucHJvcHN9IC8+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJztcbmltcG9ydCBDb250cm9scyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMnO1xuaW1wb3J0IFNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3Qvc2VsZWN0JztcbmltcG9ydCBVc2VyU3RhdHVzLCB7IFN0YXR1c0ljb24gfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VyLXN0YXR1cyc7XG5pbXBvcnQgVXNlclBvc3Rjb3VudCBmcm9tICcuL3VzZXItcG9zdGNvdW50JztcbmltcG9ydCBVc2VyU3RhdHVzTGFiZWwgZnJvbSAnLi91c2VyLXN0YXR1cyc7XG5pbXBvcnQgVXNlclRpdGxlIGZyb20gJy4vdXNlci10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdCwgdGhyZWFkIH0pIHtcbiAgY29uc3QgeyBwb3N0ZXIgfSA9IHBvc3Q7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtMyBwb3N0LXNpZGUgcG9zdC1zaWRlLXJlZ2lzdGVyZWRcIj5cbiAgICAgIDxTZWxlY3RcbiAgICAgICAgcG9zdD17cG9zdH1cbiAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAvPlxuICAgICAgPENvbnRyb2xzXG4gICAgICAgIHBvc3Q9e3Bvc3R9XG4gICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVkaWFcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1sZWZ0XCI+XG4gICAgICAgICAgPGEgaHJlZj17cG9zdGVyLnVybH0+XG4gICAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBvc3Rlci1hdmF0YXJcIlxuICAgICAgICAgICAgICBzaXplPXsxMDB9XG4gICAgICAgICAgICAgIHVzZXI9e3Bvc3Rlcn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIlxuICAgICAgICAgICAgICBocmVmPXtwb3N0ZXIudXJsfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7cG9zdGVyLnVzZXJuYW1lfVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPFVzZXJTdGF0dXMgc3RhdHVzPXtwb3N0ZXIuc3RhdHVzfT5cbiAgICAgICAgICAgICAgPFN0YXR1c0ljb24gc3RhdHVzPXtwb3N0ZXIuc3RhdHVzfSAvPlxuICAgICAgICAgICAgPC9Vc2VyU3RhdHVzPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPFVzZXJUaXRsZVxuICAgICAgICAgICAgcmFuaz17cG9zdGVyLnJhbmt9XG4gICAgICAgICAgICB0aXRsZT17cG9zdGVyLnRpdGxlfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8VXNlclN0YXR1c0xhYmVsIHBvc3Rlcj17cG9zdGVyfSAvPlxuICAgICAgICAgIDxVc2VyUG9zdGNvdW50IHBvc3Rlcj17cG9zdGVyfSAvPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBoYXNWaXNpYmxlVGl0bGUgZnJvbSAnLi9oYXMtdmlzaWJsZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgcG9zdGVyIH0pIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJShwb3N0cylzIHBvc3RcIixcbiAgICBcIiUocG9zdHMpcyBwb3N0c1wiLFxuICAgIHBvc3Rlci5wb3N0c1xuICApO1xuXG4gIGxldCBjbGFzc05hbWUgPSAndXNlci1wb3N0Y291bnQnO1xuICBpZiAoaGFzVmlzaWJsZVRpdGxlKHBvc3RlcikpIHtcbiAgICBjbGFzc05hbWUgKz0gJyBoaWRkZW4teHMgaGlkZGVuLXNtJztcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge2ludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3Bvc3RzJzogcG9zdGVyLnBvc3RzXG4gICAgICB9LCB0cnVlKX1cbiAgICA8L3NwYW4+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBVc2VyU3RhdHVzLCB7IFN0YXR1c0xhYmVsIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXMnO1xuaW1wb3J0IGhhc1Zpc2libGVUaXRsZSBmcm9tICcuL2hhcy12aXNpYmxlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBwb3N0ZXIgfSkge1xuICBsZXQgY2xhc3NOYW1lID0gJ2hpZGRlbi14cyc7XG4gIGlmIChoYXNWaXNpYmxlVGl0bGUocG9zdGVyKSkge1xuICAgIGNsYXNzTmFtZSArPSAnIGhpZGRlbi1zbSc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxVc2VyU3RhdHVzIHN0YXR1cz17cG9zdGVyLnN0YXR1c30+XG4gICAgICAgIDxTdGF0dXNMYWJlbFxuICAgICAgICAgIHN0YXR1cz17cG9zdGVyLnN0YXR1c31cbiAgICAgICAgICB1c2VyPXtwb3N0ZXJ9XG4gICAgICAgIC8+XG4gICAgICA8L1VzZXJTdGF0dXM+XG4gICAgPC9zcGFuPlxuICApO1xuXG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyByYW5rLCB0aXRsZSB9KSB7XG4gIGxldCB1c2VyVGl0bGUgPSB0aXRsZSB8fCByYW5rLnRpdGxlO1xuICBpZiAoIXVzZXJUaXRsZSAmJiByYW5rLmlzX3RhYikge1xuICAgIHVzZXJUaXRsZSA9IHJhbmsubmFtZTtcbiAgfVxuXG4gIGlmICghdXNlclRpdGxlKSByZXR1cm4gbnVsbDtcblxuICBsZXQgY2xhc3NOYW1lID0gJ3VzZXItdGl0bGUnO1xuICBpZiAocmFuay5jc3NfY2xhc3MpIHtcbiAgICBjbGFzc05hbWUgKz0gJyB1c2VyLXRpdGxlLScgKyByYW5rLmNzc19jbGFzcztcbiAgfVxuXG4gIGlmIChyYW5rLmlzX3RhYikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPGEgaHJlZj17cmFuay51cmx9PlxuICAgICAgICAgIHt1c2VyVGl0bGV9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge3VzZXJUaXRsZX1cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInO1xuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwb3N0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9yZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdmF0YXJcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcG9zdFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nIHBvc3QtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPGFydGljbGUgY2xhc3NOYW1lPVwibWlzYWdvLW1hcmt1cFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDEwMCkgKyBcIiVcIn19PiZuYnNwOzwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDUwLCAxMDApICsgXCIlXCJ9fT4mbmJzcDs8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg1MCwgMTAwKSArIFwiJVwifX0+Jm5ic3A7PC9wPlxuICAgICAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNTZWxlY3RlZCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3QodGhpcy5wcm9wcy5wb3N0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnNlbGVjdCh0aGlzLnByb3BzLnBvc3QpKTtcbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghKHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMgfHwgaXNWaXNpYmxlKHRoaXMucHJvcHMucG9zdC5hY2wpKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsbC1yaWdodCBoaWRkZW4teHNcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMucG9zdC5pc1NlbGVjdGVkID8gJ2NoZWNrX2JveCcgOiAnY2hlY2tfYm94X291dGxpbmVfYmxhbmsnfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoYWNsKSB7XG4gIHJldHVybiAoXG4gICAgYWNsLmNhbl9hcHByb3ZlIHx8XG4gICAgYWNsLmNhbl9oaWRlIHx8XG4gICAgYWNsLmNhbl9wcm90ZWN0IHx8XG4gICAgYWNsLmNhbl91bmhpZGUgfHxcbiAgICBhY2wuY2FuX2RlbGV0ZSB8fFxuICAgIGFjbC5jYW5fbW92ZVxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLypcbiAgU3VwZXIgbmFpdmUgYW5kIGRlLWZhY3RvIHBsYWNlaG9sZGVyIGltcGxlbWVudGF0aW9uIGZvciByZWFkaW5nIHBvc3RzIG9uIHNjcm9sbFxuICAqL1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZih0aGlzLnByb3BzLnBvc3QuaXNfcmVhZCkgcmV0dXJuOyAvLyBkb24ndCByZWdpc3RlciByZWFkIHRyYWNrZXJcblxuICAgICQodGhpcy5kb2N1bWVudE5vZGUpLndheXBvaW50KHtcbiAgICAgIGhhbmRsZXI6IChkaXJlY3Rpb24pID0+IHtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gJ2Rvd24nIHx8IHRoaXMucHJvcHMucG9zdC5pc19yZWFkKSByZXR1cm47XG5cbiAgICAgICAgLy8gYWZ0ZXIgMTUwMG1zIHJ1biBmbGFnIHBvc3QgYXMgcmVhZCBsb2dpY1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgLy8gY2hlY2sgaWYgcG9zdCdzIGJvdHRvbSBlZGdlIGlzIHN0aWxsIGluIHZpZXdwb3J0XG4gICAgICAgICAgY29uc3QgYm91bmRpbmdDbGllbnRSZWN0ID0gdGhpcy5kb2N1bWVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0Qm90dG9tID0gYm91bmRpbmdDbGllbnRSZWN0LmhlaWdodCArIGJvdW5kaW5nQ2xpZW50UmVjdC50b3A7XG4gICAgICAgICAgY29uc3QgY2xpZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgICAgICAgIGlmIChvZmZzZXRCb3R0b20gPCA1KSByZXR1cm47IC8vIHNjcm9sbGVkIHBhc3QgdGhlIHBvc3RcbiAgICAgICAgICBpZiAob2Zmc2V0Qm90dG9tID4gY2xpZW50SGVpZ2h0KSByZXR1cm47IC8vIHNjcm9sbGVkIGJhY2sgdXBcblxuICAgICAgICAgIC8vIG1hcmsgcG9zdCBhcyByZWFkXG4gICAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgICAgIGlzX3JlYWQ6IHRydWVcbiAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAvLyBjYWxsIEFQSSB0byBsZXQgaXQga25vdyB3ZSBoYXZlIHVucmVhZCBwb3N0XG4gICAgICAgICAgYWpheC5wb3N0KHRoaXMucHJvcHMucG9zdC5hcGkucmVhZCkudGhlbihcbiAgICAgICAgICAgIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIHtcbiAgICAgICAgICAgICAgICBpc19yZWFkOiBkYXRhLnRocmVhZF9pc19yZWFkXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9LFxuICAgICAgb2Zmc2V0OiAnYm90dG9tLWluLXZpZXcnXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0gcmVmPXsobm9kZSkgPT4geyB0aGlzLmRvY3VtZW50Tm9kZSA9IG5vZGU7IH19PlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhbmVsTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhbmVsLWxvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFBhbmVsTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1tZXNzYWdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnUFJPRklMRV9CQU4nKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCgnUFJPRklMRV9CQU4nKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcocHJvcHMucHJvZmlsZS5hcGkuYmFuKTtcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShiYW4pIHtcbiAgICBpZiAoYmFuLmV4cGlyZXNfb24pIHtcbiAgICAgIGJhbi5leHBpcmVzX29uID0gbW9tZW50KGJhbi5leHBpcmVzX29uKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBiYW5cbiAgICB9O1xuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGFwaSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6ICdiYW4tZGV0YWlscycsXG4gICAgICB1cmw6IGFwaSxcbiAgICAgIGZyZXF1ZW5jeTogOTAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnVwZGF0ZSxcbiAgICAgIGVycm9yOiB0aGlzLmVycm9yXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHVwZGF0ZSA9IChiYW4pID0+IHtcbiAgICBpZiAoYmFuLmV4cGlyZXNfb24pIHtcbiAgICAgIGJhbi5leHBpcmVzX29uID0gbW9tZW50KGJhbi5leHBpcmVzX29uKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIGJhblxuICAgIH0pO1xuICB9O1xuXG4gIGVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGVycm9yOiBlcnJvci5kZXRhaWwsXG4gICAgICBiYW46IG51bGxcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJCYW4gZGV0YWlsc1wiKSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBwb2xscy5zdG9wKCdiYW4tZGV0YWlscycpO1xuICB9XG5cbiAgZ2V0VXNlck1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuLnVzZXJfbWVzc2FnZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBiYW4tbWVzc2FnZSBiYW4tdXNlci1tZXNzYWdlXCI+XG4gICAgICAgIDxoND57Z2V0dGV4dChcIlVzZXItc2hvd24gYmFuIG1lc3NhZ2VcIil9PC9oND5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZWFkXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgIF9faHRtbDogdGhpcy5zdGF0ZS5iYW4udXNlcl9tZXNzYWdlLmh0bWxcbiAgICAgICAgICB9fSAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3RhZmZNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbi5zdGFmZl9tZXNzYWdlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IGJhbi1tZXNzYWdlIGJhbi1zdGFmZi1tZXNzYWdlXCI+XG4gICAgICAgIDxoND57Z2V0dGV4dChcIlRlYW0tc2hvd24gYmFuIG1lc3NhZ2VcIil9PC9oND5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZWFkXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgIF9faHRtbDogdGhpcy5zdGF0ZS5iYW4uc3RhZmZfbWVzc2FnZS5odG1sXG4gICAgICAgICAgfX0gLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24pIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmJhbi5leHBpcmVzX29uLmlzQWZ0ZXIobW9tZW50KCkpKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgb24gJShleHBpcmVzX29uKXMuXCIpLCB7XG4gICAgICAgICAgICAnZXhwaXJlc19vbic6IHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24uZm9ybWF0KCdMTCwgTFQnKVxuICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIGxldCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgJShleHBpcmVzX29uKXMuXCIpLCB7XG4gICAgICAgICAgICAnZXhwaXJlc19vbic6IHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24uZnJvbU5vdygpXG4gICAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIDxhYmJyIHRpdGxlPXt0aXRsZX0+XG4gICAgICAgICAge21lc3NhZ2V9XG4gICAgICAgIDwvYWJicj47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgYmFuIGhhcyBleHBpcmVkLlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMncyBiYW4gaXMgcGVybWFuZW50LlwiKSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldFBhbmVsQm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4pIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnN0YXRlLmJhbikubGVuZ3RoKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxkaXY+XG4gICAgICAgICAge3RoaXMuZ2V0VXNlck1lc3NhZ2UoKX1cbiAgICAgICAgICB7dGhpcy5nZXRTdGFmZk1lc3NhZ2UoKX1cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBiYW4tZXhwaXJlc1wiPlxuICAgICAgICAgICAgPGg0PntnZXR0ZXh0KFwiQmFuIGV4cGlyYXRpb25cIil9PC9oND5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAgICA8UGFuZWxNZXNzYWdlIG1lc3NhZ2U9e2dldHRleHQoXCJObyBiYW4gaXMgYWN0aXZlIGF0IHRoZSBtb21lbnQuXCIpfSAvPlxuICAgICAgICA8L2Rpdj47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAgPFBhbmVsTWVzc2FnZSBpY29uPVwiZXJyb3Jfb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICA8UGFuZWxMb2FkZXIgLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLWJhbi1kZXRhaWxzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJCYW4gZGV0YWlsc1wiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7dGhpcy5nZXRQYW5lbEJvZHkoKX1cblxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGlzQXV0aGVudGljYXRlZCwgcHJvZmlsZSB9KSB7XG4gIGxldCBtZXNzYWdlID0gbnVsbDtcbiAgaWYgKGlzQXV0aGVudGljYXRlZCkge1xuICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiWW91IGFyZSBub3Qgc2hhcmluZyBhbnkgZGV0YWlscyB3aXRoIG90aGVycy5cIik7XG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBub3Qgc2hhcmluZyBhbnkgZGV0YWlscyB3aXRoIG90aGVycy5cIiksXG4gICAgICB7XG4gICAgICAgICd1c2VybmFtZSc6IHByb2ZpbGUudXNlcm5hbWUsXG4gICAgICB9LFxuICAgICAgdHJ1ZVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHRleHQtY2VudGVyIGxlYWRcIj5cbiAgICAgICAge21lc3NhZ2V9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGh0bWwsIHRleHQsIHVybCB9KSB7XG4gIGlmIChodG1sKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sLXN0YXRpYyBjb2wtbWQtOVwiXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBodG1sfX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wtc3RhdGljIGNvbC1tZC05XCI+XG4gICAgICA8U2FmZVZhbHVlXG4gICAgICAgIHRleHQ9e3RleHR9XG4gICAgICAgIHVybD17dXJsfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNhZmVWYWx1ZSh7IHRleHQsIHVybCB9KSB7XG4gIGlmICh1cmwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHA+XG4gICAgICAgIDxhIGhyZWY9e3VybH0gdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9mb2xsb3dcIj5cbiAgICAgICAgICB7dGV4dCB8fCB1cmx9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG5cbiAgaWYgKHRleHQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHA+e3RleHR9PC9wPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZpZWxkVmFsdWUgZnJvbSAnLi9maWVsZC12YWx1ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICA8c3Ryb25nIGNsYXNzTmFtZT1cImNvbnRyb2wtbGFiZWwgY29sLW1kLTNcIj5cbiAgICAgICAge3Byb3BzLm5hbWV9OlxuICAgICAgPC9zdHJvbmc+XG4gICAgICA8RmllbGRWYWx1ZSB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2VkaXQtZGV0YWlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgYXBpLCBkaXNwbGF5LCBvbkNhbmNlbCwgb25TdWNjZXNzIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxGb3JtXG4gICAgICBhcGk9e2FwaX1cbiAgICAgIG9uQ2FuY2VsPXtvbkNhbmNlbH1cbiAgICAgIG9uU3VjY2Vzcz17b25TdWNjZXNzfVxuICAgIC8+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGaWVsZCBmcm9tICcuL2ZpZWxkJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBmaWVsZHMsIG5hbWUgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wcm9maWxlLWRldGFpbHMtZ3JvdXBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57bmFtZX08L2gzPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWhvcml6b250YWxcIj5cbiAgICAgICAgICB7ZmllbGRzLm1hcCgoeyBmaWVsZG5hbWUsIGh0bWwsIG5hbWUsIHRleHQsIHVybCB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8RmllbGRcbiAgICAgICAgICAgICAgICBrZXk9e2ZpZWxkbmFtZX1cbiAgICAgICAgICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICAgICAgICAgIGh0bWw9e2h0bWx9XG4gICAgICAgICAgICAgICAgdGV4dD17dGV4dH1cbiAgICAgICAgICAgICAgICB1cmw9e3VybH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBFbXB0eU1lc3NhZ2UgZnJvbSAnLi9lbXB0eS1tZXNzYWdlJztcbmltcG9ydCBHcm91cCBmcm9tICcuL2dyb3VwJztcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBkaXNwbGF5LCBncm91cHMsIGlzQXV0aGVudGljYXRlZCwgbG9hZGluZywgcHJvZmlsZSB9KSB7XG4gIGlmICghZGlzcGxheSkgcmV0dXJuIG51bGw7XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExvYWRlciAvPlxuICAgICk7XG4gIH1cblxuICBpZiAoIWdyb3Vwcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEVtcHR5TWVzc2FnZVxuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ9e2lzQXV0aGVudGljYXRlZH1cbiAgICAgICAgcHJvZmlsZT17cHJvZmlsZX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIHtncm91cHMubWFwKChncm91cCwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxHcm91cFxuICAgICAgICAgICAgZmllbGRzPXtncm91cC5maWVsZHN9XG4gICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICBuYW1lPXtncm91cC5uYW1lfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IG9uRWRpdCwgc2hvd0VkaXRCdXR0b24gfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8bmF2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS04IGNvbC1tZC0xMFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cIm1kLW1hcmdpbi10b3Atbm9cIj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJEZXRhaWxzXCIpfVxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8RWRpdEJ1dHRvblxuICAgICAgICAgICAgb25FZGl0PXtvbkVkaXR9XG4gICAgICAgICAgICBzaG93RWRpdEJ1dHRvbj17c2hvd0VkaXRCdXR0b259XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L25hdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVkaXRCdXR0b24oeyBvbkVkaXQsIHNob3dFZGl0QnV0dG9uIH0pIHtcbiAgaWYgKCFzaG93RWRpdEJ1dHRvbikgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGNvbC1tZC0yXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZSBidG4tYmxvY2tcIlxuICAgICAgICBvbkNsaWNrPXtvbkVkaXR9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkVkaXRcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEZvcm0gZnJvbSAnLi9mb3JtJztcbmltcG9ydCBHcm91cHNMaXN0IGZyb20gJy4vZ3JvdXBzLWxpc3QnO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuL2hlYWRlcic7XG5pbXBvcnQgUHJvZmlsZURldGFpbHNEYXRhIGZyb20gJ21pc2Fnby9kYXRhL3Byb2ZpbGUtZGV0YWlscyc7XG5pbXBvcnQgeyBsb2FkIGFzIGxvYWREZXRhaWxzIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUtZGV0YWlscyc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZWRpdGluZzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiRGV0YWlsc1wiKSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSk7XG4gIH1cblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgZWRpdGluZzogZmFsc2UgfSk7XG4gIH07XG5cbiAgb25FZGl0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiB0cnVlIH0pO1xuICB9O1xuXG4gIG9uU3VjY2VzcyA9IChuZXdEZXRhaWxzKSA9PiB7XG4gICAgY29uc3QgeyBkaXNwYXRjaCwgaXNBdXRoZW50aWNhdGVkLCBwcm9maWxlIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgbGV0IG1lc3NhZ2UgPSBudWxsO1xuICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiWW91ciBkZXRhaWxzIGhhdmUgYmVlbiB1cGRhdGVkLlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZSA9IGludGVycG9sYXRlKFxuICAgICAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgZGV0YWlscyBoYXZlIGJlZW4gdXBkYXRlZC5cIiksXG4gICAgICAgIHtcbiAgICAgICAgICAndXNlcm5hbWUnOiBwcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cblxuICAgIHNuYWNrYmFyLmluZm8obWVzc2FnZSk7XG4gICAgZGlzcGF0Y2gobG9hZERldGFpbHMobmV3RGV0YWlscykpO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiBmYWxzZSB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkaXNwYXRjaCwgaXNBdXRoZW50aWNhdGVkLCBwcm9maWxlLCBwcm9maWxlRGV0YWlscyB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBsb2FkaW5nID0gcHJvZmlsZURldGFpbHMuaWQgIT09IHByb2ZpbGUuaWQ7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFByb2ZpbGVEZXRhaWxzRGF0YVxuICAgICAgICBkYXRhPXtwcm9maWxlRGV0YWlsc31cbiAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICB1c2VyPXtwcm9maWxlfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtZGV0YWlsc1wiPlxuICAgICAgICAgIDxIZWFkZXJcbiAgICAgICAgICAgIG9uRWRpdD17dGhpcy5vbkVkaXR9XG4gICAgICAgICAgICBzaG93RWRpdEJ1dHRvbj17ISFwcm9maWxlRGV0YWlscy5lZGl0ICYmICF0aGlzLnN0YXRlLmVkaXRpbmd9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8R3JvdXBzTGlzdFxuICAgICAgICAgICAgZGlzcGxheT17IXRoaXMuc3RhdGUuZWRpdGluZ31cbiAgICAgICAgICAgIGdyb3Vwcz17cHJvZmlsZURldGFpbHMuZ3JvdXBzfVxuICAgICAgICAgICAgaXNBdXRoZW50aWNhdGVkPXtpc0F1dGhlbnRpY2F0ZWR9XG4gICAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgICAgcHJvZmlsZT17cHJvZmlsZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxGb3JtXG4gICAgICAgICAgICBhcGk9e3Byb2ZpbGUuYXBpLmVkaXRfZGV0YWlsc31cbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIGRpc3BsYXk9e3RoaXMuc3RhdGUuZWRpdGluZ31cbiAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgb25TdWNjZXNzPXt0aGlzLm9uU3VjY2Vzc31cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvUHJvZmlsZURldGFpbHNEYXRhPlxuICAgICk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJvdXRlIGZyb20gJy4vcm91dGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gVGhyZWFkcyhwcm9wcykge1xuICBsZXQgZW1wdHlNZXNzYWdlID0gbnVsbDtcbiAgaWYgKHByb3BzLnVzZXIuaWQgPT09IHByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICBlbXB0eU1lc3NhZ2UgPSBnZXR0ZXh0KFwiWW91IGhhdmUgbm8gc3RhcnRlZCB0aHJlYWRzLlwiKTtcbiAgfSBlbHNlIHtcbiAgICBlbXB0eU1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIHN0YXJ0ZWQgbm8gdGhyZWFkcy5cIiksIHtcbiAgICAgICd1c2VybmFtZSc6IHByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGxldCBoZWFkZXIgPSBudWxsO1xuICBpZiAoIXByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgaGVhZGVyID0gZ2V0dGV4dCgnTG9hZGluZy4uLicpO1xuICB9IGVsc2UgaWYgKHByb3BzLnByb2ZpbGUuaWQgPT09IHByb3BzLnVzZXIuaWQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIllvdSBoYXZlIHN0YXJ0ZWQgJSh0aHJlYWRzKXMgdGhyZWFkLlwiLFxuICAgICAgXCJZb3UgaGF2ZSBzdGFydGVkICUodGhyZWFkcylzIHRocmVhZHMuXCIsXG4gICAgICBwcm9wcy5wb3N0cy5jb3VudCk7XG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAndGhyZWFkcyc6IHByb3BzLnBvc3RzLmNvdW50XG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzIHN0YXJ0ZWQgJSh0aHJlYWRzKXMgdGhyZWFkLlwiLFxuICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzIHN0YXJ0ZWQgJSh0aHJlYWRzKXMgdGhyZWFkcy5cIixcbiAgICAgIHByb3BzLnBvc3RzLmNvdW50KTtcblxuICAgIGhlYWRlciA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICd1c2VybmFtZSc6IHByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAndGhyZWFkcyc6IHByb3BzLnBvc3RzLmNvdW50XG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxSb3V0ZVxuICAgICAgYXBpPXtwcm9wcy5wcm9maWxlLmFwaS50aHJlYWRzfVxuICAgICAgZW1wdHlNZXNzYWdlPXtlbXB0eU1lc3NhZ2V9XG4gICAgICBoZWFkZXI9e2hlYWRlcn1cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiVGhyZWFkc1wiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdHMocHJvcHMpIHtcbiAgbGV0IGVtcHR5TWVzc2FnZSA9IG51bGw7XG4gIGlmIChwcm9wcy51c2VyLmlkID09PSBwcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgZW1wdHlNZXNzYWdlID0gZ2V0dGV4dChcIllvdSBoYXZlIHBvc3RlZCBubyBtZXNzYWdlcy5cIik7XG4gIH0gZWxzZSB7XG4gICAgZW1wdHlNZXNzYWdlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBwb3N0ZWQgbm8gbWVzc2FnZXMuXCIpLCB7XG4gICAgICAndXNlcm5hbWUnOiBwcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBsZXQgaGVhZGVyID0gbnVsbDtcbiAgaWYgKCFwcm9wcy5wb3N0cy5pc0xvYWRlZCkge1xuICAgIGhlYWRlciA9IGdldHRleHQoJ0xvYWRpbmcuLi4nKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5wcm9maWxlLmlkID09PSBwcm9wcy51c2VyLmlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJZb3UgaGF2ZSBwb3N0ZWQgJShwb3N0cylzIG1lc3NhZ2UuXCIsXG4gICAgICBcIllvdSBoYXZlIHBvc3RlZCAlKHBvc3RzKXMgbWVzc2FnZXMuXCIsXG4gICAgICBwcm9wcy5wb3N0cy5jb3VudCk7XG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAncG9zdHMnOiBwcm9wcy5wb3N0cy5jb3VudFxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyBwb3N0ZWQgJShwb3N0cylzIG1lc3NhZ2UuXCIsXG4gICAgICBcIiUodXNlcm5hbWUpcyBoYXMgcG9zdGVkICUocG9zdHMpcyBtZXNzYWdlcy5cIixcbiAgICAgIHByb3BzLnBvc3RzLmNvdW50KTtcblxuICAgIGhlYWRlciA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICd1c2VybmFtZSc6IHByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAncG9zdHMnOiBwcm9wcy5wb3N0cy5jb3VudFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Um91dGVcbiAgICAgIGFwaT17cHJvcHMucHJvZmlsZS5hcGkucG9zdHN9XG4gICAgICBlbXB0eU1lc3NhZ2U9e2VtcHR5TWVzc2FnZX1cbiAgICAgIGhlYWRlcj17aGVhZGVyfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJQb3N0c1wiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUG9zdEZlZWQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcG9zdC1mZWVkJztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCAqIGFzIHBvc3RzIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0cyc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgbG9hZEl0ZW1zKHBhZ2U9MSkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuYXBpLCB7XG4gICAgICBwYWdlOiBwYWdlIHx8IDFcbiAgICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAocGFnZSA9PT0gMSkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5sb2FkKGRhdGEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmFwcGVuZChkYXRhKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBsb2FkTW9yZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGhpcy5sb2FkSXRlbXModGhpcy5wcm9wcy5wb3N0cy5wYWdlICsgMSk7XG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRpdGxlLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KTtcblxuICAgIHRoaXMubG9hZEl0ZW1zKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1mZWVkXCI+XG4gICAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0b29sYmFyLWxlZnRcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmhlYWRlcn1cbiAgICAgICAgICA8L2gzPlxuICAgICAgICA8L25hdj5cbiAgICAgICAgPEZlZWRcbiAgICAgICAgICBpc0xvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIGxvYWRNb3JlPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmVlZChwcm9wcykge1xuICBpZiAoIXByb3BzLnBvc3RzLmNvdW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57cHJvcHMuZW1wdHlNZXNzYWdlfTwvcD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPFBvc3RGZWVkXG4gICAgICAgIGlzUmVhZHk9e3Byb3BzLnBvc3RzLmlzTG9hZGVkfVxuICAgICAgICBwb3N0cz17cHJvcHMucG9zdHMucmVzdWx0c31cbiAgICAgICAgcG9zdGVyPXtwcm9wcy5wcm9maWxlfVxuICAgICAgLz5cbiAgICAgIDxMb2FkTW9yZUJ1dHRvblxuICAgICAgICBpc0xvYWRpbmc9e3Byb3BzLmlzTG9hZGluZ31cbiAgICAgICAgbG9hZE1vcmU9e3Byb3BzLmxvYWRNb3JlfVxuICAgICAgICBtb3JlPXtwcm9wcy5wb3N0cy5tb3JlfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExvYWRNb3JlQnV0dG9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMubW9yZSkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgIDxCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgbG9hZGluZz17cHJvcHMuaXNMb2FkaW5nfVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5sb2FkTW9yZX1cbiAgICAgID5cbiAgICAgICAge2ludGVycG9sYXRlKGdldHRleHQoXCJTaG93IG1vcmUgKCUobW9yZSlzKVwiKSwge1xuICAgICAgICAgICdtb3JlJzogcHJvcHMubW9yZVxuICAgICAgICB9LCB0cnVlKX1cbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyAnIGJ0bi1kZWZhdWx0IGJ0bi1mb2xsb3dpbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyAnIGJ0bi1kZWZhdWx0IGJ0bi1mb2xsb3cnO1xuICAgIH1cbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pc19mb2xsb3dlZCkge1xuICAgICAgcmV0dXJuICdmYXZvcml0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnZmF2b3JpdGVfYm9yZGVyJztcbiAgICB9XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkZvbGxvd2luZ1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJGb2xsb3dcIik7XG4gICAgfVxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBhY3Rpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHtcbiAgICAgICAgaXNfZm9sbG93ZWQ6IGZhbHNlLFxuICAgICAgICBmb2xsb3dlcnM6IHRoaXMucHJvcHMucHJvZmlsZS5mb2xsb3dlcnMgLSAxXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHtcbiAgICAgICAgaXNfZm9sbG93ZWQ6IHRydWUsXG4gICAgICAgIGZvbGxvd2VyczogdGhpcy5wcm9wcy5wcm9maWxlLmZvbGxvd2VycyArIDFcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5mb2xsb3cpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocGF0Y2goZGF0YSkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPEJ1dHRvbiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYWN0aW9ufT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgICAgPC9zcGFuPlxuICAgICAge3RoaXMuZ2V0TGFiZWwoKX1cbiAgICA8L0J1dHRvbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlYXJjaCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9xdWljay1zZWFyY2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBVc2Vyc0xpc3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgaHlkcmF0ZSwgYXBwZW5kIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc2V0U3BlY2lhbFByb3BzKCk7XG5cbiAgICBpZiAobWlzYWdvLmhhcyh0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSkpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AodGhpcy5QUkVMT0FERURfREFUQV9LRVkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKTtcbiAgICB9XG4gIH1cblxuICBzZXRTcGVjaWFsUHJvcHMoKSB7XG4gICAgdGhpcy5QUkVMT0FERURfREFUQV9LRVkgPSAnUFJPRklMRV9GT0xMT1dFUlMnO1xuICAgIHRoaXMuVElUTEUgPSBnZXR0ZXh0KCdGb2xsb3dlcnMnKTtcbiAgICB0aGlzLkFQSV9GSUxURVIgPSAnZm9sbG93ZXJzJztcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiAnJyxcblxuICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgfTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIHNlYXJjaDogJycsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfTtcblxuICAgIHRoaXMubG9hZFVzZXJzKCk7XG4gIH1cblxuICBsb2FkVXNlcnMocGFnZT0xLCBzZWFyY2g9bnVsbCkge1xuICAgIGNvbnN0IGFwaVVybCA9IHRoaXMucHJvcHMucHJvZmlsZS5hcGlbdGhpcy5BUElfRklMVEVSXTtcblxuICAgIGFqYXguZ2V0KGFwaVVybCwge1xuICAgICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgICBwYWdlOiBwYWdlIHx8IDFcbiAgICB9LCAndXNlci0nICsgdGhpcy5BUElfRklMVEVSKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAocGFnZSA9PT0gMSkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kKGRhdGEucmVzdWx0cykpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLlRJVExFLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgbG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KTtcblxuICAgIHRoaXMubG9hZFVzZXJzKHRoaXMuc3RhdGUucGFnZSArIDEsIHRoaXMuc3RhdGUuc2VhcmNoKTtcbiAgfTtcblxuICBzZWFyY2ggPSAoZXYpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogdHJ1ZSxcblxuICAgICAgc2VhcmNoOiBldi50YXJnZXQudmFsdWUsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRVc2VycygxLCBldi50YXJnZXQudmFsdWUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoJ0xvYWRpbmcuLi4nKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2VyLlwiLFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd1c2Vycyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlkID09PSB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91IGhhdmUgJSh1c2VycylzIGZvbGxvd2VyLlwiLFxuICAgICAgICBcIllvdSBoYXZlICUodXNlcnMpcyBmb2xsb3dlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcnMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzICUodXNlcnMpcyBmb2xsb3dlci5cIixcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzICUodXNlcnMpcyBmb2xsb3dlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgICd1c2Vycyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiU2VhcmNoIHJldHVybmVkIG5vIHVzZXJzIG1hdGNoaW5nIHNwZWNpZmllZCBjcml0ZXJpYS5cIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJZb3UgaGF2ZSBubyBmb2xsb3dlcnMuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBoYXMgbm8gZm9sbG93ZXJzLlwiKSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldE1vcmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLm1vcmUpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VyLW1vcmVcIj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tb3V0bGluZVwiXG4gICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5sb2FkTW9yZX1cbiAgICAgICAgPlxuICAgICAgICAgIHtpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiU2hvdyBtb3JlICglKG1vcmUpcylcIiksIHtcbiAgICAgICAgICAgICdtb3JlJzogdGhpcy5zdGF0ZS5tb3JlXG4gICAgICAgICAgfSwgdHJ1ZSl9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0TGlzdEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQgJiYgdGhpcy5zdGF0ZS5jb3VudCA9PT0gMCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAge3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9XG4gICAgICA8L3A+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxVc2Vyc0xpc3RcbiAgICAgICAgICBjb2xzPXszfVxuICAgICAgICAgIGlzUmVhZHk9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgIC8+XG5cbiAgICAgICAge3RoaXMuZ2V0TW9yZUJ1dHRvbigpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiAncHJvZmlsZS0nICsgdGhpcy5BUElfRklMVEVSO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuXG4gICAgICA8bmF2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRvb2xiYXItbGVmdFwiPlxuICAgICAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgICAgIDwvaDM+XG5cbiAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJ0b29sYmFyLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zZWFyY2h9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuc2VhcmNofVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiU2VhcmNoIHVzZXJzLi4uXCIpfSAvPlxuICAgICAgPC9uYXY+XG5cbiAgICAgIHt0aGlzLmdldExpc3RCb2R5KCl9XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd2VycyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvd2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9sbG93ZXJzIHtcbiAgc2V0U3BlY2lhbFByb3BzKCkge1xuICAgIHRoaXMuUFJFTE9BREVEX0RBVEFfS0VZID0gJ1BST0ZJTEVfRk9MTE9XUyc7XG4gICAgdGhpcy5USVRMRSA9IGdldHRleHQoJ0ZvbGxvd3MnKTtcbiAgICB0aGlzLkFQSV9GSUxURVIgPSAnZm9sbG93cyc7XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KCdMb2FkaW5nLi4uJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlci5cIixcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcnMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pZCA9PT0gdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdSBhcmUgZm9sbG93aW5nICUodXNlcnMpcyB1c2VyLlwiLFxuICAgICAgICBcIllvdSBhcmUgZm9sbG93aW5nICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd1c2Vycyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIiUodXNlcm5hbWUpcyBpcyBmb2xsb3dpbmcgJSh1c2VycylzIHVzZXIuXCIsXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGlzIGZvbGxvd2luZyAlKHVzZXJzKXMgdXNlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgICd1c2Vycyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiU2VhcmNoIHJldHVybmVkIG5vIHVzZXJzIG1hdGNoaW5nIHNwZWNpZmllZCBjcml0ZXJpYS5cIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJZb3UgYXJlIG5vdCBmb2xsb3dpbmcgYW55IHVzZXJzLlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgbm90IGZvbGxvd2luZyBhbnkgdXNlcnMuXCIpLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9sbG93QnV0dG9uIGZyb20gJy4vZm9sbG93LWJ1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lc3NhZ2VCdXR0b24gZnJvbSAnLi9tZXNzYWdlLWJ1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGVyYXRpb25OYXYgZnJvbSAnLi9tb2RlcmF0aW9uL25hdic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgQ29tcGFjdE5hdiB9IGZyb20gJy4vbmF2cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN0YXR1cywgeyBTdGF0dXNJY29uLCBTdGF0dXNMYWJlbCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0VXNlclN0YXR1cygpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXN0YXR1cy1kaXNwbGF5XCI+XG4gICAgICAgIDxTdGF0dXNcbiAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzfVxuICAgICAgICA+XG4gICAgICAgICAgPFN0YXR1c0ljb25cbiAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgIHN0YXR1cz17dGhpcy5wcm9wcy5wcm9maWxlLnN0YXR1c31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxTdGF0dXNMYWJlbFxuICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L1N0YXR1cz5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0VXNlclJhbmsoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5yYW5rLmlzX3RhYikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItcmFua1wiPlxuICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLnVybH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLm5hbWV9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXJhbmtcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+e3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLm5hbWV9PC9zcGFuPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0VXNlclRpdGxlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUudGl0bGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMucHJvZmlsZS50aXRsZX1cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLnJhbmsudGl0bGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLnRpdGxlfVxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEpvaW5lZE9uKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBsZXQgdGl0bGUgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiSm9pbmVkIG9uICUoam9pbmVkX29uKXNcIiksIHtcbiAgICAgICdqb2luZWRfb24nOiB0aGlzLnByb3BzLnByb2ZpbGUuam9pbmVkX29uLmZvcm1hdCgnTEwsIExUJylcbiAgICB9LCB0cnVlKTtcblxuICAgIGxldCBhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiSm9pbmVkICUoam9pbmVkX29uKXNcIiksIHtcbiAgICAgICdqb2luZWRfb24nOiB0aGlzLnByb3BzLnByb2ZpbGUuam9pbmVkX29uLmZyb21Ob3coKVxuICAgIH0sIHRydWUpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLWpvaW5lZC1vblwiPlxuICAgICAgICA8YWJiciB0aXRsZT17dGl0bGV9PlxuICAgICAgICAgIHthZ2V9XG4gICAgICAgIDwvYWJicj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0RW1haWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5lbWFpbCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItZW1haWxcIj5cbiAgICAgICAgICA8YSBocmVmPXsnbWFpbHRvOicgKyB0aGlzLnByb3BzLnByb2ZpbGUuZW1haWx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnByb2ZpbGUuZW1haWx9XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEZvbGxvd0J1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fZm9sbG93KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Rm9sbG93QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE1vZGVyYXRpb25CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX21vZGVyYXRlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tZ3JvdXAtanVzdGlmaWVkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1tb2RlcmF0ZSBidG4tb3V0bGluZSBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICAgIHRvbmFsaXR5XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJNb2RlcmF0aW9uXCIpfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8TW9kZXJhdGlvbk5hdiBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgY29uc3QgY2FuRm9sbG93ID0gdGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fZm9sbG93O1xuICAgIGNvbnN0IGNhbk1vZGVyYXRlID0gdGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fbW9kZXJhdGU7XG5cbiAgICBjb25zdCBpc1Byb2ZpbGVPd25lciA9IHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkO1xuICAgIGNvbnN0IGNhbk1lc3NhZ2UgPSAhaXNQcm9maWxlT3duZXIgJiYgdGhpcy5wcm9wcy51c2VyLmFjbC5jYW5fc3RhcnRfcHJpdmF0ZV90aHJlYWRzO1xuXG4gICAgbGV0IGNvbHMgPSAwO1xuICAgIGlmIChjYW5Gb2xsb3cpIGNvbHMgKz0gMTtcbiAgICBpZiAoY2FuTW9kZXJhdGUpIGNvbHMgKz0gMTtcbiAgICBpZiAoY2FuTWVzc2FnZSkgY29scyArPSAxO1xuXG4gICAgY29uc3QgY29sc1dpZHRoID0gY29scyA/IDIgKiBjb2xzICsgMSA6IDA7XG5cbiAgICBsZXQgaGVhZGVyQ2xhc3NOYW1lID0gJ3BhZ2UtaGVhZGVyJztcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICBoZWFkZXJDbGFzc05hbWUgKz0gJyBwYWdlLWhlYWRlci1yYW5rLScgKyB0aGlzLnByb3BzLnByb2ZpbGUucmFuay5jc3NfY2xhc3M7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2hlYWRlckNsYXNzTmFtZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cblxuICAgICAgICAgICAgPElzRGlzYWJsZWRNZXNzYWdlXG4gICAgICAgICAgICAgIGlzQWN0aXZlPXt0aGlzLnByb3BzLnByb2ZpbGUuaXNfYWN0aXZlfVxuICAgICAgICAgICAgICBpc0RlbGV0aW5nQWNjb3VudD17dGhpcy5wcm9wcy5wcm9maWxlLmlzX2RlbGV0aW5nX2FjY291bnR9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05IGNvbC1tZC1vZmZzZXQtM1wiPlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcImNvbC1zbS1cIiArICgxMiAtIGNvbHNXaWR0aCl9PlxuXG4gICAgICAgICAgICAgICAgICAgIDxBdmF0YXJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhciB1c2VyLWF2YXRhci1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCIxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemUyeD1cIjIwMFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxoMT57dGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lfTwvaDE+XG5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgeyEhY29scyAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcImNvbC1zbS1cIiArIGNvbHNXaWR0aH0+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB4cy1tYXJnaW4tdG9wIHNtLW1hcmdpbi10b3BcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHshIWNhbk1lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENvbFN0eWxlKGNvbHMsIDApfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgeyEhY2FuRm9sbG93ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2dldENvbFN0eWxlKGNvbHMsIDEpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRGb2xsb3dCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgeyEhY2FuTW9kZXJhdGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Z2V0Q29sU3R5bGUoY29scywgMil9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldE1vZGVyYXRpb25CdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLXN0YXRzXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTkgY29sLW1kLW9mZnNldC0zXCI+XG5cbiAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZVwiPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyU3RhdHVzKCl9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJSYW5rKCl9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJUaXRsZSgpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRKb2luZWRPbigpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRFbWFpbCgpfVxuICAgICAgICAgICAgICAgICAgPC91bD5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPENvbXBhY3ROYXZcbiAgICAgICAgICAgIGJhc2VVcmw9e3RoaXMucHJvcHMuYmFzZVVybH1cbiAgICAgICAgICAgIHBhZ2VzPXt0aGlzLnByb3BzLnBhZ2VzfVxuICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZXhwb3J0IGZ1bmN0aW9uIElzRGlzYWJsZWRNZXNzYWdlKHsgaXNBY3RpdmUsIGlzRGVsZXRpbmdBY2NvdW50IH0pIHtcbiAgaWYgKGlzQWN0aXZlICE9PSBmYWxzZSAmJiBpc0RlbGV0aW5nQWNjb3VudCAhPT0gdHJ1ZSkgcmV0dXJuIG51bGw7XG5cbiAgbGV0IG1lc3NhZ2UgPSBudWxsO1xuICBpZiAoaXNEZWxldGluZ0FjY291bnQpIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlRoaXMgdXNlciBpcyBkZWxldGluZyB0aGVpciBhY2NvdW50LlwiKTtcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlRoaXMgdXNlcidzIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQgYnkgYWRtaW5pc3RyYXRvci5cIik7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gICAgICA8cD57bWVzc2FnZX08L3A+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xTdHlsZShjb2xzLCBjb2wpIHtcbiAgbGV0IGNvbFN0eWxlID0gXCJcIjtcblxuICBpZiAoY29scyA9PSAxKSB7XG4gICAgY29sU3R5bGUgPSBcImNvbC14cy0xMlwiO1xuICB9XG5cbiAgaWYgKGNvbHMgPT0gMikge1xuICAgIGNvbFN0eWxlID0gXCJjb2wteHMtNiBjb2wtc20tNlwiO1xuICB9XG5cbiAgaWYgKGNvbHMgPT0gMykge1xuICAgIGlmIChjb2wgPT0gMikge1xuICAgICAgY29sU3R5bGUgPSBcImNvbC14cy0xMiBjb2wtc20tNCB4cy1tYXJnaW4tdG9wXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbFN0eWxlICs9IFwiY29sLXhzLTYgY29sLXNtLTRcIjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29sU3R5bGU7XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqLyIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogJ1NUQVJUX1BSSVZBVEUnLFxuICAgICAgc3VibWl0OiBtaXNhZ28uZ2V0KCdQUklWQVRFX1RIUkVBRFNfQVBJJyksXG5cbiAgICAgIHRvOiBbdGhpcy5wcm9wcy5wcm9maWxlXVxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjYW5NZXNzYWdlID0gdGhpcy5wcm9wcy51c2VyLmFjbC5jYW5fc3RhcnRfcHJpdmF0ZV90aHJlYWRzO1xuICAgIGNvbnN0IGlzUHJvZmlsZU93bmVyID0gdGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQ7XG5cbiAgICBpZiAoIWNhbk1lc3NhZ2UgfHwgaXNQcm9maWxlT3duZXIpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGNvbW1lbnRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7Z2V0dGV4dChcIk1lc3NhZ2VcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBZZXNOb1N3aXRjaCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy95ZXMtbm8tc3dpdGNoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IHVwZGF0ZUF2YXRhciB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuXG4gICAgICBpc19hdmF0YXJfbG9ja2VkOiAnJyxcbiAgICAgIGF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZTogJycsXG4gICAgICBhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlOiAnJ1xuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpLm1vZGVyYXRlX2F2YXRhcikudGhlbigob3B0aW9ucykgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICAgIGlzX2F2YXRhcl9sb2NrZWQ6IG9wdGlvbnMuaXNfYXZhdGFyX2xvY2tlZCxcbiAgICAgICAgYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlOiBvcHRpb25zLmF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZSB8fCAnJyxcbiAgICAgICAgYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZTogb3B0aW9ucy5hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlIHx8ICcnXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHRoaXMudmFsaWRhdGUoKS51c2VybmFtZVswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMucHJvZmlsZS5hcGkubW9kZXJhdGVfYXZhdGFyLCB7XG4gICAgICBpc19hdmF0YXJfbG9ja2VkOiB0aGlzLnN0YXRlLmlzX2F2YXRhcl9sb2NrZWQsXG4gICAgICBhdmF0YXJfbG9ja191c2VyX21lc3NhZ2U6IHRoaXMuc3RhdGUuYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlLFxuICAgICAgYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZTogdGhpcy5zdGF0ZS5hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQXZhdGFyKHRoaXMucHJvcHMucHJvZmlsZSwgYXBpUmVzcG9uc2UuYXZhdGFyX2hhc2gpKTtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJBdmF0YXIgY29udHJvbHMgaGF2ZSBiZWVuIGNoYW5nZWQuXCIpKTtcbiAgfVxuXG4gIGdldEZvcm1Cb2R5KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJMb2NrIGF2YXRhclwiKX1cbiAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIkxvY2tpbmcgdXNlciBhdmF0YXIgd2lsbCBwcm9oaWJpdCB1c2VyIGZyb20gY2hhbmdpbmcgaGlzIGF2YXRhciBhbmQgd2lsbCByZXNldCBoaXMvaGVyIGF2YXRhciB0byBkZWZhdWx0IG9uZS5cIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfYXZhdGFyX2xvY2tlZFwiPlxuICAgICAgICAgIDxZZXNOb1N3aXRjaCBpZD1cImlkX2lzX2F2YXRhcl9sb2NrZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgIGljb25Pbj1cImxvY2tfb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgIGljb25PZmY9XCJsb2NrX29wZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiRGlzYWxsb3cgdXNlciBmcm9tIGNoYW5naW5nIGF2YXRhclwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxPZmY9e2dldHRleHQoXCJBbGxvdyB1c2VyIHRvIGNoYW5nZSBhdmF0YXJcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfYXZhdGFyX2xvY2tlZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19hdmF0YXJfbG9ja2VkfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVXNlciBtZXNzYWdlXCIpfVxuICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiT3B0aW9uYWwgbWVzc2FnZSBmb3IgdXNlciBleHBsYWluaW5nIHdoeSBoZS9zaGUgaXMgcHJvaGliaXRlZCBmb3JtIGNoYW5naW5nIGF2YXRhci5cIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlXCI+XG4gICAgICAgICAgPHRleHRhcmVhIGlkPVwiaWRfYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgcm93cz1cIjRcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlJyl9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZX0gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlN0YWZmIG1lc3NhZ2VcIil9XG4gICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXCJPcHRpb25hbCBtZXNzYWdlIGZvciBmb3J1bSB0ZWFtIG1lbWJlcnMgZXhwbGFpbmluZyB3aHkgdXNlciBpcyBwcm9oaWJpdGVkIGZvcm0gY2hhbmdpbmcgYXZhdGFyLlwiKX1cbiAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlXCI+XG4gICAgICAgICAgPHRleHRhcmVhIGlkPVwiaWRfYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9XCI0XCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2F2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2UnKX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZX0gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRNb2RhbEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TW9kYWxNZXNzYWdlIGljb249XCJyZW1vdmVfY2lyY2xlX291dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybUJvZHkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2UgbW9kYWwtYXZhdGFyLWNvbnRyb2xzXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1hdmF0YXItY29udHJvbHNcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJBdmF0YXIgY29udHJvbHNcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLmdldE1vZGFsQm9keSgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RhbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgYWRkTmFtZUNoYW5nZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyB1cGRhdGVVc2VybmFtZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIHVzZXJuYW1lOiAnJyxcbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXNlcm5hbWU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5tb2RlcmF0ZV91c2VybmFtZSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgZXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IodGhpcy52YWxpZGF0ZSgpLnVzZXJuYW1lWzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5tb2RlcmF0ZV91c2VybmFtZSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWVcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHVzZXJuYW1lOiAnJ1xuICAgIH0pO1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goYWRkTmFtZUNoYW5nZShcbiAgICAgIGFwaVJlc3BvbnNlLCB0aGlzLnByb3BzLnByb2ZpbGUsIHRoaXMucHJvcHMudXNlcikpO1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVVzZXJuYW1lKFxuICAgICAgdGhpcy5wcm9wcy5wcm9maWxlLCBhcGlSZXNwb25zZS51c2VybmFtZSwgYXBpUmVzcG9uc2Uuc2x1ZykpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVXNlcm5hbWUgaGFzIGJlZW4gY2hhbmdlZC5cIikpO1xuICB9XG5cbiAgZ2V0Rm9ybUJvZHkoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyB1c2VybmFtZVwiKX0gZm9yPVwiaWRfdXNlcm5hbWVcIj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX3VzZXJuYW1lXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3VzZXJuYW1lJyl9XG4gICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldE1vZGFsQm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxNb2RhbE1lc3NhZ2UgaWNvbj1cInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRGb3JtQm9keSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExvYWRlciAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1yZW5hbWUtdXNlclwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtcmVuYW1lLXVzZXJcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLmdldE1vZGFsQm9keSgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RhbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRGVsZXRlZDogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgY291bnRkb3duOiA1LFxuICAgICAgY29uZmlybTogZmFsc2UsXG5cbiAgICAgIHdpdGhfY29udGVudDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wcm9maWxlLmFwaS5kZWxldGUpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5jb3VudGRvd24oKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY291bnRkb3duID0gKCkgPT4ge1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNvdW50ZG93biA+IDEpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY291bnRkb3duOiB0aGlzLnN0YXRlLmNvdW50ZG93biAtIDEsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvdW50ZG93bigpO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5zdGF0ZS5jb25maXJtKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGNvbmZpcm06IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMucHJvZmlsZS5hcGkuZGVsZXRlLCB7XG4gICAgICB3aXRoX2NvbnRlbnQ6IHRoaXMuc3RhdGUud2l0aF9jb250ZW50XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIHBvbGxzLnN0b3AoJ3VzZXItcHJvZmlsZScpO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUud2l0aF9jb250ZW50KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNEZWxldGVkOiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgYWNjb3VudCwgdGhyZWFkcywgcG9zdHMgYW5kIG90aGVyIGNvbnRlbnQgaGFzIGJlZW4gZGVsZXRlZC5cIiksIHtcbiAgICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSwgdHJ1ZSlcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNEZWxldGVkOiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgYWNjb3VudCBoYXMgYmVlbiBkZWxldGVkIGFuZCBvdGhlciBjb250ZW50IGhhcyBiZWVuIGhpZGRlbi5cIiksIHtcbiAgICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgICAgfSwgdHJ1ZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldEJ1dHRvbkxhYmVsKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbmZpcm0pIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiRGVsZXRlICUodXNlcm5hbWUpc1wiKSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIlBsZWFzZSB3YWl0Li4uICglKGNvdW50ZG93bilzcylcIiksIHtcbiAgICAgICAgJ2NvdW50ZG93bic6IHRoaXMuc3RhdGUuY291bnRkb3duXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRGb3JtKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJVc2VyIGNvbnRlbnRcIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfd2l0aF9jb250ZW50XCI+XG4gICAgICAgICAgPFllc05vU3dpdGNoIGlkPVwiaWRfd2l0aF9jb250ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiRGVsZXRlIHRvZ2V0aGVyIHdpdGggdXNlcidzIGFjY291bnRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiSGlkZSBhZnRlciBkZWxldGluZyB1c2VyJ3MgYWNjb3VudFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd3aXRoX2NvbnRlbnQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2l0aF9jb250ZW50fSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1kYW5nZXJcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5jb25maXJtfT5cbiAgICAgICAgICB7dGhpcy5nZXRCdXR0b25MYWJlbCgpfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0RGVsZXRlZEJvZHkoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMuc3RhdGUuaXNEZWxldGVkfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJyl9PlxuICAgICAgICAgICAge2dldHRleHQoXCJSZXR1cm4gdG8gdXNlcnMgbGlzdFwiKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0TW9kYWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPE1vZGFsTWVzc2FnZSBpY29uPVwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzRGVsZXRlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREZWxldGVkQm9keSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExvYWRlciAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yIHx8IHRoaXMuc3RhdGUuaXNEZWxldGVkKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1kZWxldGUtYWNjb3VudFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtZGVsZXRlLWFjY291bnRcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJEZWxldGUgdXNlciBhY2NvdW50XCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5nZXRNb2RhbEJvZHkoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEF2YXRhckNvbnRyb2xzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9hdmF0YXItY29udHJvbHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDaGFuZ2VVc2VybmFtZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vY2hhbmdlLXVzZXJuYW1lJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRGVsZXRlQWNjb3VudCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vZGVsZXRlLWFjY291bnQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xubGV0IHNlbGVjdCA9IGZ1bmN0aW9uKHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgdGljazogc3RvcmUudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLFxuICAgIHByb2ZpbGU6IHN0b3JlLnByb2ZpbGUsXG4gIH07XG59O1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dBdmF0YXJEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQXZhdGFyQ29udHJvbHMpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRBdmF0YXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX21vZGVyYXRlX2F2YXRhcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0F2YXRhckRpYWxvZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIHBvcnRyYWl0XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkF2YXRhciBjb250cm9sc1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dSZW5hbWVEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQ2hhbmdlVXNlcm5hbWUpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRSZW5hbWVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX3JlbmFtZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1JlbmFtZURpYWxvZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIGNyZWRpdF9jYXJkXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dEZWxldGVEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoRGVsZXRlQWNjb3VudCkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldERlbGV0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fZGVsZXRlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93RGVsZXRlRGlhbG9nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgY2xlYXJcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlIGFjY291bnRcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPHVsXG4gICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICA+XG4gICAgICAgIHt0aGlzLmdldEF2YXRhckJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRSZW5hbWVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0RGVsZXRlQnV0dG9uKCl9XG4gICAgICA8L3VsPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbGknOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd0J1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvdy1idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIFNpZGVOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAgbmF2LXNpZGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucGFnZXMubWFwKChwYWdlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgIHRvPXt0aGlzLnByb3BzLmJhc2VVcmwgKyBwYWdlLmNvbXBvbmVudCArICcvJ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCJcbiAgICAgICAgICAgICAga2V5PXtwYWdlLmNvbXBvbmVudH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICAgIHtwYWdlLmljb259XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAge3BhZ2UubmFtZX1cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcbiAgfVxufVxuXG4vLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5leHBvcnQgZnVuY3Rpb24gQ29tcGFjdE5hdihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzIGhpZGRlbi1tZCBoaWRkZW4tbGdcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICB7cHJvcHMucGFnZXMubWFwKChwYWdlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8TGlcbiAgICAgICAgICAgICAgICBwYXRoPXtwcm9wcy5iYXNlVXJsICsgcGFnZS5jb21wb25lbnQgKyAnLyd9XG4gICAgICAgICAgICAgICAga2V5PXtwYWdlLmNvbXBvbmVudH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICB0bz17cHJvcHMuYmFzZVVybCArIHBhZ2UuY29tcG9uZW50ICsgJy8nfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17cHJvcHMuaGlkZU5hdn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgIHtwYWdlLmljb259XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7cGFnZS5uYW1lfVxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPC9MaT5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbi8vIGpzaGludCBpZ25vcmU6ZW5kIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IEJhbkRldGFpbHMgZnJvbSAnLi9iYW4tZGV0YWlscyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IERldGFpbHMgZnJvbSAnLi9kZXRhaWxzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBQb3N0cywgVGhyZWFkcyB9IGZyb20gJy4vZmVlZCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd2VycyBmcm9tICcuL2ZvbGxvd2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd3MgZnJvbSAnLi9mb2xsb3dzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVXNlcm5hbWVIaXN0b3J5IGZyb20gJy4vdXNlcm5hbWUtaGlzdG9yeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEhlYWRlciBmcm9tICcuL2hlYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGVyYXRpb25OYXYgZnJvbSAnLi9tb2RlcmF0aW9uL25hdic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgU2lkZU5hdiwgQ29tcGFjdE5hdiB9IGZyb20gJy4vbmF2cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93bic7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcocHJvcHMucHJvZmlsZS5hcGkuaW5kZXgpO1xuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGFwaSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6ICd1c2VyLXByb2ZpbGUnLFxuICAgICAgdXJsOiBhcGksXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGNvbnN0IGJhc2VVcmwgPSBtaXNhZ28uZ2V0KCdQUk9GSUxFJykudXJsO1xuICAgIGNvbnN0IHBhZ2VzID0gbWlzYWdvLmdldCgnUFJPRklMRV9QQUdFUycpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXVzZXItcHJvZmlsZVwiPlxuXG4gICAgICAgIDxIZWFkZXJcbiAgICAgICAgICBiYXNlVXJsPXtiYXNlVXJsfVxuICAgICAgICAgIHBhZ2VzPXtwYWdlc31cbiAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgdG9nZ2xlTmF2PXt0aGlzLnRvZ2dsZU5hdn1cbiAgICAgICAgICB0b2dnbGVNb2RlcmF0aW9uPXt0aGlzLnRvZ2dsZU1vZGVyYXRpb259XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTMgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1zaWRlLWF2YXRhclwiPlxuICAgICAgICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfSBzaXplPVwiNDAwXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPFNpZGVOYXZcbiAgICAgICAgICAgICAgICBiYXNlVXJsPXtiYXNlVXJsfVxuICAgICAgICAgICAgICAgIHBhZ2VzPXtwYWdlc31cbiAgICAgICAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOVwiPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6IHN0b3JlLmF1dGgudXNlci5pZCA9PT0gc3RvcmUucHJvZmlsZS5pZCxcblxuICAgIHRpY2s6IHN0b3JlLnRpY2sudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgdXNlcnM6IHN0b3JlLnVzZXJzLFxuICAgIHBvc3RzOiBzdG9yZS5wb3N0cyxcbiAgICBwcm9maWxlOiBzdG9yZS5wcm9maWxlLFxuICAgIHByb2ZpbGVEZXRhaWxzOiBzdG9yZVsncHJvZmlsZS1kZXRhaWxzJ10sXG4gICAgJ3VzZXJuYW1lLWhpc3RvcnknOiBzdG9yZVsndXNlcm5hbWUtaGlzdG9yeSddXG4gIH07XG59XG5cbmNvbnN0IENPTVBPTkVOVFMgPSB7XG4gICdwb3N0cyc6IFBvc3RzLFxuICAndGhyZWFkcyc6IFRocmVhZHMsXG4gICdmb2xsb3dlcnMnOiBGb2xsb3dlcnMsXG4gICdmb2xsb3dzJzogRm9sbG93cyxcbiAgJ2RldGFpbHMnOiBEZXRhaWxzLFxuICAndXNlcm5hbWUtaGlzdG9yeSc6IFVzZXJuYW1lSGlzdG9yeSxcbiAgJ2Jhbi1kZXRhaWxzJzogQmFuRGV0YWlsc1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKCkge1xuICBsZXQgcGF0aHMgPSBbXTtcbiAgbWlzYWdvLmdldCgnUFJPRklMRV9QQUdFUycpLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgIHBhdGhzLnB1c2goT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgcGF0aDogbWlzYWdvLmdldCgnUFJPRklMRScpLnVybCArIGl0ZW0uY29tcG9uZW50ICsgJy8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ09NUE9ORU5UU1tpdGVtLmNvbXBvbmVudF0pLFxuICAgIH0pKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHBhdGhzO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2VhcmNoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3F1aWNrLXNlYXJjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFVzZXJuYW1lSGlzdG9yeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L3Jvb3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUsIGFwcGVuZCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGlmIChtaXNhZ28uaGFzKCdQUk9GSUxFX05BTUVfSElTVE9SWScpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShtaXNhZ28ucG9wKCdQUk9GSUxFX05BTUVfSElTVE9SWScpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoKTtcbiAgICB9XG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgIHNlYXJjaDogJycsXG5cbiAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgIH07XG5cbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6ICcnLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH07XG5cbiAgICB0aGlzLmxvYWRDaGFuZ2VzKCk7XG4gIH1cblxuICBsb2FkQ2hhbmdlcyhwYWdlPTEsIHNlYXJjaD1udWxsKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldCgnVVNFUk5BTUVfQ0hBTkdFU19BUEknKSwge1xuICAgICAgdXNlcjogdGhpcy5wcm9wcy5wcm9maWxlLmlkLFxuICAgICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgICBwYWdlOiBwYWdlIHx8IDFcbiAgICB9LCAnc2VhcmNoLXVzZXJuYW1lLWhpc3RvcnknKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAocGFnZSA9PT0gMSkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kKGRhdGEucmVzdWx0cykpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiVXNlcm5hbWUgaGlzdG9yeVwiKSxcbiAgICAgIHBhcmVudDogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRDaGFuZ2VzKHRoaXMuc3RhdGUucGFnZSArIDEsIHRoaXMuc3RhdGUuc2VhcmNoKTtcbiAgfTtcblxuICBzZWFyY2ggPSAoZXYpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogdHJ1ZSxcblxuICAgICAgc2VhcmNoOiBldi50YXJnZXQudmFsdWUsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRDaGFuZ2VzKDEsIGV2LnRhcmdldC52YWx1ZSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dCgnTG9hZGluZy4uLicpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiRm91bmQgJShjaGFuZ2VzKXMgdXNlcm5hbWUgY2hhbmdlLlwiLFxuICAgICAgICBcIkZvdW5kICUoY2hhbmdlcylzIHVzZXJuYW1lIGNoYW5nZXMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAnY2hhbmdlcyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlkID09PSB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91ciB1c2VybmFtZSB3YXMgY2hhbmdlZCAlKGNoYW5nZXMpcyB0aW1lLlwiLFxuICAgICAgICBcIllvdXIgdXNlcm5hbWUgd2FzIGNoYW5nZWQgJShjaGFuZ2VzKXMgdGltZXMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAnY2hhbmdlcyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIiUodXNlcm5hbWUpcydzIHVzZXJuYW1lIHdhcyBjaGFuZ2VkICUoY2hhbmdlcylzIHRpbWUuXCIsXG4gICAgICAgIFwiJSh1c2VybmFtZSlzJ3MgdXNlcm5hbWUgd2FzIGNoYW5nZWQgJShjaGFuZ2VzKXMgdGltZXMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgICdjaGFuZ2VzJzogdGhpcy5zdGF0ZS5jb3VudFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJTZWFyY2ggcmV0dXJuZWQgbm8gdXNlcm5hbWUgY2hhbmdlcyBtYXRjaGluZyBzcGVjaWZpZWQgY3JpdGVyaWEuXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy51c2VyLmlkID09PSB0aGlzLnByb3BzLnByb2ZpbGUuaWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiTm8gbmFtZSBjaGFuZ2VzIGhhdmUgYmVlbiByZWNvcmRlZCBmb3IgeW91ciBhY2NvdW50LlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMncyB1c2VybmFtZSB3YXMgbmV2ZXIgY2hhbmdlZC5cIiksIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRNb3JlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tb3JlKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmVcIlxuICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9hZE1vcmV9XG4gICAgICAgID5cbiAgICAgICAgICB7aW50ZXJwb2xhdGUoZ2V0dGV4dChcIlNob3cgb2xkZXIgKCUobW9yZSlzKVwiKSwge1xuICAgICAgICAgICAgJ21vcmUnOiB0aGlzLnN0YXRlLm1vcmVcbiAgICAgICAgICB9LCB0cnVlKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtdXNlcm5hbWUtaGlzdG9yeVwiPlxuXG4gICAgICA8bmF2IGNsYXNzTmFtZT1cInRvb2xiYXJcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRvb2xiYXItbGVmdFwiPlxuICAgICAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgICAgIDwvaDM+XG5cbiAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJ0b29sYmFyLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zZWFyY2h9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuc2VhcmNofVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiU2VhcmNoIGhpc3RvcnkuLi5cIil9IC8+XG4gICAgICA8L25hdj5cblxuICAgICAgPFVzZXJuYW1lSGlzdG9yeSBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgZW1wdHlNZXNzYWdlPXt0aGlzLmdldEVtcHR5TWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzPXt0aGlzLnByb3BzWyd1c2VybmFtZS1oaXN0b3J5J119IC8+XG5cbiAgICAgIHt0aGlzLmdldE1vcmVCdXR0b24oKX1cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICByZXR1cm4gXCJmb3JtLXNlYXJjaCBcIiArIHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJmb3JtLXNlYXJjaFwiO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX1cbiAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlciB8fCBnZXR0ZXh0KFwiU2VhcmNoLi4uXCIpfSAvPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBzZWFyY2hcbiAgICAgIDwvc3Bhbj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlZ2lzdGVyRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9yZWdpc3Rlci5qcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBjYXB0Y2hhIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9jYXB0Y2hhJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcblxuICAgICAgY3JpdGVyaWE6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2hvd1JlZ2lzdGVyRm9ybSA9ICgpID0+IHtcbiAgICBpZiAobWlzYWdvLmdldCgnU0VUVElOR1MnKS5hY2NvdW50X2FjdGl2YXRpb24gPT09ICdjbG9zZWQnKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKGdldHRleHQoXCJOZXcgcmVnaXN0cmF0aW9ucyBhcmUgY3VycmVudGx5IGRpc2FibGVkLlwiKSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICBtb2RhbC5zaG93KFxuICAgICAgICA8UmVnaXN0ZXJGb3JtXG4gICAgICAgICAgY3JpdGVyaWE9e3RoaXMuc3RhdGUuY3JpdGVyaWF9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiB0cnVlIH0pO1xuXG4gICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgIGNhcHRjaGEubG9hZCgpLFxuICAgICAgICBhamF4LmdldChtaXNhZ28uZ2V0KCdBVVRIX0NSSVRFUklBX0FQSScpKVxuICAgICAgXSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgICAgY3JpdGVyaWE6IHJlc3VsdFsxXVxuICAgICAgICB9KTtcblxuICAgICAgICBtb2RhbC5zaG93KFxuICAgICAgICAgIDxSZWdpc3RlckZvcm1cbiAgICAgICAgICAgIGNyaXRlcmlhPXtyZXN1bHRbMV19XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UgfSk7XG5cbiAgICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIlJlZ2lzdHJhdGlvbiBpcyBjdXJyZW50bHkgdW5hdmFpbGFibGUgZHVlIHRvIGFuIGVycm9yLlwiKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSArICh0aGlzLnN0YXRlLmlzTG9hZGluZyA/ICcgYnRuLWxvYWRpbmcnIDogJycpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9eydidG4gJyArIHRoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgb25DbGljaz17dGhpcy5zaG93UmVnaXN0ZXJGb3JtfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJSZWdpc3RlclwiKX1cbiAgICAgICAge3RoaXMuc3RhdGUuaXNMb2FkaW5nID8gPExvYWRlciAvPiA6IG51bGwgfVxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUGFzc3dvcmRTdHJlbmd0aCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYXNzd29yZC1zdHJlbmd0aCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlZ2lzdGVyTGVnYWxGb290bm90ZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9SZWdpc3RlckxlZ2FsRm9vdG5vdGUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTdGFydFNvY2lhbEF1dGggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvU3RhcnRTb2NpYWxBdXRoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgYXV0aCBmcm9tICdtaXNhZ28vc2VydmljZXMvYXV0aCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGNhcHRjaGEgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2NhcHRjaGEnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tICdtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2UnO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBjbGFzcyBSZWdpc3RlckZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gdGhpcy5wcm9wcy5jcml0ZXJpYTtcblxuICAgIGxldCBwYXNzd29yZE1pbkxlbmd0aCA9IDA7XG4gICAgcGFzc3dvcmQuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0ubmFtZSA9PT0gJ01pbmltdW1MZW5ndGhWYWxpZGF0b3InKSB7XG4gICAgICAgIHBhc3N3b3JkTWluTGVuZ3RoID0gaXRlbS5taW5fbGVuZ3RoO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7XG4gICAgICB1c2VybmFtZTogW1xuICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNaW5MZW5ndGgodXNlcm5hbWUubWluX2xlbmd0aCksXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1heExlbmd0aCh1c2VybmFtZS5tYXhfbGVuZ3RoKVxuICAgICAgICBdLFxuICAgICAgZW1haWw6IFtcbiAgICAgICAgdmFsaWRhdG9ycy5lbWFpbCgpXG4gICAgICBdLFxuICAgICAgcGFzc3dvcmQ6IFtcbiAgICAgICAgdmFsaWRhdG9ycy5wYXNzd29yZE1pbkxlbmd0aChwYXNzd29yZE1pbkxlbmd0aClcbiAgICAgIF0sXG4gICAgICBjYXB0Y2hhOiBjYXB0Y2hhLnZhbGlkYXRvcigpXG4gICAgfTtcblxuICAgIGlmICghIW1pc2Fnby5nZXQoJ1RFUk1TX09GX1NFUlZJQ0VfSUQnKSkge1xuICAgICAgZm9ybVZhbGlkYXRvcnMudGVybXNPZlNlcnZpY2UgPSBbdmFsaWRhdG9ycy5yZXF1aXJlZFRlcm1zT2ZTZXJ2aWNlKCldO1xuICAgIH1cblxuICAgIGlmICghIW1pc2Fnby5nZXQoJ1BSSVZBQ1lfUE9MSUNZX0lEJykpIHtcbiAgICAgIGZvcm1WYWxpZGF0b3JzLnByaXZhY3lQb2xpY3kgPSBbdmFsaWRhdG9ycy5yZXF1aXJlZFByaXZhY3lQb2xpY3koKV07XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVzZXJuYW1lOiAnJyxcbiAgICAgIGVtYWlsOiAnJyxcbiAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICAgIGNhcHRjaGE6ICcnLFxuXG4gICAgICB0ZXJtc09mU2VydmljZTogbnVsbCxcbiAgICAgIHByaXZhY3lQb2xpY3k6IG51bGwsXG5cbiAgICAgIHZhbGlkYXRvcnM6IGZvcm1WYWxpZGF0b3JzLFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IHRoaXMudmFsaWRhdGUoKVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoJ1VTRVJTX0FQSScpLCB7XG4gICAgICB1c2VybmFtZTogdGhpcy5zdGF0ZS51c2VybmFtZSxcbiAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuc3RhdGUucGFzc3dvcmQsXG4gICAgICBjYXB0Y2hhOiB0aGlzLnN0YXRlLmNhcHRjaGEsXG4gICAgICB0ZXJtc19vZl9zZXJ2aWNlOiB0aGlzLnN0YXRlLnRlcm1zT2ZTZXJ2aWNlLFxuICAgICAgcHJpdmFjeV9wb2xpY3k6IHRoaXMuc3RhdGUucHJpdmFjeVBvbGljeVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuY2FsbGJhY2soYXBpUmVzcG9uc2UpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdlcnJvcnMnOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmVycm9ycywgcmVqZWN0aW9uKVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZWplY3Rpb24uX19hbGxfXyAmJiByZWplY3Rpb24uX19hbGxfXy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5fX2FsbF9fWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pO1xuICAgICAgbW9kYWwuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgaGFuZGxlUHJpdmFjeVBvbGljeUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIHRoaXMuaGFuZGxlVG9nZ2xlQWdyZWVtZW50KCdwcml2YWN5UG9saWN5JywgdmFsdWUpO1xuICB9O1xuXG4gIGhhbmRsZVRlcm1zT2ZTZXJ2aWNlQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgdGhpcy5oYW5kbGVUb2dnbGVBZ3JlZW1lbnQoJ3Rlcm1zT2ZTZXJ2aWNlJywgdmFsdWUpO1xuICB9O1xuXG4gIGhhbmRsZVRvZ2dsZUFncmVlbWVudCA9IChhZ3JlZW1lbnQsIHZhbHVlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgaWYgKHByZXZTdGF0ZVthZ3JlZW1lbnRdID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IHsgLi4ucHJldlN0YXRlLmVycm9ycywgW2FncmVlbWVudF06IG51bGwgfTtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JzLCBbYWdyZWVtZW50XTogdmFsdWUgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5zdGF0ZS52YWxpZGF0b3JzW2FncmVlbWVudF1bMF07XG4gICAgICBjb25zdCBlcnJvcnMgPSB7IC4uLnByZXZTdGF0ZS5lcnJvcnMsIFthZ3JlZW1lbnRdOiBbdmFsaWRhdG9yKG51bGwpXSB9O1xuICAgICAgcmV0dXJuIHsgZXJyb3JzLCBbYWdyZWVtZW50XTogbnVsbCB9O1xuICAgIH0pXG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtcmVnaXN0ZXJcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJSZWdpc3RlclwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInR5cGVcIiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICAgICAgPFN0YXJ0U29jaWFsQXV0aFxuICAgICAgICAgICAgICBidXR0b25DbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTZcIlxuICAgICAgICAgICAgICBidXR0b25MYWJlbD17Z2V0dGV4dChcIkpvaW4gd2l0aCAlKHNpdGUpc1wiKX1cbiAgICAgICAgICAgICAgZm9ybUxhYmVsPXtnZXR0ZXh0KFwiT3IgY3JlYXRlIGZvcnVtIGFjY291bnQ6XCIpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlVzZXJuYW1lXCIpfSBmb3I9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnVzZXJuYW1lfT5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpZF91c2VybmFtZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaWRfdXNlcm5hbWVfc3RhdHVzXCJcbiAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndXNlcm5hbWUnKX1cbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJFLW1haWxcIil9IGZvcj1cImlkX2VtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuZW1haWx9PlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX2VtYWlsXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF9lbWFpbF9zdGF0dXNcIlxuICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdlbWFpbCcpfVxuICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlBhc3N3b3JkXCIpfSBmb3I9XCJpZF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXNzd29yZFN0cmVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5lbWFpbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICB9ID5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwiaWRfcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX3Bhc3N3b3JkX3N0YXR1c1wiXG4gICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH0gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICB7Y2FwdGNoYS5jb21wb25lbnQoe1xuICAgICAgICAgICAgICBmb3JtOiB0aGlzLFxuICAgICAgICAgICAgfSl9XG5cbiAgICAgICAgICAgIDxSZWdpc3RlckxlZ2FsRm9vdG5vdGVcbiAgICAgICAgICAgICAgZXJyb3JzPXt0aGlzLnN0YXRlLmVycm9yc31cbiAgICAgICAgICAgICAgcHJpdmFjeVBvbGljeT17dGhpcy5zdGF0ZS5wcml2YWN5UG9saWN5fVxuICAgICAgICAgICAgICB0ZXJtc09mU2VydmljZT17dGhpcy5zdGF0ZS50ZXJtc09mU2VydmljZX1cbiAgICAgICAgICAgICAgb25Qcml2YWN5UG9saWN5Q2hhbmdlPXt0aGlzLmhhbmRsZVByaXZhY3lQb2xpY3lDaGFuZ2V9XG4gICAgICAgICAgICAgIG9uVGVybXNPZlNlcnZpY2VDaGFuZ2U9e3RoaXMuaGFuZGxlVGVybXNPZlNlcnZpY2VDaGFuZ2V9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJSZWdpc3RlciBhY2NvdW50XCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWdpc3RlckNvbXBsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TGVhZCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSAndXNlcicpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzLCB5b3VyIGFjY291bnQgaGFzIGJlZW4gY3JlYXRlZCBidXQgeW91IG5lZWQgdG8gYWN0aXZhdGUgaXQgYmVmb3JlIHlvdSB3aWxsIGJlIGFibGUgdG8gc2lnbiBpbi5cIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09ICdhZG1pbicpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzLCB5b3VyIGFjY291bnQgaGFzIGJlZW4gY3JlYXRlZCBidXQgYm9hcmQgYWRtaW5pc3RyYXRvciB3aWxsIGhhdmUgdG8gYWN0aXZhdGUgaXQgYmVmb3JlIHlvdSB3aWxsIGJlIGFibGUgdG8gc2lnbiBpbi5cIik7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3Vic2NyaXB0KCkge1xuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09ICd1c2VyJykge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJXZSBoYXZlIHNlbnQgYW4gZS1tYWlsIHRvICUoZW1haWwpcyB3aXRoIGxpbmsgdGhhdCB5b3UgaGF2ZSB0byBjbGljayB0byBhY3RpdmF0ZSB5b3VyIGFjY291bnQuXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSAnYWRtaW4nKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIldlIHdpbGwgc2VuZCBhbiBlLW1haWwgdG8gJShlbWFpbClzIHdoZW4gdGhpcyB0YWtlcyBwbGFjZS5cIik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1yZWdpc3RlclwiXG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiUmVnaXN0cmF0aW9uIGNvbXBsZXRlXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMZWFkKCksXG4gICAgICAgICAgICAgICAgeyd1c2VybmFtZSc6IHRoaXMucHJvcHMudXNlcm5hbWV9LCB0cnVlKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7aW50ZXJwb2xhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRTdWJzY3JpcHQoKSxcbiAgICAgICAgICAgICAgICB7J2VtYWlsJzogdGhpcy5wcm9wcy5lbWFpbH0sIHRydWUpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIk9rXCIpfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wbGV0ZVJlZ2lzdHJhdGlvbiA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIGlmIChhcGlSZXNwb25zZS5hY3RpdmF0aW9uID09PSAnYWN0aXZlJykge1xuICAgICAgbW9kYWwuaGlkZSgpO1xuICAgICAgYXV0aC5zaWduSW4oYXBpUmVzcG9uc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY29tcGxldGU6IGFwaVJlc3BvbnNlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFJlZ2lzdGVyQ29tcGxldGVcbiAgICAgICAgICBhY3RpdmF0aW9uPXt0aGlzLnN0YXRlLmNvbXBsZXRlLmFjdGl2YXRpb259XG4gICAgICAgICAgZW1haWw9e3RoaXMuc3RhdGUuY29tcGxldGUuZW1haWx9XG4gICAgICAgICAgdXNlcm5hbWU9e3RoaXMuc3RhdGUuY29tcGxldGUudXNlcm5hbWV9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8UmVnaXN0ZXJGb3JtXG4gICAgICAgIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlUmVnaXN0cmF0aW9ufVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgIC8+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGNsYXNzIFJlcXVlc3RMaW5rRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnaXNMb2FkaW5nJzogZmFsc2UsXG5cbiAgICAgICdlbWFpbCc6ICcnLFxuXG4gICAgICAndmFsaWRhdG9ycyc6IHtcbiAgICAgICAgJ2VtYWlsJzogW1xuICAgICAgICAgIHZhbGlkYXRvcnMuZW1haWwoKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJFbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldCgnU0VORF9BQ1RJVkFUSU9OX0FQSScpLCB7XG4gICAgICAnZW1haWwnOiB0aGlzLnN0YXRlLmVtYWlsXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAoWydhbHJlYWR5X2FjdGl2ZScsICdpbmFjdGl2ZV9hZG1pbiddLmluZGV4T2YocmVqZWN0aW9uLmNvZGUpID4gLTEpIHtcbiAgICAgIHNuYWNrYmFyLmluZm8ocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmtcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIllvdXIgZS1tYWlsIGFkZHJlc3NcIil9XG4gICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2VtYWlsJyl9XG4gICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbH0gLz5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNlbmQgbGlua1wiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpbmtTZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIkFjdGl2YXRpb24gbGluayB3YXMgc2VudCB0byAlKGVtYWlsKXNcIiksIHtcbiAgICAgIGVtYWlsOiB0aGlzLnByb3BzLnVzZXIuZW1haWxcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlcXVlc3QtYWN0aXZhdGlvbi1saW5rIHdlbGwtZG9uZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRvbmUtbWVzc2FnZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIGNoZWNrXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRNZXNzYWdlKCl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuY2FsbGJhY2t9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJSZXF1ZXN0IGFub3RoZXIgbGlua1wiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wbGV0ZSA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGFwaVJlc3BvbnNlXG4gICAgfSk7XG4gIH07XG5cbiAgcmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnN0YXRlLmNvbXBsZXRlKSB7XG4gICAgICByZXR1cm4gPExpbmtTZW50IHVzZXI9e3RoaXMuc3RhdGUuY29tcGxldGV9IGNhbGxiYWNrPXt0aGlzLnJlc2V0fSAvPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxSZXF1ZXN0TGlua0Zvcm0gY2FsbGJhY2s9e3RoaXMuY29tcGxldGV9IC8+O1xuICAgIH07XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tICdtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2UnO1xuXG5leHBvcnQgY2xhc3MgUmVxdWVzdFJlc2V0Rm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnaXNMb2FkaW5nJzogZmFsc2UsXG5cbiAgICAgICdlbWFpbCc6ICcnLFxuXG4gICAgICAndmFsaWRhdG9ycyc6IHtcbiAgICAgICAgJ2VtYWlsJzogW1xuICAgICAgICAgIHZhbGlkYXRvcnMuZW1haWwoKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJFbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldCgnU0VORF9QQVNTV09SRF9SRVNFVF9BUEknKSwge1xuICAgICAgJ2VtYWlsJzogdGhpcy5zdGF0ZS5lbWFpbFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHRoaXMucHJvcHMuY2FsbGJhY2soYXBpUmVzcG9uc2UpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKFsnaW5hY3RpdmVfdXNlcicsICdpbmFjdGl2ZV9hZG1pbiddLmluZGV4T2YocmVqZWN0aW9uLmNvZGUpID4gLTEpIHtcbiAgICAgIHRoaXMucHJvcHMuc2hvd0luYWN0aXZlUGFnZShyZWplY3Rpb24pO1xuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlcXVlc3QtcGFzc3dvcmQtcmVzZXRcIj5cbiAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiWW91ciBlLW1haWwgYWRkcmVzc1wiKX1cbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdlbWFpbCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsfSAvPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAge2dldHRleHQoXCJTZW5kIGxpbmtcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICA8L2Zvcm0+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpbmtTZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIlJlc2V0IHBhc3N3b3JkIGxpbmsgd2FzIHNlbnQgdG8gJShlbWFpbClzXCIpLCB7XG4gICAgICBlbWFpbDogdGhpcy5wcm9wcy51c2VyLmVtYWlsXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0IHdlbGwtZG9uZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkb25lLW1lc3NhZ2VcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjaGVja1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICB7dGhpcy5nZXRNZXNzYWdlKCl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5jYWxsYmFja30+XG4gICAgICAgICAge2dldHRleHQoXCJSZXF1ZXN0IGFub3RoZXIgbGlua1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWNjb3VudEluYWN0aXZlUGFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEFjdGl2YXRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09ICdpbmFjdGl2ZV91c2VyJykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxwPlxuICAgICAgICA8YSBocmVmPXttaXNhZ28uZ2V0KCdSRVFVRVNUX0FDVElWQVRJT05fVVJMJyl9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWN0aXZhdGUgeW91ciBhY2NvdW50LlwiKX1cbiAgICAgICAgPC9hPlxuICAgICAgPC9wPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLW1lc3NhZ2UgcGFnZS1tZXNzYWdlLWluZm8gcGFnZS1mb3Jnb3R0ZW4tcGFzc3dvcmQtaW5hY3RpdmVcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1wYW5lbFwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIllvdXIgYWNjb3VudCBpcyBpbmFjdGl2ZS5cIil9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMubWVzc2FnZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIHt0aGlzLmdldEFjdGl2YXRlQnV0dG9uKCl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNvbXBsZXRlID0gKGFwaVJlc3BvbnNlKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wbGV0ZTogYXBpUmVzcG9uc2VcbiAgICB9KTtcbiAgfTtcblxuICByZXNldCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBmYWxzZVxuICAgIH0pO1xuICB9O1xuXG4gIHNob3dJbmFjdGl2ZVBhZ2UoYXBpUmVzcG9uc2UpIHtcbiAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICA8QWNjb3VudEluYWN0aXZlUGFnZVxuICAgICAgICBhY3RpdmF0aW9uPXthcGlSZXNwb25zZS5jb2RlfVxuICAgICAgICBtZXNzYWdlPXthcGlSZXNwb25zZS5kZXRhaWx9XG4gICAgICAvPixcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLW1vdW50JylcbiAgICApO1xuICB9XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExpbmtTZW50XG4gICAgICAgICAgY2FsbGJhY2s9e3RoaXMucmVzZXR9XG4gICAgICAgICAgdXNlcj17dGhpcy5zdGF0ZS5jb21wbGV0ZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZXF1ZXN0UmVzZXRGb3JtXG4gICAgICAgIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlfVxuICAgICAgICBzaG93SW5hY3RpdmVQYWdlPXt0aGlzLnNob3dJbmFjdGl2ZVBhZ2V9XG4gICAgICAvPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IFNpZ25Jbk1vZGFsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NpZ24taW4uanMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IGF1dGggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2F1dGgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGNsYXNzIFJlc2V0UGFzc3dvcmRGb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZSxcblxuICAgICAgJ3Bhc3N3b3JkJzogJydcbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUucGFzc3dvcmQudHJpbSgpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJFbnRlciBuZXcgcGFzc3dvcmQuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldCgnQ0hBTkdFX1BBU1NXT1JEX0FQSScpLCB7XG4gICAgICAncGFzc3dvcmQnOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlc2V0LXBhc3N3b3JkXCI+XG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cblxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJFbnRlciBuZXcgcGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgncGFzc3dvcmQnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH0gLz5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHBhc3N3b3JkXCIpfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXNzd29yZENoYW5nZWRQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91ciBwYXNzd29yZCBoYXMgYmVlbiBjaGFuZ2VkIHN1Y2Nlc3NmdWxseS5cIiksIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHNob3dTaWduSW4oKSB7XG4gICAgbW9kYWwuc2hvdyhTaWduSW5Nb2RhbCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1tZXNzYWdlIHBhZ2UtbWVzc2FnZS1zdWNjZXNzIHBhZ2UtZm9yZ290dGVuLXBhc3N3b3JkLWNoYW5nZWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1wYW5lbFwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgY2hlY2tcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHt0aGlzLmdldE1lc3NhZ2UoKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIllvdSB3aWxsIGhhdmUgdG8gc2lnbiBpbiB1c2luZyBuZXcgcGFzc3dvcmQgYmVmb3JlIGNvbnRpbnVpbmcuXCIpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIG9uQ2xpY2s9e3RoaXMuc2hvd1NpZ25Jbn0+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wbGV0ZSA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIGF1dGguc29mdFNpZ25PdXQoKTtcblxuICAgIC8vIG51a2UgXCJyZWRpcmVjdF90b1wiIGZpZWxkIHNvIHdlIGRvbid0IGVuZFxuICAgIC8vIGNvbWluZyBiYWNrIHRvIGVycm9yIHBhZ2UgYWZ0ZXIgc2lnbiBpblxuICAgICQoJyNoaWRkZW4tbG9naW4tZm9ybSBpbnB1dFtuYW1lPVwicmVkaXJlY3RfdG9cIl0nKS5yZW1vdmUoKTtcblxuICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgIDxQYXNzd29yZENoYW5nZWRQYWdlIHVzZXI9e2FwaVJlc3BvbnNlfSAvPixcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLW1vdW50JylcbiAgICApO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxSZXNldFBhc3N3b3JkRm9ybSBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZX0gLz47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwcm9wcykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8ICdmb3JtLWNvbnRyb2wnfVxyXG4gICAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWQgfHwgZmFsc2V9XHJcbiAgICAgICAgICAgIGlkPXtwcm9wcy5pZCB8fCBudWxsfVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17cHJvcHMub25DaGFuZ2V9XHJcbiAgICAgICAgICAgIHZhbHVlPXtwcm9wcy52YWx1ZX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICAgIHtwcm9wcy5jaG9pY2VzLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aXRlbX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2l0ZW19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7aXRlbX1cclxuICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvc2VsZWN0PlxyXG4gICAgKTtcclxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCB7IGxvYWQgYXMgdXBkYXRlUG9zdHMgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IHsgdXBkYXRlIGFzIHVwZGF0ZVNlYXJjaCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWFyY2gnO1xuaW1wb3J0IHsgaHlkcmF0ZSBhcyB1cGRhdGVVc2VycyB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBxdWVyeTogcHJvcHMuc2VhcmNoLnF1ZXJ5XG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgdGhpcy5oYW5kbGVTdWJtaXQoKTtcbiAgICB9XG4gIH1cblxuICBvblF1ZXJ5Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncXVlcnknLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5xdWVyeS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgc2VhcmNoIHF1ZXJ5LlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVNlYXJjaCh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KSk7XG5cbiAgICByZXR1cm4gYWpheC5nZXQobWlzYWdvLmdldCgnU0VBUkNIX0FQSScpLCB7XG4gICAgICBxOiB0aGlzLnN0YXRlLnF1ZXJ5LnRyaW0oKVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2Vzcyhwcm92aWRlcnMpIHtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVTZWFyY2goe1xuICAgICAgcXVlcnk6IHRoaXMuc3RhdGUucXVlcnkudHJpbSgpLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIHByb3ZpZGVyc1xuICAgIH0pKTtcblxuICAgIHByb3ZpZGVycy5mb3JFYWNoKChwcm92aWRlcikgPT4ge1xuICAgICAgaWYgKHByb3ZpZGVyLmlkID09PSAndXNlcnMnKSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVVzZXJzKHByb3ZpZGVyLnJlc3VsdHMucmVzdWx0cykpO1xuICAgICAgfSBlbHNlIGlmIChwcm92aWRlci5pZCA9PT0gJ3RocmVhZHMnKSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVBvc3RzKHByb3ZpZGVyLnJlc3VsdHMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG5cbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVTZWFyY2goe1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH0pKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlci1iZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyIHBhZ2Utc2VhcmNoLWZvcm1cIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtM1wiPlxuICAgICAgICAgICAgICAgICAgPGgxPntnZXR0ZXh0KFwiU2VhcmNoXCIpfTwvaDE+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLW1kLTlcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHhzLW1hcmdpbi10b3Agc20tbWFyZ2luLXRvcFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tOCBjb2wtbWQtOVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnNlYXJjaC5pc0xvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUXVlcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucXVlcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgY29sLXNtLTQgY29sLW1kLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnNlYXJjaC5pc0xvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTZWFyY2hcIil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufSIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgU2VhcmNoVGhyZWFkcyBmcm9tICcuL3RocmVhZHMnO1xuaW1wb3J0IFNlYXJjaFVzZXJzIGZyb20gJy4vdXNlcnMnO1xuXG5jb25zdCBjb21wb25lbnRzID0ge1xuICB0aHJlYWRzOiBTZWFyY2hUaHJlYWRzLFxuICB1c2VyczogU2VhcmNoVXNlcnNcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICAncG9zdHMnOiBzdG9yZS5wb3N0cyxcbiAgICAnc2VhcmNoJzogc3RvcmUuc2VhcmNoLFxuICAgICd0aWNrJzogc3RvcmUudGljay50aWNrLFxuICAgICd1c2VyJzogc3RvcmUuYXV0aC51c2VyLFxuICAgICd1c2Vycyc6IHN0b3JlLnVzZXJzLFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm92aWRlcnMpIHtcbiAgcmV0dXJuIHByb3ZpZGVycy5tYXAoKHByb3ZpZGVyKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IHByb3ZpZGVyLnVybCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKGNvbXBvbmVudHNbcHJvdmlkZXIuaWRdKSxcbiAgICAgIHByb3ZpZGVyOiBwcm92aWRlclxuICAgIH07XG4gIH0pO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU2VhcmNoRm9ybSBmcm9tICcuL2Zvcm0nO1xuaW1wb3J0IFNpZGVOYXYgZnJvbSAnLi9zaWRlbmF2JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1zZWFyY2hcIj5cbiAgICAgIDxTZWFyY2hGb3JtXG4gICAgICAgIHByb3ZpZGVyPXtwcm9wcy5wcm92aWRlcn1cbiAgICAgICAgc2VhcmNoPXtwcm9wcy5zZWFyY2h9XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zXCI+XG4gICAgICAgICAgICA8U2lkZU5hdiBwcm92aWRlcnM9e3Byb3BzLnNlYXJjaC5wcm92aWRlcnN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOVwiPlxuICAgICAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgPFNlYXJjaFRpbWVcbiAgICAgICAgICAgICAgcHJvdmlkZXI9e3Byb3BzLnByb3ZpZGVyfVxuICAgICAgICAgICAgICBzZWFyY2g9e3Byb3BzLnNlYXJjaH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNlYXJjaFRpbWUocHJvcHMpIHtcbiAgbGV0IHRpbWUgPSBudWxsO1xuICBwcm9wcy5zZWFyY2gucHJvdmlkZXJzLmZvckVhY2goKHApID0+IHtcbiAgICBpZiAocC5pZCA9PT0gcHJvcHMucHJvdmlkZXIuaWQpIHtcbiAgICAgIHRpbWUgPSBwLnRpbWU7XG4gICAgfVxuICB9KTtcblxuICBpZiAodGltZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgY29weSA9IGdldHRleHQoXCJTZWFyY2ggdG9vayAlKHRpbWUpcyBzIHRvIGNvbXBsZXRlXCIpO1xuXG4gIHJldHVybiAoXG4gICAgPGZvb3RlciBjbGFzc05hbWU9XCJzZWFyY2gtZm9vdGVyXCI+XG4gICAgICA8cD5cbiAgICAgICAge2ludGVycG9sYXRlKGNvcHksIHt0aW1lfSwgdHJ1ZSl9XG4gICAgICA8L3A+XG4gICAgPC9mb290ZXI+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1ncm91cCBuYXYtc2lkZVwiPlxuICAgICAge3Byb3BzLnByb3ZpZGVycy5tYXAoKHByb3ZpZGVyKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpbmtcbiAgICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgICAgICAgICAga2V5PXtwcm92aWRlci5pZH1cbiAgICAgICAgICAgIHRvPXtwcm92aWRlci51cmx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICB7cHJvdmlkZXIuaWNvbn1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIHtwcm92aWRlci5uYW1lfVxuICAgICAgICAgICAgPEJhZGdlIHJlc3VsdHM9e3Byb3ZpZGVyLnJlc3VsdHN9IC8+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCYWRnZShwcm9wcykge1xuICBpZiAoIXByb3BzLnJlc3VsdHMpIHJldHVybiBudWxsO1xuXG4gIGxldCBjb3VudCA9IHByb3BzLnJlc3VsdHMuY291bnQ7XG4gIGlmIChjb3VudCA+IDEwMDAwMDApIHtcbiAgICBjb3VudCA9IE1hdGguY2VpbChjb3VudCAvIDEwMDAwMDApICsgJ0tLJ1xuICB9IGVsc2UgaWYgKGNvdW50ID4gMTAwMCkge1xuICAgIGNvdW50ID0gTWF0aC5jZWlsKGNvdW50IC8gMTAwMCkgKyAnSydcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwiYmFkZ2VcIj5cbiAgICAgIHtjb3VudH1cbiAgICA8L3NwYW4+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTZWFyY2hQYWdlIGZyb20gJy4uL3BhZ2UnO1xuaW1wb3J0IFJlc3VsdHMgZnJvbSAnLi9yZXN1bHRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8U2VhcmNoUGFnZVxuICAgICAgcHJvdmlkZXI9e3Byb3BzLnJvdXRlLnByb3ZpZGVyfVxuICAgICAgc2VhcmNoPXtwcm9wcy5zZWFyY2h9XG4gICAgPlxuICAgICAgPEJsYW5rc2xhdGVcbiAgICAgICAgcXVlcnk9e3Byb3BzLnNlYXJjaC5xdWVyeX1cbiAgICAgICAgcG9zdHM9e3Byb3BzLnBvc3RzfVxuICAgICAgPlxuICAgICAgICA8UmVzdWx0c1xuICAgICAgICAgIHByb3ZpZGVyPXtwcm9wcy5yb3V0ZS5wcm92aWRlcn1cbiAgICAgICAgICBxdWVyeT17cHJvcHMuc2VhcmNoLnF1ZXJ5fVxuICAgICAgICAgIHsuLi5wcm9wcy5wb3N0c31cbiAgICAgICAgLz5cbiAgICAgIDwvQmxhbmtzbGF0ZT5cbiAgICA8L1NlYXJjaFBhZ2U+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJsYW5rc2xhdGUocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzICYmIHByb3BzLnBvc3RzLmNvdW50KSByZXR1cm4gcHJvcHMuY2hpbGRyZW47XG5cbiAgaWYgKHByb3BzLnF1ZXJ5Lmxlbmd0aCkge1xuICAgIHJldHVybiAoXG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiTm8gdGhyZWFkcyBtYXRjaGluZyBzZWFyY2ggcXVlcnkgaGF2ZSBiZWVuIGZvdW5kLlwiKX1cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICB7Z2V0dGV4dChcIkVudGVyIGF0IGxlYXN0IHR3byBjaGFyYWN0ZXJzIHRvIHNlYXJjaCB0aHJlYWRzLlwiKX1cbiAgICA8L3A+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQb3N0RmVlZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0LWZlZWQnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9taXNhZ28tbWFya3VwJztcbmltcG9ydCB7IHVwZGF0ZSBhcyB1cGRhdGVQb3N0cywgYXBwZW5kIGFzIGFwcGVuZFBvc3RzIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3RzJztcbmltcG9ydCB7IHVwZGF0ZVByb3ZpZGVyIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlYXJjaCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8UG9zdEZlZWRcbiAgICAgICAgaXNSZWFkeT17dHJ1ZX1cbiAgICAgICAgcG9zdHM9e3Byb3BzLnJlc3VsdHN9XG4gICAgICAvPlxuICAgICAgPExvYWRNb3JlIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIExvYWRNb3JlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVQb3N0cyh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KSk7XG5cbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnByb3ZpZGVyLmFwaSwge1xuICAgICAgcTogdGhpcy5wcm9wcy5xdWVyeSxcbiAgICAgIHBhZ2U6IHRoaXMucHJvcHMubmV4dFxuICAgIH0pLnRoZW4oKHByb3ZpZGVycykgPT4ge1xuICAgICAgcHJvdmlkZXJzLmZvckVhY2goKHByb3ZpZGVyKSA9PiB7XG4gICAgICAgIGlmIChwcm92aWRlci5pZCAhPT0gJ3RocmVhZHMnKSByZXR1cm47XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZFBvc3RzKHByb3ZpZGVyLnJlc3VsdHMpKTtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlUHJvdmlkZXIocHJvdmlkZXIpKTtcbiAgICAgIH0pO1xuXG4gICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVQb3N0cyh7XG4gICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuXG4gICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVQb3N0cyh7XG4gICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vcmUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBsb2FkaW5nPXt0aGlzLnByb3BzLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNob3cgbW9yZVwiKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTZWFyY2hQYWdlIGZyb20gJy4uL3BhZ2UnO1xuaW1wb3J0IFVzZXJzTGlzdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy1saXN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8U2VhcmNoUGFnZVxuICAgICAgcHJvdmlkZXI9e3Byb3BzLnJvdXRlLnByb3ZpZGVyfVxuICAgICAgc2VhcmNoPXtwcm9wcy5zZWFyY2h9XG4gICAgPlxuICAgICAgPEJsYW5rc2xhdGVcbiAgICAgICAgcXVlcnk9e3Byb3BzLnNlYXJjaC5xdWVyeX1cbiAgICAgICAgdXNlcnM9e3Byb3BzLnVzZXJzfVxuICAgICAgPlxuICAgICAgICA8VXNlcnNMaXN0XG4gICAgICAgICAgY29scz17M31cbiAgICAgICAgICBpc1JlYWR5PXt0cnVlfVxuICAgICAgICAgIHVzZXJzPXtwcm9wcy51c2Vyc31cbiAgICAgICAgLz5cbiAgICAgIDwvQmxhbmtzbGF0ZT5cbiAgICA8L1NlYXJjaFBhZ2U+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJsYW5rc2xhdGUocHJvcHMpIHtcbiAgaWYgKHByb3BzLnVzZXJzLmxlbmd0aCkgcmV0dXJuIHByb3BzLmNoaWxkcmVuO1xuXG4gIGlmIChwcm9wcy5xdWVyeS5sZW5ndGgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIk5vIHVzZXJzIG1hdGNoaW5nIHNlYXJjaCBxdWVyeSBoYXZlIGJlZW4gZm91bmQuXCIpfVxuICAgICAgPC9wPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgIHtnZXR0ZXh0KFwiRW50ZXIgYXQgbGVhc3QgdHdvIGNoYXJhY3RlcnMgdG8gc2VhcmNoIHVzZXJzLlwiKX1cbiAgICA8L3A+XG4gICk7XG59XG5cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2hvaWNlKCkge1xuICAgIGxldCBjaG9pY2UgPSBudWxsO1xuICAgIHRoaXMucHJvcHMuY2hvaWNlcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLnZhbHVlID09PSB0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICAgIGNob2ljZSA9IGl0ZW07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNob2ljZTtcbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2hvaWNlKCkuaWNvbjtcbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIHJldHVybiB0aGlzLmdldENob2ljZSgpLmxhYmVsO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjaGFuZ2UgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1zZWxlY3QtZ3JvdXBcIj5cbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc2VsZWN0IGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkIHx8IG51bGx9XG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e3RoaXMucHJvcHNbJ2FyaWEtZGVzY3JpYmVkYnknXSB8fCBudWxsfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX0+XG4gICAgICAgIDxJY29uIGljb249e3RoaXMuZ2V0SWNvbigpfSAvPlxuICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2VzLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8bGkga2V5PXtpfT5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jaGFuZ2UoaXRlbS52YWx1ZSl9PlxuICAgICAgICAgICAgICA8SWNvbiBpY29uPXtpdGVtLmljb259IC8+XG4gICAgICAgICAgICAgIHtpdGVtLmxhYmVsfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9saT47XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5leHBvcnQgZnVuY3Rpb24gSWNvbih7IGljb24gfSkge1xuICBpZiAoIWljb24pIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAge2ljb259XG4gICAgPC9zcGFuPlxuICApXG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IFN0YXJ0U29jaWFsQXV0aCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9TdGFydFNvY2lhbEF1dGgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuICAgICAgJ3Nob3dBY3RpdmF0aW9uJzogZmFsc2UsXG5cbiAgICAgICd1c2VybmFtZSc6ICcnLFxuICAgICAgJ3Bhc3N3b3JkJzogJycsXG5cbiAgICAgICd2YWxpZGF0b3JzJzoge1xuICAgICAgICAndXNlcm5hbWUnOiBbXSxcbiAgICAgICAgJ3Bhc3N3b3JkJzogW11cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGJvdGggZmllbGRzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdBVVRIX0FQSScpLCB7XG4gICAgICAndXNlcm5hbWUnOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuICAgICAgJ3Bhc3N3b3JkJzogdGhpcy5zdGF0ZS5wYXNzd29yZFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcygpIHtcbiAgICBsZXQgZm9ybSA9ICQoJyNoaWRkZW4tbG9naW4tZm9ybScpO1xuXG4gICAgZm9ybS5hcHBlbmQoJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VybmFtZVwiIC8+Jyk7XG4gICAgZm9ybS5hcHBlbmQoJzxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIiAvPicpO1xuXG4gICAgLy8gZmlsbCBvdXQgZm9ybSB3aXRoIHVzZXIgY3JlZGVudGlhbHMgYW5kIHN1Ym1pdCBpdCwgdGhpcyB3aWxsIHRlbGxcbiAgICAvLyBNaXNhZ28gdG8gcmVkaXJlY3QgdXNlciBiYWNrIHRvIHJpZ2h0IHBhZ2UsIGFuZCB3aWxsIHRyaWdnZXIgYnJvd3NlcidzXG4gICAgLy8ga2V5IHJpbmcgZmVhdHVyZVxuICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cImhpZGRlblwiXScpLnZhbChhamF4LmdldENzcmZUb2tlbigpKTtcbiAgICBmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJyZWRpcmVjdF90b1wiXScpLnZhbCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInVzZXJuYW1lXCJdJykudmFsKHRoaXMuc3RhdGUudXNlcm5hbWUpO1xuICAgIGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3N3b3JkXCJdJykudmFsKHRoaXMuc3RhdGUucGFzc3dvcmQpO1xuICAgIGZvcm0uc3VibWl0KCk7XG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24uY29kZSA9PT0gJ2luYWN0aXZlX2FkbWluJykge1xuICAgICAgICBzbmFja2Jhci5pbmZvKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24uY29kZSA9PT0gJ2luYWN0aXZlX3VzZXInKSB7XG4gICAgICAgIHNuYWNrYmFyLmluZm8ocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICdzaG93QWN0aXZhdGlvbic6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5jb2RlID09PSAnYmFubmVkJykge1xuICAgICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgICAgbW9kYWwuaGlkZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbik7XG4gICAgICBtb2RhbC5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZ2V0QWN0aXZhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2hvd0FjdGl2YXRpb24pIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWJsb2NrXCJcbiAgICAgICAgaHJlZj17bWlzYWdvLmdldCgnUkVRVUVTVF9BQ1RJVkFUSU9OX1VSTCcpfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkFjdGl2YXRlIGFjY291bnRcIil9XG4gICAgICA8L2E+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtc20gbW9kYWwtc2lnbi1pblwiXG4gICAgICAgIHJvbGU9XCJkb2N1bWVudFwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlNpZ24gaW5cIil9PC9oND5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgICAgICAgPFN0YXJ0U29jaWFsQXV0aFxuICAgICAgICAgICAgICAgIGJ1dHRvbkxhYmVsPXtnZXR0ZXh0KFwiU2lnbiBpbiB3aXRoICUoc2l0ZSlzXCIpfVxuICAgICAgICAgICAgICAgIGZvcm1MYWJlbD17Z2V0dGV4dChcIk9yIHVzZSB5b3VyIGZvcnVtIGFjY291bnQ6XCIpfVxuICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIlxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udHJvbC1pbnB1dFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBpbnB1dC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndXNlcm5hbWUnKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJVc2VybmFtZSBvciBlLW1haWxcIil9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgaW5wdXQtbGdcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiUGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0QWN0aXZhdGlvbkJ1dHRvbigpfVxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgaHJlZj17bWlzYWdvLmdldCgnRk9SR09UVEVOX1BBU1NXT1JEX1VSTCcpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiRm9yZ290IHBhc3N3b3JkP1wiKX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuY29uc3QgVFlQRVNfQ0xBU1NFUyA9IHtcbiAgJ2luZm8nOiAnYWxlcnQtaW5mbycsXG4gICdzdWNjZXNzJzogJ2FsZXJ0LXN1Y2Nlc3MnLFxuICAnd2FybmluZyc6ICdhbGVydC13YXJuaW5nJyxcbiAgJ2Vycm9yJzogJ2FsZXJ0LWRhbmdlcidcbn07XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG5leHBvcnQgY2xhc3MgU25hY2tiYXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRTbmFja2JhckNsYXNzKCkge1xuICAgIGxldCBzbmFja2JhckNsYXNzID0gJ2FsZXJ0cy1zbmFja2Jhcic7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNWaXNpYmxlKSB7XG4gICAgICBzbmFja2JhckNsYXNzICs9ICcgaW4nO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2JhckNsYXNzICs9ICcgb3V0JztcbiAgICB9XG4gICAgcmV0dXJuIHNuYWNrYmFyQ2xhc3M7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRTbmFja2JhckNsYXNzKCl9PlxuICAgICAgPHAgY2xhc3NOYW1lPXsnYWxlcnQgJyArIFRZUEVTX0NMQVNTRVNbdGhpcy5wcm9wcy50eXBlXX0+XG4gICAgICAgIHt0aGlzLnByb3BzLm1lc3NhZ2V9XG4gICAgICA8L3A+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUuc25hY2tiYXI7XG59XG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuL2hlYWRlcic7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5cbmNvbnN0IENvbXBsZXRlID0gKHsgYWN0aXZhdGlvbiwgYmFja2VuZF9uYW1lLCB1c2VybmFtZSB9KSA9PiB7XG4gIGxldCBpY29uID0gJyc7XG4gIGxldCBtZXNzYWdlID0gJyc7XG4gIGlmIChhY3RpdmF0aW9uID09PSAndXNlcicpIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IHlvdSBuZWVkIHRvIGFjdGl2YXRlIGl0IGJlZm9yZSB5b3Ugd2lsbCBiZSBhYmxlIHRvIHNpZ24gaW4uXCIpO1xuICB9IGVsc2UgaWYgKGFjdGl2YXRpb24gPT09ICdhZG1pbicpIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91ciBhY2NvdW50IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IGJvYXJkIGFkbWluaXN0cmF0b3Igd2lsbCBoYXZlIHRvIGFjdGl2YXRlIGl0IGJlZm9yZSB5b3Ugd2lsbCBiZSBhYmxlIHRvIHNpZ24gaW4uXCIpO1xuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzLCB5b3VyIGFjY291bnQgaGFzIGJlZW4gY3JlYXRlZCBhbmQgeW91IGhhdmUgYmVlbiBzaWduZWQgaW4gdG8gaXQuXCIpXG4gIH1cblxuICBpZiAoYWN0aXZhdGlvbiA9PT0gJ2FjdGl2ZScpIHtcbiAgICBpY29uID0gJ2NoZWNrJztcbiAgfSBlbHNlIHtcbiAgICBpY29uID0gJ2luZm9fb3V0bGluZSc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZSBwYWdlLXNvY2lhbC1hdXRoIHBhZ2Utc29jaWFsLXNhdXRoLXJlZ2lzdGVyXCI+XG4gICAgICA8SGVhZGVyIGJhY2tlbmROYW1lPXtiYWNrZW5kX25hbWV9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLW1kLW9mZnNldC0zXCI+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiUmVnaXN0cmF0aW9uIGNvbXBsZXRlZCFcIil9PC9oMz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1tZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICAgICAgICB7aWNvbn1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICAgICAgICB7aW50ZXJwb2xhdGUobWVzc2FnZSwgeyB1c2VybmFtZSB9LCB0cnVlKX1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgICAgIGhyZWY9e21pc2Fnby5nZXQoJ01JU0FHT19QQVRIJyl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJldHVybiB0byBmb3J1bSBpbmRleFwiKX1cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDb21wbGV0ZTsiLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5jb25zdCBIZWFkZXIgPSAoeyBiYWNrZW5kTmFtZSB9KSA9PiB7XG4gIGNvbnN0IHBhZ2VUaXRsZVRwbCA9IGdldHRleHQoXCJTaWduIGluIHdpdGggJShiYWNrZW5kKXNcIik7XG4gIGNvbnN0IHBhZ2VUaXRsZSA9IGludGVycG9sYXRlKHBhZ2VUaXRsZVRwbCwgeyBiYWNrZW5kOiBiYWNrZW5kTmFtZSB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8aDE+XG4gICAgICAgICAgICB7cGFnZVRpdGxlfVxuICAgICAgICAgIDwvaDE+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjsiLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlZ2lzdGVyIGZyb20gJy4vcmVnaXN0ZXInO1xuaW1wb3J0IENvbXBsZXRlIGZyb20gJy4vY29tcGxldGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2NpYWxBdXRoIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc3RlcDogcHJvcHMuc3RlcCxcblxuICAgICAgYWN0aXZhdGlvbjogcHJvcHMuYWN0aXZhdGlvbiB8fCAnJyxcbiAgICAgIGVtYWlsOiBwcm9wcy5lbWFpbCB8fCAnJyxcbiAgICAgIHVzZXJuYW1lOiBwcm9wcy51c2VybmFtZSB8fCAnJ1xuICAgIH07XG4gIH1cblxuICBoYW5kbGVSZWdpc3RyYXRpb25Db21wbGV0ZSA9ICh7IGFjdGl2YXRpb24sIGVtYWlsLCBzdGVwLCB1c2VybmFtZSB9KSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2YXRpb24sIGVtYWlsLCBzdGVwLCB1c2VybmFtZSB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBiYWNrZW5kX25hbWUsIHVybCB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgYWN0aXZhdGlvbiwgZW1haWwsIHN0ZXAsIHVzZXJuYW1lIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBpZiAoc3RlcCA9PT0gJ3JlZ2lzdGVyJykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFJlZ2lzdGVyXG4gICAgICAgICAgYmFja2VuZF9uYW1lPXtiYWNrZW5kX25hbWV9XG4gICAgICAgICAgZW1haWw9e2VtYWlsfVxuICAgICAgICAgIHVybD17dXJsfVxuICAgICAgICAgIHVzZXJuYW1lPXt1c2VybmFtZX1cbiAgICAgICAgICBvblJlZ2lzdHJhdGlvbkNvbXBsZXRlPXt0aGlzLmhhbmRsZVJlZ2lzdHJhdGlvbkNvbXBsZXRlfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBsZXRlXG4gICAgICAgIGFjdGl2YXRpb249e2FjdGl2YXRpb259XG4gICAgICAgIGJhY2tlbmRfbmFtZT17YmFja2VuZF9uYW1lfVxuICAgICAgICBlbWFpbD17ZW1haWx9XG4gICAgICAgIHVybD17dXJsfVxuICAgICAgICB1c2VybmFtZT17dXNlcm5hbWV9XG4gICAgICAvPiBcbiAgICApXG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IFJlZ2lzdGVyTGVnYWxGb290bm90ZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9SZWdpc3RlckxlZ2FsRm9vdG5vdGUnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9oZWFkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWdpc3RlciBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge1xuICAgICAgZW1haWw6IFtcbiAgICAgICAgdmFsaWRhdG9ycy5lbWFpbCgpXG4gICAgICBdLFxuICAgICAgdXNlcm5hbWU6IFtcbiAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZUNvbnRlbnQoKVxuICAgICAgXVxuICAgIH07XG5cbiAgICBpZiAoISFtaXNhZ28uZ2V0KCdURVJNU19PRl9TRVJWSUNFX0lEJykpIHtcbiAgICAgIGZvcm1WYWxpZGF0b3JzLnRlcm1zT2ZTZXJ2aWNlID0gW3ZhbGlkYXRvcnMucmVxdWlyZWRUZXJtc09mU2VydmljZSgpXTtcbiAgICB9XG5cbiAgICBpZiAoISFtaXNhZ28uZ2V0KCdQUklWQUNZX1BPTElDWV9JRCcpKSB7XG4gICAgICBmb3JtVmFsaWRhdG9ycy5wcml2YWN5UG9saWN5ID0gW3ZhbGlkYXRvcnMucmVxdWlyZWRQcml2YWN5UG9saWN5KCldO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBlbWFpbDogcHJvcHMuZW1haWwgfHwgJycsXG4gICAgICBlbWFpbFByb3RlY3RlZDogISFwcm9wcy5lbWFpbCxcbiAgICAgIHVzZXJuYW1lOiBwcm9wcy51c2VybmFtZSB8fCAnJyxcblxuICAgICAgdGVybXNPZlNlcnZpY2U6IG51bGwsXG4gICAgICBwcml2YWN5UG9saWN5OiBudWxsLFxuXG4gICAgICB2YWxpZGF0b3JzOiBmb3JtVmFsaWRhdG9ycyxcbiAgICAgIGVycm9yczoge30sXG5cbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgbGV0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcbiAgICBsZXQgbGVuZ3RocyA9IFtcbiAgICAgIHRoaXMuc3RhdGUuZW1haWwudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUudXNlcm5hbWUudHJpbSgpLmxlbmd0aCxcbiAgICBdO1xuXG4gICAgaWYgKGxlbmd0aHMuaW5kZXhPZigwKSAhPT0gLTEpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGaWxsIG91dCBhbGwgZmllbGRzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgeyB2YWxpZGF0b3JzIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgY2hlY2tUZXJtc09mU2VydmljZSA9ICEhbWlzYWdvLmdldCgnVEVSTVNfT0ZfU0VSVklDRV9JRCcpO1xuICAgIGlmIChjaGVja1Rlcm1zT2ZTZXJ2aWNlICYmIHRoaXMuc3RhdGUudGVybXNPZlNlcnZpY2UgPT09IG51bGwpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHZhbGlkYXRvcnMudGVybXNPZlNlcnZpY2VbMF0obnVsbCkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGNoZWNrUHJpdmFjeVBvbGljeSA9ICEhbWlzYWdvLmdldCgnUFJJVkFDWV9QT0xJQ1lfSUQnKTtcbiAgICBpZiAoY2hlY2tQcml2YWN5UG9saWN5ICYmIHRoaXMuc3RhdGUucHJpdmFjeVBvbGljeSA9PT0gbnVsbCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IodmFsaWRhdG9ycy5wcml2YWN5UG9saWN5WzBdKG51bGwpKTtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgbmVlZCB0byBhY2NlcHQgdGhlIHByaXZhY3kgcG9saWN5LlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51cmwsIHtcbiAgICAgIGVtYWlsOiB0aGlzLnN0YXRlLmVtYWlsLFxuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICB0ZXJtc19vZl9zZXJ2aWNlOiB0aGlzLnN0YXRlLnRlcm1zT2ZTZXJ2aWNlLFxuICAgICAgcHJpdmFjeV9wb2xpY3k6IHRoaXMuc3RhdGUucHJpdmFjeVBvbGljeVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhyZXNwb25zZSkge1xuICAgIG9uUmVnaXN0cmF0aW9uQ29tcGxldGUocmVzcG9uc2UpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgLy8gV2UndmUgZW50ZXJlZCBcImVycm9yZWRcIiBzdGF0ZSBiZWNhdXNlIHJlc3BvbnNlIGlzIEhUTUwgaW5zdGVhZCBvZiBleHB0ZWN0ZWQgSlNPTlxuICAgICAgY29uc3QgeyBvblJlZ2lzdHJhdGlvbkNvbXBsZXRlIH0gPSB0aGlzLnByb3BzO1xuICAgICAgY29uc3QgeyB1c2VybmFtZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgIG9uUmVnaXN0cmF0aW9uQ29tcGxldGUoeyBhY3RpdmF0aW9uOiAnYWN0aXZlJywgc3RlcDogJ2RvbmUnLCB1c2VybmFtZSB9KTtcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc3Qgc3RhdGVVcGRhdGUgPSB7IGVycm9yczogcmVqZWN0aW9uIH07XG4gICAgICBpZiAocmVqZWN0aW9uLmVtYWlsKSB7XG4gICAgICAgIHN0YXRlVXBkYXRlLmVtYWlsUHJvdGVjdGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHN0YXRlVXBkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVQcml2YWN5UG9saWN5Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgdGhpcy5oYW5kbGVUb2dnbGVBZ3JlZW1lbnQoJ3ByaXZhY3lQb2xpY3knLCB2YWx1ZSk7XG4gIH07XG5cbiAgaGFuZGxlVGVybXNPZlNlcnZpY2VDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICB0aGlzLmhhbmRsZVRvZ2dsZUFncmVlbWVudCgndGVybXNPZlNlcnZpY2UnLCB2YWx1ZSk7XG4gIH07XG5cbiAgaGFuZGxlVG9nZ2xlQWdyZWVtZW50ID0gKGFncmVlbWVudCwgdmFsdWUpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUsIHByb3BzKSA9PiB7XG4gICAgICBpZiAocHJldlN0YXRlW2FncmVlbWVudF0gPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgZXJyb3JzID0geyAuLi5wcmV2U3RhdGUuZXJyb3JzLCBbYWdyZWVtZW50XTogbnVsbCB9O1xuICAgICAgICByZXR1cm4geyBlcnJvcnMsIFthZ3JlZW1lbnRdOiB2YWx1ZSB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2YWxpZGF0b3IgPSB0aGlzLnN0YXRlLnZhbGlkYXRvcnNbYWdyZWVtZW50XVswXTtcbiAgICAgIGNvbnN0IGVycm9ycyA9IHsgLi4ucHJldlN0YXRlLmVycm9ycywgW2FncmVlbWVudF06IFt2YWxpZGF0b3IobnVsbCldIH07XG4gICAgICByZXR1cm4geyBlcnJvcnMsIFthZ3JlZW1lbnRdOiBudWxsIH07XG4gICAgfSlcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBiYWNrZW5kX25hbWUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge1xuICAgICAgZW1haWwsXG4gICAgICBlbWFpbFByb3RlY3RlZCxcbiAgICAgIHVzZXJuYW1lLFxuICAgICAgaXNMb2FkaW5nXG4gICAgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBsZXQgZW1haWxIZWxwVGV4dCA9IG51bGw7XG4gICAgaWYgKGVtYWlsUHJvdGVjdGVkKSB7XG4gICAgICBjb25zdCBlbWFpbEhlbHBUZXh0VHBsID0gZ2V0dGV4dChcIllvdXIgZS1tYWlsIGFkZHJlc3MgaGFzIGJlZW4gdmVyaWZpZWQgYnkgJShiYWNrZW5kKXMuXCIpO1xuICAgICAgZW1haWxIZWxwVGV4dCA9IGludGVycG9sYXRlKGVtYWlsSGVscFRleHRUcGwsIHsgYmFja2VuZDogYmFja2VuZF9uYW1lIH0sIHRydWUpO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1zb2NpYWwtYXV0aCBwYWdlLXNvY2lhbC1zYXV0aC1yZWdpc3RlclwiPlxuICAgICAgICA8SGVhZGVyIGJhY2tlbmROYW1lPXtiYWNrZW5kX25hbWV9IC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLW1kLW9mZnNldC0zXCI+XG4gICAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNvbXBsZXRlIHlvdXIgZGV0YWlsc1wiKX08L2gzPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd1c2VybmFtZScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiRS1tYWlsIGFkZHJlc3NcIil9XG4gICAgICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e2VtYWlsSGVscFRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17ZW1haWxQcm90ZWN0ZWQgPyBudWxsIDogdGhpcy5zdGF0ZS5lcnJvcnMuZW1haWx9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2VtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IGVtYWlsUHJvdGVjdGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdlbWFpbCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2VtYWlsfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8UmVnaXN0ZXJMZWdhbEZvb3Rub3RlXG4gICAgICAgICAgICAgICAgICAgICAgZXJyb3JzPXt0aGlzLnN0YXRlLmVycm9yc31cbiAgICAgICAgICAgICAgICAgICAgICBwcml2YWN5UG9saWN5PXt0aGlzLnN0YXRlLnByaXZhY3lQb2xpY3l9XG4gICAgICAgICAgICAgICAgICAgICAgdGVybXNPZlNlcnZpY2U9e3RoaXMuc3RhdGUudGVybXNPZlNlcnZpY2V9XG4gICAgICAgICAgICAgICAgICAgICAgb25Qcml2YWN5UG9saWN5Q2hhbmdlPXt0aGlzLmhhbmRsZVByaXZhY3lQb2xpY3lDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgb25UZXJtc09mU2VydmljZUNoYW5nZT17dGhpcy5oYW5kbGVUZXJtc09mU2VydmljZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1icmVhZGNydW1ic1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPG9sIGNsYXNzTmFtZT1cImJyZWFkY3J1bWIgaGlkZGVuLXhzXCI+XG4gICAgICAgICAge3Byb3BzLnBhdGgubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8QnJlYWRjcnVtYlxuICAgICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICBub2RlPXtpdGVtfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9vbD5cbiAgICAgICAgPEdvQmFjayB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJyZWFkY3J1bWIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YSBocmVmPXtwcm9wcy5ub2RlLnVybC5pbmRleH0+e3Byb3BzLm5vZGUubmFtZX08L2E+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvQmFjayhwcm9wcykge1xuICBjb25zdCBsYXN0SXRlbSA9IHByb3BzLnBhdGhbcHJvcHMucGF0aC5sZW5ndGggLSAxXTtcblxuICByZXR1cm4gKFxuICAgIDxhIGhyZWY9e2xhc3RJdGVtLnVybC5pbmRleH0gY2xhc3NOYW1lPVwiZ28tYmFjay1zbSB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGNoZXZyb25fbGVmdFxuICAgICAgPC9zcGFuPlxuICAgICAge2xhc3RJdGVtLm5hbWV9XG4gICAgPC9hPlxuICApO1xufVxuLyoganNoaW50IGlnbm9yZTplbmQgKi8iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJyZWFkY3J1bWJzIGZyb20gJy4vYnJlYWRjcnVtYnMnO1xuaW1wb3J0IHsgaXNNb2RlcmF0aW9uVmlzaWJsZSwgTW9kZXJhdGlvbkNvbnRyb2xzIH0gZnJvbSAnLi4vbW9kZXJhdGlvbi90aHJlYWQnO1xuaW1wb3J0IFN0YXRzIGZyb20gJy4vc3RhdHMnO1xuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgeyBnZXRUaXRsZVZhbGlkYXRvcnMgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiBwcm9wcy50aHJlYWQudGl0bGUsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IGdldFRpdGxlVmFsaWRhdG9ycygpXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBvbkNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3RpdGxlJywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBvbkVkaXQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0VkaXRpbmc6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRocmVhZC50aXRsZSxcblxuICAgICAgaXNFZGl0aW5nOiBmYWxzZVxuICAgIH0pO1xuICB9O1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS50aXRsZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgdGhyZWFkIHRpdGxlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgaWYgKGVycm9ycy50aXRsZSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnRpdGxlWzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBbXG4gICAgICB7b3A6ICdyZXBsYWNlJywgcGF0aDogJ3RpdGxlJywgdmFsdWU6IHRoaXMuc3RhdGUudGl0bGV9XG4gICAgXSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGRhdGEpIHtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQudXBkYXRlKGRhdGEpKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzRWRpdGluZyc6IGZhbHNlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge3RocmVhZCwgdXNlcn0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHNob3dNb2RlcmF0aW9uID0gISF1c2VyLmlkICYmIGlzTW9kZXJhdGlvblZpc2libGUodGhyZWFkKTtcblxuICAgIGlmICh0aGlzLnN0YXRlLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcCB0aXRsZS1lZGl0LWZvcm1cIj5cbiAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS02IGNvbC1tZC02XCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTYgY29sLW1kLTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHhzLW1hcmdpbi10b3AtaGFsZiBzbS1tYXJnaW4tdG9wLW5vIG1kLW1hcmdpbi10b3Atbm9cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJDaGFuZ2UgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTYXZlIGNoYW5nZXNcIil9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFN0YXRzIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh1c2VyLmlkICYmIHRocmVhZC5hY2wuY2FuX2VkaXQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICA8QnJlYWRjcnVtYnMgcGF0aD17dGhyZWFkLnBhdGh9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzaG93TW9kZXJhdGlvbiA/IFwiY29sLXNtLTkgY29sLW1kLThcIiA6IFwiY29sLXNtLTEwIGNvbC1tZC0xMFwifT5cbiAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICB7dGhyZWFkLnRpdGxlfVxuICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c2hvd01vZGVyYXRpb24gPyBcImNvbC1zbS0zIGNvbC1tZC00XCIgOiBcImNvbC1zbS0zIGNvbC1tZC0yXCJ9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHhzLW1hcmdpbi10b3AgbWQtbWFyZ2luLXRvcC1ub1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3Nob3dNb2RlcmF0aW9uID8gXCJjb2wteHMtNlwiIDogXCJjb2wteHMtMTJcIn0+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRWRpdH1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkVkaXQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZWRpdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4tc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiRWRpdFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICB7c2hvd01vZGVyYXRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICA8TW9kZXJhdGlvbiB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFN0YXRzIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChzaG93TW9kZXJhdGlvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOSBjb2wtbWQtMTBcIj5cbiAgICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgICB7dGhyZWFkLnRpdGxlfVxuICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS0zIGNvbC1tZC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgeHMtbWFyZ2luLXRvcCBtZC1tYXJnaW4tdG9wLW5vXCI+XG4gICAgICAgICAgICAgICAgICA8TW9kZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBpc1NpbmdsZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxTdGF0cyB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgIDxCcmVhZGNydW1icyBwYXRoPXt0aHJlYWQucGF0aH0gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8aDE+e3RocmVhZC50aXRsZX08L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFN0YXRzIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kZXJhdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5pc1NpbmdsZSA/IFwiY29sLXhzLTEyXCIgOiBcImNvbC14cy02XCJ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgYnRuLWdyb3VwLWp1c3RpZmllZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cFwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmUgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIHNldHRpbmdzXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3Byb3BzLmlzU2luZ2xlID8gXCJcIiA6IFwiaGlkZGVuLXNtXCJ9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vZGVyYXRpb25cIil9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPE1vZGVyYXRpb25Db250cm9sc1xuICAgICAgICAgICAgcG9zdHM9e3Byb3BzLnBvc3RzfVxuICAgICAgICAgICAgdGhyZWFkPXtwcm9wcy50aHJlYWR9XG4gICAgICAgICAgICB1c2VyPXtwcm9wcy51c2VyfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IExBU1RfUE9TVEVSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcbmNvbnN0IExBU1RfUE9TVEVSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgTEFTVF9SRVBMWSA9ICc8YWJiciBjbGFzcz1cImxhc3QtdGl0bGVcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuXG5leHBvcnQgZnVuY3Rpb24gV2VpZ2h0KHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQud2VpZ2h0ID09IDIpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1waW5uZWQtZ2xvYmFsbHlcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgYm9va21hcmtcbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9IGVsc2UgaWYgKHByb3BzLnRocmVhZC53ZWlnaHQgPT0gMSkge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1sb2NhbGx5XCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGJvb2ttYXJrX2JvcmRlclxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5hcHByb3ZlZChwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmlzX3VuYXBwcm92ZWQpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHJlbW92ZV9jaXJjbGVcbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIGlmIChwcm9wcy50aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHMpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkLXBvc3RzXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHJlbW92ZV9jaXJjbGVfb3V0bGluZVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJVbmFwcHJvdmVkIHBvc3RzXCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hpZGRlbihwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmlzX2hpZGRlbikge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLWhpZGRlblwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB2aXNpYmlsaXR5X29mZlxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJIaWRkZW5cIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzQ2xvc2VkKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfY2xvc2VkKSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtY2xvc2VkXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGxvY2tfb3V0bGluZVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJDbG9zZWRcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcGxpZXMocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJShyZXBsaWVzKXMgcmVwbHlcIiwgXCIlKHJlcGxpZXMpcyByZXBsaWVzXCIsIHByb3BzLnRocmVhZC5yZXBsaWVzKTtcbiAgY29uc3QgbGVnZW5kID0gaW50ZXJwb2xhdGUobWVzc2FnZSwgeydyZXBsaWVzJzogcHJvcHMudGhyZWFkLnJlcGxpZXN9LCB0cnVlKTtcblxuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1yZXBsaWVzXCI+XG4gICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgZm9ydW1cbiAgICA8L3NwYW4+XG4gICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgIHtsZWdlbmR9XG4gICAgPC9zcGFuPlxuICA8L2xpPjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RSZXBseShwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGw7XG4gIGlmIChwcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKExBU1RfUE9TVEVSX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC51cmwubGFzdF9wb3N0ZXIpLFxuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0ZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoTEFTVF9QT1NURVJfU1BBTiwge1xuICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0ZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfTtcblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoTEFTVF9SRVBMWSwge1xuICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLmxhc3RfcG9zdF9vbi5mcm9tTm93KCkpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCJsYXN0IHJlcGx5IGJ5ICUodXNlcilzICUoZGF0ZSlzXCIpKSwge1xuICAgIGRhdGUsIHVzZXJcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtbGFzdC1yZXBseVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0vPjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlci1zdGF0c1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lXCI+XG4gICAgICAgICAgPFdlaWdodCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8VW5hcHByb3ZlZCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8SXNIaWRkZW4gdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgICAgPElzQ2xvc2VkIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxSZXBsaWVzIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICAgIDxMYXN0UmVwbHkgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCAqIGFzIHBvc3RzIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0cyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IEVycm9yc0xpc3QgZnJvbSAnLi9lcnJvcnMtbGlzdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwcm92ZShwcm9wcykge1xuICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gcHJvcHM7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXVuYXBwcm92ZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgXTtcblxuICBjb25zdCBuZXdTdGF0ZSA9IHNlbGVjdGlvbi5tYXAoKHBvc3QpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc191bmFwcHJvdmVkOiBmYWxzZVxuICAgIH07XG4gIH0pO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzZWxlY3Rpb24ubWFwKChwb3N0KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfdW5hcHByb3ZlZDogcG9zdC5pc191bmFwcHJvdmVkXG4gICAgfTtcbiAgfSk7XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgbmV3U3RhdGUsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdGVjdChwcm9wcykge1xuICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gcHJvcHM7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXByb3RlY3RlZCcsICd2YWx1ZSc6IHRydWV9XG4gIF07XG5cbiAgY29uc3QgbmV3U3RhdGUgPSBzZWxlY3Rpb24ubWFwKChwb3N0KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfcHJvdGVjdGVkOiB0cnVlXG4gICAgfTtcbiAgfSk7XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHNlbGVjdGlvbi5tYXAoKHBvc3QpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19wcm90ZWN0ZWQ6IHBvc3QuaXNfcHJvdGVjdGVkXG4gICAgfTtcbiAgfSk7XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgbmV3U3RhdGUsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5wcm90ZWN0KHByb3BzKSB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBwcm9wcztcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtcHJvdGVjdGVkJywgJ3ZhbHVlJzogZmFsc2V9XG4gIF07XG5cbiAgY29uc3QgbmV3U3RhdGUgPSBzZWxlY3Rpb24ubWFwKChwb3N0KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfcHJvdGVjdGVkOiBmYWxzZVxuICAgIH07XG4gIH0pO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzZWxlY3Rpb24ubWFwKChwb3N0KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfcHJvdGVjdGVkOiBwb3N0LmlzX3Byb3RlY3RlZFxuICAgIH07XG4gIH0pO1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGUocHJvcHMpIHtcbiAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHByb3BzO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiB0cnVlfVxuICBdO1xuXG4gIGNvbnN0IG5ld1N0YXRlID0gc2VsZWN0aW9uLm1hcCgocG9zdCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzX2hpZGRlbjogdHJ1ZSxcbiAgICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMudXNlci51c2VybmFtZSxcbiAgICAgIHVybDogT2JqZWN0LmFzc2lnbihwb3N0LnVybCwge1xuICAgICAgICBoaWRkZW5fYnk6IHByb3BzLnVzZXIudXJsXG4gICAgICB9KVxuICAgIH07XG4gIH0pO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBzZWxlY3Rpb24ubWFwKChwb3N0KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgaXNfaGlkZGVuOiBwb3N0LmlzX2hpZGRlbixcbiAgICAgIGhpZGRlbl9vbjogcG9zdC5oaWRkZW5fb24sXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcG9zdC5oaWRkZW5fYnlfbmFtZSxcbiAgICAgIHVybDogcG9zdC51cmxcbiAgICB9O1xuICB9KTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBuZXdTdGF0ZSwgcHJldmlvdXNTdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmhpZGUocHJvcHMpIHtcbiAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHByb3BzO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiBmYWxzZX1cbiAgXTtcblxuICBjb25zdCBuZXdTdGF0ZSA9IHNlbGVjdGlvbi5tYXAoKHBvc3QpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19oaWRkZW46IGZhbHNlLFxuICAgICAgaGlkZGVuX29uOiBtb21lbnQoKSxcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBwcm9wcy51c2VyLnVzZXJuYW1lLFxuICAgICAgdXJsOiBPYmplY3QuYXNzaWduKHBvc3QudXJsLCB7XG4gICAgICAgIGhpZGRlbl9ieTogcHJvcHMudXNlci51cmxcbiAgICAgIH0pXG4gICAgfTtcbiAgfSk7XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHNlbGVjdGlvbi5tYXAoKHBvc3QpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc19oaWRkZW46IHBvc3QuaXNfaGlkZGVuLFxuICAgICAgaGlkZGVuX29uOiBwb3N0LmhpZGRlbl9vbixcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBwb3N0LmhpZGRlbl9ieV9uYW1lLFxuICAgICAgdXJsOiBwb3N0LnVybFxuICAgIH07XG4gIH0pO1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHByb3BzLCBvcHMsIG5ld1N0YXRlLCBwcmV2aW91c1N0YXRlKSB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uLCB0aHJlYWQgfSA9IHByb3BzO1xuXG4gIC8vIHBhdGNoIHNlbGVjdGVkIGl0ZW1zXG4gIG5ld1N0YXRlLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBwb3N0LnBhdGNoKGl0ZW0sIGl0ZW0pO1xuICB9KTtcblxuICAvLyBkZXNlbGVjdCBhbGwgdGhlIHRoaW5nc1xuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcblxuICAvLyBjYWxsIGFqYXhcbiAgY29uc3QgZGF0YSA9IHtcbiAgICBvcHMsXG5cbiAgICBpZHM6IHNlbGVjdGlvbi5tYXAoKHBvc3QpID0+IHsgcmV0dXJuIHBvc3QuaWQ7IH0pXG4gIH07XG5cbiAgYWpheC5wYXRjaCh0aHJlYWQuYXBpLnBvc3RzLmluZGV4LCBkYXRhKS50aGVuKFxuICAgIChkYXRhKSA9PiB7XG4gICAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChpdGVtLCBpdGVtKSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzICE9PSA0MDApIHtcbiAgICAgICAgLy8gcm9sbGJhY2sgYWxsXG4gICAgICAgIHByZXZpb3VzU3RhdGUuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goaXRlbSwgaXRlbSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGxldCBlcnJvcnMgPSBbXTtcbiAgICAgIGxldCByb2xsYmFjayA9IFtdO1xuXG4gICAgICByZWplY3Rpb24uZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoaXRlbS5kZXRhaWwpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChpdGVtKTtcbiAgICAgICAgICByb2xsYmFjay5wdXNoKGl0ZW0uaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goaXRlbSwgaXRlbSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldmlvdXNTdGF0ZS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgaWYgKHJvbGxiYWNrLmluZGV4T2YoaXRlbSkgIT09IC0xKSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKGl0ZW0sIGl0ZW0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGxldCBwb3N0cyA9IHt9O1xuICAgICAgc2VsZWN0aW9uLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgcG9zdHNbaXRlbS5pZF0gPSBpdGVtO1xuICAgICAgfSk7XG5cbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIG1vZGFsLnNob3coXG4gICAgICAgIDxFcnJvcnNMaXN0XG4gICAgICAgICAgZXJyb3JzPXtlcnJvcnN9XG4gICAgICAgICAgcG9zdHM9e3Bvc3RzfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UocHJvcHMpIHtcbiAgbGV0IGNvbmZpcm1lZCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBtZXJnZSBzZWxlY3RlZCBwb3N0cz8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCIpKTtcbiAgaWYgKCFjb25maXJtZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9wcy5zZWxlY3Rpb24uc2xpY2UoMSkubWFwKChzZWxlY3Rpb24pID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgfSkpO1xuICB9KTtcblxuICBhamF4LnBvc3QocHJvcHMudGhyZWFkLmFwaS5wb3N0cy5tZXJnZSwge1xuICAgIHBvc3RzOiBwcm9wcy5zZWxlY3Rpb24ubWFwKChwb3N0KSA9PiBwb3N0LmlkKVxuICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChkYXRhLCBwb3N0Lmh5ZHJhdGUoZGF0YSkpKTtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cblxuICAgIHByb3BzLnNlbGVjdGlvbi5zbGljZSgxKS5tYXAoKHNlbGVjdGlvbikgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShwcm9wcykge1xuICBsZXQgY29uZmlybWVkID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBzZWxlY3RlZCBwb3N0cz8gVGhpcyBhY3Rpb24gaXMgbm90IHJldmVyc2libGUhXCIpKTtcbiAgaWYgKCFjb25maXJtZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9wcy5zZWxlY3Rpb24ubWFwKChzZWxlY3Rpb24pID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgfSkpO1xuICB9KTtcblxuICBjb25zdCBpZHMgPSBwcm9wcy5zZWxlY3Rpb24ubWFwKChwb3N0KSA9PiB7IHJldHVybiBwb3N0LmlkOyB9KTtcblxuICBhamF4LmRlbGV0ZShwcm9wcy50aHJlYWQuYXBpLnBvc3RzLmluZGV4LCBpZHMpLnRoZW4oKCkgPT4ge1xuICAgIHJldHVybjtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cblxuICAgIHByb3BzLnNlbGVjdGlvbi5tYXAoKHNlbGVjdGlvbikgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgKiBhcyBtb2RlcmF0aW9uIGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gJy4vbW92ZSc7XG5pbXBvcnQgU3BsaXRNb2RhbCBmcm9tICcuL3NwbGl0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgPEFwcHJvdmUgey4uLnByb3BzfSAvPlxuICAgICAgPE1lcmdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxNb3ZlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxTcGxpdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8UHJvdGVjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5wcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbmhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPERlbGV0ZSB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIEFwcHJvdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24uYXBwcm92ZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9hcHByb3ZlICYmIHBvc3QuaXNfdW5hcHByb3ZlZDtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgZG9uZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFwcHJvdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNZXJnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5tZXJnZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24ubGVuZ3RoID4gMSAmJiB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX21lcmdlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjYWxsX21lcmdlXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2VcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPE1vdmVNb2RhbCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICApO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX21vdmU7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGFycm93X2ZvcndhcmRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3BsaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8U3BsaXRNb2RhbCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICApO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX21vdmU7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGNhbGxfc3BsaXRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTcGxpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucHJvdGVjdCh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuICFwb3N0LmlzX3Byb3RlY3RlZCAmJiBwb3N0LmFjbC5jYW5fcHJvdGVjdDtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUHJvdGVjdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVucHJvdGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bnByb3RlY3QodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmlzX3Byb3RlY3RlZCAmJiBwb3N0LmFjbC5jYW5fcHJvdGVjdDtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vcGVuXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5wcm90ZWN0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5oaWRlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX2hpZGUgJiYgIXBvc3QuaXNfaGlkZGVuO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB2aXNpYmlsaXR5X29mZlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5oaWRlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX3VuaGlkZSAmJiBwb3N0LmlzX2hpZGRlbjtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgdmlzaWJpbGl0eVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuaGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5yZW1vdmUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fZGVsZXRlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjbGVhclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGVycm9ycywgcG9zdHMgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW9kZXJhdGlvblwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk9uZSBvciBtb3JlIHBvc3RzIGNvdWxkIG5vdCBiZSBjaGFuZ2VkOlwiKX1cbiAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWVycm9yZWQtaXRlbXNcIj5cbiAgICAgICAgICAgIHtlcnJvcnMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFBvc3RFcnJvcnNcbiAgICAgICAgICAgICAgICAgIGVycm9ycz17cG9zdC5kZXRhaWx9XG4gICAgICAgICAgICAgICAgICBrZXk9e3Bvc3QuaWR9XG4gICAgICAgICAgICAgICAgICBwb3N0PXtwb3N0c1twb3N0LmlkXX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC91bD5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdEVycm9ycyh7IGVycm9ycywgcG9zdCB9KSB7XG4gIGNvbnN0IGhlYWRpbmcgPSBpbnRlcnBvbGF0ZShcbiAgICBnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIG9uICUocG9zdGVkX29uKXNcIiksXG4gICAge1xuICAgICAgcG9zdGVkX29uOiBwb3N0LnBvc3RlZF9vbi5mb3JtYXQoJ0xMLCBMVCcpLFxuICAgICAgdXNlcm5hbWU6IHBvc3QucG9zdGVyX25hbWVcbiAgICB9LFxuICAgIHRydWVcbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxoNT57aGVhZGluZ306PC9oNT5cbiAgICAgIHtlcnJvcnMubWFwKChlcnJvciwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxwIGtleT17aX0+e2Vycm9yfTwvcD5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC9saT5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERyb3Bkb3duIGZyb20gJy4vZHJvcGRvd24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIuaWQgfHwgIWlzVmlzaWJsZShwcm9wcy50aHJlYWQsIHByb3BzLnBvc3RzLnJlc3VsdHMpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBzZWxlY3Rpb24gPSBwcm9wcy5wb3N0cy5yZXN1bHRzLmZpbHRlcigocG9zdCkgPT4ge1xuICAgIHJldHVybiBwb3N0LmlzU2VsZWN0ZWQ7XG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJkcm9wdXBcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGUgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgIGRpc2FibGVkPXshc2VsZWN0aW9uLmxlbmd0aH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiUG9zdHMgb3B0aW9uc1wiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPERyb3Bkb3duIHNlbGVjdGlvbj17c2VsZWN0aW9ufSB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUodGhyZWFkLCBwb3N0cykge1xuICBpZiAodGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMgJiYgcG9zdHMubGVuZ3RoID4gMSkge1xuICAgIC8vIGZhc3QgdGVzdDogc2hvdyBtb2RlcmF0aW9uIG1lbnUgaWYgd2UgY2FuIG1lcmdlIHBvc3RzXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBzbG93IHRlc3Q6IHNob3cgbW9kZXJhdGlvbiBpZiBhbnkgb2YgcG9zdHMgaGFzIG1vZGVyYXRpb24gb3B0aW9uc1xuICBsZXQgdmlzaWJsZSA9IGZhbHNlO1xuICBwb3N0cy5mb3JFYWNoKChwb3N0KSA9PiB7XG4gICAgaWYgKCFwb3N0LmlzX2V2ZW50KSB7XG4gICAgICBjb25zdCBzaG93TW9kZXJhdGlvbiA9IChcbiAgICAgICAgKHBvc3QuYWNsLmNhbl9hcHByb3ZlICYmIHBvc3QuaXNfdW5hcHByb3ZlZCkgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX2RlbGV0ZSB8fFxuICAgICAgICAoIXBvc3QuaXNfaGlkZGVuICYmIHBvc3QuYWNsLmNhbl9oaWRlKSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fbW92ZSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fbWVyZ2UgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX3Byb3RlY3QgfHxcbiAgICAgICAgKHBvc3QuaXNfaGlkZGVuICYmIHBvc3QuYWNsLmNhbl91bmhpZGUpIHx8XG4gICAgICAgIHBvc3QuYWNsLmNhbl91bnByb3RlY3RcbiAgICAgICk7XG5cbiAgICAgIGlmIChzaG93TW9kZXJhdGlvbikge1xuICAgICAgICB2aXNpYmxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdmlzaWJsZTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHVybDogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXJsOiBbXVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnVybC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgbGluayB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLm1vdmUsIHtcbiAgICAgIG5ld190aHJlYWQ6IHRoaXMuc3RhdGUudXJsLFxuICAgICAgcG9zdHM6IHRoaXMucHJvcHMuc2VsZWN0aW9uLm1hcCgocG9zdCkgPT4gcG9zdC5pZClcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHRoaXMucHJvcHMuc2VsZWN0aW9uLmZvckVhY2goKHNlbGVjdGlvbikgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgICB9KSk7XG4gICAgfSk7XG5cbiAgICBtb2RhbC5oaWRlKCk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCBwb3N0cyB3ZXJlIG1vdmVkIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIG9uVXJsQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgndXJsJywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkxpbmsgdG8gdGhyZWFkIHlvdSB3YW50IHRvIG1vdmUgcG9zdHMgdG9cIil9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVybH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNb3ZlIHBvc3RzXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1vdmUgcG9zdHNcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RhbExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHZhbGlkYXRvcnMgZnJvbSAnbWlzYWdvL3V0aWxzL3ZhbGlkYXRvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxQb3N0aW5nQ29uZmlnIHsuLi5wcm9wc30gRm9ybT17TW9kZXJhdGlvbkZvcm19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBQb3N0aW5nQ29uZmlnIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNFcnJvcjogZmFsc2UsXG5cbiAgICAgIGNhdGVnb3JpZXM6IFtdXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1RIUkVBRF9FRElUT1JfQVBJJykpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7XG4gICAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICB2YWx1ZTogaXRlbS5pZCxcbiAgICAgICAgICBwb3N0OiBpdGVtLnBvc3RcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBjYXRlZ29yaWVzXG4gICAgICB9KVxuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0Vycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8RXJyb3IgbWVzc2FnZT17dGhpcy5zdGF0ZS5pc0Vycm9yfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RlcmF0aW9uRm9ybSB7Li4udGhpcy5wcm9wc30gY2F0ZWdvcmllcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vZGVyYXRpb25Gb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiAnJyxcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgY2F0ZWdvcmllczogcHJvcHMuY2F0ZWdvcmllcyxcbiAgICAgIHdlaWdodDogMCxcbiAgICAgIGlzX2hpZGRlbjogMCxcbiAgICAgIGlzX2Nsb3NlZDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdGl0bGU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnJlcXVpcmVkKClcbiAgICAgICAgXVxuICAgICAgfSxcblxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG5cbiAgICB0aGlzLmlzSGlkZGVuQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAndmlzaWJpbGl0eScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAndmlzaWJpbGl0eV9vZmYnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLmlzQ2xvc2VkQ2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogZmFsc2UsXG4gICAgICAgICdpY29uJzogJ2xvY2tfb3V0bGluZScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogdHJ1ZSxcbiAgICAgICAgJ2ljb24nOiAnbG9jaycsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuYWNsID0ge307XG4gICAgdGhpcy5wcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XG4gICAgICBpZiAoY2F0ZWdvcnkucG9zdCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhdGVnb3J5ID0gY2F0ZWdvcnkuaWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjbFtjYXRlZ29yeS5pZF0gPSB7XG4gICAgICAgICAgY2FuX3Bpbl90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LnBpbixcbiAgICAgICAgICBjYW5fY2xvc2VfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5jbG9zZSxcbiAgICAgICAgICBjYW5faGlkZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmhpZGUsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IHRoaXMudmFsaWRhdGUoKVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5zcGxpdCwge1xuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHdlaWdodDogdGhpcy5zdGF0ZS53ZWlnaHQsXG4gICAgICBpc19oaWRkZW46IHRoaXMuc3RhdGUuaXNfaGlkZGVuLFxuICAgICAgaXNfY2xvc2VkOiB0aGlzLnN0YXRlLmlzX2Nsb3NlZCxcbiAgICAgIHBvc3RzOiB0aGlzLnByb3BzLnNlbGVjdGlvbi5tYXAoKHBvc3QpID0+IHBvc3QuaWQpXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIG1vZGFsLmhpZGUoKTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHBvc3RzIHdlcmUgc3BsaXQgaW50byBuZXcgdGhyZWFkLlwiKSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2Vycm9ycyc6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KTtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIEFycmF5LmlzQXJyYXkocmVqZWN0aW9uKSkge1xuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtyZWplY3Rpb259IC8+KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gKGV2KSA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV2LnRhcmdldC52YWx1ZTtcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUlkXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fcGluX3RocmVhZHMgPCBuZXdTdGF0ZS53ZWlnaHQpIHtcbiAgICAgIG5ld1N0YXRlLndlaWdodCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19oaWRkZW4gPSAwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2Nsb3NlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICB9O1xuXG4gIGdldFdlaWdodENob2ljZXMoKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAncmVtb3ZlJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vdCBwaW5uZWRcIiksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdib29rbWFya19ib3JkZXInLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIiksXG4gICAgICB9XG4gICAgXTtcblxuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMgPT0gMikge1xuICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgJ3ZhbHVlJzogMixcbiAgICAgICAgJ2ljb24nOiAnYm9va21hcmsnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZXM7XG4gIH1cblxuICByZW5kZXJXZWlnaHRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB3ZWlnaHRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd3ZWlnaHQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53ZWlnaHR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5nZXRXZWlnaHRDaG9pY2VzKCl9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckhpZGRlbkZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkhpZGUgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfaGlkZGVuJyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkZGVufVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNIaWRkZW5DaG9pY2VzfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJDbG9zZWRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2UgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfY2xvc2VkJyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfY2xvc2VkfVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNDbG9zZWRDaG9pY2VzfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnRpdGxlfT5cbiAgICAgICAgICAgICAgPGlucHV0IGlkPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndGl0bGUnKX1cbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCI+PC9kaXY+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDYXRlZ29yeVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNhdGVnb3J5fT5cbiAgICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0IGlkPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCI+PC9kaXY+XG5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlcldlaWdodEZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVyQ2xvc2VkRmllbGQoKX1cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXQgcG9zdHNcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Nb2RhbD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2FkZXIoKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgPE1vZGFsTG9hZGVyIC8+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbid0IG1vdmUgc2VsZWN0ZWQgcG9zdHMgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge3Byb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJPa1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L01vZGFsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWwocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJTcGxpdCBwb3N0cyBpbnRvIG5ldyB0aHJlYWRcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTWVyZ2VNb2RhbCBmcm9tICcuL21lcmdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gJy4vbW92ZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjYWxsQXBpID0gKG9wcywgc3VjY2Vzc01lc3NhZ2UpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQuYnVzeSgpKTtcblxuICAgIC8vIGJ5IHRoZSBjaGFuY2UgdXBkYXRlIHRocmVhZCBhY2wgdG9vXG4gICAgb3BzLnB1c2goe29wOiAnYWRkJywgcGF0aDogJ2FjbCcsIHZhbHVlOiB0cnVlfSk7XG5cbiAgICBhamF4LnBhdGNoKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCwgb3BzKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQudXBkYXRlKGRhdGEpKTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuICAgICAgc25hY2tiYXIuc3VjY2VzcyhzdWNjZXNzTWVzc2FnZSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSk7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBwaW5HbG9iYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnd2VpZ2h0JyxcbiAgICAgICAgdmFsdWU6IDJcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHBpbm5lZCBnbG9iYWxseS5cIikpO1xuICB9O1xuXG4gIHBpbkxvY2FsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ3dlaWdodCcsXG4gICAgICAgIHZhbHVlOiAxXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBwaW5uZWQgbG9jYWxseS5cIikpO1xuICB9O1xuXG4gIHVucGluID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICd3ZWlnaHQnLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gdW5waW5uZWQuXCIpKTtcbiAgfTtcblxuICBhcHByb3ZlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy11bmFwcHJvdmVkJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBhcHByb3ZlZC5cIikpO1xuICB9O1xuXG4gIG9wZW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLWNsb3NlZCcsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gb3BlbmVkLlwiKSk7XG4gIH07XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLWNsb3NlZCcsXG4gICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBjbG9zZWQuXCIpKTtcbiAgfTtcblxuICB1bmhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLWhpZGRlbicsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbWFkZSB2aXNpYmxlLlwiKSk7XG4gIH07XG5cbiAgaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtaGlkZGVuJyxcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1hZGUgaGlkZGVuLlwiKSk7XG4gIH07XG5cbiAgbW92ZSA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPE1vdmVNb2RhbFxuICAgICAgICBwb3N0cz17dGhpcy5wcm9wcy5wb3N0c31cbiAgICAgICAgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfTtcblxuICBtZXJnZSA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPE1lcmdlTW9kYWwgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz5cbiAgICApO1xuICB9O1xuXG4gIGRlbGV0ZSA9ICgpID0+IHtcbiAgICBpZiAoIWNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyB0aHJlYWQ/XCIpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5idXN5KCkpO1xuXG4gICAgYWpheC5kZWxldGUodGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gZGVsZXRlZC5cIikpXG4gICAgICB3aW5kb3cubG9jYXRpb24gPSB0aGlzLnByb3BzLnRocmVhZC5jYXRlZ29yeS51cmwuaW5kZXg7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSk7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9O1xuXG4gIGdldFBpbkdsb2JhbGx5QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC53ZWlnaHQgPT09IDIpIHJldHVybiBudWxsO1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9waW5fZ2xvYmFsbHkpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5waW5HbG9iYWxseX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGJvb2ttYXJrXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIGdsb2JhbGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGdldFBpbkxvY2FsbHlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA9PT0gMSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3BpbikgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpbkxvY2FsbHl9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBib29rbWFya19ib3JkZXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJQaW4gbG9jYWxseVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cblxuICBnZXRVbnBpbkJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ID09PSAwKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fcGluKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudW5waW59XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBwYW5vcmFtYV9maXNoX2V5ZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVucGluXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGdldE1vdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX21vdmUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5tb3ZlfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgYXJyb3dfZm9yd2FyZFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG5cbiAgZ2V0TWVyZ2VCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX21lcmdlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubWVyZ2V9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjYWxsX21lcmdlXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2VcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG5cbiAgZ2V0QXBwcm92ZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmlzX3VuYXBwcm92ZWQpIHJldHVybiBudWxsO1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9hcHByb3ZlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYXBwcm92ZX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGRvbmVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBcHByb3ZlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGdldE9wZW5CdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5pc19jbG9zZWQpIHJldHVybiBudWxsO1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9jbG9zZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9wZW59XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBsb2NrX29wZW5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJPcGVuXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIGdldENsb3NlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19jbG9zZWQpIHJldHVybiBudWxsO1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9jbG9zZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG5cbiAgZ2V0VW5oaWRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfaGlkZGVuKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fdW5oaWRlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudW5oaWRlfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgdmlzaWJpbGl0eVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuaGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cblxuICBnZXRIaWRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19oaWRkZW4pIHJldHVybiBudWxsO1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9oaWRlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGlkZX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHZpc2liaWxpdHlfb2ZmXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cblxuICBnZXREZWxldGVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2RlbGV0ZSkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmRlbGV0ZX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGNsZWFyXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIj5cbiAgICAgICAge3RoaXMuZ2V0UGluR2xvYmFsbHlCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0UGluTG9jYWxseUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRVbnBpbkJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRNb3ZlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE1lcmdlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldEFwcHJvdmVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0T3BlbkJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRDbG9zZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRVbmhpZGVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0SGlkZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXREZWxldGVCdXR0b24oKX1cbiAgICAgIDwvdWw+XG4gICAgKTtcbiAgfVxufSIsImltcG9ydCBNb2RlcmF0aW9uQ29udHJvbHMgZnJvbSAnLi9jb250cm9scyc7XG5pbXBvcnQgaXNNb2RlcmF0aW9uVmlzaWJsZSBmcm9tICcuL2lzLXZpc2libGUnO1xuXG5leHBvcnQgeyBNb2RlcmF0aW9uQ29udHJvbHMsIGlzTW9kZXJhdGlvblZpc2libGUgfTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0aHJlYWQpIHtcbiAgcmV0dXJuICEhKFxuICAgICh0aHJlYWQuYWNsLmNhbl9hcHByb3ZlICYmIHRocmVhZC5pc191bmFwcHJvdmVkKSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX2Nsb3NlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5fZGVsZXRlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5faGlkZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX21vdmUgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9tZXJnZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX3BpbiB8fFxuICAgICh0aHJlYWQuYWNsLmNhbl9waW5fZ2xvYmFsbHkgJiYgdGhyZWFkLndlaWdodCAhPT0gMikgfHxcbiAgICAodGhyZWFkLmFjbC5jYW5fdW5oaWRlICYmIHRocmVhZC5pc19oaWRkZW4pXG4gICk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lcmdlQ29uZmxpY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbWVyZ2UtY29uZmxpY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHRocmVhZCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXJsOiAnJyxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1cmw6IFtdXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXJsLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBsaW5rIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgLy8gZnJlZXplIHRocmVhZFxuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5idXN5KCkpO1xuXG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkubWVyZ2UsIHtcbiAgICAgIG90aGVyX3RocmVhZDogdGhpcy5zdGF0ZS51cmxcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgaGFuZGxlU3VjY2VzcyA9IChzdWNjZXNzKSA9PiB7XG4gICAgdGhpcy5oYW5kbGVTdWNjZXNzVW5tb3VudGVkKHN1Y2Nlc3MpO1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgaGFuZGxlU3VjY2Vzc1VubW91bnRlZCA9IChzdWNjZXNzKSA9PiB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1lcmdlZCB3aXRoIG90aGVyIG9uZS5cIikpO1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsO1xuICB9O1xuXG4gIGhhbmRsZUVycm9yID0gKHJlamVjdGlvbikgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuXG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5iZXN0X2Fuc3dlcnMgfHwgcmVqZWN0aW9uLnBvbGxzKSB7XG4gICAgICAgIG1vZGFsLnNob3coXG4gICAgICAgICAgPE1lcmdlQ29uZmxpY3RcbiAgICAgICAgICAgIGFwaT17dGhpcy5wcm9wcy50aHJlYWQuYXBpLm1lcmdlfVxuICAgICAgICAgICAgYmVzdEFuc3dlcnM9e3JlamVjdGlvbi5iZXN0X2Fuc3dlcnN9XG4gICAgICAgICAgICBkYXRhPXt7b3RoZXJfdGhyZWFkOiB0aGlzLnN0YXRlLnVybH19XG4gICAgICAgICAgICBwb2xscz17cmVqZWN0aW9uLnBvbGxzfVxuICAgICAgICAgICAgb25FcnJvcj17dGhpcy5oYW5kbGVFcnJvcn1cbiAgICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5oYW5kbGVTdWNjZXNzVW5tb3VudGVkfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5iZXN0X2Fuc3dlcikge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uYmVzdF9hbnN3ZXJbMF0pO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24ucG9sbCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucG9sbFswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgb25VcmxDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd1cmwnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkxpbmsgdG8gdGhyZWFkIHlvdSB3YW50IHRvIG1lcmdlIHdpdGhcIil9XG4gICAgICAgICAgICAgICAgaGVscF90ZXh0PXtnZXR0ZXh0KFwiTWVyZ2Ugd2lsbCBkZWxldGUgY3VycmVudCB0aHJlYWQgYW5kIG1vdmUgaXRzIGNvbnRlbnRzIHRvIHRoZSB0aHJlYWQgc3BlY2lmaWVkIGhlcmUuXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX0+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNZXJnZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNZXJnZSB0aHJlYWRcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcjogZmFsc2UsXG5cbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgY2F0ZWdvcmllczogW10sXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1RIUkVBRF9FRElUT1JfQVBJJykpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGxldCBjYXRlZ29yeSA9IG51bGw7XG5cbiAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAvLyBwaWNrIGZpcnN0IGNhdGVnb3J5IHRoYXQgYWxsb3dzIHBvc3RpbmcgYW5kIGlmIGl0IG1heSwgb3ZlcnJpZGUgaXQgd2l0aCBpbml0aWFsIG9uZVxuICAgICAgICBpZiAoaXRlbS5wb3N0ICE9PSBmYWxzZSAmJiAhY2F0ZWdvcnkpIHtcbiAgICAgICAgICBjYXRlZ29yeSA9IGl0ZW0uaWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7XG4gICAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICB2YWx1ZTogaXRlbS5pZFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNSZWFkeTogdHJ1ZSxcblxuICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICAvLyBmcmVlemUgdGhyZWFkXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSk7XG5cbiAgICByZXR1cm4gYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnY2F0ZWdvcnknLCB2YWx1ZTogdGhpcy5zdGF0ZS5jYXRlZ29yeX0sXG4gICAgXSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIC8vIHJlZnJlc2ggdGhyZWFkIGFuZCBkaXNwbGF5ZWQgcG9zdHNcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsIHtwYWdlOiB0aGlzLnByb3BzLnBvc3RzLnBhZ2V9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVwbGFjZShkYXRhKSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5sb2FkKGRhdGEucG9zdF9zZXQpKTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuXG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbW92ZWQuXCIpKTtcbiAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKTtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdjYXRlZ29yeScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgIDxGb3JtR3JvdXAgZm9yPVwiaWRfY2F0ZWdvcnlcIiBsYWJlbD17Z2V0dGV4dChcIk5ldyBjYXRlZ29yeVwiKX0+XG4gICAgICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmcgfHwgdGhpcy5wcm9wcy50aHJlYWQuaXNCdXN5fVxuICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZyB8fCB0aGlzLnByb3BzLnRocmVhZC5pc0J1c3l9PlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJNb3ZlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsTWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3J9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxMb2FkaW5nIC8+XG4gICAgICApO1xuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbEhlYWRlcihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1vdmUgdGhyZWFkXCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbExvYWRpbmcocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICA8TW9kYWxMb2FkZXIgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxNZXNzYWdlKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZVwiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSB0aGlzIHRocmVhZCBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICB7cHJvcHMubWVzc2FnZX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxuYXYgY2xhc3NOYW1lPVwibWlzYWdvLXBhZ2luYXRpb24gcHVsbC1sZWZ0XCI+XG4gICAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgICAgPE1vcmUgbW9yZT17cHJvcHMucG9zdHMubW9yZX0gLz5cbiAgICA8L25hdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXBhZ2luYXRvclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8Rmlyc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8UHJldmlvdXNQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8TmV4dFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxMYXN0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpcnN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMuZmlyc3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvblwiXG4gICAgICAgIHRvPXtwcm9wcy50aHJlYWQudXJsLmluZGV4fVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb24gZGlzYWJsZWRcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGZpcnN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5maXJzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZXZpb3VzUGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMucGFnZSA+IDEpIHtcbiAgICBsZXQgcHJldmlvdXNVcmwgPSAnJztcbiAgICBpZiAocHJvcHMucG9zdHMucHJldmlvdXMpIHtcbiAgICAgIHByZXZpb3VzVXJsID0gcHJvcHMucG9zdHMucHJldmlvdXMgKyAnLyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmUgYnRuLWljb25cIlxuICAgICAgICB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleCArIHByZXZpb3VzVXJsfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIHByZXZpb3VzIHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvbiBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gcHJldmlvdXMgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBOZXh0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMubW9yZSkge1xuICAgIGxldCBuZXh0VXJsID0gJyc7XG4gICAgaWYgKHByb3BzLnBvc3RzLm5leHQpIHtcbiAgICAgIG5leHRVcmwgPSBwcm9wcy5wb3N0cy5uZXh0ICsgJy8nO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uXCJcbiAgICAgICAgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXggKyBuZXh0VXJsfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIG5leHQgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZSBidG4taWNvbiBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbmV4dCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMubGFzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uXCJcbiAgICAgICAgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXggKyBwcm9wcy5wb3N0cy5sYXN0ICsgJy8nfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIGxhc3QgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lIGJ0bi1pY29uIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBsYXN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9yZShwcm9wcykge1xuICBsZXQgbWVzc2FnZSA9IG51bGw7XG4gIGlmIChwcm9wcy5tb3JlKSB7XG4gICAgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGVyZSBpcyAlKG1vcmUpcyBtb3JlIHBvc3QgaW4gdGhpcyB0aHJlYWQuXCIsXG4gICAgICBcIlRoZXJlIGFyZSAlKG1vcmUpcyBtb3JlIHBvc3RzIGluIHRoaXMgdGhyZWFkLlwiLFxuICAgICAgcHJvcHMubW9yZSk7XG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHsnbW9yZSc6IHByb3BzLm1vcmV9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlRoZXJlIGFyZSBubyBtb3JlIHBvc3RzIGluIHRoaXMgdGhyZWFkLlwiKTtcbiAgfVxuXG4gIHJldHVybiA8cD57bWVzc2FnZX08L3A+O1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgJ2J0biBidG4tcHJpbWFyeSBidG4tb3V0bGluZSd9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBjaGF0XG4gICAgICA8L3NwYW4+XG4gICAgICB7Z2V0dGV4dChcIlJlcGx5XCIpfVxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBSb3V0ZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWQvcm91dGUnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3BhcnRpY2lwYW50cyc6IHN0b3JlLnBhcnRpY2lwYW50cyxcbiAgICAncG9sbCc6IHN0b3JlLnBvbGwsXG4gICAgJ3Bvc3RzJzogc3RvcmUucG9zdHMsXG4gICAgJ3RocmVhZCc6IHN0b3JlLnRocmVhZCxcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAndXNlcic6IHN0b3JlLmF1dGgudXNlclxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGNvbnN0IHRocmVhZCA9IG1pc2Fnby5nZXQoJ1RIUkVBRCcpO1xuICBjb25zdCBiYXNlUGF0aCA9IHRocmVhZC51cmwuaW5kZXgucmVwbGFjZSh0aHJlYWQuc2x1ZyArICctJyArIHRocmVhZC5waywgJzpzbHVnJyk7XG5cbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBwYXRoOiBiYXNlUGF0aCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogYmFzZVBhdGggKyAnOnBhZ2UvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKVxuICAgIH1cbiAgXTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhcnRpY2lwYW50cyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYXJ0aWNpcGFudHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IFBvbGwgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb2xsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUG9zdHNMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Bvc3RzLWxpc3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9oZWFkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUb29sYmFyVG9wIGZyb20gJy4vdG9vbGJhci10b3AnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUb29sYmFyQm90dG9tIGZyb20gJy4vdG9vbGJhci1ib3R0b20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHBhcnRpY2lwYW50cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb2xsIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb2xsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnNob3VsZEZldGNoRGF0YSgpKSB7XG4gICAgICB0aGlzLmZldGNoRGF0YSgpO1xuICAgICAgdGhpcy5zZXRQYWdlVGl0bGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZ0FwaSgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICh0aGlzLnNob3VsZEZldGNoRGF0YSgpKSB7XG4gICAgICB0aGlzLmZldGNoRGF0YSgpO1xuICAgICAgdGhpcy5zdGFydFBvbGxpbmdBcGkoKTtcbiAgICAgIHRoaXMuc2V0UGFnZVRpdGxlKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdG9wUG9sbGluZ0FwaSgpO1xuICB9XG5cbiAgc2hvdWxkRmV0Y2hEYXRhKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgICBjb25zdCBwYWdlID0gKHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMSkgKiAxO1xuICAgICAgcmV0dXJuIHBhZ2UgIT0gdGhpcy5wcm9wcy5wb3N0cy5wYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnVubG9hZCgpKTtcblxuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCwge1xuICAgICAgcGFnZTogdGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxXG4gICAgfSwgJ3Bvc3RzJykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy51cGRhdGUoZGF0YSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZ0FwaSgpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAndGhyZWFkLXBvc3RzJyxcblxuICAgICAgdXJsOiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMVxuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG5cbiAgICAgIGZyZXF1ZW5jeTogMTIwICogMTAwMCxcbiAgICAgIGRlbGF5ZWQ6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHN0b3BQb2xsaW5nQXBpKCkge1xuICAgIHBvbGxzLnN0b3AoJ3RocmVhZC1wb3N0cycpO1xuICB9XG5cbiAgc2V0UGFnZVRpdGxlKCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aHJlYWQudGl0bGUsXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5Lm5hbWUsXG4gICAgICBwYWdlOiAodGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxKSAqIDFcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVwbGFjZShkYXRhKSk7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMubG9hZChkYXRhLnBvc3Rfc2V0KSk7XG5cbiAgICBpZiAoZGF0YS5wYXJ0aWNpcGFudHMpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhcnRpY2lwYW50cy5yZXBsYWNlKGRhdGEucGFydGljaXBhbnRzKSk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEucG9sbCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZXBsYWNlKGRhdGEucG9sbCkpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0UGFnZVRpdGxlKCk7XG4gIH07XG5cbiAgb3BlblJlcGx5Rm9ybSA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogJ1JFUExZJyxcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnRocmVhZC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXhcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGxldCBjbGFzc05hbWUgPSAncGFnZSBwYWdlLXRocmVhZCc7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgICAgY2xhc3NOYW1lICs9ICcgcGFnZS10aHJlYWQtJyArIHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5LmNzc19jbGFzcztcbiAgICB9XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyLWJnXCI+XG4gICAgICAgIDxIZWFkZXIgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgPFRvb2xiYXJUb3BcbiAgICAgICAgICBvcGVuUmVwbHlGb3JtPXt0aGlzLm9wZW5SZXBseUZvcm19XG4gICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIC8+XG4gICAgICAgIDxQb2xsXG4gICAgICAgICAgcG9sbD17dGhpcy5wcm9wcy5wb2xsfVxuICAgICAgICAgIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAvPlxuICAgICAgICA8UGFydGljaXBhbnRzXG4gICAgICAgICAgcGFydGljaXBhbnRzPXt0aGlzLnByb3BzLnBhcnRpY2lwYW50c31cbiAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgLz5cbiAgICAgICAgPFBvc3RzTGlzdCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPFRvb2xiYXJCb3R0b21cbiAgICAgICAgICBvcGVuUmVwbHlGb3JtPXt0aGlzLm9wZW5SZXBseUZvcm19XG4gICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIC8+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIuaWQpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlIGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHtnZXRJY29uKHByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24pfVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHtnZXRMYWJlbChwcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPERyb3Bkb3duIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEljb24oc3Vic2NyaXB0aW9uKSB7XG4gIGlmIChzdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gJ3N0YXInO1xuICB9IGVsc2UgaWYgKHN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gJ3N0YXJfaGFsZic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICdzdGFyX2JvcmRlcic7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExhYmVsKHN1YnNjcmlwdGlvbikge1xuICBpZiAoc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJFLW1haWxcIik7XG4gIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiRW5hYmxlZFwiKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIkRpc2FibGVkXCIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEcm9wZG93bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9e3Byb3BzLmRyb3Bkb3duQ2xhc3NOYW1lIHx8IFwiZHJvcGRvd24tbWVudSBzdGljay10by1ib3R0b21cIn0+XG4gICAgICA8RGlzYWJsZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RW5hYmxlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxFbWFpbCB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIERpc2FibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIG51bGwsICd1bnN1YnNjcmliZScpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc3Rhcl9ib3JkZXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbnN1YnNjcmliZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW5hYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZSh0aGlzLnByb3BzLnRocmVhZCwgZmFsc2UsICdub3RpZnknKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHN0YXJfaGFsZlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlN1YnNjcmliZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW1haWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIHRydWUsICdlbWFpbCcpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc3RhclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlN1YnNjcmliZSB3aXRoIGUtbWFpbFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKHRocmVhZCwgbmV3U3RhdGUsIHZhbHVlKSB7XG4gIGNvbnN0IG9sZFN0YXRlID0ge1xuICAgIHN1YnNjcmlwdGlvbjogdGhyZWFkLnN1YnNjcmlwdGlvblxuICB9O1xuXG4gIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMudXBkYXRlKHtcbiAgICBzdWJzY3JpcHRpb246IG5ld1N0YXRlXG4gIH0pKTtcblxuICBhamF4LnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICB7b3A6ICdyZXBsYWNlJywgcGF0aDogJ3N1YnNjcmlwdGlvbicsIHZhbHVlOiB2YWx1ZX1cbiAgXSkudGhlbigoZmluYWxTdGF0ZSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMudXBkYXRlKGZpbmFsU3RhdGUpKTtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMudXBkYXRlKG9sZFN0YXRlKSk7XG4gIH0pO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQYWdlciwgTW9yZSB9IGZyb20gJy4vcGFnaW5hdG9yJztcbmltcG9ydCBQb3N0c01vZGVyYXRpb24gZnJvbSAnLi9tb2RlcmF0aW9uL3Bvc3RzJztcbmltcG9ydCBSZXBseUJ1dHRvbiBmcm9tICcuL3JlcGx5LWJ1dHRvbic7XG5pbXBvcnQgU3Vic2NyaXB0aW9uU3dpdGNoIGZyb20gJy4vc3Vic2NyaXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctdG9vbGJhclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTIgdGV4dC1jZW50ZXIgdmlzaWJsZS14cy1ibG9ja1wiPlxuICAgICAgICA8TW9yZSBtb3JlPXtwcm9wcy5wb3N0cy5tb3JlfSAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItdmVydGljYWwtc3BhY2VyXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtN1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgY29sLW1kLTVcIj5cbiAgICAgICAgICAgIDxQYWdlciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOCBjb2wtbWQtNyBoaWRkZW4teHNcIj5cbiAgICAgICAgICAgIDxNb3JlIG1vcmU9e3Byb3BzLnBvc3RzLm1vcmV9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8T3B0aW9ucyB2aXNpYmxlPXshIXByb3BzLnVzZXIuaWR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItdmVydGljYWwtc3BhY2VyIGhpZGRlbi1tZCBoaWRkZW4tbGdcIiAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxTcGFjZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxNb2RlcmF0aW9uIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8U3Vic2NyaXB0aW9uIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8UmVwbHlcbiAgICAgICAgICAgIHRocmVhZD17cHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgb25DbGljaz17cHJvcHMub3BlblJlcGx5Rm9ybX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvT3B0aW9ucz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE9wdGlvbnMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy52aXNpYmxlKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTVcIj5cbiAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kZXJhdGlvbihwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIuaWQpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNCBoaWRkZW4teHNcIj5cbiAgICAgIDxQb3N0c01vZGVyYXRpb24gey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIFN1YnNjcmlwdGlvbihwcm9wcykge1xuICBsZXQgeHNDbGFzcyA9IFwiY29sLXhzLTZcIjtcbiAgaWYgKCFwcm9wcy50aHJlYWQuYWNsLmNhbl9yZXBseSkge1xuICAgIHhzQ2xhc3MgPSAnY29sLXhzLTEyJztcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3hzQ2xhc3MgKyBcIiBjb2wtc20tNFwifT5cbiAgICAgIDxTdWJzY3JpcHRpb25Td2l0Y2hcbiAgICAgICAgYnRuQ2xhc3NOYW1lPVwiYnRuLWJsb2NrXCJcbiAgICAgICAgY2xhc3NOYW1lPVwiZHJvcHVwXCJcbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcGx5KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmFjbC5jYW5fcmVwbHkpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNiBjb2wtc20tNFwiPlxuICAgICAgPFJlcGx5QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNwYWNlcihwcm9wcykge1xuICBpZiAocHJvcHMudGhyZWFkLmFjbC5jYW5fcmVwbHkpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4teHMgaGlkZGVuLXNtIGNvbC1zbS00XCI+PC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZXBseUJ1dHRvbiBmcm9tICcuL3JlcGx5LWJ1dHRvbic7XG5pbXBvcnQgU3Vic2NyaXB0aW9uIGZyb20gJy4vc3Vic2NyaXB0aW9uJztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgY29uc3QgaGlkZGVuU3BlY2lhbE9wdGlvbiA9ICghcHJvcHMudGhyZWFkLmFjbC5jYW5fc3RhcnRfcG9sbCB8fCBwcm9wcy50aHJlYWQucG9sbCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyByb3ctdG9vbGJhciByb3ctdG9vbGJhci1ib3R0b20tbWFyZ2luXCI+XG4gICAgICA8R290b01lbnUgey4uLnByb3BzfSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtOSBjb2wtbWQtNSBjb2wtbWQtb2Zmc2V0LTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8U3BhY2VyIHZpc2libGU9eyFwcm9wcy51c2VyLmlkfSAvPlxuICAgICAgICAgIDxTcGFjZXIgdmlzaWJsZT17aGlkZGVuU3BlY2lhbE9wdGlvbn0gLz5cbiAgICAgICAgICA8U3Vic2NyaXB0aW9uTWVudSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFN0YXJ0UG9sbCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFJlcGx5IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9NZW51KHByb3BzKSB7XG4gIGNvbnN0IHsgdXNlciB9ID0gcHJvcHM7XG5cbiAgbGV0IGNsYXNzTmFtZSA9ICdjb2wteHMtMyBjb2wtc20tMyBjb2wtbWQtNSc7XG4gIGlmICh1c2VyLmlzX2Fub255bW91cykge1xuICAgIGNsYXNzTmFtZSA9ICdjb2wteHMtMTIgY29sLXNtLTMgY29sLW1kLTUnO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgPEdvdG9MYXN0IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8R290b05ldyB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPEdvdG9CZXN0QW5zd2VyIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8R290b1VuYXBwcm92ZWQgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxDb21wYWN0T3B0aW9ucyB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTmV3KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmlzX25ldykgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00XCI+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwcm9wcy50aHJlYWQudXJsLm5ld19wb3N0fVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoJ0dvIHRvIGZpcnN0IG5ldyBwb3N0Jyl9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiTmV3XCIpfVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b0Jlc3RBbnN3ZXIocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy50aHJlYWQuYmVzdF9hbnN3ZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNFwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC5iZXN0X2Fuc3dlcn1cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KCdHbyB0byBiZXN0IGFuc3dlcicpfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkJlc3QgYW5zd2VyXCIpfVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b1VuYXBwcm92ZWQocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy50aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHMgfHwgIXByb3BzLnRocmVhZC5hY2wuY2FuX2FwcHJvdmUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNFwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC51bmFwcHJvdmVkX3Bvc3R9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dCgnR28gdG8gZmlyc3QgdW5hcHByb3ZlZCBwb3N0Jyl9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9MYXN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNFwiPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3R9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICB0aXRsZT17Z2V0dGV4dCgnR28gdG8gbGFzdCBwb3N0Jyl9XG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiTGFzdFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBhY3RPcHRpb25zKHByb3BzKSB7XG4gIGNvbnN0IHsgdXNlciB9ID0gcHJvcHM7XG4gIGlmICh1c2VyLmlzX2Fub255bW91cykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInZpc2libGUteHMtYmxvY2sgdmlzaWJsZS1zbS1ibG9ja1wiPlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e3Byb3BzLnRocmVhZC51cmwubGFzdF9wb3N0fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLW91dGxpbmVcIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJMYXN0IHBvc3RcIil9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZHJvcGRvd24gdmlzaWJsZS14cy1ibG9jayB2aXNpYmxlLXNtLWJsb2NrXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlIGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGV4cGFuZF9tb3JlXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHQgaGlkZGVuLXhzXCI+XG4gICAgICAgICAge2dldHRleHQoXCJPcHRpb25zXCIpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgIDxTdGFydFBvbGxDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPEdvdG9OZXdDb21wYWN0IHsuLi5wcm9wc30gLz5cbiAgICAgICAgPEdvdG9VbmFwcHJvdmVkQ29tcGFjdCB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxHb3RvTGFzdENvbXBhY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9OZXdDb21wYWN0KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmlzX25ldykgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwcm9wcy50aHJlYWQudXJsLm5ld19wb3N0fVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIkdvIHRvIGZpcnN0IG5ldyBwb3N0XCIpfVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvVW5hcHByb3ZlZENvbXBhY3QocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy50aHJlYWQuaGFzX3VuYXBwcm92ZWRfcG9zdHMgfHwgIXByb3BzLnRocmVhZC5hY2wuY2FuX2FwcHJvdmUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGFcbiAgICAgICAgaHJlZj17cHJvcHMudGhyZWFkLnVybC51bmFwcHJvdmVkX3Bvc3R9XG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiR28gdG8gZmlyc3QgdW5hcHByb3ZlZCBwb3N0XCIpfVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb3RvTGFzdENvbXBhY3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YVxuICAgICAgICBocmVmPXtwcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdH1cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJHbyB0byBsYXN0IHBvc3RcIil9XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcGx5KHByb3BzKSB7XG4gIGlmICghcHJvcHMudGhyZWFkLmFjbC5jYW5fcmVwbHkpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNCBoaWRkZW4teHNcIj5cbiAgICAgIDxSZXBseUJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cHJvcHMub3BlblJlcGx5Rm9ybX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTdWJzY3JpcHRpb25NZW51KHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtc20tNFwiPlxuICAgICAgPFN1YnNjcmlwdGlvblxuICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93blwiXG4gICAgICAgIGRyb3Bkb3duQ2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0IHN0aWNrLXRvLWJvdHRvbVwiXG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGNsYXNzIFN0YXJ0UG9sbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgcG9zdGluZy5vcGVuKHtcbiAgICAgIG1vZGU6ICdQT0xMJyxcbiAgICAgIHN1Ym1pdDogdGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvbGwsXG5cbiAgICAgIHRocmVhZDogdGhpcy5wcm9wcy50aHJlYWQsXG4gICAgICBwb2xsOiBudWxsXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3N0YXJ0X3BvbGwgfHwgdGhpcy5wcm9wcy50aHJlYWQucG9sbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTQgaGlkZGVuLXhzXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBwb2xsXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQWRkIHBvbGxcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RhcnRQb2xsQ29tcGFjdCBleHRlbmRzIFN0YXJ0UG9sbCB7XG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fc3RhcnRfcG9sbCB8fCB0aGlzLnByb3BzLnRocmVhZC5wb2xsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFkZCBwb2xsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU3BhY2VyKHByb3BzKSB7XG4gIGlmICghcHJvcHMudmlzaWJsZSkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS00IGhpZGRlbi14c1wiLz5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3RFbXB0eSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9lbXB0eSc7XG5pbXBvcnQgTGlzdFJlYWR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3JlYWR5JztcbmltcG9ydCBMaXN0UHJldmlldyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9wcmV2aWV3JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5pc0xvYWRlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlzdFByZXZpZXcgLz5cbiAgICApO1xuICB9XG5cbiAgaWYgKHByb3BzLnRocmVhZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMaXN0RW1wdHlcbiAgICAgICAgZGlmZlNpemU9e3Byb3BzLmRpZmZTaXplfVxuICAgICAgICBhcHBseURpZmY9e3Byb3BzLmFwcGx5RGlmZn1cbiAgICAgID5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9MaXN0RW1wdHk+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPExpc3RSZWFkeVxuICAgICAgYWN0aXZlQ2F0ZWdvcnk9e3Byb3BzLmNhdGVnb3J5fVxuICAgICAgY2F0ZWdvcmllcz17cHJvcHMuY2F0ZWdvcmllc31cbiAgICAgIGxpc3Q9e3Byb3BzLmxpc3R9XG4gICAgICB0aHJlYWRzPXtwcm9wcy50aHJlYWRzfVxuXG4gICAgICBkaWZmU2l6ZT17cHJvcHMuZGlmZlNpemV9XG4gICAgICBhcHBseURpZmY9e3Byb3BzLmFwcGx5RGlmZn1cblxuICAgICAgc2hvd09wdGlvbnM9e3Byb3BzLnNob3dPcHRpb25zfVxuICAgICAgc2VsZWN0aW9uPXtwcm9wcy5zZWxlY3Rpb259XG5cbiAgICAgIGJ1c3lUaHJlYWRzPXtwcm9wcy5idXN5VGhyZWFkc31cbiAgICAvPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHsgZGlmZlNpemUsIGFwcGx5RGlmZiB9ID0gcHJvcHM7XG5cbiAgaWYgKGRpZmZTaXplID09PSAwKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gdGhyZWFkcy1kaWZmLW1lc3NhZ2VcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tYmxvY2sgYnRuLWRlZmF1bHRcIlxuICAgICAgICBvbkNsaWNrPXthcHBseURpZmZ9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBjYWNoZWRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkaWZmLW1lc3NhZ2VcIj5cbiAgICAgICAgICB7Z2V0TWVzc2FnZShkaWZmU2l6ZSl9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXNzYWdlKGRpZmZTaXplKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIlRoZXJlIGlzICUodGhyZWFkcylzIG5ldyBvciB1cGRhdGVkIHRocmVhZC4gQ2xpY2sgdGhpcyBtZXNzYWdlIHRvIHNob3cgaXQuXCIsXG4gICAgXCJUaGVyZSBhcmUgJSh0aHJlYWRzKXMgbmV3IG9yIHVwZGF0ZWQgdGhyZWFkcy4gQ2xpY2sgdGhpcyBtZXNzYWdlIHRvIHNob3cgdGhlbS5cIixcbiAgICBkaWZmU2l6ZSk7XG5cbiAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICB0aHJlYWRzOiBkaWZmU2l6ZVxuICB9LCB0cnVlKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERpZmZNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2RpZmYtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldERpZmZNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRpZmZTaXplID09PSAwKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPERpZmZNZXNzYWdlXG4gICAgICAgIGFwcGx5RGlmZj17dGhpcy5wcm9wcy5hcHBseURpZmZ9XG4gICAgICAgIGRpZmZTaXplPXt0aGlzLnByb3BzLmRpZmZTaXplfVxuICAgICAgLz5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICB7dGhpcy5nZXREaWZmTWVzc2FnZSgpfVxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBUaHJlYWRQcmV2aWV3IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcHJldmlld1wiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIDxUaHJlYWRQcmV2aWV3IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERpZmZNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2RpZmYtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFRocmVhZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3JlYWR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIDxEaWZmTWVzc2FnZVxuICAgICAgICAgIGRpZmZTaXplPXtwcm9wcy5kaWZmU2l6ZX1cbiAgICAgICAgICBhcHBseURpZmY9e3Byb3BzLmFwcGx5RGlmZn1cbiAgICAgICAgLz5cbiAgICAgICAge3Byb3BzLnRocmVhZHMubWFwKCh0aHJlYWQpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFRocmVhZFxuICAgICAgICAgICAgICBhY3RpdmVDYXRlZ29yeT17cHJvcHMuYWN0aXZlQ2F0ZWdvcnl9XG4gICAgICAgICAgICAgIGNhdGVnb3JpZXM9e3Byb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgIGxpc3Q9e3Byb3BzLmxpc3R9XG4gICAgICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuXG4gICAgICAgICAgICAgIHNob3dPcHRpb25zPXtwcm9wcy5zaG93T3B0aW9uc31cbiAgICAgICAgICAgICAgaXNTZWxlY3RlZD17cHJvcHMuc2VsZWN0aW9uLmluZGV4T2YodGhyZWFkLmlkKSA+PSAwfVxuXG4gICAgICAgICAgICAgIGlzQnVzeT17cHJvcHMuYnVzeVRocmVhZHMuaW5kZXhPZih0aHJlYWQuaWQpID49IDB9XG4gICAgICAgICAgICAgIGtleT17dGhyZWFkLmlkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDYXRlZ29yeSBmcm9tICcuL2NhdGVnb3J5JztcbmltcG9ydCB7IE9wdGlvbnNYcyB9IGZyb20gJy4uL29wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7Y2F0ZWdvcnksIGlzQnVzeSwgc2hvd09wdGlvbnMsIGlzU2VsZWN0ZWQsIHRocmVhZH0pIHtcbiAgbGV0IGNsYXNzTmFtZSA9ICdjb2wteHMtMTIgY29sLXNtLTEyJztcbiAgaWYgKHNob3dPcHRpb25zKSB7XG4gICAgaWYgKHRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgICAgY2xhc3NOYW1lID0gJ2NvbC14cy02IGNvbC1zbS0xMic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSA9ICdjb2wteHMtOSBjb2wtc20tMTInO1xuICAgIH1cbiAgfVxuXG4gIGxldCBzdGF0dXNGbGFncyA9IDA7XG4gIGlmICh0aHJlYWQuaXNfaGlkZGVuKSBzdGF0dXNGbGFncyArPSAxO1xuICBpZiAodGhyZWFkLmlzX2Nsb3NlZCkgc3RhdHVzRmxhZ3MgKz0gMTtcbiAgaWYgKHRocmVhZC5oYXNfcG9sbCkgc3RhdHVzRmxhZ3MgKz0gMTtcblxuICBsZXQgYWxsRmxhZ3NWaXNpYmxlID0gc2hvd09wdGlvbnMgJiYgc3RhdHVzRmxhZ3MgPT09IDM7XG5cbiAgbGV0IHRleHRDbGFzc05hbWUgPSAnZGV0YWlsLXRleHQgaGlkZGVuLXhzJztcbiAgaWYgKGFsbEZsYWdzVmlzaWJsZSkge1xuICAgIHRleHRDbGFzc05hbWUgKz0gJyBoaWRkZW4tc20nXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRocmVhZC1kZXRhaWxzLWJvdHRvbVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxDYXRlZ29yeVxuICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLWRldGFpbC1jYXRlZ29yeSBoaWRkZW4teHNcIlxuICAgICAgICAgIGNhdGVnb3J5PXtjYXRlZ29yeX1cbiAgICAgICAgLz5cbiAgICAgICAgPEhpZGRlbkxhYmVsXG4gICAgICAgICAgdGV4dENsYXNzTmFtZT17dGV4dENsYXNzTmFtZX1cbiAgICAgICAgICBkaXNwbGF5PXt0aHJlYWQuaXNfaGlkZGVufVxuICAgICAgICAvPlxuICAgICAgICA8Q2xvc2VkTGFiZWxcbiAgICAgICAgICB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfVxuICAgICAgICAgIGRpc3BsYXk9e3RocmVhZC5pc19jbG9zZWR9XG4gICAgICAgIC8+XG4gICAgICAgIDxQb2xsTGFiZWxcbiAgICAgICAgICB0ZXh0Q2xhc3NOYW1lPXt0ZXh0Q2xhc3NOYW1lfVxuICAgICAgICAgIGRpc3BsYXk9e3RocmVhZC5oYXNfcG9sbH1cbiAgICAgICAgLz5cbiAgICAgICAgPEJlc3RBbnN3ZXJMYWJlbCB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgICAgPFJlcGxpZXNMYWJlbFxuICAgICAgICAgIGZvcmNlRnVsbFRleHQ9eyFzaG93T3B0aW9ucyB8fCBzdGF0dXNGbGFncyA8IDJ9XG4gICAgICAgICAgcmVwbGllcz17dGhyZWFkLnJlcGxpZXN9XG4gICAgICAgIC8+XG4gICAgICAgIDxMYXN0UmVwbHlMYWJlbFxuICAgICAgICAgIGRhdGV0aW1lPXt0aHJlYWQubGFzdF9wb3N0X29ufVxuICAgICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3R9XG4gICAgICAgIC8+XG4gICAgICAgIDxMYXN0UG9zdGVyXG4gICAgICAgICAgcG9zdGVyTmFtZT17dGhyZWFkLmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdGVyfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8T3B0aW9uc1hzXG4gICAgICAgIGRpc2FibGVkPXtpc0J1c3l9XG4gICAgICAgIGRpc3BsYXk9e3Nob3dPcHRpb25zfVxuICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlkZGVuTGFiZWwoeyBkaXNwbGF5LCB0ZXh0Q2xhc3NOYW1lIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWwtaGlkZGVuXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHZpc2liaWxpdHlfb2ZmXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e3RleHRDbGFzc05hbWV9PlxuICAgICAgICB7Z2V0dGV4dChcIkhpZGRlblwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDbG9zZWRMYWJlbCh7IGRpc3BsYXksIHRleHRDbGFzc05hbWUgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbC1jbG9zZWRcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgbG9ja19vdXRsaW5lXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e3RleHRDbGFzc05hbWV9PlxuICAgICAgICB7Z2V0dGV4dChcIkNsb3NlZFwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsTGFiZWwoeyBkaXNwbGF5LCB0ZXh0Q2xhc3NOYW1lIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWwtcG9sbFwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBhc3Nlc3NtZW50XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e3RleHRDbGFzc05hbWV9PlxuICAgICAgICB7Z2V0dGV4dChcIlBvbGxcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9zcGFuPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQmVzdEFuc3dlckxhYmVsKHsgdGhyZWFkIH0pIHtcbiAgaWYgKCF0aHJlYWQuYmVzdF9hbnN3ZXIpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cInZpc2libGUteHMtaW5saW5lLWJsb2NrIHRocmVhZC1kZXRhaWwtYW5zd2VyZWRcIlxuICAgICAgaHJlZj17dGhyZWFkLnVybC5iZXN0X2Fuc3dlcn1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbGllc0xhYmVsKHsgcmVwbGllcywgZm9yY2VGdWxsVGV4dCB9KSB7XG4gIGNvbnN0IHRleHQgPSBuZ2V0dGV4dChcbiAgICBcIiUocmVwbGllcylzIHJlcGx5XCIsXG4gICAgXCIlKHJlcGxpZXMpcyByZXBsaWVzXCIsXG4gICAgcmVwbGllcyk7XG5cbiAgbGV0IGNvbXBhY3RDbGFzc05hbWUgPSAnJztcbiAgbGV0IGZ1bGxDbGFzc05hbWUgPSAnJztcblxuICBpZiAoZm9yY2VGdWxsVGV4dCkge1xuICAgIGNvbXBhY3RDbGFzc05hbWUgPSAnZGV0YWlsLXRleHQgaGlkZSc7XG4gICAgZnVsbENsYXNzTmFtZSA9ICdkZXRhaWwtdGV4dCc7XG4gIH0gZWxzZSB7XG4gICAgY29tcGFjdENsYXNzTmFtZSA9ICdkZXRhaWwtdGV4dCB2aXNpYmxlLXhzLWlubGluZS1ibG9jayc7XG4gICAgZnVsbENsYXNzTmFtZSA9ICdkZXRhaWwtdGV4dCBoaWRkZW4teHMnO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlsLXJlcGxpZXNcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgZm9ydW1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y29tcGFjdENsYXNzTmFtZX0+XG4gICAgICAgIHtyZXBsaWVzfVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXtmdWxsQ2xhc3NOYW1lfT5cbiAgICAgICAge2ludGVycG9sYXRlKHRleHQsIHsgcmVwbGllcyB9LCB0cnVlKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UmVwbHlMYWJlbCh7IGRhdGV0aW1lLCB1cmwgfSkge1xuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9XCJ2aXNpYmxlLXNtLWlubGluZS1ibG9jayB0aHJlYWQtZGV0YWlsLWxhc3QtcmVwbHlcIlxuICAgICAgaHJlZj17dXJsfVxuICAgICAgdGl0bGU9e2RhdGV0aW1lLmZvcm1hdCgnTExMJyl9XG4gICAgPlxuICAgICAge2RhdGV0aW1lLmZyb21Ob3codHJ1ZSl9XG4gICAgPC9hPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3Rlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3Rlck5hbWUsIHVybCB9ID0gcHJvcHM7XG4gIGNvbnN0IGNsYXNzTmFtZSA9ICd2aXNpYmxlLXNtLWlubGluZS1ibG9jayBpdGVtLXRpdGxlIHRocmVhZC1sYXN0LXBvc3Rlcic7XG5cbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gaHJlZj17dXJsfT5cbiAgICAgICAge3Bvc3Rlck5hbWV9XG4gICAgICA8L2E+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge3Bvc3Rlck5hbWV9XG4gICAgPC9zcGFuPlxuICApOztcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNhdGVnb3J5LCBjbGFzc05hbWUgfSkge1xuICBpZiAoIWNhdGVnb3J5KSByZXR1cm4gbnVsbDtcblxuICBpZiAoY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgdGhyZWFkLWRldGFpbC1jYXRlZ29yeS0nICsgY2F0ZWdvcnkuY3NzX2NsYXNzO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICBocmVmPXtjYXRlZ29yeS51cmwuaW5kZXh9XG4gICAgPlxuICAgICAge2NhdGVnb3J5Lm5hbWV9XG4gICAgPC9hPlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBCb3R0b21EZXRhaWxzIGZyb20gJy4vYm90dG9tJztcbmltcG9ydCBUb3BEZXRhaWxzIGZyb20gJy4vdG9wJztcblxuZXhwb3J0IHsgQm90dG9tRGV0YWlscyB9O1xuZXhwb3J0IHsgVG9wRGV0YWlscyB9OyIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2F0ZWdvcnkgZnJvbSAnLi9jYXRlZ29yeSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY2F0ZWdvcnksIHRocmVhZCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy10b3BcIj5cbiAgICAgIDxOZXdMYWJlbFxuICAgICAgICBpc1JlYWQ9e3RocmVhZC5pc19yZWFkfVxuICAgICAgICB1cmw9e3RocmVhZC51cmwubmV3X3Bvc3R9XG4gICAgICAvPlxuICAgICAgPFBpbm5lZExhYmVsIHdlaWdodD17dGhyZWFkLndlaWdodH0gLz5cbiAgICAgIDxVbmFwcHJvdmVkTGFiZWxcbiAgICAgICAgdGhyZWFkPXt0aHJlYWQuaXNfdW5hcHByb3ZlZH1cbiAgICAgICAgcG9zdHM9e3RocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0c31cbiAgICAgIC8+XG4gICAgICA8QmVzdEFuc3dlckxhYmVsIHRocmVhZD17dGhyZWFkfSAvPlxuICAgICAgPENhdGVnb3J5XG4gICAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgdGhyZWFkLWRldGFpbC1jYXRlZ29yeSB2aXNpYmxlLXhzLWlubGluZS1ibG9ja1wiXG4gICAgICAgIGNhdGVnb3J5PXtjYXRlZ29yeX1cbiAgICAgIC8+XG4gICAgICA8TGFzdFJlcGx5TGFiZWxcbiAgICAgICAgZGF0ZXRpbWU9e3RocmVhZC5sYXN0X3Bvc3Rfb259XG4gICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3R9XG4gICAgICAvPlxuICAgICAgPExhc3RQb3N0ZXJcbiAgICAgICAgcG9zdGVyTmFtZT17dGhyZWFkLmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3Rlcn1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBOZXdMYWJlbCh7IGlzUmVhZCwgdXJsIH0pIHtcbiAgaWYgKGlzUmVhZCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbC1uZXdcIlxuICAgICAgaHJlZj17dXJsfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgY29tbWVudFxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGV0YWlsLXRleHRcIj5cbiAgICAgICAge2dldHRleHQoXCJOZXcgcG9zdHNcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9hPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQaW5uZWRMYWJlbCh7IHdlaWdodCB9KSB7XG4gIGlmICh3ZWlnaHQgPT09IDApIHJldHVybiBudWxsO1xuXG4gIGxldCBjbGFzc05hbWUgPSAndGhyZWFkLWRldGFpbC1waW5uZWQtZ2xvYmFsbHknXG4gIGxldCBpY29uID0gJ2Jvb2ttYXJrJztcbiAgbGV0IHRleHQgPSBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpO1xuXG4gIGlmICh3ZWlnaHQgPT09IDEpIHtcbiAgICBjbGFzc05hbWUgPSAndGhyZWFkLWRldGFpbC1waW5uZWQtbG9jYWxseSdcbiAgICBpY29uID0gJ2Jvb2ttYXJrX2JvcmRlcic7XG4gICAgdGV4dCA9IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICB7aWNvbn1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRldGFpbC10ZXh0XCI+XG4gICAgICAgIHt0ZXh0fVxuICAgICAgPC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5hcHByb3ZlZExhYmVsKHsgcG9zdHMsIHRocmVhZCB9KSB7XG4gIGlmICghcG9zdHMgJiYgIXRocmVhZCkgcmV0dXJuIG51bGw7XG5cbiAgbGV0IGNsYXNzTmFtZSA9ICd0aHJlYWQtZGV0YWlsLXVuYXBwcm92ZWQtcG9zdHMnXG4gIGxldCBpY29uID0gJ3JlbW92ZV9jaXJjbGVfb3V0bGluZSc7XG4gIGxldCB0ZXh0ID0gZ2V0dGV4dChcIlVuYXBwcm92ZWQgcG9zdHNcIik7XG5cbiAgaWYgKHRocmVhZCkge1xuICAgIGNsYXNzTmFtZSA9ICd0aHJlYWQtZGV0YWlsLXVuYXBwcm92ZWQnXG4gICAgaWNvbiA9ICdyZW1vdmVfY2lyY2xlJztcbiAgICB0ZXh0ID0gZ2V0dGV4dChcIlVuYXBwcm92ZWRcIik7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAge2ljb259XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJkZXRhaWwtdGV4dFwiPlxuICAgICAgICB7dGV4dH1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJlc3RBbnN3ZXJMYWJlbCh7IHRocmVhZCB9KSB7XG4gIGlmICghdGhyZWFkLmJlc3RfYW5zd2VyKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxhXG4gICAgICBjbGFzc05hbWU9XCJoaWRkZW4teHMgdGhyZWFkLWRldGFpbC1hbnN3ZXJlZFwiXG4gICAgICBocmVmPXt0aHJlYWQudXJsLmJlc3RfYW5zd2VyfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3g8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJkZXRhaWwtdGV4dFwiPlxuICAgICAgICB7Z2V0dGV4dChcIkFuc3dlcmVkXCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFJlcGx5TGFiZWwoeyBkYXRldGltZSwgdXJsIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8YVxuICAgICAgY2xhc3NOYW1lPVwidmlzaWJsZS14cy1pbmxpbmUtYmxvY2sgdGhyZWFkLWRldGFpbC1sYXN0LXJlcGx5XCJcbiAgICAgIGhyZWY9e3VybH1cbiAgICAgIHRpdGxlPXtkYXRldGltZS5mb3JtYXQoJ0xMTCcpfVxuICAgID5cbiAgICAgIHtkYXRldGltZS5mcm9tTm93KHRydWUpfVxuICAgIDwvYT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFBvc3Rlcihwcm9wcykge1xuICBjb25zdCB7IHBvc3Rlck5hbWUsIHVybCB9ID0gcHJvcHM7XG5cbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJ2aXNpYmxlLXhzLWlubGluZS1ibG9jayBpdGVtLXRpdGxlIHRocmVhZC1sYXN0LXBvc3RlclwiXG4gICAgICAgIGhyZWY9e3VybH1cbiAgICAgID5cbiAgICAgICAge3Bvc3Rlck5hbWV9XG4gICAgICA8L2E+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwidmlzaWJsZS14cy1pbmxpbmUtYmxvY2sgaXRlbS10aXRsZSB0aHJlYWQtbGFzdC1wb3N0ZXJcIj5cbiAgICAgIHtwb3N0ZXJOYW1lfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInO1xuaW1wb3J0IFVzZXJVcmwgZnJvbSAnLi91c2VyLXVybCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgdGhyZWFkIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnRcIj5cbiAgICAgICAgPFVzZXJVcmxcbiAgICAgICAgICBjbGFzc05hbWU9XCJ0aHJlYWQtbGFzdC1wb3N0ZXItYXZhdGFyXCJcbiAgICAgICAgICB0aXRsZT17dGhyZWFkLmxhc3RfcG9zdGVyX25hbWV9XG4gICAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdGVyfVxuICAgICAgICA+XG4gICAgICAgICAgPEF2YXRhclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibWVkaWEtb2JqZWN0XCJcbiAgICAgICAgICAgIHNpemU9ezQwfVxuICAgICAgICAgICAgdXNlcj17dGhyZWFkLmxhc3RfcG9zdGVyfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvVXNlclVybD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgIDxVc2VyVXJsXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtbGFzdC1wb3N0ZXJcIlxuICAgICAgICAgIHVybD17dGhyZWFkLnVybC5sYXN0X3Bvc3Rlcn1cbiAgICAgICAgPlxuICAgICAgICAgIHt0aHJlYWQubGFzdF9wb3N0ZXJfbmFtZX1cbiAgICAgICAgPC9Vc2VyVXJsPlxuICAgICAgICA8VGltZXN0YW1wXG4gICAgICAgICAgZGF0ZXRpbWU9e3RocmVhZC5sYXN0X3Bvc3Rfb259XG4gICAgICAgICAgdXJsPXt0aHJlYWQudXJsLmxhc3RfcG9zdH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVGltZXN0YW1wKHsgZGF0ZXRpbWUsIHVybCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cInRocmVhZC1sYXN0LXJlcGx5XCJcbiAgICAgIGhyZWY9e3VybH1cbiAgICAgIHRpdGxlPXtkYXRldGltZS5mb3JtYXQoJ0xMTCcpfVxuICAgID5cbiAgICAgIHtkYXRldGltZS5mcm9tTm93KHRydWUpfVxuICAgIDwvYT5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFN1YnNjcmlwdGlvbkNvbXBhY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vY29tcGFjdCc7XG5pbXBvcnQgU3Vic2NyaXB0aW9uRnVsbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9mdWxsJztcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gT3B0aW9ucyh7IGRpc3BsYXksIGRpc2FibGVkLCBpc1NlbGVjdGVkLCB0aHJlYWQgfSkge1xuICBpZiAoIWRpc3BsYXkpIHJldHVybiBudWxsO1xuXG4gIGxldCBjbGFzc05hbWUgPSAnY29sLXNtLTIgY29sLW1kLTIgaGlkZGVuLXhzJztcbiAgaWYgKHRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgIGNsYXNzTmFtZSA9ICdjb2wtc20tMyBjb2wtbWQtMiBoaWRkZW4teHMnO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRocmVhZC1vcHRpb25zXCI+XG4gICAgICAgIDxTdWJzY3JpcHRpb25GdWxsXG4gICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAvPlxuICAgICAgICA8U3Vic2NyaXB0aW9uQ29tcGFjdFxuICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgLz5cbiAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIGlzU2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9XG4gICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBPcHRpb25zWHMoeyBkaXNwbGF5LCBkaXNhYmxlZCwgaXNTZWxlY3RlZCwgdGhyZWFkIH0pIHtcbiAgaWYgKCFkaXNwbGF5KSByZXR1cm4gbnVsbDtcblxuICBsZXQgY2xhc3NOYW1lID0gJydcbiAgaWYgKHRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgIGNsYXNzTmFtZSArPSAnY29sLXhzLTYnO1xuICB9IGVsc2Uge1xuICAgIGNsYXNzTmFtZSArPSAnY29sLXhzLTMnO1xuICB9XG4gIGNsYXNzTmFtZSArPSAnIHZpc2libGUteHMtYmxvY2sgdGhyZWFkLW9wdGlvbnMteHMnO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyB0aHJlYWQtb3B0aW9uc1wiPlxuICAgICAgICA8U3Vic2NyaXB0aW9uRnVsbFxuICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgLz5cbiAgICAgICAgPFN1YnNjcmlwdGlvbkNvbXBhY3RcbiAgICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgIC8+XG4gICAgICAgIDxDaGVja2JveFxuICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tib3ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICB0b2dnbGVTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lml0ZW0odGhpcy5wcm9wcy50aHJlYWQuaWQpKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkaXNhYmxlZCwgaXNTZWxlY3RlZCwgdGhyZWFkIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKCF0aHJlYWQubW9kZXJhdGlvbi5sZW5ndGgpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4taWNvbiBidG4tYmxvY2tcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlU2VsZWN0aW9ufVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHtpc1NlbGVjdGVkID8gJ2NoZWNrX2JveCcgOiAnY2hlY2tfYm94X291dGxpbmVfYmxhbmsnfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIHRocmVhZC1wcmV2aWV3XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkLWRldGFpbHMtdG9wIHZpc2libGUteHMtYmxvY2tcIj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIn19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwifX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCJ9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtdGl0bGVcIj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNjAsIDIwMCkgKyBcInB4XCJ9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0IGhpZGRlbi14c1wiXG4gICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDYwLCAyMDApICsgXCJweFwifX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dCBoaWRkZW4teHNcIlxuICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg2MCwgMjAwKSArIFwicHhcIn19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy1ib3R0b21cIj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgODApICsgXCJweFwifX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDgwKSArIFwicHhcIn19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJztcbmltcG9ydCB7IEJvdHRvbURldGFpbHMsIFRvcERldGFpbHMgfSBmcm9tICcuL2RldGFpbHMnO1xuaW1wb3J0IExhc3RBY3Rpb24gZnJvbSAnLi9sYXN0LWFjdGlvbic7XG5pbXBvcnQgeyBPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCBVc2VyVXJsIGZyb20gJy4vdXNlci11cmwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBjb25zdCB7XG4gICAgYWN0aXZlQ2F0ZWdvcnksXG4gICAgY2F0ZWdvcmllcyxcbiAgICBsaXN0LFxuICAgIHRocmVhZCxcblxuICAgIGlzQnVzeSxcbiAgICBpc1NlbGVjdGVkLFxuICAgIHNob3dPcHRpb25zLFxuICB9ID0gcHJvcHM7XG5cbiAgbGV0IGNhdGVnb3J5ID0gbnVsbDtcbiAgaWYgKGFjdGl2ZUNhdGVnb3J5LmlkICE9PSB0aHJlYWQuY2F0ZWdvcnkpIHtcbiAgICBjYXRlZ29yeSA9IGNhdGVnb3JpZXNbdGhyZWFkLmNhdGVnb3J5XTtcbiAgfVxuXG4gIGNvbnN0IGZsYXZvciA9IGNhdGVnb3J5IHx8IGFjdGl2ZUNhdGVnb3J5O1xuXG4gIGxldCBjbGFzc05hbWUgPSAndGhyZWFkLW1haW4gY29sLXhzLTEyJztcbiAgaWYgKHNob3dPcHRpb25zKSB7XG4gICAgaWYgKHRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgICAgY2xhc3NOYW1lICs9ICcgY29sLXNtLTkgY29sLW1kLTcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyBjb2wtc20tMTAgY29sLW1kLTcnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjbGFzc05hbWUgKz0gJyBjb2wtc20tMTIgY29sLW1kLTknO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtnZXRDbGFzc05hbWUodGhyZWFkLmlzX3JlYWQsIGlzQnVzeSwgaXNTZWxlY3RlZCwgZmxhdm9yKX0+XG4gICAgICA8VG9wRGV0YWlsc1xuICAgICAgICBjYXRlZ29yeT17Y2F0ZWdvcnl9XG4gICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRocmVhZC1yb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lZGlhLWxlZnQgaGlkZGVuLXhzXCI+XG5cbiAgICAgICAgICAgICAgPFVzZXJVcmxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0aHJlYWQtc3RhcnRlci1hdmF0YXJcIlxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aHJlYWQuc3RhcnRlcl9uYW1lfVxuICAgICAgICAgICAgICAgIHVybD17dGhyZWFkLnVybC5zdGFydGVyfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEF2YXRhclxuICAgICAgICAgICAgICAgICAgc2l6ZT17NDB9XG4gICAgICAgICAgICAgICAgICB1c2VyPXt0aHJlYWQuc3RhcnRlcn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L1VzZXJVcmw+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZWRpYS1ib2R5XCI+XG5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dGhyZWFkLnVybC5pbmRleH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZSB0aHJlYWQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICB7dGhyZWFkLnRpdGxlfVxuICAgICAgICAgICAgICA8L2E+XG5cbiAgICAgICAgICAgICAgPEJvdHRvbURldGFpbHNcbiAgICAgICAgICAgICAgICBjYXRlZ29yeT17Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzQnVzeX1cbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICAgICAgICAgIHNob3dPcHRpb25zPXtzaG93T3B0aW9uc31cbiAgICAgICAgICAgICAgICB0aHJlYWQ9e3RocmVhZH1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTMgaGlkZGVuLXhzIGhpZGRlbi1zbSB0aHJlYWQtbGFzdC1hY3Rpb25cIj5cbiAgICAgICAgICA8TGFzdEFjdGlvbiB0aHJlYWQ9e3RocmVhZH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxPcHRpb25zXG4gICAgICAgICAgZGlzYWJsZWQ9e2lzQnVzeX1cbiAgICAgICAgICBkaXNwbGF5PXtzaG93T3B0aW9uc31cbiAgICAgICAgICBpc1NlbGVjdGVkPXtpc1NlbGVjdGVkfVxuICAgICAgICAgIHRocmVhZD17dGhyZWFkfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENsYXNzTmFtZShpc1JlYWQsIGlzQnVzeSwgaXNTZWxlY3RlZCwgZmxhdm9yKSB7XG4gIGxldCBzdHlsZXMgPSBbJ2xpc3QtZ3JvdXAtaXRlbSddO1xuXG4gIGlmIChmbGF2b3IgJiYgZmxhdm9yLmNzc19jbGFzcykge1xuICAgIHN0eWxlcy5wdXNoKCdsaXN0LWdyb3VwLWNhdGVnb3J5LWhhcy1mbGF2b3InKTtcbiAgICBzdHlsZXMucHVzaCgnbGlzdC1ncm91cC1pdGVtLWNhdGVnb3J5LScgKyBmbGF2b3IuY3NzX2NsYXNzKTtcbiAgfVxuXG4gIGlmIChpc1JlYWQpIHtcbiAgICBzdHlsZXMucHVzaCgndGhyZWFkLXJlYWQnKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZXMucHVzaCgndGhyZWFkLW5ldycpO1xuICB9XG5cbiAgaWYgKGlzQnVzeSkge1xuICAgIHN0eWxlcy5wdXNoKCd0aHJlYWQtYnVzeScpO1xuICB9IGVsc2UgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICBzdHlsZXMucHVzaCgndGhyZWFkLXNlbGVjdGVkJyk7XG4gIH1cblxuICByZXR1cm4gc3R5bGVzLmpvaW4oJyAnKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTdWJzY3JpcHRpb25GdWxsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL2Z1bGwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBPcHRpb25zTW9kYWwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBTdWJzY3JpcHRpb25GdWxsIHtcbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzaG93T3B0aW9ucyA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KDxPcHRpb25zTW9kYWwgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz4pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgY29uc3QgeyBtb2RlcmF0aW9uIH0gPSB0aGlzLnByb3BzLnRocmVhZDtcblxuICAgIGxldCBjbGFzc05hbWUgPSAnJ1xuICAgIGlmIChtb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgICAgY2xhc3NOYW1lICs9ICdjb2wteHMtNic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnY29sLXhzLTEyJztcbiAgICB9XG4gICAgY2xhc3NOYW1lICs9ICcgaGlkZGVuLW1kIGhpZGRlbi1sZyc7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5zaG93T3B0aW9uc31cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBPcHRpb25zIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuICdzdGFyJztcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiAnc3Rhcl9oYWxmJztcbiAgICB9XG5cbiAgICByZXR1cm4gJ3N0YXJfYm9yZGVyJztcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gYnRuLWJsb2NrIGJ0bi1zdWJzY3JpYmUgYnRuLXN1YnNjcmliZS1mdWxsIGRyb3Bkb3duLXRvZ2dsZVwiO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1ibG9jayBidG4tc3Vic2NyaWJlIGJ0bi1zdWJzY3JpYmUtaGFsZiBkcm9wZG93bi10b2dnbGVcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gYnRuLWJsb2NrIGJ0bi1zdWJzY3JpYmUgZHJvcGRvd24tdG9nZ2xlXCI7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBtb2RlcmF0aW9uLCBzdWJzY3JpcHRpb24gfSA9IHRoaXMucHJvcHMudGhyZWFkO1xuICAgIGNvbnN0IGZ1bGx3aWR0aCA9ICFtb2RlcmF0aW9uLmxlbmd0aDtcblxuICAgIGxldCBjbGFzc05hbWUgPSBmdWxsd2lkdGggPyAnY29sLXhzLTEyJyA6ICdjb2wteHMtNic7XG4gICAgY2xhc3NOYW1lICs9ICcgaGlkZGVuLXhzIGhpZGRlbi1zbSc7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8TGFiZWxcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uPXttb2RlcmF0aW9ufVxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbj17c3Vic2NyaXB0aW9ufVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIDxPcHRpb25zXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiXG4gICAgICAgICAgICAgIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFiZWwoeyBtb2RlcmF0aW9uLCBzdWJzY3JpcHRpb24gfSkge1xuICBpZiAobW9kZXJhdGlvbi5sZW5ndGgpIHJldHVybiBudWxsO1xuXG4gIGxldCB0ZXh0ID0gZ2V0dGV4dChcIkRpc2FibGVkXCIpO1xuICBpZiAoc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgdGV4dCA9IGdldHRleHQoXCJFLW1haWxcIik7XG4gIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgIHRleHQgPSBnZXR0ZXh0KFwiRW5hYmxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHRcIj5cbiAgICAgIHt0ZXh0fVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE9wdGlvbnMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vb3B0aW9ucyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLXNtXCJcbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2Ugc3Vic2NyaXB0aW9uXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxPcHRpb25zIGNsYXNzTmFtZT1cIm1vZGFsLW1lbnVcIiB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfS8+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5jb25zdCBTVEFURV9VUERBVEVTID0ge1xuICAndW5zdWJzY3JpYmUnOiBudWxsLFxuICAnbm90aWZ5JzogZmFsc2UsXG4gICdlbWFpbCc6IHRydWVcbn07XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzZXRTdWJzY3JpcHRpb24gPSAobmV3U3RhdGUpID0+IHtcbiAgICBtb2RhbC5oaWRlKCk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgbGV0IG9sZFN0YXRlID0gdGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uO1xuXG4gICAgc3RvcmUuZGlzcGF0Y2gocGF0Y2godGhpcy5wcm9wcy50aHJlYWQsIHtcbiAgICAgIHN1YnNjcmlwdGlvbjogU1RBVEVfVVBEQVRFU1tuZXdTdGF0ZV1cbiAgICB9KSk7XG5cbiAgICBhamF4LnBhdGNoKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAge29wOiAncmVwbGFjZScsIHBhdGg6ICdzdWJzY3JpcHRpb24nLCB2YWx1ZTogbmV3U3RhdGV9XG4gICAgXSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocGF0Y2godGhpcy5wcm9wcy50aHJlYWQsIHtcbiAgICAgICAgc3Vic2NyaXB0aW9uOiBTVEFURV9VUERBVEVTW29sZFN0YXRlXVxuICAgICAgfSkpO1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfTtcblxuICB1bnN1YnNjcmliZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN1YnNjcmlwdGlvbigndW5zdWJzY3JpYmUnKTtcbiAgfTtcblxuICBub3RpZnkgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdWJzY3JpcHRpb24oJ25vdGlmeScpO1xuICB9O1xuXG4gIGVtYWlsID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKCdlbWFpbCcpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMudW5zdWJzY3JpYmV9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHN0YXJfYm9yZGVyXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5zdWJzY3JpYmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMubm90aWZ5fT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyX2hhbGZcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTdWJzY3JpYmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMuZW1haWx9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHN0YXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTdWJzY3JpYmUgd2l0aCBlLW1haWxcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCB0aXRsZSwgdXJsIH0pIHtcbiAgaWYgKHVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgaHJlZj17dXJsfVxuICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICA+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvYT5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhblxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICB0aXRsZT17dGl0bGV9XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgU3ViY2F0ZWdvcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRVcmwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubGlzdFBhdGgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNhdGVnb3J5LnVybC5pbmRleCArIHRoaXMucHJvcHMubGlzdFBhdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNhdGVnb3J5LnVybC5pbmRleDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxMaW5rIHRvPXt0aGlzLmdldFVybCgpfSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yeS5uYW1lfVxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHJvcGRvd24gY2F0ZWdvcnktcGlja2VyXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW91dGxpbmUgZHJvcGRvd24tdG9nZ2xlIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBsYWJlbF9vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbi14c1wiPntnZXR0ZXh0KFwiQ2F0ZWdvcnlcIil9PC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgc3RpY2stdG8tYm90dG9tIGNhdGVnb3JpZXMtbWVudVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNob2ljZXMubWFwKChpZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcmllc1tpZF0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8U3ViY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3JpZXNbaWRdfVxuICAgICAgICAgICAgICAgICAgbGlzdFBhdGg9e3RoaXMucHJvcHMubGlzdC5wYXRofVxuICAgICAgICAgICAgICAgICAga2V5PXtpZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gY29tcGFyZUxhc3RQb3N0QWdlKGEsIGIpIHtcbiAgaWYgKGEubGFzdF9wb3N0ID4gYi5sYXN0X3Bvc3QpIHtcbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSBpZiAoYS5sYXN0X3Bvc3QgPCBiLmxhc3RfcG9zdCkge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAwO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlR2xvYmFsV2VpZ2h0KGEsIGIpIHtcbiAgaWYgKGEud2VpZ2h0ID09PSAyICYmIGEud2VpZ2h0ID4gYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSBpZiAoYi53ZWlnaHQgPT09IDIgJiYgYS53ZWlnaHQgPCBiLndlaWdodCkge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wYXJlTGFzdFBvc3RBZ2UoYSwgYik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVXZWlnaHQoYSwgYikge1xuICBpZiAoYS53ZWlnaHQgPiBiLndlaWdodCkge1xuICAgIHJldHVybiAtMTtcbiAgfSBlbHNlIGlmIChhLndlaWdodCA8IGIud2VpZ2h0KSB7XG4gICAgcmV0dXJuIDE7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXBhcmVMYXN0UG9zdEFnZShhLCBiKTtcbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFnZUxlYWQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFnZS1sZWFkJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVG9vbGJhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL3Rvb2xiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDYXRlZ29yeURlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBhZ2VMZWFkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWxlYWRcIj5cbiAgICAgICAgICAgIDxwPnt0aGlzLnByb3BzLnBhZ2VMZWFkfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuZGVzY3JpcHRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2F0ZWdvcnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICA8UGFnZUxlYWQgY29weT17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5kZXNjcmlwdGlvbi5odG1sfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXREaXNhYmxlVG9vbGJhcigpIHtcbiAgICByZXR1cm4gIXRoaXMucHJvcHMuaXNMb2FkZWQgfHwgdGhpcy5wcm9wcy5pc0J1c3kgfHwgdGhpcy5wcm9wcy5idXN5VGhyZWFkcy5sZW5ndGg7XG4gIH1cblxuICBnZXRUb29sYmFyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc3ViY2F0ZWdvcmllcy5sZW5ndGggfHwgdGhpcy5wcm9wcy51c2VyLmlkO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8VG9vbGJhclxuICAgICAgICBzdWJjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnN1YmNhdGVnb3JpZXN9XG4gICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcmllc31cbiAgICAgICAgY2F0ZWdvcmllc01hcD17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG5cbiAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuICAgICAgICBtb2RlcmF0aW9uPXt0aGlzLnByb3BzLm1vZGVyYXRpb259XG4gICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG4gICAgICAgIHNlbGVjdEFsbFRocmVhZHM9e3RoaXMucHJvcHMuc2VsZWN0QWxsVGhyZWFkc31cbiAgICAgICAgc2VsZWN0Tm9uZVRocmVhZHM9e3RoaXMucHJvcHMuc2VsZWN0Tm9uZVRocmVhZHN9XG5cbiAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5wcm9wcy5hZGRUaHJlYWRzfVxuICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMucHJvcHMuZnJlZXplVGhyZWFkfVxuICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMucHJvcHMuZGVsZXRlVGhyZWFkfVxuICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMucHJvcHMudXBkYXRlVGhyZWFkfVxuXG4gICAgICAgIGFwaT17dGhpcy5wcm9wcy5hcGl9XG4gICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5nZXREaXNhYmxlVG9vbGJhcigpfVxuICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAvPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAge3RoaXMuZ2V0Q2F0ZWdvcnlEZXNjcmlwdGlvbigpfVxuICAgICAgICB7dGhpcy5nZXRUb29sYmFyKCl9XG5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IERyb3Bkb3duVG9nZ2xlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE5hdiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL25hdic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzdGFydFRocmVhZCA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4odGhpcy5wcm9wcy5zdGFydFRocmVhZCB8fCB7XG4gICAgICBtb2RlOiAnU1RBUlQnLFxuXG4gICAgICBjb25maWc6IG1pc2Fnby5nZXQoJ1RIUkVBRF9FRElUT1JfQVBJJyksXG4gICAgICBzdWJtaXQ6IG1pc2Fnby5nZXQoJ1RIUkVBRFNfQVBJJyksXG5cbiAgICAgIGNhdGVnb3J5OiB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmlkXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgaGFzR29CYWNrQnV0dG9uKCkge1xuICAgIHJldHVybiAhIXRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50O1xuICB9XG5cbiAgZ2V0R29CYWNrQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5wYXJlbnQpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucHJvcHMuY2F0ZWdvcmllc1t0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnBhcmVudF07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4teHMgY29sLXNtLTIgY29sLWxnLTFcIj5cbiAgICAgICAgPExpbmtcbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gYnRuLWFsaWduZWQgYnRuLWdvLWJhY2sgYnRuLWJsb2NrIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICB0bz17cGFyZW50LnVybC5pbmRleCArIHRoaXMucHJvcHMucm91dGUubGlzdC5wYXRofVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAga2V5Ym9hcmRfYXJyb3dfbGVmdFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9MaW5rPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0U3RhcnRUaHJlYWRCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnVzZXIuaWQpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9jayBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RhcnRUaHJlYWR9XG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgY2hhdFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHtnZXR0ZXh0KFwiU3RhcnQgdGhyZWFkXCIpfVxuICAgICAgPC9CdXR0b24+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBsZXQgaGVhZGVyQ2xhc3NOYW1lID0gJ2NvbC14cy0xMic7XG4gICAgaWYgKHRoaXMuaGFzR29CYWNrQnV0dG9uKCkpIHtcbiAgICAgIGhlYWRlckNsYXNzTmFtZSArPSAnIGNvbC1zbS0xMCBjb2wtbGctMTEgc20tYWxpZ24tcm93LWJ1dHRvbnMnO1xuICAgIH1cblxuICAgIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9ICEhdGhpcy5wcm9wcy51c2VyLmlkO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXItYmdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17aXNBdXRoZW50aWNhdGVkID8gXCJjb2wtc20tOSBjb2wtbWQtMTBcIiA6IFwiY29sLXhzLTEyXCJ9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5nZXRHb0JhY2tCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtoZWFkZXJDbGFzc05hbWV9PlxuICAgICAgICAgICAgICAgICAgICA8UGFyZW50Q2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8aDE+e3RoaXMucHJvcHMudGl0bGV9PC9oMT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge2lzQXV0aGVudGljYXRlZCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tMyBjb2wtbWQtMiB4cy1tYXJnaW4tdG9wXCI+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5nZXRTdGFydFRocmVhZEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8TmF2XG4gICAgICAgICAgICBiYXNlVXJsPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnVybC5pbmRleH1cbiAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cbiAgICAgICAgICAgIGxpc3RzPXt0aGlzLnByb3BzLnJvdXRlLmxpc3RzfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZXhwb3J0IGZ1bmN0aW9uIFBhcmVudENhdGVnb3J5KHsgY2F0ZWdvcmllcywgY2F0ZWdvcnkgfSkge1xuICBpZiAoIWNhdGVnb3J5KSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBwYXJlbnQgPSBjYXRlZ29yaWVzW2NhdGVnb3J5XTtcblxuICByZXR1cm4gKFxuICAgIDxMaW5rXG4gICAgICBjbGFzc05hbWU9XCJnby1iYWNrLXNtIHZpc2libGUteHMtYmxvY2tcIlxuICAgICAgdG89e3BhcmVudC51cmwuaW5kZXh9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBjaGV2cm9uX2xlZnRcbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtwYXJlbnQucGFyZW50ID8gcGFyZW50Lm5hbWUgOiBnZXR0ZXh0KFwiVGhyZWFkc1wiKX1cbiAgICA8L0xpbms+XG4gICk7XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyICgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5saXN0LnR5cGUgPT09ICdhbGwnKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2UpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2V9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJXaHkgbm90IHN0YXJ0IG9uZSB5b3Vyc2VsZj9cIil9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIGVtcHR5LW1lc3NhZ2VcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkuc3BlY2lhbF9yb2xlXG4gICAgICAgICAgICAgICAgPyBnZXR0ZXh0KFwiVGhlcmUgYXJlIG5vIHRocmVhZHMgb24gdGhpcyBmb3J1bS4uLiB5ZXQhXCIpXG4gICAgICAgICAgICAgICAgOiBnZXR0ZXh0KFwiVGhlcmUgYXJlIG5vIHRocmVhZHMgaW4gdGhpcyBjYXRlZ29yeS5cIil9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJXaHkgbm90IHN0YXJ0IG9uZSB5b3Vyc2VsZj9cIil9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICB7Z2V0dGV4dChcIk5vIHRocmVhZHMgbWF0Y2hpbmcgc3BlY2lmaWVkIGNyaXRlcmlhIHdlcmUgZm91bmQuXCIpfVxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRXJyb3JzTW9kYWwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2Vycm9ycy1saXN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTWVyZ2VUaHJlYWRzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9tZXJnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vdmVUaHJlYWRzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9tb3ZlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDb3VudGRvd24gZnJvbSAnbWlzYWdvL3V0aWxzL2NvdW50ZG93bic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY2FsbEFwaSA9IChvcHMsIHN1Y2Nlc3NNZXNzYWdlLCBvblN1Y2Nlc3M9bnVsbCkgPT4ge1xuICAgIC8vIGZyZWV6ZSB0aHJlYWRzXG4gICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2goKHRocmVhZCkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5mcmVlemVUaHJlYWQodGhyZWFkLmlkKTtcbiAgICB9KTtcblxuICAgIC8vIGxpc3QgaWRzXG4gICAgY29uc3QgaWRzID0gdGhpcy5wcm9wcy50aHJlYWRzLm1hcCgodGhyZWFkKSA9PiB7XG4gICAgICByZXR1cm4gdGhyZWFkLmlkO1xuICAgIH0pO1xuXG4gICAgLy8gYWx3YXlzIHJldHVybiBjdXJyZW50IGFjbFxuICAgIG9wcy5wdXNoKHtvcDogJ2FkZCcsIHBhdGg6ICdhY2wnLCB2YWx1ZTogdHJ1ZX0pO1xuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLmFwaSwgeyBpZHMsIG9wcyB9KS50aGVuKFxuICAgICAgKGRhdGEpID0+IHtcbiAgICAgICAgLy8gdW5mcmVlemVcbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2goKHRocmVhZCkgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB0aHJlYWRzXG4gICAgICAgIGRhdGEuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICAgICAgdGhpcy5wcm9wcy51cGRhdGVUaHJlYWQodGhyZWFkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2hvdyBzdWNjZXNzIG1lc3NhZ2UgYW5kIGNhbGwgY2FsbGJhY2tcbiAgICAgICAgc25hY2tiYXIuc3VjY2VzcyhzdWNjZXNzTWVzc2FnZSk7XG4gICAgICAgIGlmIChvblN1Y2Nlc3MpIHtcbiAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIChyZWplY3Rpb24pID0+IHtcbiAgICAgICAgLy8gdW5mcmVlemVcbiAgICAgICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2goKHRocmVhZCkgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGVzY2FwZSBvbiBub24tNDAwIGVycm9yXG4gICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzICE9PSA0MDApIHtcbiAgICAgICAgICByZXR1cm4gc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJ1aWxkIGVycm9ycyBsaXN0XG4gICAgICAgIGxldCBlcnJvcnMgPSBbXTtcbiAgICAgICAgbGV0IHRocmVhZHNNYXAgPSB7fVxuXG4gICAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5mb3JFYWNoKCh0aHJlYWQpID0+IHtcbiAgICAgICAgICB0aHJlYWRzTWFwW3RocmVhZC5pZF0gPSB0aHJlYWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlamVjdGlvbi5mb3JFYWNoKCh7aWQsIGRldGFpbCB9KSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aHJlYWRzTWFwW2lkXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgZXJyb3JzOiBkZXRhaWwsXG4gICAgICAgICAgICAgIHRocmVhZDogdGhyZWFkc01hcFtpZF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbW9kYWwuc2hvdyhcbiAgICAgICAgICA8RXJyb3JzTW9kYWwgZXJyb3JzPXtlcnJvcnN9IC8+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgKTtcbiAgfTtcblxuICBwaW5HbG9iYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnd2VpZ2h0JyxcbiAgICAgICAgdmFsdWU6IDJcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIHBpbm5lZCBnbG9iYWxseS5cIikpO1xuICB9O1xuXG4gIHBpbkxvY2FsbHkgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ3dlaWdodCcsXG4gICAgICAgIHZhbHVlOiAxXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBwaW5uZWQgbG9jYWxseS5cIikpO1xuICB9O1xuXG4gIHVucGluID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICd3ZWlnaHQnLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgdW5waW5uZWQuXCIpKTtcbiAgfTtcblxuICBhcHByb3ZlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy11bmFwcHJvdmVkJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBhcHByb3ZlZC5cIikpO1xuICB9O1xuXG4gIG9wZW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLWNsb3NlZCcsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgb3BlbmVkLlwiKSk7XG4gIH07XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLWNsb3NlZCcsXG4gICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBjbG9zZWQuXCIpKTtcbiAgfTtcblxuICB1bmhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLWhpZGRlbicsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgdW5oaWRkZW4uXCIpKTtcbiAgfTtcblxuICBoaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1oaWRkZW4nLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgaGlkZGVuLlwiKSk7XG4gIH07XG5cbiAgbW92ZSA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPE1vdmVUaHJlYWRzXG4gICAgICAgIGNhbGxBcGk9e3RoaXMuY2FsbEFwaX1cbiAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICBjYXRlZ29yaWVzTWFwPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAvPlxuICAgICk7XG4gIH07XG5cbiAgbWVyZ2UgPSAoKSA9PiB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2goKHRocmVhZCkgPT4ge1xuICAgICAgaWYgKCF0aHJlYWQuYWNsLmNhbl9tZXJnZSkge1xuICAgICAgICBlcnJvcnMuYXBwZW5kKHtcbiAgICAgICAgICAnaWQnOiB0aHJlYWQuaWQsXG4gICAgICAgICAgJ3RpdGxlJzogdGhyZWFkLnRpdGxlLFxuICAgICAgICAgICdlcnJvcnMnOiBbXG4gICAgICAgICAgICBnZXR0ZXh0KFwiWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBtZXJnZSB0aGlzIHRocmVhZCB3aXRoIG90aGVycy5cIilcbiAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkcy5sZW5ndGggPCAyKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKFxuICAgICAgICBnZXR0ZXh0KFwiWW91IGhhdmUgdG8gc2VsZWN0IGF0IGxlYXN0IHR3byB0aHJlYWRzIHRvIG1lcmdlLlwiKSk7XG4gICAgfSBlbHNlIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e2Vycm9yc30gLz4pO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RhbC5zaG93KDxNZXJnZVRocmVhZHMgey4uLnRoaXMucHJvcHN9IC8+KTtcbiAgICB9XG4gIH07XG5cbiAgZGVsZXRlID0gKCkgPT4ge1xuICAgIGlmICghY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBzZWxlY3RlZCB0aHJlYWRzP1wiKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLnRocmVhZHMubWFwKCh0aHJlYWQpID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBpZHMgPSB0aGlzLnByb3BzLnRocmVhZHMubWFwKCh0aHJlYWQpID0+IHsgcmV0dXJuIHRocmVhZC5pZDsgfSk7XG5cbiAgICBhamF4LmRlbGV0ZSh0aGlzLnByb3BzLmFwaSwgaWRzKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5tYXAoKHRocmVhZCkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpO1xuICAgICAgICB0aGlzLnByb3BzLmRlbGV0ZVRocmVhZCh0aHJlYWQpO1xuICAgICAgfSk7XG5cbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBkZWxldGVkLlwiKSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBjb25zdCBmYWlsZWRUaHJlYWRzID0gcmVqZWN0aW9uLm1hcCgodGhyZWFkKSA9PiB7IHJldHVybiB0aHJlYWQuaWQ7IH0pO1xuXG4gICAgICAgIHRoaXMucHJvcHMudGhyZWFkcy5tYXAoKHRocmVhZCkgPT4ge1xuICAgICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG4gICAgICAgICAgaWYgKGZhaWxlZFRocmVhZHMuaW5kZXhPZih0aHJlYWQuaWQpID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17cmVqZWN0aW9ufSAvPik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFBpbkdsb2JhbGx5QnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9waW5fZ2xvYmFsbHkpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluR2xvYmFsbHl9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBib29rbWFya1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlBpbiB0aHJlYWRzIGdsb2JhbGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0UGluTG9jYWxseUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fcGluKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpbkxvY2FsbHl9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBib29rbWFya19ib3JkZXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJQaW4gdGhyZWFkcyBsb2NhbGx5XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0VW5waW5CdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3BpbikgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy51bnBpbn1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHBhbm9yYW1hX2Zpc2hfZXllXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5waW4gdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldE1vdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX21vdmUpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubW92ZX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGFycm93X2ZvcndhcmRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRNZXJnZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fbWVyZ2UpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubWVyZ2V9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjYWxsX21lcmdlXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldEFwcHJvdmVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2FwcHJvdmUpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYXBwcm92ZX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGRvbmVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBcHByb3ZlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRPcGVuQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9jbG9zZSkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vcGVufVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vcGVuXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiT3BlbiB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0Q2xvc2VCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2Nsb3NlKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgbG9ja19vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2xvc2UgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldFVuaGlkZUJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fdW5oaWRlKSByZXR1cm4gbnVsbDtcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVuaGlkZX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHZpc2liaWxpdHlcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldEhpZGVCdXR0b24oKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2hpZGUpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhpZGV9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHZpc2liaWxpdHlfb2ZmXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0RGVsZXRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9kZWxldGUpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZGVsZXRlfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2xlYXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIHt0aGlzLmdldFBpbkdsb2JhbGx5QnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRQaW5Mb2NhbGx5QnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRVbnBpbkJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0TW92ZUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0TWVyZ2VCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldEFwcHJvdmVCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldE9wZW5CdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldENsb3NlQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRVbmhpZGVCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldEhpZGVCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldERlbGV0ZUJ1dHRvbigpfVxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlRocmVhZHMgbW9kZXJhdGlvblwiKX08L2g0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiT25lIG9yIG1vcmUgdGhyZWFkcyBjb3VsZCBub3QgYmUgZGVsZXRlZDpcIil9XG4gICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtZXJyb3JlZC1pdGVtc1wiPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5lcnJvcnMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxUaHJlYWRFcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzPXtpdGVtLmVycm9yc31cbiAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtLnRocmVhZC5pZH1cbiAgICAgICAgICAgICAgICAgICAgdGhyZWFkPXtpdGVtLnRocmVhZH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L3VsPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBUaHJlYWRFcnJvcnMoeyBlcnJvcnMsIHRocmVhZCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGg1Pnt0aHJlYWQudGl0bGV9PC9oNT5cbiAgICAgIHtlcnJvcnMubWFwKChtZXNzYWdlLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHA+e21lc3NhZ2V9PC9wPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC9saT5cbiAgKTtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBmaWx0ZXJUaHJlYWRzIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRXJyb3JzTW9kYWwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2Vycm9ycy1saXN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTWVyZ2VDb25mbGljdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tZXJnZS1jb25mbGljdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiAnJyxcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgd2VpZ2h0OiAwLFxuICAgICAgaXNfaGlkZGVuOiAwLFxuICAgICAgaXNfY2xvc2VkOiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogW1xuICAgICAgICAgIHZhbGlkYXRvcnMucmVxdWlyZWQoKVxuICAgICAgICBdXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcblxuICAgIHRoaXMuYWNsID0ge307XG4gICAgZm9yIChjb25zdCBpIGluIHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMpIHtcbiAgICAgIGlmICghcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWNsID0gcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllc1tpXTtcbiAgICAgIHRoaXMuYWNsW2FjbC5pZF0gPSBhY2w7XG4gICAgfVxuXG4gICAgdGhpcy5jYXRlZ29yeUNob2ljZXMgPSBbXTtcbiAgICBwcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XG4gICAgICBpZiAoY2F0ZWdvcnkubGV2ZWwgPiAwKSB7XG4gICAgICAgIGNvbnN0IGFjbCA9IHRoaXMuYWNsW2NhdGVnb3J5LmlkXTtcbiAgICAgICAgY29uc3QgZGlzYWJsZWQgPSAhYWNsLmNhbl9zdGFydF90aHJlYWRzIHx8IChjYXRlZ29yeS5pc19jbG9zZWQgJiYgIWFjbC5jYW5fY2xvc2VfdGhyZWFkcyk7XG5cbiAgICAgICAgdGhpcy5jYXRlZ29yeUNob2ljZXMucHVzaCh7XG4gICAgICAgICAgdmFsdWU6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBsZXZlbDogY2F0ZWdvcnkubGV2ZWwgLSAxLFxuICAgICAgICAgIGxhYmVsOiBjYXRlZ29yeS5uYW1lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghZGlzYWJsZWQgJiYgIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhdGVnb3J5ID0gY2F0ZWdvcnkuaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuaXNIaWRkZW5DaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5JyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5X29mZicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuaXNDbG9zZWRDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiBmYWxzZSxcbiAgICAgICAgJ2ljb24nOiAnbG9ja19vdXRsaW5lJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiB0cnVlLFxuICAgICAgICAnaWNvbic6ICdsb2NrJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfSxcbiAgICBdO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdNRVJHRV9USFJFQURTX0FQSScpLCB0aGlzLmdldEZvcm1kYXRhKCkpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBnZXRGb3JtZGF0YSA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdGhyZWFkczogdGhpcy5wcm9wcy50aHJlYWRzLm1hcCgodGhyZWFkKSA9PiB0aHJlYWQuaWQpLFxuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHdlaWdodDogdGhpcy5zdGF0ZS53ZWlnaHQsXG4gICAgICBpc19oaWRkZW46IHRoaXMuc3RhdGUuaXNfaGlkZGVuLFxuICAgICAgaXNfY2xvc2VkOiB0aGlzLnN0YXRlLmlzX2Nsb3NlZFxuICAgIH07XG4gIH07XG5cbiAgaGFuZGxlU3VjY2VzcyA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIC8vIHVuZnJlZXplIGFuZCByZW1vdmUgbWVyZ2VkIHRocmVhZHNcbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpO1xuICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKTtcbiAgICB9KTtcblxuICAgIC8vIGRlc2VsZWN0IGFsbCB0aHJlYWRzXG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lm5vbmUoKSk7XG5cbiAgICAvLyBhcHBlbmQgbWVyZ2VkIHRocmVhZCwgZmlsdGVyIHRocmVhZHNcbiAgICB0aGlzLnByb3BzLmFkZFRocmVhZHMoW2FwaVJlc3BvbnNlXSk7XG4gICAgc3RvcmUuZGlzcGF0Y2goZmlsdGVyVGhyZWFkcyh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LCB0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXApKTtcblxuICAgIC8vIGhpZGUgbW9kYWxcbiAgICBtb2RhbC5oaWRlKCk7XG4gIH07XG5cbiAgaGFuZGxlRXJyb3IgPSAocmVqZWN0aW9uKSA9PiB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5iZXN0X2Fuc3dlcnMgfHwgcmVqZWN0aW9uLnBvbGxzKSB7XG4gICAgICAgIG1vZGFsLnNob3coXG4gICAgICAgICAgPE1lcmdlQ29uZmxpY3RcbiAgICAgICAgICAgIGFwaT17bWlzYWdvLmdldCgnTUVSR0VfVEhSRUFEU19BUEknKX1cbiAgICAgICAgICAgIGJlc3RBbnN3ZXJzPXtyZWplY3Rpb24uYmVzdF9hbnN3ZXJzfVxuICAgICAgICAgICAgZGF0YT17dGhpcy5nZXRGb3JtZGF0YSgpfVxuICAgICAgICAgICAgcG9sbHM9e3JlamVjdGlvbi5wb2xsc31cbiAgICAgICAgICAgIG9uRXJyb3I9e3RoaXMuaGFuZGxlRXJyb3J9XG4gICAgICAgICAgICBvblN1Y2Nlc3M9e3RoaXMuaGFuZGxlU3VjY2Vzc31cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgJ2Vycm9ycyc6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICAgIH0pO1xuICAgICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRm9ybSBjb250YWlucyBlcnJvcnMuXCIpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiBBcnJheS5pc0FycmF5KHJlamVjdGlvbikpIHtcbiAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17cmVqZWN0aW9ufSAvPik7XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uYmVzdF9hbnN3ZXIpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5iZXN0X2Fuc3dlclswXSk7XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24ucG9sbCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBvbGxbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfTtcblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gKGV2KSA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV2LnRhcmdldC52YWx1ZTtcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUlkXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fcGluX3RocmVhZHMgPCBuZXdTdGF0ZS53ZWlnaHQpIHtcbiAgICAgIG5ld1N0YXRlLndlaWdodCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19oaWRkZW4gPSAwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2Nsb3NlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFdlaWdodENob2ljZXMoKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAncmVtb3ZlJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vdCBwaW5uZWRcIiksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdib29rbWFya19ib3JkZXInLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIiksXG4gICAgICB9XG4gICAgXTtcblxuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMgPT0gMikge1xuICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgJ3ZhbHVlJzogMixcbiAgICAgICAgJ2ljb24nOiAnYm9va21hcmsnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZXM7XG4gIH1cblxuICByZW5kZXJXZWlnaHRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB3ZWlnaHRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF93ZWlnaHRcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd3ZWlnaHQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53ZWlnaHR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5nZXRXZWlnaHRDaG9pY2VzKCl9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJIaWRkZW5GaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJIaWRlIHRocmVhZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2hpZGRlblwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2hpZGRlbicpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmlzX2hpZGRlbn1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmlzSGlkZGVuQ2hvaWNlc30gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNsb3NlZEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDbG9zZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19jbG9zZWRcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdpc19jbG9zZWQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19jbG9zZWR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0Nsb3NlZENob2ljZXN9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJGb3JtKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnRpdGxlfT5cbiAgICAgICAgICA8aW5wdXQgaWQ9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd0aXRsZScpfVxuICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX0gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIj48L2Rpdj5cblxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiQ2F0ZWdvcnlcIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNhdGVnb3J5fT5cbiAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3QgaWQ9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmNhdGVnb3J5Q2hvaWNlc30gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIj48L2Rpdj5cblxuICAgICAgICB7dGhpcy5yZW5kZXJXZWlnaHRGaWVsZCgpfVxuICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCgpfVxuICAgICAgICB7dGhpcy5yZW5kZXJDbG9zZWRGaWVsZCgpfVxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAge2dldHRleHQoXCJNZXJnZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlckNhbnRNZXJnZU1lc3NhZ2UoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSB0aHJlYWRzIGJlY2F1c2UgdGhlcmUgYXJlIG5vIGNhdGVnb3JpZXMgeW91IGFyZSBhbGxvd2VkIHRvIG1vdmUgdGhlbSB0by5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgbmVlZCBwZXJtaXNzaW9uIHRvIHN0YXJ0IHRocmVhZHMgaW4gY2F0ZWdvcnkgdG8gYmUgYWJsZSB0byBtZXJnZSB0aHJlYWRzIHRvIGl0LlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIk9rXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgcmV0dXJuICdtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbW9kYWwtZGlhbG9nJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTWVyZ2UgdGhyZWFkc1wiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3RoaXMuc3RhdGUuY2F0ZWdvcnkgPyB0aGlzLnJlbmRlckZvcm0oKSA6IHRoaXMucmVuZGVyQ2FudE1lcmdlTWVzc2FnZSgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBmaWx0ZXJUaHJlYWRzIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgfTtcblxuICAgIGNvbnN0IGFjbHMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllcykge1xuICAgICAgaWYgKCFwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhY2wgPSBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzW2ldO1xuICAgICAgYWNsc1thY2wuaWRdID0gYWNsO1xuICAgIH1cblxuICAgIHRoaXMuY2F0ZWdvcnlDaG9pY2VzID0gW107XG4gICAgcHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LmxldmVsID4gMCkge1xuICAgICAgICBjb25zdCBhY2wgPSBhY2xzW2NhdGVnb3J5LmlkXTtcbiAgICAgICAgY29uc3QgZGlzYWJsZWQgPSAhYWNsLmNhbl9zdGFydF90aHJlYWRzIHx8IChjYXRlZ29yeS5pc19jbG9zZWQgJiYgIWFjbC5jYW5fY2xvc2VfdGhyZWFkcyk7XG5cbiAgICAgICAgdGhpcy5jYXRlZ29yeUNob2ljZXMucHVzaCh7XG4gICAgICAgICAgdmFsdWU6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBsZXZlbDogY2F0ZWdvcnkubGV2ZWwgLSAxLFxuICAgICAgICAgIGxhYmVsOiBjYXRlZ29yeS5uYW1lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghZGlzYWJsZWQgJiYgIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhdGVnb3J5ID0gY2F0ZWdvcnkuaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgaGFuZGxlU3VibWl0ID0gKGV2ZW50KSA9PiB7XG4gICAgLy8gd2UgZG9uJ3QgcmVsb2FkIHBhZ2Ugb24gc3VibWlzc2lvbnNcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgY29uc3Qgb25TdWNjZXNzID0gKCkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICAgIGZpbHRlclRocmVhZHModGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeSwgdGhpcy5wcm9wcy5jYXRlZ29yaWVzTWFwKSk7XG5cbiAgICAgIC8vIGRlc2VsZWN0IHRocmVhZHMgbW92ZWQgb3V0c2lkZSBvZiB2aXNpYmxlIHNjb3BlXG4gICAgICBjb25zdCBzdG9yZVN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgIGNvbnN0IGxlZnRUaHJlYWRzID0gc3RvcmVTdGF0ZS50aHJlYWRzLm1hcCgodGhyZWFkKSA9PiAodGhyZWFkLmlkKSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3QuYWxsKHN0b3JlU3RhdGUuc2VsZWN0aW9uLmZpbHRlcigodGhyZWFkKSA9PiB7XG4gICAgICAgIHJldHVybiBsZWZ0VGhyZWFkcy5pbmRleE9mKHRocmVhZCkgIT09IC0xO1xuICAgICAgfSkpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5wcm9wcy5jYWxsQXBpKFtcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnY2F0ZWdvcnknLCB2YWx1ZTogdGhpcy5zdGF0ZS5jYXRlZ29yeX0sXG4gICAgICB7b3A6ICdyZXBsYWNlJywgcGF0aDogJ2ZsYXR0ZW4tY2F0ZWdvcmllcycsIHZhbHVlOiBudWxsfSxcbiAgICAgIHtvcDogJ2FkZCcsIHBhdGg6ICdhY2wnLCB2YWx1ZTogdHJ1ZX1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIG1vdmVkLlwiKSwgb25TdWNjZXNzKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gJ21vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdtb2RhbC1kaWFsb2cnO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckZvcm0oKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyBjYXRlZ29yeVwiKX1cbiAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9uZXdfY2F0ZWdvcnlcIj5cbiAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3QgaWQ9XCJpZF9uZXdfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2NhdGVnb3J5Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmNhdGVnb3J5Q2hvaWNlc30gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXJDYW50TW92ZU1lc3NhZ2UoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSB0aHJlYWRzIGJlY2F1c2UgdGhlcmUgYXJlIG5vIGNhdGVnb3JpZXMgeW91IGFyZSBhbGxvd2VkIHRvIG1vdmUgdGhlbSB0by5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgbmVlZCBwZXJtaXNzaW9uIHRvIHN0YXJ0IHRocmVhZHMgaW4gY2F0ZWdvcnkgdG8gYmUgYWJsZSB0byBtb3ZlIHRocmVhZHMgdG8gaXQuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiT2tcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSB0aHJlYWRzXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5zdGF0ZS5jYXRlZ29yeSA/IHRoaXMucmVuZGVyRm9ybSgpIDogdGhpcy5yZW5kZXJDYW50TW92ZU1lc3NhZ2UoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNlbGVjdEFsbCA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3QuYWxsKHRoaXMucHJvcHMudGhyZWFkcy5tYXAoZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgICByZXR1cm4gdGhyZWFkLmlkO1xuICAgIH0pKSk7XG4gIH07XG5cbiAgc2VsZWN0Tm9uZSA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3Qubm9uZSgpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbGVjdEFsbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hlY2tfYm94PC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJTZWxlY3QgYWxsXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZWxlY3ROb25lfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGVja19ib3hfb3V0bGluZV9ibGFuazwvc3Bhbj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2VsZWN0IG5vbmVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCBMaSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9saSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHtiYXNlVXJsLCBsaXN0LCBsaXN0c30pIHtcbiAgaWYgKGxpc3RzLmxlbmd0aCA8IDIpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLXRhYnNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzXCI+XG4gICAgICAgICAge2xpc3RzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPExpXG4gICAgICAgICAgICAgICAgaXNDb250cm9sbGVkPXt0cnVlfVxuICAgICAgICAgICAgICAgIGlzQWN0aXZlPXtpdGVtLnBhdGggPT09IGxpc3QucGF0aH1cbiAgICAgICAgICAgICAgICBrZXk9e2Jhc2VVcmwgKyBpdGVtLnBhdGh9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TGluayB0bz17YmFzZVVybCArIGl0ZW0ucGF0aH0+XG4gICAgICAgICAgICAgICAgICB7aXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPC9MaT5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFJvdXRlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvcm91dGUnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0KG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0b3JlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdvcHRpb25zJzogb3B0aW9ucyxcbiAgICAgICdzZWxlY3Rpb24nOiBzdG9yZS5zZWxlY3Rpb24sXG4gICAgICAndGhyZWFkcyc6IHN0b3JlLnRocmVhZHMsXG4gICAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAgICd1c2VyJzogc3RvcmUuYXV0aC51c2VyXG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpc3RzKHVzZXIpIHtcbiAgbGV0IGxpc3RzID0gW1xuICAgIHtcbiAgICAgIHR5cGU6ICdhbGwnLFxuICAgICAgcGF0aDogJycsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiQWxsXCIpLFxuICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJBbGwgdGhyZWFkc1wiKVxuICAgIH1cbiAgXTtcblxuICBpZiAodXNlci5pZCkge1xuICAgIGxpc3RzLnB1c2goe1xuICAgICAgdHlwZTogJ215JyxcbiAgICAgIHBhdGg6ICdteS8nLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIk15XCIpLFxuICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJNeSB0aHJlYWRzXCIpXG4gICAgfSk7XG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiAnbmV3JyxcbiAgICAgIHBhdGg6ICduZXcvJyxcbiAgICAgIG5hbWU6IGdldHRleHQoXCJOZXdcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIk5ldyB0aHJlYWRzXCIpXG4gICAgfSk7XG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiAndW5yZWFkJyxcbiAgICAgIHBhdGg6ICd1bnJlYWQvJyxcbiAgICAgIG5hbWU6IGdldHRleHQoXCJVbnJlYWRcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIlVucmVhZCB0aHJlYWRzXCIpXG4gICAgfSk7XG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiAnc3Vic2NyaWJlZCcsXG4gICAgICBwYXRoOiAnc3Vic2NyaWJlZC8nLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIlN1YnNjcmliZWRcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIlN1YnNjcmliZWQgdGhyZWFkc1wiKVxuICAgIH0pO1xuXG4gICAgaWYgKHVzZXIuYWNsLmNhbl9zZWVfdW5hcHByb3ZlZF9jb250ZW50X2xpc3RzKSB7XG4gICAgICBsaXN0cy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ3VuYXBwcm92ZWQnLFxuICAgICAgICBwYXRoOiAndW5hcHByb3ZlZC8nLFxuICAgICAgICBuYW1lOiBnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKSxcbiAgICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJVbmFwcHJvdmVkIGNvbnRlbnRcIilcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsaXN0cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKHVzZXIsIG1vZGUpIHtcbiAgbGV0IGxpc3RzID0gZ2V0TGlzdHModXNlcik7XG4gIGxldCByb3V0ZXMgPSBbXTtcbiAgbGV0IGNhdGVnb3JpZXNNYXAgPSB7fTtcblxuICBtaXNhZ28uZ2V0KCdDQVRFR09SSUVTJykuZm9yRWFjaChmdW5jdGlvbihjYXRlZ29yeSkge1xuICAgIGxpc3RzLmZvckVhY2goZnVuY3Rpb24obGlzdCkge1xuICAgICAgY2F0ZWdvcmllc01hcFtjYXRlZ29yeS5pZF0gPSBjYXRlZ29yeTtcblxuICAgICAgcm91dGVzLnB1c2goe1xuICAgICAgICBwYXRoOiBjYXRlZ29yeS51cmwuaW5kZXggKyBsaXN0LnBhdGgsXG4gICAgICAgIGNvbXBvbmVudDogY29ubmVjdChnZXRTZWxlY3QobW9kZSkpKFJvdXRlKSxcblxuICAgICAgICBjYXRlZ29yaWVzOiBtaXNhZ28uZ2V0KCdDQVRFR09SSUVTJyksXG4gICAgICAgIGNhdGVnb3JpZXNNYXAsXG4gICAgICAgIGNhdGVnb3J5LFxuXG4gICAgICAgIGxpc3RzLFxuICAgICAgICBsaXN0XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJvdXRlcztcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBjb21wYXJlR2xvYmFsV2VpZ2h0LCBjb21wYXJlV2VpZ2h0IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9jb21wYXJlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvY29udGFpbmVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgSGVhZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvaGVhZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBkaWZmVGhyZWFkcywgZ2V0TW9kZXJhdGlvbkFjdGlvbnMsIGdldFBhZ2VUaXRsZSwgZ2V0VGl0bGUgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL3V0aWxzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVGhyZWFkc0xpc3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVGhyZWFkc0xpc3RFbXB0eSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL2xpc3QtZW1wdHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93bic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGFwcGVuZCwgZGVsZXRlVGhyZWFkLCBoeWRyYXRlLCBwYXRjaCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuaW1wb3J0ICogYXMgc2V0cyBmcm9tICdtaXNhZ28vdXRpbHMvc2V0cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTW91bnRlZDogdHJ1ZSxcblxuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgZGlmZjoge1xuICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgfSxcblxuICAgICAgbW9kZXJhdGlvbjogW10sXG4gICAgICBidXN5VGhyZWFkczogW10sXG5cbiAgICAgIGRyb3Bkb3duOiBmYWxzZSxcbiAgICAgIHN1YmNhdGVnb3JpZXM6IFtdLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH07XG5cbiAgICBsZXQgY2F0ZWdvcnkgPSB0aGlzLmdldENhdGVnb3J5KCk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnVEhSRUFEUycpKSB7XG4gICAgICB0aGlzLmluaXRXaXRoUHJlbG9hZGVkRGF0YShjYXRlZ29yeSwgbWlzYWdvLmdldCgnVEhSRUFEUycpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbml0V2l0aG91dFByZWxvYWRlZERhdGEoY2F0ZWdvcnkpO1xuICAgIH1cbiAgfVxuXG4gIGdldENhdGVnb3J5KCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5zcGVjaWFsX3JvbGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmlkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoY2F0ZWdvcnksIGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0gT2JqZWN0LmFzc2lnbih0aGlzLnN0YXRlLCB7XG4gICAgICBtb2RlcmF0aW9uOiBnZXRNb2RlcmF0aW9uQWN0aW9ucyhkYXRhLnJlc3VsdHMpLFxuXG4gICAgICBzdWJjYXRlZ29yaWVzOiBkYXRhLnN1YmNhdGVnb3JpZXMsXG5cbiAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgbW9yZTogZGF0YS5tb3JlLFxuXG4gICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgIH0pO1xuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoY2F0ZWdvcnkpO1xuICB9XG5cbiAgaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKGNhdGVnb3J5KSB7XG4gICAgdGhpcy5sb2FkVGhyZWFkcyhjYXRlZ29yeSk7XG4gIH1cblxuICBsb2FkVGhyZWFkcyhjYXRlZ29yeSwgcGFnZT0xKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5vcHRpb25zLmFwaSwge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgbGlzdDogdGhpcy5wcm9wcy5yb3V0ZS5saXN0LnR5cGUsXG4gICAgICBwYWdlOiBwYWdlIHx8IDFcbiAgICB9LCAndGhyZWFkcycpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgLy8gdXNlciBjaGFuZ2VkIHJvdXRlIGJlZm9yZSBsb2FkaW5nIGNvbXBsZXRpb25cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAocGFnZSA9PT0gMSkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kKGRhdGEucmVzdWx0cywgdGhpcy5nZXRTb3J0aW5nKCkpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICAgIG1vZGVyYXRpb246IGdldE1vZGVyYXRpb25BY3Rpb25zKHN0b3JlLmdldFN0YXRlKCkudGhyZWFkcyksXG5cbiAgICAgICAgc3ViY2F0ZWdvcmllczogZGF0YS5zdWJjYXRlZ29yaWVzLFxuXG4gICAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc3RhcnRQb2xsaW5nKGNhdGVnb3J5KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGNhdGVnb3J5KSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogJ3RocmVhZHMnLFxuICAgICAgdXJsOiB0aGlzLnByb3BzLm9wdGlvbnMuYXBpLFxuICAgICAgZGF0YToge1xuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgIGxpc3Q6IHRoaXMucHJvcHMucm91dGUubGlzdC50eXBlXG4gICAgICB9LFxuICAgICAgZnJlcXVlbmN5OiAxMjAgKiAxMDAwLFxuICAgICAgdXBkYXRlOiB0aGlzLnBvbGxSZXNwb25zZVxuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zZXRQYWdlVGl0bGUoKTtcblxuICAgIGlmIChtaXNhZ28uaGFzKCdUSFJFQURTJykpIHtcbiAgICAgIC8vIHVubGlrZSBpbiBvdGhlciBjb21wb25lbnRzLCByb3V0ZXMgYXJlIHJvb3QgY29tcG9uZW50cyBmb3IgdGhyZWFkc1xuICAgICAgLy8gc28gd2UgY2FuJ3QgZGlzcGF0Y2ggc3RvcmUgYWN0aW9uIGZyb20gY29uc3RydWN0b3JcbiAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUobWlzYWdvLnBvcCgnVEhSRUFEUycpLnJlc3VsdHMpKTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3Qubm9uZSgpKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuc3RhdGUuaXNNb3VudGVkID0gZmFsc2U7XG4gICAgcG9sbHMuc3RvcCgndGhyZWFkcycpO1xuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy50aXRsZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy50aXRsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0VGl0bGUodGhpcy5wcm9wcy5yb3V0ZSk7XG4gIH1cblxuICBzZXRQYWdlVGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkubGV2ZWwgfHwgIW1pc2Fnby5nZXQoJ1RIUkVBRFNfT05fSU5ERVgnKSkge1xuICAgICAgdGl0bGUuc2V0KGdldFBhZ2VUaXRsZSh0aGlzLnByb3BzLnJvdXRlKSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLm9wdGlvbnMudGl0bGUpIHtcbiAgICAgICAgdGl0bGUuc2V0KHRoaXMucHJvcHMub3B0aW9ucy50aXRsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX2luZGV4X3RpdGxlKSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gbWlzYWdvLmdldCgnU0VUVElOR1MnKS5mb3J1bV9pbmRleF90aXRsZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnRpdGxlID0gbWlzYWdvLmdldCgnU0VUVElOR1MnKS5mb3J1bV9uYW1lO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldFNvcnRpbmcoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkubGV2ZWwpIHtcbiAgICAgIHJldHVybiBjb21wYXJlV2VpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY29tcGFyZUdsb2JhbFdlaWdodDtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5cbiAgLy8gQUpBWFxuXG4gIGxvYWRNb3JlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRUaHJlYWRzKHRoaXMuZ2V0Q2F0ZWdvcnkoKSwgdGhpcy5zdGF0ZS5wYWdlICsgMSk7XG4gIH07XG5cbiAgcG9sbFJlc3BvbnNlID0gKGRhdGEpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRpZmY6IE9iamVjdC5hc3NpZ24oe30sIGRhdGEsIHtcbiAgICAgICAgcmVzdWx0czogZGlmZlRocmVhZHModGhpcy5wcm9wcy50aHJlYWRzLCBkYXRhLnJlc3VsdHMpXG4gICAgICB9KVxuICAgIH0pO1xuICB9O1xuXG4gIGFkZFRocmVhZHMgPSAodGhyZWFkcykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZCh0aHJlYWRzLCB0aGlzLmdldFNvcnRpbmcoKSkpO1xuICB9O1xuXG4gIGFwcGx5RGlmZiA9ICgpID0+IHtcbiAgICB0aGlzLmFkZFRocmVhZHModGhpcy5zdGF0ZS5kaWZmLnJlc3VsdHMpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZShPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmRpZmYsIHtcbiAgICAgIG1vZGVyYXRpb246IGdldE1vZGVyYXRpb25BY3Rpb25zKHN0b3JlLmdldFN0YXRlKCkudGhyZWFkcyksXG5cbiAgICAgIGRpZmY6IHtcbiAgICAgICAgcmVzdWx0czogW11cbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgLy8gVGhyZWFkIHN0YXRlIHV0aWxzXG5cbiAgZnJlZXplVGhyZWFkID0gKHRocmVhZCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24oY3VycmVudFN0YXRlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBidXN5VGhyZWFkczogc2V0cy50b2dnbGUoY3VycmVudFN0YXRlLmJ1c3lUaHJlYWRzLCB0aHJlYWQpXG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIHVwZGF0ZVRocmVhZCA9ICh0aHJlYWQpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwYXRjaCh0aHJlYWQsIHRocmVhZCwgdGhpcy5nZXRTb3J0aW5nKCkpKTtcbiAgfTtcblxuICBkZWxldGVUaHJlYWQgPSAodGhyZWFkKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goZGVsZXRlVGhyZWFkKHRocmVhZCkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldE1vcmVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUubW9yZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNCdXN5IHx8IHRoaXMuc3RhdGUuYnVzeVRocmVhZHMubGVuZ3RofVxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5sb2FkTW9yZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlNob3cgbW9yZVwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSAncGFnZSBwYWdlLXRocmVhZHMnO1xuICAgIGNsYXNzTmFtZSArPSAnIHBhZ2UtdGhyZWFkcy0nICsgdGhpcy5wcm9wcy5yb3V0ZS5saXN0LnR5cGU7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyBwYWdlLXRocmVhZHMtJyArIHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuY3NzX2NsYXNzO1xuICAgIH1cbiAgICByZXR1cm4gY2xhc3NOYW1lO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICBzdGFydFRocmVhZD17dGhpcy5wcm9wcy5vcHRpb25zLnN0YXJ0VGhyZWFkfVxuICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICB0aXRsZT17dGhpcy5nZXRUaXRsZSgpfVxuICAgICAgICAgIHRvZ2dsZU5hdj17dGhpcy50b2dnbGVOYXZ9XG4gICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAvPlxuXG4gICAgICAgIDxDb250YWluZXJcbiAgICAgICAgICBhcGk9e3RoaXMucHJvcHMub3B0aW9ucy5hcGl9XG5cbiAgICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgICBzdWJjYXRlZ29yaWVzPXt0aGlzLnN0YXRlLnN1YmNhdGVnb3JpZXN9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuXG4gICAgICAgICAgcGFnZUxlYWQ9e3RoaXMucHJvcHMub3B0aW9ucy5wYWdlTGVhZH1cblxuICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICB0aHJlYWRzQ291bnQ9e3RoaXMuc3RhdGUuY291bnR9XG5cbiAgICAgICAgICBtb2RlcmF0aW9uPXt0aGlzLnN0YXRlLm1vZGVyYXRpb259XG4gICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cblxuICAgICAgICAgIGJ1c3lUaHJlYWRzPXt0aGlzLnN0YXRlLmJ1c3lUaHJlYWRzfVxuICAgICAgICAgIGFkZFRocmVhZHM9e3RoaXMuYWRkVGhyZWFkc31cbiAgICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMuZnJlZXplVGhyZWFkfVxuICAgICAgICAgIGRlbGV0ZVRocmVhZD17dGhpcy5kZWxldGVUaHJlYWR9XG4gICAgICAgICAgdXBkYXRlVGhyZWFkPXt0aGlzLnVwZGF0ZVRocmVhZH1cblxuICAgICAgICAgIGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgIGlzQnVzeT17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgID5cblxuICAgICAgICAgIDxUaHJlYWRzTGlzdFxuICAgICAgICAgICAgY2F0ZWdvcnk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG4gICAgICAgICAgICBzZWxlY3Rpb249e3RoaXMucHJvcHMuc2VsZWN0aW9ufVxuICAgICAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuXG4gICAgICAgICAgICBkaWZmU2l6ZT17dGhpcy5zdGF0ZS5kaWZmLnJlc3VsdHMubGVuZ3RofVxuICAgICAgICAgICAgYXBwbHlEaWZmPXt0aGlzLmFwcGx5RGlmZn1cblxuICAgICAgICAgICAgc2hvd09wdGlvbnM9eyEhdGhpcy5wcm9wcy51c2VyLmlkfVxuXG4gICAgICAgICAgICBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICAgIGJ1c3lUaHJlYWRzPXt0aGlzLnN0YXRlLmJ1c3lUaHJlYWRzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxUaHJlYWRzTGlzdEVtcHR5XG4gICAgICAgICAgICAgIGNhdGVnb3J5PXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICBlbXB0eU1lc3NhZ2U9e3RoaXMucHJvcHMub3B0aW9ucy5lbXB0eU1lc3NhZ2V9XG4gICAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9UaHJlYWRzTGlzdD5cblxuICAgICAgICAgIHt0aGlzLmdldE1vcmVCdXR0b24oKX1cblxuICAgICAgICA8L0NvbnRhaW5lcj5cblxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlQaWNrZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9jYXRlZ29yeS1waWNrZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RlcmF0aW9uQ29udHJvbHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2NvbnRyb2xzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2VsZWN0aW9uQ29udHJvbHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL3NlbGVjdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENhdGVnb3J5UGlja2VyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxDYXRlZ29yeVBpY2tlclxuICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgIGNob2ljZXM9e3RoaXMucHJvcHMuc3ViY2F0ZWdvcmllc31cbiAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5saXN0fVxuICAgICAgLz5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBzaG93TW9kZXJhdGlvbk9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudXNlci5pZCAmJiB0aGlzLnByb3BzLm1vZGVyYXRpb24uYWxsb3c7XG4gIH1cblxuICBnZXRTZWxlY3RlZFRocmVhZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudGhyZWFkcy5maWx0ZXIoKHRocmVhZCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0aW9uLmluZGV4T2YodGhyZWFkLmlkKSA+PSAwO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0TW9kZXJhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc2hvd01vZGVyYXRpb25PcHRpb25zKCkpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy02IGNvbC1zbS0zIGNvbC1tZC0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkIHx8ICF0aGlzLnByb3BzLnNlbGVjdGlvbi5sZW5ndGh9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgICBzZXR0aW5nc1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiT3B0aW9uc1wiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8TW9kZXJhdGlvbkNvbnRyb2xzXG4gICAgICAgICAgICAgIGFkZFRocmVhZHM9e3RoaXMucHJvcHMuYWRkVGhyZWFkc31cbiAgICAgICAgICAgICAgYXBpPXt0aGlzLnByb3BzLmFwaX1cbiAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICBjYXRlZ29yaWVzTWFwPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMucHJvcHMuZGVsZXRlVGhyZWFkfVxuICAgICAgICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMucHJvcHMuZnJlZXplVGhyZWFkfVxuICAgICAgICAgICAgICBtb2RlcmF0aW9uPXt0aGlzLnByb3BzLm1vZGVyYXRpb259XG4gICAgICAgICAgICAgIHJvdXRlPXt0aGlzLnByb3BzLnJvdXRlfVxuICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLmdldFNlbGVjdGVkVGhyZWFkcygpfVxuICAgICAgICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMucHJvcHMudXBkYXRlVGhyZWFkfVxuICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldFNlbGVjdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAoIXRoaXMuc2hvd01vZGVyYXRpb25PcHRpb25zKCkpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zIGNvbC1zbS0yIGNvbC1tZC0xXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1qdXN0aWZpZWRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1vdXRsaW5lIGJ0bi1pY29uIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgICAgc2VsZWN0X2FsbFxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgPFNlbGVjdGlvbkNvbnRyb2xzXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCBzdGljay10by1ib3R0b21cIlxuICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHJvdy10b29sYmFyIHJvdy10b29sYmFyLWJvdHRvbS1tYXJnaW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMyBjb2wtc20tMyBjb2wtbWQtMiBkcm9wZG93blwiPlxuICAgICAgICAgIHt0aGlzLmdldENhdGVnb3J5UGlja2VyKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpZGRlbi14cyBjb2wtc20tNCBjb2wtbWQtN1wiIC8+XG4gICAgICAgIHt0aGlzLmdldE1vZGVyYXRpb25CdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0U2VsZWN0aW9uQnV0dG9uKCl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYWdlVGl0bGUocm91dGUpIHtcbiAgaWYgKHJvdXRlLmNhdGVnb3J5LmxldmVsKSB7XG4gICAgaWYgKHJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmxpc3QubG9uZ05hbWUsXG4gICAgICAgIHBhcmVudDogcm91dGUuY2F0ZWdvcnkubmFtZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmNhdGVnb3J5Lm5hbWVcbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKG1pc2Fnby5nZXQoJ1RIUkVBRFNfT05fSU5ERVgnKSkge1xuICAgIGlmIChyb3V0ZS5saXN0LnBhdGgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiByb3V0ZS5saXN0LmxvbmdOYW1lXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHJvdXRlLmxpc3QucGF0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHJvdXRlLmxpc3QubG9uZ05hbWUsXG4gICAgICAgIHBhcmVudDogZ2V0dGV4dChcIlRocmVhZHNcIilcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiVGhyZWFkc1wiKVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlKHJvdXRlKSB7XG4gIGlmIChyb3V0ZS5jYXRlZ29yeS5sZXZlbCkge1xuICAgIHJldHVybiByb3V0ZS5jYXRlZ29yeS5uYW1lO1xuICB9IGVsc2UgaWYgKG1pc2Fnby5nZXQoJ1RIUkVBRFNfT05fSU5ERVgnKSkge1xuICAgIGlmIChtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX2luZGV4X3RpdGxlKSB7XG4gICAgICByZXR1cm4gbWlzYWdvLmdldCgnU0VUVElOR1MnKS5mb3J1bV9pbmRleF90aXRsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuZm9ydW1fbmFtZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJUaHJlYWRzXCIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1RocmVhZENoYW5nZWQoY3VycmVudCwgZnJvbURiKSB7XG4gIHJldHVybiBbXG4gICAgY3VycmVudC50aXRsZSA9PT0gZnJvbURiLnRpdGxlLFxuICAgIGN1cnJlbnQud2VpZ2h0ID09PSBmcm9tRGIud2VpZ2h0LFxuICAgIGN1cnJlbnQuY2F0ZWdvcnkgPT09IGZyb21EYi5jYXRlZ29yeSxcbiAgICBjdXJyZW50Lmxhc3RfcG9zdCA9PT0gZnJvbURiLmxhc3RfcG9zdCxcbiAgICBjdXJyZW50Lmxhc3RfcG9zdGVyX25hbWUgPT09IGZyb21EYi5sYXN0X3Bvc3Rlcl9uYW1lXG4gIF0uaW5kZXhPZihmYWxzZSkgPj0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZUaHJlYWRzKGN1cnJlbnQsIGZyb21EYikge1xuICBsZXQgY3VycmVudE1hcCA9IHt9O1xuICBjdXJyZW50LmZvckVhY2goZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgY3VycmVudE1hcFt0aHJlYWQuaWRdID0gdGhyZWFkO1xuICB9KTtcblxuICByZXR1cm4gZnJvbURiLmZpbHRlcihmdW5jdGlvbih0aHJlYWQpIHtcbiAgICBpZiAoY3VycmVudE1hcFt0aHJlYWQuaWRdKSB7XG4gICAgICByZXR1cm4gaXNUaHJlYWRDaGFuZ2VkKGN1cnJlbnRNYXBbdGhyZWFkLmlkXSwgdGhyZWFkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vZGVyYXRpb25BY3Rpb25zKHRocmVhZHMpIHtcbiAgbGV0IG1vZGVyYXRpb24gPSB7XG4gICAgYWxsb3c6IGZhbHNlLFxuXG4gICAgY2FuX2FwcHJvdmU6IDAsXG4gICAgY2FuX2Nsb3NlOiAwLFxuICAgIGNhbl9kZWxldGU6IDAsXG4gICAgY2FuX2hpZGU6IDAsXG4gICAgY2FuX21lcmdlOiAwLFxuICAgIGNhbl9tb3ZlOiAwLFxuICAgIGNhbl9waW46IDAsXG4gICAgY2FuX3Bpbl9nbG9iYWxseTogMCxcbiAgICBjYW5fdW5oaWRlOiAwXG4gIH07XG5cbiAgdGhyZWFkcy5mb3JFYWNoKGZ1bmN0aW9uKHRocmVhZCkge1xuICAgIGlmICh0aHJlYWQuaXNfdW5hcHByb3ZlZCAmJiB0aHJlYWQuYWNsLmNhbl9hcHByb3ZlID4gbW9kZXJhdGlvbi5jYW5fYXBwcm92ZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fYXBwcm92ZSA9IHRocmVhZC5hY2wuY2FuX2FwcHJvdmU7XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX2Nsb3NlID4gbW9kZXJhdGlvbi5jYW5fY2xvc2UpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX2Nsb3NlID0gdGhyZWFkLmFjbC5jYW5fY2xvc2U7XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX2RlbGV0ZSA+IG1vZGVyYXRpb24uY2FuX2RlbGV0ZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fZGVsZXRlID0gdGhyZWFkLmFjbC5jYW5fZGVsZXRlO1xuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9oaWRlID4gbW9kZXJhdGlvbi5jYW5faGlkZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5faGlkZSA9IHRocmVhZC5hY2wuY2FuX2hpZGU7XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX21lcmdlID4gbW9kZXJhdGlvbi5jYW5fbWVyZ2UpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX21lcmdlID0gdGhyZWFkLmFjbC5jYW5fbWVyZ2U7XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX21vdmUgPiBtb2RlcmF0aW9uLmNhbl9tb3ZlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tb3ZlID0gdGhyZWFkLmFjbC5jYW5fbW92ZTtcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fcGluID4gbW9kZXJhdGlvbi5jYW5fcGluKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9waW4gPSB0aHJlYWQuYWNsLmNhbl9waW47XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX3Bpbl9nbG9iYWxseSA+IG1vZGVyYXRpb24uY2FuX3Bpbl9nbG9iYWxseSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fcGluX2dsb2JhbGx5ID0gdGhyZWFkLmFjbC5jYW5fcGluX2dsb2JhbGx5O1xuICAgIH1cblxuICAgIGlmICh0aHJlYWQuaXNfaGlkZGVuICYmIHRocmVhZC5hY2wuY2FuX3VuaGlkZSA+IG1vZGVyYXRpb24uY2FuX3VuaGlkZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5fdW5oaWRlID0gdGhyZWFkLmFjbC5jYW5fdW5oaWRlO1xuICAgIH1cblxuICAgIG1vZGVyYXRpb24uYWxsb3cgPSAoXG4gICAgICBtb2RlcmF0aW9uLmNhbl9hcHByb3ZlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9jbG9zZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fZGVsZXRlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9oaWRlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tZXJnZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fbW92ZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fcGluIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9waW5fZ2xvYmFsbHkgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX3VuaGlkZVxuICAgICk7XG4gIH0pO1xuXG4gIHJldHVybiBtb2RlcmF0aW9uO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE5hdmJhclNlYXJjaCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9uYXZiYXItc2VhcmNoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVnaXN0ZXJCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcmVnaXN0ZXItYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2lnbkluTW9kYWwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2lnbi1pbi5qcyc7XG5pbXBvcnQgZHJvcGRvd24gZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vYmlsZS1uYXZiYXItZHJvcGRvd24nO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5cbmV4cG9ydCBjbGFzcyBHdWVzdE1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG93U2lnbkluTW9kYWwoKSB7XG4gICAgbW9kYWwuc2hvdyhTaWduSW5Nb2RhbCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8dWxcbiAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSB1c2VyLWRyb3Bkb3duIGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICA+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJndWVzdC1wcmV2aWV3XCI+XG4gICAgICAgICAgPGg0PntnZXR0ZXh0KFwiWW91IGFyZSBicm93c2luZyBhcyBndWVzdC5cIil9PC9oND5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIHtnZXR0ZXh0KCdTaWduIGluIG9yIHJlZ2lzdGVyIHRvIHN0YXJ0IGFuZCBwYXJ0aWNpcGF0ZSBpbiBkaXNjdXNzaW9ucy4nKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cblxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zaWduLWluIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93U2lnbkluTW9kYWx9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTZcIj5cblxuICAgICAgICAgICAgICA8UmVnaXN0ZXJCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLXJlZ2lzdGVyIGJ0bi1ibG9ja1wiPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0ZXJcIil9XG4gICAgICAgICAgICAgIDwvUmVnaXN0ZXJCdXR0b24+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEd1ZXN0TmF2IGV4dGVuZHMgR3Vlc3RNZW51IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJuYXYgbmF2LWd1ZXN0XCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gbmF2YmFyLWJ0biBidG4tZGVmYXVsdCBidG4tc2lnbi1pblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5zaG93U2lnbkluTW9kYWx9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNpZ24gaW5cIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8UmVnaXN0ZXJCdXR0b24gY2xhc3NOYW1lPVwibmF2YmFyLWJ0biBidG4tcHJpbWFyeSBidG4tcmVnaXN0ZXJcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlJlZ2lzdGVyXCIpfVxuICAgICAgICA8L1JlZ2lzdGVyQnV0dG9uPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5hdmJhci1sZWZ0XCI+XG4gICAgICAgICAgPE5hdmJhclNlYXJjaCAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdEd1ZXN0TmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvd0d1ZXN0TWVudSgpIHtcbiAgICBkcm9wZG93bi5zaG93KEd1ZXN0TWVudSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnNob3dHdWVzdE1lbnV9PlxuICAgICAgICA8QXZhdGFyIHNpemU9XCI2NFwiIC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBHdWVzdE5hdiwgQ29tcGFjdEd1ZXN0TmF2IH0gZnJvbSAnLi9ndWVzdC1uYXYnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IFVzZXJOYXYsIENvbXBhY3RVc2VyTmF2fSBmcm9tICcuL3VzZXItbmF2JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBVc2VyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMucHJvcHMuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VXNlck5hdiB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8R3Vlc3ROYXYgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3RVc2VyTWVudSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMucHJvcHMuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29tcGFjdFVzZXJOYXYgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbXBhY3RHdWVzdE5hdiAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5hdXRoO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENoYW5nZUF2YXRhck1vZGFsLCB7IHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvcm9vdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE5hdmJhclNlYXJjaCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9uYXZiYXItc2VhcmNoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGRyb3Bkb3duIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duJztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuXG5leHBvcnQgY2xhc3MgVXNlck1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBsb2dvdXQoKSB7XG4gICAgbGV0IGRlY2lzaW9uID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHNpZ24gb3V0P1wiKSk7XG4gICAgaWYgKGRlY2lzaW9uKSB7XG4gICAgICAkKCcjaGlkZGVuLWxvZ291dC1mb3JtJykuc3VibWl0KCk7XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlQXZhdGFyKCkge1xuICAgIG1vZGFsLnNob3coY29ubmVjdChzZWxlY3QpKENoYW5nZUF2YXRhck1vZGFsKSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGNvbnN0IHsgdXNlciB9ID0gdGhpcy5wcm9wcztcblxuICAgIHJldHVybiAoXG4gICAgICA8dWxcbiAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSB1c2VyLWRyb3Bkb3duIGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICA+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1oZWFkZXJcIj5cbiAgICAgICAgICA8c3Ryb25nPnt1c2VyLnVzZXJuYW1lfTwvc3Ryb25nPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaW5saW5lIHVzZXItc3RhdHNcIj5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICB7dXNlci5wb3N0c31cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgICBmb3J1bVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHt1c2VyLnRocmVhZHN9XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgICAgZmF2b3JpdGVcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICB7dXNlci5mb2xsb3dlcnN9XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgICAgZmF2b3JpdGVfb3V0bGluZVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHt1c2VyLmZvbGxvd2luZ31cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRpdmlkZXJcIiAvPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGEgaHJlZj17dXNlci51cmx9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmFjY291bnRfY2lyY2xlPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJTZWUgeW91ciBwcm9maWxlXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZG9uZV9hbGw8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBvcHRpb25zXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2hhbmdlQXZhdGFyfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBvcnRyYWl0PC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgYXZhdGFyXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgICB7ISF1c2VyLmFjbC5jYW5fdXNlX3ByaXZhdGVfdGhyZWFkcyAmJiAoXG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldCgnUFJJVkFURV9USFJFQURTX1VSTCcpfT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPm1lc3NhZ2U8L3NwYW4+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiUHJpdmF0ZSB0aHJlYWRzXCIpfVxuICAgICAgICAgICAgICA8UHJpdmF0ZVRocmVhZHNCYWRnZSB1c2VyPXt1c2VyfSAvPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICl9XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkaXZpZGVyXCIgLz5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLWJ1dHRvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9nb3V0fVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJMb2cgb3V0XCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByaXZhdGVUaHJlYWRzQmFkZ2UoeyB1c2VyIH0pIHtcbiAgaWYgKCF1c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHMpIHJldHVybiBudWxsO1xuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiPlxuICAgICAge3VzZXIudW5yZWFkX3ByaXZhdGVfdGhyZWFkc31cbiAgICA8L3NwYW4+XG4gICk7XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbn1cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZXhwb3J0IGZ1bmN0aW9uIFVzZXJOYXYoeyB1c2VyIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwidWwgbmF2IG5hdmJhci1uYXYgbmF2LXVzZXJcIj5cbiAgICAgIDxsaT5cbiAgICAgICAgPE5hdmJhclNlYXJjaCAvPlxuICAgICAgPC9saT5cbiAgICAgIDxVc2VyUHJpdmF0ZVRocmVhZHNMaW5rIHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd25cIj5cbiAgICAgICAgPGFcbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgIGhyZWY9e3VzZXIudXJsfVxuICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPEF2YXRhciB1c2VyPXt1c2VyfSBzaXplPVwiNjRcIiAvPlxuICAgICAgICA8L2E+XG4gICAgICAgIDxVc2VyTWVudSB1c2VyPXt1c2VyfSAvPlxuICAgICAgPC9saT5cbiAgICA8L3VsPlxuICApO1xufVxuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJQcml2YXRlVGhyZWFkc0xpbmsoeyB1c2VyIH0pIHtcbiAgaWYgKCF1c2VyLmFjbC5jYW5fdXNlX3ByaXZhdGVfdGhyZWFkcykgcmV0dXJuIG51bGw7XG5cbiAgbGV0IHRpdGxlID0gbnVsbDtcbiAgaWYgKHVzZXIudW5yZWFkX3ByaXZhdGVfdGhyZWFkcykge1xuICAgIHRpdGxlID0gZ2V0dGV4dChcIllvdSBoYXZlIHVucmVhZCBwcml2YXRlIHRocmVhZHMhXCIpO1xuICB9IGVsc2Uge1xuICAgIHRpdGxlID0gZ2V0dGV4dChcIlByaXZhdGUgdGhyZWFkc1wiKTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJuYXZiYXItaWNvblwiXG4gICAgICAgIGhyZWY9e21pc2Fnby5nZXQoJ1BSSVZBVEVfVEhSRUFEU19VUkwnKX1cbiAgICAgICAgdGl0bGU9e3RpdGxlfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7dXNlci51bnJlYWRfcHJpdmF0ZV90aHJlYWRzID4gMCAmJiAoXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmFkZ2VcIj5cbiAgICAgICAgICAgIHt1c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHN9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICApfVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gICk7XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RVc2VyTWVudShzdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHN0YXRlLmF1dGgudXNlclxuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdFVzZXJOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG93VXNlck1lbnUoKSB7XG4gICAgZHJvcGRvd24uc2hvd0Nvbm5lY3RlZCgndXNlci1tZW51JywgY29ubmVjdChzZWxlY3RVc2VyTWVudSkoVXNlck1lbnUpKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuc2hvd1VzZXJNZW51fT5cbiAgICAgICAgPEF2YXRhciB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IHNpemU9XCI1MFwiIC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3MoKSB7XG4gICAgcmV0dXJuIGdldFN0YXR1c0NsYXNzTmFtZSh0aGlzLnByb3BzLnN0YXR1cyk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3MoKX0+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RhdHVzSWNvbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgICAgcmV0dXJuICdyZW1vdmVfY2lyY2xlX291dGxpbmUnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gJ2hlbHBfb3V0bGluZSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gJ2xhYmVsJztcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gJ2xhYmVsX291dGxpbmUnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lKSB7XG4gICAgICByZXR1cm4gJ2xlbnMnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgICAgcmV0dXJuICdwYW5vcmFtYV9maXNoX2V5ZSc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbiBzdGF0dXMtaWNvblwiPlxuICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgIDwvc3Bhbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBTdGF0dXNMYWJlbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEhlbHAoKSB7XG4gICAgcmV0dXJuIGdldFN0YXR1c0Rlc2NyaXB0aW9uKHRoaXMucHJvcHMudXNlciwgdGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJCYW5uZWRcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiSGlkZGVuXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPbmxpbmUgKGhpZGRlbilcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPZmZsaW5lIChoaWRkZW4pXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb25saW5lKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk9ubGluZVwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiT2ZmbGluZVwiKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lIHx8IFwic3RhdHVzLWxhYmVsXCJ9XG4gICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLmdldEhlbHAoKX0+XG4gICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgIDwvc3Bhbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdHVzQ2xhc3NOYW1lKHN0YXR1cykge1xuICBsZXQgY2xhc3NOYW1lID0gJyc7XG4gIGlmIChzdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgY2xhc3NOYW1lID0gJ2Jhbm5lZCc7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdvZmZsaW5lJztcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdvbmxpbmUnO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgIGNsYXNzTmFtZSA9ICdvZmZsaW5lJztcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lKSB7XG4gICAgY2xhc3NOYW1lID0gJ29ubGluZSc7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICBjbGFzc05hbWUgPSAnb2ZmbGluZSc7XG4gIH1cblxuICByZXR1cm4gJ3VzZXItc3RhdHVzIHVzZXItJyArIGNsYXNzTmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXR1c0Rlc2NyaXB0aW9uKHVzZXIsIHN0YXR1cykge1xuICBpZiAoc3RhdHVzLmlzX2Jhbm5lZCkge1xuICAgIGlmIChzdGF0dXMuYmFubmVkX3VudGlsKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBiYW5uZWQgdW50aWwgJShiYW5fZXhwaXJlcylzXCIpLCB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICBiYW5fZXhwaXJlczogc3RhdHVzLmJhbm5lZF91bnRpbC5mb3JtYXQoJ0xMLCBMVCcpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgYmFubmVkXCIpLCB7XG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIGhpZGluZyBwcmVzZW5jZVwiKSwge1xuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb25saW5lX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIG9ubGluZSAoaGlkZGVuKVwiKSwge1xuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyB3YXMgbGFzdCBzZWVuICUobGFzdF9jbGljaylzIChoaWRkZW4pXCIpLCB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrLmZyb21Ob3coKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBvbmxpbmVcIiksIHtcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmUpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyB3YXMgbGFzdCBzZWVuICUobGFzdF9jbGljaylzXCIpLCB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrLmZyb21Ob3coKVxuICAgIH0sIHRydWUpO1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGlkZGVuT25Nb2JpbGUpIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtIGhpZGRlbi14cyBoaWRkZW4tc20nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2xpc3QtZ3JvdXAtaXRlbSc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdmF0YXJcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci1hdmF0YXJcIj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF1dGhvclwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBhcnJvd19mb3J3YXJkXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1kYXRlXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoODAsIDE0MCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyVXNlckF2YXRhcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxhIGhyZWY9e3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkudXJsfSBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhci13cmFwcGVyXCI+XG4gICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieX0gc2l6ZT1cIjEwMFwiIC8+XG4gICAgICA8L2E+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItYXZhdGFyLXdyYXBwZXJcIj5cbiAgICAgICAgPEF2YXRhciBzaXplPVwiMTAwXCIgLz5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclVzZXJuYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGEgaHJlZj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieS51cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkudXNlcm5hbWV9XG4gICAgICA8L2E+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnlfdXNlcm5hbWV9XG4gICAgICA8L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCIga2V5PXt0aGlzLnByb3BzLmNoYW5nZS5pZH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdmF0YXJcIj5cbiAgICAgICAge3RoaXMucmVuZGVyVXNlckF2YXRhcigpfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1hdXRob3JcIj5cbiAgICAgICAge3RoaXMucmVuZGVyVXNlcm5hbWUoKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2VcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwib2xkLXVzZXJuYW1lXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLm9sZF91c2VybmFtZX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgYXJyb3dfZm9yd2FyZFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5ldy11c2VybmFtZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZS5uZXdfdXNlcm5hbWV9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtZGF0ZVwiPlxuICAgICAgICA8YWJiciB0aXRsZT17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9vbi5mb3JtYXQoJ0xMTCcpfT5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9vbi5mcm9tTm93KCl9XG4gICAgICAgIDwvYWJicj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5lbXB0eU1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmVtcHR5TWVzc2FnZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJObyBuYW1lIGNoYW5nZXMgaGF2ZSBiZWVuIHJlY29yZGVkIGZvciB5b3VyIGFjY291bnQuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1yZWFkeVwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAge3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9XG4gICAgICAgIDwvbGk+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaGFuZ2VQcmV2aWV3IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvY2hhbmdlLXByZXZpZXcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1wcmV2aWV3XCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICB7WzAsIDEsIDJdLm1hcCgoaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8Q2hhbmdlUHJldmlldyBoaWRkZW5Pbk1vYmlsZT17aSA+IDB9IGtleT17aX0gLz5cbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDaGFuZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInVzZXJuYW1lLWhpc3RvcnkgdWktcmVhZHlcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZXMubWFwKChjaGFuZ2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gPENoYW5nZSBjaGFuZ2U9e2NoYW5nZX0ga2V5PXtjaGFuZ2UuaWR9IC8+O1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3RFbXB0eSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtZW1wdHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaXN0UmVhZHkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXJlYWR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9saXN0LXByZXZpZXcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMaXN0UmVhZHkgY2hhbmdlcz17dGhpcy5wcm9wcy5jaGFuZ2VzfSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMaXN0RW1wdHkgZW1wdHlNZXNzYWdlPXt0aGlzLnByb3BzLmVtcHR5TWVzc2FnZX0gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TGlzdFByZXZpZXcgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5pbXBvcnQgU3RhdHMgZnJvbSAnLi9zdGF0cyc7XG5pbXBvcnQgVXNlclRpdGxlIGZyb20gJy4vdXNlci10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgc2hvd1N0YXR1cywgdXNlciB9KSB7XG4gIGNvbnN0IHsgcmFuayB9ID0gdXNlcjtcblxuICBsZXQgY2xhc3NOYW1lID0gJ3BhbmVsIHVzZXItY2FyZCc7XG4gIGlmIChyYW5rLmNzc19jbGFzcykge1xuICAgIGNsYXNzTmFtZSArPSAnIHVzZXItY2FyZC0nICsgcmFuay5jc3NfY2xhc3M7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMyB1c2VyLWNhcmQtbGVmdFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtc21hbGwtYXZhdGFyXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3VzZXIudXJsfT5cbiAgICAgICAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICAgICAgICBzaXplPVwiNTBcIlxuICAgICAgICAgICAgICAgICAgc2l6ZTJ4PVwiODBcIlxuICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy05IGNvbC1zbS0xMiB1c2VyLWNhcmQtYm9keVwiPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dXNlci51cmx9PlxuICAgICAgICAgICAgICAgIDxBdmF0YXJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCIxNTBcIlxuICAgICAgICAgICAgICAgICAgc2l6ZTJ4PVwiMjAwXCJcbiAgICAgICAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXVzZXJuYW1lXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3VzZXIudXJsfT5cbiAgICAgICAgICAgICAgICB7dXNlci51c2VybmFtZX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC10aXRsZVwiPlxuICAgICAgICAgICAgICA8VXNlclRpdGxlXG4gICAgICAgICAgICAgICAgcmFuaz17cmFua31cbiAgICAgICAgICAgICAgICB0aXRsZT17dXNlci50aXRsZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1zdGF0c1wiPlxuICAgICAgICAgICAgICA8U3RhdHNcbiAgICAgICAgICAgICAgICBzaG93U3RhdHVzPXtzaG93U3RhdHVzfVxuICAgICAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVXNlclN0YXR1cywgeyBTdGF0dXNMYWJlbCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeyBzaG93U3RhdHVzLCB1c2VyIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAgPFN0YXR1c1xuICAgICAgICBzaG93U3RhdHVzPXtzaG93U3RhdHVzfVxuICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgLz5cbiAgICAgIDxKb2luRGF0ZSB1c2VyPXt1c2VyfSAvPlxuICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItc3RhdC1kaXZpZGVyXCIgLz5cbiAgICAgIDxQb3N0cyB1c2VyPXt1c2VyfSAvPlxuICAgICAgPFRocmVhZHMgdXNlcj17dXNlcn0gLz5cbiAgICAgIDxGb2xsb3dlcnMgdXNlcj17dXNlcn0gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU3RhdHVzKHsgc2hvd1N0YXR1cywgdXNlciB9KSB7XG4gIGlmICghc2hvd1N0YXR1cykgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1zdGF0LXN0YXR1c1wiPlxuICAgICAgPFVzZXJTdGF0dXMgc3RhdHVzPXt1c2VyLnN0YXR1c30+XG4gICAgICAgIDxTdGF0dXNMYWJlbFxuICAgICAgICAgIHN0YXR1cz17dXNlci5zdGF0dXN9XG4gICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgLz5cbiAgICAgIDwvVXNlclN0YXR1cz5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSm9pbkRhdGUoeyB1c2VyIH0pIHtcbiAgY29uc3QgeyBqb2luZWRfb24gfSA9IHVzZXI7XG5cbiAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIkpvaW5lZCBvbiAlKGpvaW5lZF9vbilzXCIpLCB7XG4gICAgJ2pvaW5lZF9vbic6IGpvaW5lZF9vbi5mb3JtYXQoJ0xMLCBMVCcpXG4gIH0sIHRydWUpO1xuXG4gIGxldCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIkpvaW5lZCAlKGpvaW5lZF9vbilzXCIpLCB7XG4gICAgJ2pvaW5lZF9vbic6IGpvaW5lZF9vbi5mcm9tTm93KClcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwidXNlci1zdGF0LWpvaW4tZGF0ZVwiPlxuICAgICAgPGFiYnIgdGl0bGU9e3RpdGxlfT5cbiAgICAgICAge21lc3NhZ2V9XG4gICAgICA8L2FiYnI+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RzKHsgdXNlciB9KSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IGdldFN0YXRDbGFzc05hbWUoXCJ1c2VyLXN0YXQtcG9zdHNcIiwgdXNlci5wb3N0cyk7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIiUocG9zdHMpcyBwb3N0XCIsXG4gICAgXCIlKHBvc3RzKXMgcG9zdHNcIixcbiAgICB1c2VyLnBvc3RzXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAge2ludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3Bvc3RzJzogdXNlci5wb3N0c1xuICAgICAgfSwgdHJ1ZSl9XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRocmVhZHMoeyB1c2VyIH0pIHtcbiAgY29uc3QgY2xhc3NOYW1lID0gZ2V0U3RhdENsYXNzTmFtZShcInVzZXItc3RhdC10aHJlYWRzXCIsIHVzZXIudGhyZWFkcyk7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIiUodGhyZWFkcylzIHRocmVhZFwiLFxuICAgIFwiJSh0aHJlYWRzKXMgdGhyZWFkc1wiLFxuICAgIHVzZXIudGhyZWFkc1xuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHtpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd0aHJlYWRzJzogdXNlci50aHJlYWRzXG4gICAgICB9LCB0cnVlKX1cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRm9sbG93ZXJzKHsgdXNlciB9KSB7XG4gIGNvbnN0IGNsYXNzTmFtZSA9IGdldFN0YXRDbGFzc05hbWUoXCJ1c2VyLXN0YXQtZm9sbG93ZXJzXCIsIHVzZXIuZm9sbG93ZXJzKTtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJShmb2xsb3dlcnMpcyBmb2xsb3dlclwiLFxuICAgIFwiJShmb2xsb3dlcnMpcyBmb2xsb3dlcnNcIixcbiAgICB1c2VyLmZvbGxvd2Vyc1xuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHtpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICdmb2xsb3dlcnMnOiB1c2VyLmZvbGxvd2Vyc1xuICAgICAgfSwgdHJ1ZSl9XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRDbGFzc05hbWUoY2xhc3NOYW1lLCBzdGF0KSB7XG4gIGlmIChzdGF0ID09PSAwKSB7XG4gICAgcmV0dXJuIGNsYXNzTmFtZSArICcgdXNlci1zdGF0LWVtcHR5JztcbiAgfVxuICByZXR1cm4gY2xhc3NOYW1lO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuL2NhcmQnO1xuaW1wb3J0IFByZXZpZXcgZnJvbSAnLi9wcmV2aWV3JztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGNvbHMsIGlzUmVhZHksIHNob3dTdGF0dXMsIHVzZXJzIH0pIHtcbiAgbGV0IGNvbENsYXNzTmFtZSA9ICdjb2wteHMtMTIgY29sLXNtLTQnO1xuICBpZiAoY29scyA9PT0gNCkge1xuICAgIGNvbENsYXNzTmFtZSArPSAnIGNvbC1tZC0zJztcbiAgfVxuXG4gIGlmICghaXNSZWFkeSkge1xuICAgIHJldHVybiAoXG4gICAgICA8UHJldmlld1xuICAgICAgICBjb2xDbGFzc05hbWU9e2NvbENsYXNzTmFtZX1cbiAgICAgICAgY29scz17Y29sc31cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ1c2Vycy1jYXJkcy1saXN0IHVpLXJlYWR5XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICB7dXNlcnMubWFwKCh1c2VyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjb2xDbGFzc05hbWV9XG4gICAgICAgICAgICAgIGtleT17dXNlci5pZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENhcmRcbiAgICAgICAgICAgICAgICBzaG93U3RhdHVzPXtzaG93U3RhdHVzfVxuICAgICAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJztcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHVzZXItY2FyZCB1c2VyLWNhcmQtcHJldmlld1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMyB1c2VyLWNhcmQtbGVmdFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1zbWFsbC1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxBdmF0YXJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cIjUwXCJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTJ4PVwiODBcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy05IGNvbC1zbS0xMiB1c2VyLWNhcmQtYm9keVwiPlxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLWF2YXRhclwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgPEF2YXRhclxuICAgICAgICAgICAgICAgICAgICBzaXplPVwiMTUwXCJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTJ4PVwiMjAwXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC11c2VybmFtZVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg2MCwgMTUwKSArIFwicHhcIn19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtdGl0bGVcIj5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNjAsIDE1MCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtc3RhdHNcIj5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwifX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNzApICsgXCJweFwifX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItc3RhdC1kaXZpZGVyXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIn19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIn19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuL2NhcmQnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHsgY29sQ2xhc3NOYW1lLCBjb2xzIH0pIHtcbiAgY29uc3QgbGlzdCA9IEFycmF5LmFwcGx5KG51bGwsIHtsZW5ndGg6IGNvbHN9KS5tYXAoTnVtYmVyLmNhbGwsIE51bWJlcik7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXJzLWNhcmRzLWxpc3QgdWktcHJldmlld1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAge2xpc3QubWFwKChpKSA9PiB7XG4gICAgICAgICAgbGV0IGNsYXNzTmFtZSA9IGNvbENsYXNzTmFtZTtcbiAgICAgICAgICBpZiAoaSAhPT0gMCkgY2xhc3NOYW1lICs9ICcgaGlkZGVuLXhzJztcbiAgICAgICAgICBpZiAoaSA9PT0gMykgY2xhc3NOYW1lICs9ICcgaGlkZGVuLXNtJztcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxDYXJkIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJObyB1c2VycyBoYXZlIHBvc3RlZCBhbnkgbmV3IG1lc3NhZ2VzIGR1cmluZyBsYXN0ICUoZGF5cylzIGRheXMuXCIpLFxuICAgICAgeydkYXlzJzogdGhpcy5wcm9wcy50cmFja2VkUGVyaW9kfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzLWxpc3RcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5Pbk1vYmlsZSkge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gaGlkZGVuLXhzIGhpZGRlbi1zbSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIC8+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1uYW1lXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1kZXRhaWxzXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXN0YXR1c1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtaWNvbiB1aS1wcmV2aWV3LXRleHRcIj5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbCB1aS1wcmV2aWV3LXRleHQgaGlkZGVuLXhzIGhpZGRlbi1zbVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLW5hbWVcIj5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIn19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZSBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY29tcGFjdC1zdGF0cyB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLXBvc2l0aW9uXCI+XG4gICAgICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtcIil9PC9zbWFsbD5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstcG9zdHMtY291bnRlZFwiPlxuICAgICAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgyMCwgMzApICsgXCJweFwifX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rZWQgcG9zdHNcIil9PC9zbWFsbD5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc2l0aW9uIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rXCIpfTwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3N0cy1jb3VudGVkIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rZWQgcG9zdHNcIil9PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLXRvdGFsIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCJ9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJUb3RhbCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c0ljb24sIFN0YXR1c0xhYmVsIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yYW5rLmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtcmFuay1cIiArIHRoaXMucHJvcHMucmFuay5jc3NfY2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImxpc3QtZ3JvdXAtaXRlbVwiO1xuICAgIH1cbiAgfVxuXG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5zdGF0dXMpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTdGF0dXMgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9PlxuICAgICAgICAgIDxTdGF0dXNJY29uIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9IC8+XG4gICAgICAgICAgPFN0YXR1c0xhYmVsIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgaGlkZGVuLXhzIGhpZGRlbi1zbVwiIC8+XG4gICAgICAgIDwvU3RhdHVzPlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXN0YXR1c1wiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtaWNvbiB1aS1wcmV2aWV3LXRleHRcIj5cbiAgICAgICAgICAmbmJzcDtcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgdWktcHJldmlldy10ZXh0IGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAmbmJzcDtcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldFJhbmtOYW1lKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5yYW5rLmlzX3RhYikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmFuay1uYW1lIGl0ZW0tdGl0bGVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5yYW5rLm5hbWV9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBsZXQgcmFua1VybCA9IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJykgKyB0aGlzLnByb3BzLnJhbmsuc2x1ZyArICcvJztcbiAgICByZXR1cm4gKFxuICAgICAgPExpbmsgdG89e3JhbmtVcmx9IGNsYXNzTmFtZT1cInJhbmstbmFtZSBpdGVtLXRpdGxlXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnJhbmsubmFtZX1cbiAgICAgIDwvTGluaz5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRVc2VyVGl0bGUoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnVzZXIudGl0bGUpIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLXRpdGxlIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAge3RoaXMucHJvcHMudXNlci50aXRsZX1cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy51c2VyLnVybH0+XG4gICAgICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc2l6ZT17NTB9IHNpemUyeD17NjR9IC8+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1uYW1lXCI+XG4gICAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLnVzZXIudXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLnVzZXIudXNlcm5hbWV9XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWRldGFpbHNcIj5cbiAgICAgICAgICAgIHt0aGlzLmdldFVzZXJTdGF0dXMoKX1cbiAgICAgICAgICAgIHt0aGlzLmdldFJhbmtOYW1lKCl9XG4gICAgICAgICAgICB7dGhpcy5nZXRVc2VyVGl0bGUoKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY29tcGFjdC1zdGF0cyB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLXBvc2l0aW9uXCI+XG4gICAgICAgICAgICAgIDxzdHJvbmc+I3t0aGlzLnByb3BzLmNvdW50ZXJ9PC9zdHJvbmc+XG4gICAgICAgICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlJhbmtcIil9PC9zbWFsbD5cbiAgICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmFuay1wb3N0cy1jb3VudGVkXCI+XG4gICAgICAgICAgICAgIDxzdHJvbmc+e3RoaXMucHJvcHMudXNlci5tZXRhLnNjb3JlfTwvc3Ryb25nPlxuICAgICAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rZWQgcG9zdHNcIil9PC9zbWFsbD5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc2l0aW9uIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+I3t0aGlzLnByb3BzLmNvdW50ZXJ9PC9zdHJvbmc+XG4gICAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua1wiKX08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zdHMtY291bnRlZCBoaWRkZW4teHNcIj5cbiAgICAgICAgICA8c3Ryb25nPnt0aGlzLnByb3BzLnVzZXIubWV0YS5zY29yZX08L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rZWQgcG9zdHNcIil9PC9zbWFsbD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLXRvdGFsIGhpZGRlbi14c1wiPlxuICAgICAgICAgIDxzdHJvbmc+e3RoaXMucHJvcHMudXNlci5wb3N0c308L3N0cm9uZz5cbiAgICAgICAgICA8c21hbGw+e2dldHRleHQoXCJUb3RhbCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJdGVtUHJldmlldyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW0tcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycy1saXN0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkIHVpLXByZXZpZXdcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDIyMCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9wPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMgdWktcHJldmlld1wiPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgICAgICB7WzAsIDEsIDJdLm1hcCgoaSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gPEl0ZW1QcmV2aWV3IGhpZGRlbk9uTW9iaWxlPXtpID4gMH0ga2V5PXtpfSAvPlxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGlzdEl0ZW0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TGVhZE1lc3NhZ2UoKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHBvc3RlcnMpcyBtb3N0IGFjdGl2ZSBwb3N0ZXIgZnJvbSBsYXN0ICUoZGF5cylzIGRheXMuXCIsXG4gICAgICAgIFwiJShwb3N0ZXJzKXMgbW9zdCBhY3RpdmUgcG9zdGVycyBmcm9tIGxhc3QgJShkYXlzKXMgZGF5cy5cIixcbiAgICAgICAgdGhpcy5wcm9wcy5jb3VudCk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgcG9zdGVyczogdGhpcy5wcm9wcy5jb3VudCxcbiAgICAgIGRheXM6IHRoaXMucHJvcHMudHJhY2tlZFBlcmlvZFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhY3RpdmUtcG9zdGVycy1saXN0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMuZ2V0TGVhZE1lc3NhZ2UoKX1cbiAgICAgICAgPC9wPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMgdWktcmVhZHlcIj5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMudXNlcnMubWFwKCh1c2VyLCBpKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8TGlzdEl0ZW0gdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5rPXt1c2VyLnJhbmt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlcj17aSArIDF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt1c2VyLmlkfSAvPjtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3RFbXB0eSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWVtcHR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1wcmV2aWV3JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFJlYWR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtcmVhZHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnVVNFUlMnKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCgnVVNFUlMnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShkYXRhKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICB0cmFja2VkUGVyaW9kOiBkYXRhLnRyYWNrZWRfcGVyaW9kLFxuICAgICAgY291bnQ6IGRhdGEuY291bnRcbiAgICB9O1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZygpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAnYWN0aXZlLXBvc3RlcnMnLFxuICAgICAgdXJsOiBtaXNhZ28uZ2V0KCdVU0VSU19BUEknKSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbGlzdDogJ2FjdGl2ZSdcbiAgICAgIH0sXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcblxuICAgICAgdHJhY2tlZFBlcmlvZDogZGF0YS50cmFja2VkX3BlcmlvZCxcbiAgICAgIGNvdW50OiBkYXRhLmNvdW50XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnJvdXRlLmV4dHJhLm5hbWUsXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJVc2Vyc1wiKVxuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgcG9sbHMuc3RvcCgnYWN0aXZlLXBvc3RlcnMnKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuY291bnQgPiAwKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMaXN0UmVhZHkgdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrZWRQZXJpb2Q9e3RoaXMuc3RhdGUudHJhY2tlZFBlcmlvZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ9e3RoaXMuc3RhdGUuY291bnR9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPExpc3RFbXB0eSB0cmFja2VkUGVyaW9kPXt0aGlzLnN0YXRlLnRyYWNrZWRQZXJpb2R9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExpc3RQcmV2aWV3IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7XG5pbXBvcnQgTGkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbGknO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7IGJhc2VVcmwsIGxpc3RzIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxsc1wiPlxuICAgICAge2xpc3RzLm1hcCgobGlzdCkgPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBsaXN0VXJsKGJhc2VVcmwsIGxpc3QpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxMaSBwYXRoPXt1cmx9IGtleT17dXJsfT5cbiAgICAgICAgICAgIDxMaW5rIHRvPXt1cmx9PlxuICAgICAgICAgICAgICB7bGlzdC5uYW1lfVxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIDwvTGk+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApO1xufVxuXG5jb25zdCBsaXN0VXJsID0gZnVuY3Rpb24oYmFzZVVybCwgbGlzdCkge1xuICBsZXQgdXJsID0gYmFzZVVybDtcbiAgaWYgKGxpc3QuY29tcG9uZW50ID09PSAncmFuaycpIHtcbiAgICB1cmwgKz0gbGlzdC5zbHVnO1xuICB9IGVsc2Uge1xuICAgIHVybCArPSBsaXN0LmNvbXBvbmVudDtcbiAgfVxuICByZXR1cm4gdXJsICsgJy8nO1xufTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFVzZXJzTGlzdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy1saXN0JyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPFVzZXJzTGlzdFxuICAgICAgICAgIGNvbHM9ezR9XG4gICAgICAgICAgaXNSZWFkeT17ZmFsc2V9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFnZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9wYWdlcic7XG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8VXNlcnNMaXN0XG4gICAgICAgIGNvbHM9ezR9XG4gICAgICAgIGlzUmVhZHk9e3RydWV9XG4gICAgICAgIHNob3dTdGF0dXM9e3RydWV9XG4gICAgICAgIHVzZXJzPXtwcm9wcy51c2Vyc31cbiAgICAgIC8+XG4gICAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCByZXNldFNjcm9sbCBmcm9tICdtaXNhZ28vdXRpbHMvcmVzZXQtc2Nyb2xsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBhZ2VzID09PSAxKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHJvdy10b29sYmFyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiB0ZXh0LWNlbnRlciB2aXNpYmxlLXhzLWJsb2NrXCI+XG4gICAgICAgIDxNb3JlIG1vcmU9e3Byb3BzLm1vcmV9IC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci12ZXJ0aWNhbC1zcGFjZXJcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC03XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tNCBjb2wtbWQtNVwiPlxuICAgICAgICAgICAgPFBhZ2VyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zbS04IGNvbC1tZC03IGhpZGRlbi14c1wiPlxuICAgICAgICAgICAgPE1vcmUgbW9yZT17cHJvcHMubW9yZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcm93LXBhZ2luYXRvclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8Rmlyc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8UHJldmlvdXNQYWdlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiPlxuICAgICAgICA8TmV4dFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0zXCI+XG4gICAgICAgIDxMYXN0UGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpcnN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkZWQgJiYgcHJvcHMuZmlyc3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExpbmtcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZVwiXG4gICAgICAgIG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfVxuICAgICAgICB0bz17cHJvcHMuYmFzZVVybH1cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zmlyc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Zmlyc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmV2aW91c1BhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzTG9hZGVkICYmIHByb3BzLnBhZ2UgPiAxKSB7XG4gICAgbGV0IHByZXZpb3VzVXJsID0gJyc7XG4gICAgaWYgKHByb3BzLnByZXZpb3VzKSB7XG4gICAgICBwcmV2aW91c1VybCA9IHByb3BzLnByZXZpb3VzICsgJy8nO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cmVzZXRTY3JvbGx9XG4gICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsICsgcHJldmlvdXNVcmx9XG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gcHJldmlvdXMgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lIGRpc2FibGVkXCJcbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBwcmV2aW91cyBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9sZWZ0PC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5leHRQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0xvYWRlZCAmJiBwcm9wcy5tb3JlKSB7XG4gICAgbGV0IG5leHRVcmwgPSAnJztcbiAgICBpZiAocHJvcHMubmV4dCkge1xuICAgICAgbmV4dFVybCA9IHByb3BzLm5leHQgKyAnLyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaW5rXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWljb24gYnRuLW91dGxpbmVcIlxuICAgICAgICBvbkNsaWNrPXtyZXNldFNjcm9sbH1cbiAgICAgICAgdG89e3Byb3BzLmJhc2VVcmwgKyBuZXh0VXJsfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIG5leHQgcGFnZVwiKX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZSBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbmV4dCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+Y2hldnJvbl9yaWdodDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMYXN0UGFnZShwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkZWQgJiYgcHJvcHMubGFzdCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGlua1xuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1pY29uIGJ0bi1vdXRsaW5lXCJcbiAgICAgICAgb25DbGljaz17cmVzZXRTY3JvbGx9XG4gICAgICAgIHRvPXtwcm9wcy5iYXNlVXJsICsgcHJvcHMubGFzdCArICcvJ31cbiAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBsYXN0IHBhZ2VcIil9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5sYXN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4taWNvbiBidG4tb3V0bGluZSBkaXNhYmxlZFwiXG4gICAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbGFzdCBwYWdlXCIpfVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGFzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vcmUocHJvcHMpIHtcbiAgbGV0IG1lc3NhZ2UgPSBudWxsO1xuICBpZiAocHJvcHMubW9yZSkge1xuICAgIG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiVGhlcmUgaXMgJShtb3JlKXMgbW9yZSBtZW1iZXIgd2l0aCB0aGlzIHJvbGUuXCIsXG4gICAgICBcIlRoZXJlIGFyZSAlKG1vcmUpcyBtb3JlIG1lbWJlcnMgd2l0aCB0aGlzIHJvbGUuXCIsXG4gICAgICBwcm9wcy5tb3JlKTtcbiAgICBtZXNzYWdlID0gaW50ZXJwb2xhdGUobWVzc2FnZSwgeydtb3JlJzogcHJvcHMubW9yZX0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiVGhlcmUgYXJlIG5vIG1vcmUgbWVtYmVycyB3aXRoIHRoaXMgcm9sZS5cIik7XG4gIH1cblxuICByZXR1cm4gPHA+e21lc3NhZ2V9PC9wPjtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhZ2VMZWFkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhZ2UtbGVhZCcgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3QnIC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpc3RMb2FkaW5nIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdC1sb2FkaW5nJyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnVVNFUlMnKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCgnVVNFUlMnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcocHJvcHMucGFyYW1zLnBhZ2UgfHwgMSk7XG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSBPYmplY3QuYXNzaWduKGRhdGEsIHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgfSk7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhwYWdlKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogJ3JhbmstdXNlcnMnLFxuICAgICAgdXJsOiBtaXNhZ28uZ2V0KCdVU0VSU19BUEknKSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcmFuazogdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmlkLFxuICAgICAgICBwYWdlOiBwYWdlXG4gICAgICB9LFxuICAgICAgZnJlcXVlbmN5OiA5MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHVwZGF0ZSA9IChkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcblxuICAgIGRhdGEuaXNMb2FkZWQgPSB0cnVlO1xuICAgIHRoaXMuc2V0U3RhdGUoZGF0YSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnJvdXRlLnJhbmsubmFtZSxcbiAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgbnVsbCxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIlVzZXJzXCIpXG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBwb2xscy5zdG9wKCdyYW5rLXVzZXJzJyk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICh0aGlzLnByb3BzLnBhcmFtcy5wYWdlICE9PSBuZXh0UHJvcHMucGFyYW1zLnBhZ2UpIHtcbiAgICAgIHRpdGxlLnNldCh7XG4gICAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnJvdXRlLnJhbmsubmFtZSxcbiAgICAgICAgcGFnZTogbmV4dFByb3BzLnBhcmFtcy5wYWdlIHx8IG51bGwsXG4gICAgICAgIHBhcmVudDogZ2V0dGV4dChcIlVzZXJzXCIpXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHBvbGxzLnN0b3AoJ3JhbmstdXNlcnMnKTtcbiAgICAgIHRoaXMuc3RhcnRQb2xsaW5nKG5leHRQcm9wcy5wYXJhbXMucGFnZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gJ3JhbmstdXNlcnMtbGlzdCByYW5rLXVzZXJzLScgKyB0aGlzLnByb3BzLnJvdXRlLnJhbmsuY3NzX2NsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3JhbmstdXNlcnMtbGlzdCc7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmFua0Rlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLnJhbmsuZGVzY3JpcHRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInJhbmstZGVzY3JpcHRpb25cIj5cbiAgICAgICAgPFBhZ2VMZWFkIGNvcHk9e3RoaXMucHJvcHMucm91dGUucmFuay5kZXNjcmlwdGlvbi5odG1sfSAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29tcG9uZW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb3VudCA+IDApIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICBsZXQgYmFzZVVybCA9IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJykgKyB0aGlzLnByb3BzLnJvdXRlLnJhbmsuc2x1ZyArICcvJztcbiAgICAgICAgcmV0dXJuIDxMaXN0IGJhc2VVcmw9e2Jhc2VVcmx9XG4gICAgICAgICAgICAgICAgICAgICB1c2Vycz17dGhpcy5wcm9wcy51c2Vyc31cbiAgICAgICAgICAgICAgICAgICAgIHsuLi50aGlzLnN0YXRlfSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlRoZXJlIGFyZSBubyB1c2VycyB3aXRoIHRoaXMgcmFuayBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgPC9wPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxMaXN0TG9hZGluZyAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAge3RoaXMuZ2V0UmFua0Rlc2NyaXB0aW9uKCl9XG4gICAgICAgIHt0aGlzLmdldENvbXBvbmVudCgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTmF2IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL25hdic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEFjdGl2ZVBvc3RlcnMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvcm9vdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJhbmsgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9yb290JztcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93bic7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtdXNlcnMtbGlzdHNcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlci1iZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgIDxoMT57Z2V0dGV4dChcIlVzZXJzXCIpfTwvaDE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgICAgICAgICA8TmF2XG4gICAgICAgICAgICAgICAgICBsaXN0cz17bWlzYWdvLmdldCgnVVNFUlNfTElTVFMnKX1cbiAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJyl9XG4gICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3RpY2snOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgJ3VzZXInOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgJ3VzZXJzJzogc3RvcmUudXNlcnNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKCkge1xuICBsZXQgcGF0aHMgPSBbXTtcblxuICBtaXNhZ28uZ2V0KCdVU0VSU19MSVNUUycpLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgIGlmIChpdGVtLmNvbXBvbmVudCA9PT0gJ3JhbmsnKSB7XG4gICAgICBwYXRocy5wdXNoKHtcbiAgICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUlNfTElTVF9VUkwnKSArIGl0ZW0uc2x1ZyArICcvOnBhZ2UvJyxcbiAgICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoUmFuayksXG4gICAgICAgIHJhbms6IGl0ZW1cbiAgICAgIH0pO1xuICAgICAgcGF0aHMucHVzaCh7XG4gICAgICAgIHBhdGg6IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJykgKyBpdGVtLnNsdWcgKyAnLycsXG4gICAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJhbmspLFxuICAgICAgICByYW5rOiBpdGVtXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGl0ZW0uY29tcG9uZW50ID09PSAnYWN0aXZlLXBvc3RlcnMnKXtcbiAgICAgIHBhdGhzLnB1c2goe1xuICAgICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpICsgaXRlbS5jb21wb25lbnQgKyAnLycsXG4gICAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKEFjdGl2ZVBvc3RlcnMpLFxuICAgICAgICBleHRyYToge1xuICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXRocztcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZHJvcGRvd246IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdG9nZ2xlTmF2ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJvcGRvd246ICF0aGlzLnN0YXRlLmRyb3Bkb3duXG4gICAgfSk7XG4gIH07XG5cbiAgaGlkZU5hdiA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRyb3Bkb3duOiBmYWxzZVxuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldENvbXBhY3ROYXZDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZHJvcGRvd24pIHtcbiAgICAgIHJldHVybiAnY29tcGFjdC1uYXYgb3Blbic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnY29tcGFjdC1uYXYnO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLXllcy1ubyBidG4teWVzLW5vLW9uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4teWVzLW5vIGJ0bi15ZXMtbm8tb2ZmXCI7XG4gICAgfVxuICB9XG5cbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAoISF0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5pY29uT24gfHwgJ2NoZWNrX2JveCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmljb25PZmYgfHwgJ2NoZWNrX2JveF9vdXRsaW5lX2JsYW5rJztcbiAgICB9XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoISF0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5sYWJlbE9uIHx8IGdldHRleHQoXCJ5ZXNcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmxhYmVsT2ZmIHx8IGdldHRleHQoXCJub1wiKTtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHRvZ2dsZSA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgIHRhcmdldDoge1xuICAgICAgICB2YWx1ZTogIXRoaXMucHJvcHMudmFsdWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZX1cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICBpZD17dGhpcy5wcm9wcy5pZCB8fCBudWxsfVxuICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXt0aGlzLnByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J10gfHwgbnVsbH1cbiAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWQgfHwgZmFsc2V9XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7dGhpcy5nZXRJY29uKCl9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnRuLXRleHRcIj5cbiAgICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbG9hZCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wcm9maWxlLWRldGFpbHMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBkYXRhLCBkaXNwYXRjaCwgdXNlciB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGF0YSAmJiBkYXRhLmlkID09PSB1c2VyLmlkKSByZXR1cm47XG5cbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnVzZXIuYXBpLmRldGFpbHMpLnRoZW4oXG4gICAgICAoZGF0YSkgPT4ge1xuICAgICAgICBkaXNwYXRjaChsb2FkKGRhdGEpKTtcbiAgICAgIH0sXG4gICAgICAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG59IiwiaW1wb3J0IE9yZGVyZWRMaXN0IGZyb20gJ21pc2Fnby91dGlscy9vcmRlcmVkLWxpc3QnO1xuXG5leHBvcnQgY2xhc3MgTWlzYWdvIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5faW5pdGlhbGl6ZXJzID0gW107XG4gICAgdGhpcy5fY29udGV4dCA9IHt9O1xuICB9XG5cbiAgYWRkSW5pdGlhbGl6ZXIoaW5pdGlhbGl6ZXIpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplcnMucHVzaCh7XG4gICAgICBrZXk6IGluaXRpYWxpemVyLm5hbWUsXG5cbiAgICAgIGl0ZW06IGluaXRpYWxpemVyLmluaXRpYWxpemVyLFxuXG4gICAgICBhZnRlcjogaW5pdGlhbGl6ZXIuYWZ0ZXIsXG4gICAgICBiZWZvcmU6IGluaXRpYWxpemVyLmJlZm9yZVxuICAgIH0pO1xuICB9XG5cbiAgaW5pdChjb250ZXh0KSB7XG4gICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG5cbiAgICB2YXIgaW5pdE9yZGVyID0gbmV3IE9yZGVyZWRMaXN0KHRoaXMuX2luaXRpYWxpemVycykub3JkZXJlZFZhbHVlcygpO1xuICAgIGluaXRPcmRlci5mb3JFYWNoKGluaXRpYWxpemVyID0+IHtcbiAgICAgIGluaXRpYWxpemVyKHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gY29udGV4dCBhY2Nlc3NvcnNcbiAgaGFzKGtleSkge1xuICAgIHJldHVybiAhIXRoaXMuX2NvbnRleHRba2V5XTtcbiAgfVxuXG4gIGdldChrZXksIGZhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb250ZXh0W2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxsYmFjayB8fCB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcG9wKGtleSkge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICBsZXQgdmFsdWUgPSB0aGlzLl9jb250ZXh0W2tleV07XG4gICAgICB0aGlzLl9jb250ZXh0W2tleV0gPSBudWxsO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufVxuXG4vLyBjcmVhdGUgIHNpbmdsZXRvblxudmFyIG1pc2FnbyA9IG5ldyBNaXNhZ28oKTtcblxuLy8gZXhwb3NlIGl0IGdsb2JhbGx5XG5nbG9iYWwubWlzYWdvID0gbWlzYWdvO1xuXG4vLyBhbmQgZXhwb3J0IGl0IGZvciB0ZXN0cyBhbmQgc3R1ZmZcbmV4cG9ydCBkZWZhdWx0IG1pc2FnbztcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGFqYXguaW5pdChtaXNhZ28uZ2V0KCdDU1JGX0NPT0tJRV9OQU1FJykpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnYWpheCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9hdXRoJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmNvbnN0IEFVVEhfU1lOQ19SQVRFID0gNDU7IC8vIHN5bmMgdXNlciB3aXRoIGJhY2tlbmQgZXZlcnkgNDUgc2Vjb25kc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmdldCgnaXNBdXRoZW50aWNhdGVkJykpIHtcbiAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBhamF4LmdldChjb250ZXh0LmdldCgnQVVUSF9BUEknKSkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKGRhdGEpKTtcbiAgICAgIH0sIGZ1bmN0aW9uKHJlamVjdGlvbikge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfSwgQVVUSF9TWU5DX1JBVEUgKiAxMDAwKTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnYXV0aC1zeW5jJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ2F1dGgnXG59KTsiLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgYXV0aCBmcm9tICdtaXNhZ28vc2VydmljZXMvYXV0aCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuaW1wb3J0IHN0b3JhZ2UgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2xvY2FsLXN0b3JhZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgYXV0aC5pbml0KHN0b3JlLCBzdG9yYWdlLCBtb2RhbCk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdhdXRoJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7IiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IGNhcHRjaGEgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2NhcHRjaGEnO1xuaW1wb3J0IGluY2x1ZGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2luY2x1ZGUnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgY2FwdGNoYS5pbml0KGNvbnRleHQsIGFqYXgsIGluY2x1ZGUsIHNuYWNrYmFyKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NhcHRjaGEnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBBY2NlcHRBZ3JlZW1lbnQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYWNjZXB0LWFncmVlbWVudCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXF1aXJlZC1hZ3JlZW1lbnQtbW91bnQnKSkge1xuICAgIG1vdW50KFxuICAgICAgPEFjY2VwdEFncmVlbWVudCBhcGk9e2NvbnRleHQuZ2V0KCdSRVFVSVJFRF9BR1JFRU1FTlRfQVBJJyl9IC8+LFxuICAgICAgJ3JlcXVpcmVkLWFncmVlbWVudC1tb3VudCcsXG4gICAgICBmYWxzZVxuICAgICk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDphY2NlcHQtYWdyZWVtZW50JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEF1dGhNZXNzYWdlLCB7IHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F1dGgtbWVzc2FnZSc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoQXV0aE1lc3NhZ2UpLCAnYXV0aC1tZXNzYWdlLW1vdW50Jyk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6YXV0aC1tZXNzYWdlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoJ0JBTl9NRVNTQUdFJykpIHtcbiAgICBzaG93QmFubmVkUGFnZShjb250ZXh0LmdldCgnQkFOX01FU1NBR0UnKSwgZmFsc2UpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6YmFubWVkLXBhZ2UnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQ2F0ZWdvcmllcywgeyBzZWxlY3QgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcmllcy1tb3VudCcpKSB7XG4gICAgbW91bnQoY29ubmVjdChzZWxlY3QpKENhdGVnb3JpZXMpLCAnY2F0ZWdvcmllcy1tb3VudCcpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6Y2F0ZWdvcmllcycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IE9wdGlvbnMsIHsgcGF0aHMgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3Jvb3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoJ1VTRVJfT1BUSU9OUycpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcm9vdDogbWlzYWdvLmdldCgnVVNFUkNQX1VSTCcpLFxuICAgICAgY29tcG9uZW50OiBPcHRpb25zLFxuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50Om9wdGlvbnMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUHJvZmlsZSwgeyBwYXRocywgc2VsZWN0IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9yb290JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKCdQUk9GSUxFJykgJiYgY29udGV4dC5oYXMoJ1BST0ZJTEVfUEFHRVMnKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHJvb3Q6IG1pc2Fnby5nZXQoJ1BST0ZJTEUnKS51cmwsXG4gICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShQcm9maWxlKSxcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpwcm9maWxlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3JlZHVjZXI6cHJvZmlsZS1oeWRyYXRlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgUmVxdWVzdEFjdGl2YXRpb25MaW5rIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3JlcXVlc3QtYWN0aXZhdGlvbi1saW5rJztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVxdWVzdC1hY3RpdmF0aW9uLWxpbmstbW91bnQnKSkge1xuICAgIG1vdW50KFJlcXVlc3RBY3RpdmF0aW9uTGluaywgJ3JlcXVlc3QtYWN0aXZhdGlvbi1saW5rLW1vdW50JywgZmFsc2UpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6cmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBSZXF1ZXN0UGFzc3dvcmRSZXNldCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVxdWVzdC1wYXNzd29yZC1yZXNldC1tb3VudCcpKSB7XG4gICAgbW91bnQoUmVxdWVzdFBhc3N3b3JkUmVzZXQsICdyZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LW1vdW50JywgZmFsc2UpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6cmVxdWVzdC1wYXNzd29yZC1yZXNldCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IFJlc2V0UGFzc3dvcmRGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Jlc2V0LXBhc3N3b3JkLWZvcm0nO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC1wYXNzd29yZC1mb3JtLW1vdW50JykpIHtcbiAgICBtb3VudChSZXNldFBhc3N3b3JkRm9ybSwgJ3Jlc2V0LXBhc3N3b3JkLWZvcm0tbW91bnQnLCBmYWxzZSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpyZXNldC1wYXNzd29yZC1mb3JtJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgcGF0aHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2VhcmNoJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuZ2V0KCdDVVJSRU5UX0xJTksnKSA9PT0gJ21pc2FnbzpzZWFyY2gnKSB7XG4gICAgbW91bnQoe1xuICAgICAgcGF0aHM6IHBhdGhzKG1pc2Fnby5nZXQoJ1NFQVJDSF9QUk9WSURFUlMnKSlcbiAgICB9KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnNlYXJjaCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IFNuYWNrYmFyLCBzZWxlY3QgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zbmFja2Jhcic7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoU25hY2tiYXIpLCAnc25hY2tiYXItbW91bnQnKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpzbmFja2JhcicsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzbmFja2Jhcidcbn0pO1xuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTb2NpYWxBdXRoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NvY2lhbC1hdXRoJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5nZXQoJ0NVUlJFTlRfTElOSycpID09PSAnc29jaWFsOmNvbXBsZXRlJykge1xuICAgIGNvbnN0IHByb3BzID0gY29udGV4dC5nZXQoJ1NPQ0lBTF9BVVRIJyk7XG4gICAgbW91bnQoPFNvY2lhbEF1dGggey4uLnByb3BzfSAvPiwgJ3BhZ2UtbW91bnQnKTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnNvY2lhbC1hdXRoJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgeyBwYXRocyB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZC9yb290JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKCdUSFJFQUQnKSAmJiBjb250ZXh0LmhhcygnUE9TVFMnKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDp0aHJlYWQnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCB7IHBhdGhzIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9yb290JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudCc7XG5cbmNvbnN0IFBSSVZBVEVfVEhSRUFEU19MSVNUID0gJ21pc2Fnbzpwcml2YXRlLXRocmVhZHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcygnVEhSRUFEUycpICYmIGNvbnRleHQuaGFzKCdDQVRFR09SSUVTJykpIHtcbiAgICBtb3VudCh7XG4gICAgICBwYXRoczogcGF0aHMoY29udGV4dC5nZXQoJ3VzZXInKSwgZ2V0TGlzdE9wdGlvbnMoY29udGV4dCkpXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpc3RPcHRpb25zKGNvbnRleHQpIHtcbiAgY29uc3QgY3VycmVudExpbmsgPSBjb250ZXh0LmdldCgnQ1VSUkVOVF9MSU5LJyk7XG4gIGlmIChjdXJyZW50TGluay5zdWJzdHIoMCwgUFJJVkFURV9USFJFQURTX0xJU1QubGVuZ3RoKSA9PT0gUFJJVkFURV9USFJFQURTX0xJU1QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXBpOiBjb250ZXh0LmdldCgnUFJJVkFURV9USFJFQURTX0FQSScpLFxuICAgICAgc3RhcnRUaHJlYWQ6IHtcbiAgICAgICAgbW9kZTogJ1NUQVJUX1BSSVZBVEUnLFxuICAgICAgICBzdWJtaXQ6IG1pc2Fnby5nZXQoJ1BSSVZBVEVfVEhSRUFEU19BUEknKVxuICAgICAgfSxcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiUHJpdmF0ZSB0aHJlYWRzXCIpLFxuICAgICAgcGFnZUxlYWQ6IGdldHRleHQoXCJQcml2YXRlIHRocmVhZHMgYXJlIHRocmVhZHMgd2hpY2ggb25seSB0aG9zZSB0aGF0IHN0YXJ0ZWQgdGhlbSBhbmQgdGhvc2UgdGhleSBoYXZlIGludml0ZWQgbWF5IHNlZSBhbmQgcGFydGljaXBhdGUgaW4uXCIpLFxuICAgICAgZW1wdHlNZXNzYWdlOiBnZXR0ZXh0KFwiWW91IGFyZW4ndCBwYXJ0aWNpcGF0aW5nIGluIGFueSBwcml2YXRlIHRocmVhZHMuXCIpXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgJ2FwaSc6IGNvbnRleHQuZ2V0KCdUSFJFQURTX0FQSScpXG4gIH07XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6dGhyZWFkcycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IFVzZXJNZW51LCBDb21wYWN0VXNlck1lbnUsIHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXItbWVudS9yb290JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShVc2VyTWVudSksICd1c2VyLW1lbnUtbW91bnQnKTtcbiAgbW91bnQoY29ubmVjdChzZWxlY3QpKENvbXBhY3RVc2VyTWVudSksICd1c2VyLW1lbnUtY29tcGFjdC1tb3VudCcpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnVzZXItbWVudScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IFVzZXJzLCB7IHBhdGhzIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcm9vdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcygnVVNFUlNfTElTVFMnKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHJvb3Q6IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJyksXG4gICAgICBjb21wb25lbnQ6IFVzZXJzLFxuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnVzZXJzJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgaW5jbHVkZSBmcm9tICdtaXNhZ28vc2VydmljZXMvaW5jbHVkZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaW5jbHVkZS5pbml0KGNvbnRleHQuZ2V0KCdTVEFUSUNfVVJMJykpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnaW5jbHVkZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc3RvcmFnZSBmcm9tICdtaXNhZ28vc2VydmljZXMvbG9jYWwtc3RvcmFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yYWdlLmluaXQoJ21pc2Fnb18nKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2xvY2FsLXN0b3JhZ2UnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGRyb3Bkb3duIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vYmlsZS1uYXZiYXItZHJvcGRvd24tbW91bnQnKTtcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBkcm9wZG93bi5pbml0KGVsZW1lbnQpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdkcm9wZG93bicsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwtbW91bnQnKTtcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBtb2RhbC5pbml0KGVsZW1lbnQpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdtb2RhbCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vbWVudC5sb2NhbGUoJCgnaHRtbCcpLmF0dHIoJ2xhbmcnKSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdtb21lbnQnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICB0aXRsZS5pbml0KFxuICAgIGNvbnRleHQuZ2V0KCdTRVRUSU5HUycpLmZvcnVtX2luZGV4X3RpdGxlLFxuICAgIGNvbnRleHQuZ2V0KCdTRVRUSU5HUycpLmZvcnVtX25hbWVcbiAgKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3BhZ2UtdGl0bGUnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHBvbGxzLmluaXQoYWpheCwgc25hY2tiYXIpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncG9sbHMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBwb3N0aW5nLmluaXQoYWpheCwgc25hY2tiYXIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3N0aW5nLXBsYWNlaG9sZGVyJykpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncG9zdGluZycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciwgeyBpbml0aWFsU3RhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvYXV0aCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCdhdXRoJywgcmVkdWNlciwgT2JqZWN0LmFzc2lnbih7XG4gICAgaXNBdXRoZW50aWNhdGVkOiBjb250ZXh0LmdldCgnaXNBdXRoZW50aWNhdGVkJyksXG4gICAgaXNBbm9ueW1vdXM6ICFjb250ZXh0LmdldCgnaXNBdXRoZW50aWNhdGVkJyksXG5cbiAgICB1c2VyOiBjb250ZXh0LmdldCgndXNlcicpXG4gIH0sIGluaXRpYWxTdGF0ZSkpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjphdXRoJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3BhcnRpY2lwYW50cyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBpbml0aWFsU3RhdGUgPSBudWxsO1xuICBpZiAobWlzYWdvLmhhcygnVEhSRUFEJykpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBtaXNhZ28uZ2V0KCdUSFJFQUQnKS5wYXJ0aWNpcGFudHM7XG4gIH1cblxuICBzdG9yZS5hZGRSZWR1Y2VyKCdwYXJ0aWNpcGFudHMnLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUgfHwgW10pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpwYXJ0aWNpcGFudHMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciwgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3BvbGwnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgaWYgKG1pc2Fnby5oYXMoJ1RIUkVBRCcpICYmIG1pc2Fnby5nZXQoJ1RIUkVBRCcpLnBvbGwpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBoeWRyYXRlKG1pc2Fnby5nZXQoJ1RIUkVBRCcpLnBvbGwpO1xuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcigncG9sbCcsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnBvbGwnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciwgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3RzJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gIGlmIChtaXNhZ28uaGFzKCdQT1NUUycpKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gaHlkcmF0ZShtaXNhZ28uZ2V0KCdQT1NUUycpKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3Bvc3RzJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6cG9zdHMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZS1kZXRhaWxzJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gIGlmIChtaXNhZ28uaGFzKCdQUk9GSUxFX0RFVEFJTFMnKSkge1xuICAgIGluaXRpYWxTdGF0ZSA9IG1pc2Fnby5nZXQoJ1BST0ZJTEVfREVUQUlMUycpO1xuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcigncHJvZmlsZS1kZXRhaWxzJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlIHx8IHt9KTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6cHJvZmlsZS1kZXRhaWxzJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgaHlkcmF0ZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wcm9maWxlJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKG1pc2Fnby5oYXMoJ1BST0ZJTEUnKSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUobWlzYWdvLmdldCgnUFJPRklMRScpKSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6cHJvZmlsZS1oeWRyYXRlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcHJvZmlsZSc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3Byb2ZpbGUnLCByZWR1Y2VyLCB7fSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnByb2ZpbGUnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgcmVkdWNlciwgeyBpbml0aWFsU3RhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvc2VhcmNoJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcignc2VhcmNoJywgcmVkdWNlciwgT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlLCB7XG4gICAgcHJvdmlkZXJzOiBtaXNhZ28uZ2V0KCdTRUFSQ0hfUFJPVklERVJTJykgfHwgW10sXG4gICAgcXVlcnk6IG1pc2Fnby5nZXQoJ1NFQVJDSF9RVUVSWScpIHx8ICcnXG4gIH0pKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6c2VhcmNoJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3NlbGVjdGlvbicsIHJlZHVjZXIsIFtdKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6c2VsZWN0aW9uJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcignc25hY2tiYXInLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpzbmFja2JhcicsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyLCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gIGlmIChtaXNhZ28uaGFzKCdUSFJFQUQnKSkge1xuICAgIGluaXRpYWxTdGF0ZSA9IGh5ZHJhdGUobWlzYWdvLmdldCgnVEhSRUFEJykpO1xuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcigndGhyZWFkJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dGhyZWFkJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCd0aHJlYWRzJywgcmVkdWNlciwgW10pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjp0aHJlYWRzJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIsIHsgaW5pdGlhbFN0YXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RpY2snO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCd0aWNrJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dGljaycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5JztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcigndXNlcm5hbWUtaGlzdG9yeScsIHJlZHVjZXIsIFtdKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dXNlcm5hbWUtaGlzdG9yeScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3VzZXJzJywgcmVkdWNlciwgW10pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjp1c2VycycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzbmFja2Jhci5pbml0KHN0b3JlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3NuYWNrYmFyJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmluaXQoKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3N0b3JlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdfZW5kJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBkb1RpY2sgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGljayc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuY29uc3QgVElDS19QRVJJT0QgPSA1MCAqIDEwMDA7IC8vZG8gdGhlIHRpY2sgZXZlcnkgNTBzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goZG9UaWNrKCkpO1xuICB9LCBUSUNLX1BFUklPRCk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICd0aWNrLXN0YXJ0JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgaW5jbHVkZSBmcm9tICdtaXNhZ28vc2VydmljZXMvaW5jbHVkZSc7XG5pbXBvcnQgenhjdmJuIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy96eGN2Ym4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgenhjdmJuLmluaXQoaW5jbHVkZSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICd6eGN2Ym4nLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IHsgVVBEQVRFX0FWQVRBUiwgVVBEQVRFX1VTRVJOQU1FIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJztcblxuZXhwb3J0IHZhciBpbml0aWFsU3RhdGUgPSB7XG4gIHNpZ25lZEluOiBmYWxzZSxcbiAgc2lnbmVkT3V0OiBmYWxzZVxufTtcblxuZXhwb3J0IGNvbnN0IFBBVENIX1VTRVIgPSAnUEFUQ0hfVVNFUic7XG5leHBvcnQgY29uc3QgU0lHTl9JTiA9ICdTSUdOX0lOJztcbmV4cG9ydCBjb25zdCBTSUdOX09VVCA9ICdTSUdOX09VVCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1VTRVIsXG4gICAgcGF0Y2hcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Jbih1c2VyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0lHTl9JTixcbiAgICB1c2VyXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduT3V0KHNvZnQ9ZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSUdOX09VVCxcbiAgICBzb2Z0XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGF1dGgoc3RhdGU9aW5pdGlhbFN0YXRlLCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBQQVRDSF9VU0VSOlxuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSk7XG4gICAgICAgIG5ld1N0YXRlLnVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS51c2VyLCBhY3Rpb24ucGF0Y2gpO1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG5cbiAgICBjYXNlIFNJR05fSU46XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgc2lnbmVkSW46IGFjdGlvbi51c2VyXG4gICAgICB9KTtcblxuICAgIGNhc2UgU0lHTl9PVVQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgICAgaXNBbm9ueW1vdXM6IHRydWUsXG4gICAgICAgIHNpZ25lZE91dDogIWFjdGlvbi5zb2Z0XG4gICAgICB9KTtcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIGlmIChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgJiYgc3RhdGUudXNlci5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICBsZXQgbmV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSk7XG4gICAgICAgIG5ld1N0YXRlLnVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS51c2VyLCB7XG4gICAgICAgICAgJ2F2YXRhcnMnOiBhY3Rpb24uYXZhdGFyc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuXG4gICAgY2FzZSBVUERBVEVfVVNFUk5BTUU6XG4gICAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkICYmIHN0YXRlLnVzZXIuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgbGV0IG5ld1N0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpO1xuICAgICAgICBuZXdTdGF0ZS51c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUudXNlciwge1xuICAgICAgICAgIHVzZXJuYW1lOiBhY3Rpb24udXNlcm5hbWUsXG4gICAgICAgICAgc2x1ZzogYWN0aW9uLnNsdWdcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBSRVBMQUNFX1BBUlRJQ0lQQU5UUyA9ICdSRVBMQUNFX1BBUlRJQ0lQQU5UUyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVQTEFDRV9QQVJUSUNJUEFOVFMsXG4gICAgc3RhdGU6IG5ld1N0YXRlXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnRpY2lwYW50cyhzdGF0ZT1bXSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUkVQTEFDRV9QQVJUSUNJUEFOVFM6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuZXhwb3J0IGNvbnN0IEJVU1lfUE9MTCA9ICdCVVNZX1BPTEwnO1xuZXhwb3J0IGNvbnN0IFJFTEVBU0VfUE9MTCA9ICdSRUxFQVNFX1BPTEwnO1xuZXhwb3J0IGNvbnN0IFJFTU9WRV9QT0xMID0gJ1JFTU9WRV9QT0xMJztcbmV4cG9ydCBjb25zdCBSRVBMQUNFX1BPTEwgPSAnUkVQTEFDRV9QT0xMJztcbmV4cG9ydCBjb25zdCBVUERBVEVfUE9MTCA9ICdVUERBVEVfUE9MTCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGpzb24pIHtcbiAgbGV0IGhhc1NlbGVjdGVkQ2hvaWNlcyA9IGZhbHNlO1xuICBmb3IgKGNvbnN0IGkgaW4ganNvbi5jaG9pY2VzKSB7XG4gICAgY29uc3QgY2hvaWNlID0ganNvbi5jaG9pY2VzW2ldO1xuICAgIGlmIChjaG9pY2Uuc2VsZWN0ZWQpIHtcbiAgICAgIGhhc1NlbGVjdGVkQ2hvaWNlcyA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHBvc3RlZF9vbjogbW9tZW50KGpzb24ucG9zdGVkX29uKSxcblxuICAgIGhhc1NlbGVjdGVkQ2hvaWNlcyxcbiAgICBlbmRzT246IChqc29uLmxlbmd0aCA/IG1vbWVudChqc29uLnBvc3RlZF9vbikuYWRkKGpzb24ubGVuZ3RoLCAnZGF5cycpIDogbnVsbCksXG5cbiAgICBpc0J1c3k6IGZhbHNlXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVzeSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBCVVNZX1BPTExcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbGVhc2UoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVMRUFTRV9QT0xMXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlLCBoeWRyYXRlZD1mYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfUE9MTCxcbiAgICBzdGF0ZTogaHlkcmF0ZWQgPyBuZXdTdGF0ZSA6IGh5ZHJhdGUobmV3U3RhdGUpXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUoZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9QT0xMLFxuICAgIGRhdGFcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRU1PVkVfUE9MTFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb2xsKHN0YXRlPXt9LCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBCVVNZX1BPTEw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtpc0J1c3k6IHRydWV9KTtcblxuICAgIGNhc2UgUkVMRUFTRV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7aXNCdXN5OiBmYWxzZX0pO1xuXG4gICAgY2FzZSBSRU1PVkVfUE9MTDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgIH07XG5cbiAgICBjYXNlIFJFUExBQ0VfUE9MTDpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGU7XG5cbiAgICBjYXNlIFVQREFURV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24uZGF0YSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgaHlkcmF0ZVVzZXIgfSBmcm9tICcuL3VzZXJzJztcblxuZXhwb3J0IGNvbnN0IFBBVENIX1BPU1QgPSAnUEFUQ0hfUE9TVCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGpzb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICBwb3N0ZWRfb246IG1vbWVudChqc29uLnBvc3RlZF9vbiksXG4gICAgdXBkYXRlZF9vbjogbW9tZW50KGpzb24udXBkYXRlZF9vbiksXG4gICAgaGlkZGVuX29uOiBtb21lbnQoanNvbi5oaWRkZW5fb24pLFxuXG4gICAgYXR0YWNobWVudHM6IGpzb24uYXR0YWNobWVudHMgPyBqc29uLmF0dGFjaG1lbnRzLm1hcChoeWRyYXRlQXR0YWNobWVudCkgOiBudWxsLFxuICAgIHBvc3RlcjoganNvbi5wb3N0ZXIgPyBoeWRyYXRlVXNlcihqc29uLnBvc3RlcikgOiBudWxsLFxuXG4gICAgaXNTZWxlY3RlZDogZmFsc2UsXG4gICAgaXNCdXN5OiBmYWxzZSxcbiAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZUF0dGFjaG1lbnQoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHVwbG9hZGVkX29uOiBtb21lbnQoanNvbi51cGxvYWRlZF9vbilcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwb3N0LCBwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1BPU1QsXG4gICAgcG9zdCxcbiAgICBwYXRjaFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb3N0KHN0YXRlPXt9LCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBQQVRDSF9QT1NUOlxuICAgICAgaWYgKHN0YXRlLmlkID09IGFjdGlvbi5wb3N0LmlkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLnBhdGNoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJpbXBvcnQgcG9zdFJlZHVjZXIsIHsgUEFUQ0hfUE9TVCwgaHlkcmF0ZSBhcyBoeWRyYXRlUG9zdCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcblxuZXhwb3J0IGNvbnN0IEFQUEVORF9QT1NUUyA9ICdBUFBFTkRfUE9TVFMnO1xuZXhwb3J0IGNvbnN0IFNFTEVDVF9QT1NUID0gJ1NFTEVDVF9QT1NUJztcbmV4cG9ydCBjb25zdCBERVNFTEVDVF9QT1NUID0gJ0RFU0VMRUNUX1BPU1QnO1xuZXhwb3J0IGNvbnN0IERFU0VMRUNUX1BPU1RTID0gJ0RFU0VMRUNUX1BPU1RTJztcbmV4cG9ydCBjb25zdCBMT0FEX1BPU1RTID0gJ0xPQURfUE9TVFMnO1xuZXhwb3J0IGNvbnN0IFVOTE9BRF9QT1NUUyA9ICdVTkxPQURfUE9TVFMnO1xuZXhwb3J0IGNvbnN0IFVQREFURV9QT1NUUyA9ICdVUERBVEVfUE9TVFMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHBvc3QpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfUE9TVCxcbiAgICBwb3N0XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlbGVjdChwb3N0KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogREVTRUxFQ1RfUE9TVCxcbiAgICBwb3N0XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlbGVjdEFsbCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBERVNFTEVDVF9QT1NUUyxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHJlc3VsdHM6IGpzb24ucmVzdWx0cy5tYXAoaHlkcmF0ZVBvc3QpLFxuICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgIGlzQnVzeTogZmFsc2UsXG4gICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKG5ld1N0YXRlLCBoeWRyYXRlZD1mYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IExPQURfUE9TVFMsXG4gICAgc3RhdGU6IGh5ZHJhdGVkID8gbmV3U3RhdGUgOiBoeWRyYXRlKG5ld1N0YXRlKVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKG5ld1N0YXRlLCBoeWRyYXRlZD1mYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9QT1NUUyxcbiAgICBzdGF0ZTogaHlkcmF0ZWQgPyBuZXdTdGF0ZSA6IGh5ZHJhdGUobmV3U3RhdGUpXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmxvYWQoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVU5MT0FEX1BPU1RTXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUobmV3U3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfUE9TVFMsXG4gICAgdXBkYXRlOiBuZXdTdGF0ZVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb3N0cyhzdGF0ZT17fSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0VMRUNUX1BPU1Q6XG4gICAgICBjb25zdCBzZWxlY3RlZFBvc3RzID0gc3RhdGUucmVzdWx0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgaWYgKHBvc3QuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgICAgaXNTZWxlY3RlZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwb3N0O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHJlc3VsdHM6IHNlbGVjdGVkUG9zdHNcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBERVNFTEVDVF9QT1NUOlxuICAgICAgY29uc3QgZGVzZWxldGVkUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcCgocG9zdCkgPT4ge1xuICAgICAgICBpZiAocG9zdC5pZCA9PSBhY3Rpb24ucG9zdC5pZCkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwb3N0LCB7XG4gICAgICAgICAgICBpc1NlbGVjdGVkOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwb3N0O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHJlc3VsdHM6IGRlc2VsZXRlZFBvc3RzXG4gICAgICB9KTtcblxuICAgIGNhc2UgREVTRUxFQ1RfUE9TVFM6XG4gICAgICBjb25zdCBkZXNlbGV0ZWRBbGxQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwb3N0LCB7XG4gICAgICAgICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHJlc3VsdHM6IGRlc2VsZXRlZEFsbFBvc3RzXG4gICAgICB9KTtcblxuICAgIGNhc2UgQVBQRU5EX1BPU1RTOlxuICAgICAgbGV0IHJlc3VsdHMgPSBzdGF0ZS5yZXN1bHRzLnNsaWNlKCk7XG4gICAgICBjb25zdCByZXN1bHRzSWRzID0gc3RhdGUucmVzdWx0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgcmV0dXJuIHBvc3QuaWQ7XG4gICAgICB9KTtcblxuICAgICAgYWN0aW9uLnN0YXRlLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHRzSWRzLmluZGV4T2YocG9zdC5pZCkgPT09IC0xKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHBvc3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbi5zdGF0ZSwge1xuICAgICAgICByZXN1bHRzXG4gICAgICB9KTtcblxuICAgIGNhc2UgTE9BRF9QT1NUUzpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGU7XG5cbiAgICBjYXNlIFVOTE9BRF9QT1NUUzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICB9KTtcblxuICAgIGNhc2UgVVBEQVRFX1BPU1RTOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24udXBkYXRlKTtcblxuICAgIGNhc2UgUEFUQ0hfUE9TVDpcbiAgICAgIGNvbnN0IHJlZHVjZWRQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgIHJldHVybiBwb3N0UmVkdWNlcihwb3N0LCBhY3Rpb24pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiByZWR1Y2VkUG9zdHNcbiAgICAgIH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImV4cG9ydCBjb25zdCBMT0FEX0RFVEFJTFMgPSAnTE9BRF9ERVRBSUxTJztcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWQobmV3U3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBMT0FEX0RFVEFJTFMsXG5cbiAgICBuZXdTdGF0ZVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXRhaWxzKHN0YXRlPXt9LCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBMT0FEX0RFVEFJTFM6XG4gICAgICByZXR1cm4gYWN0aW9uLm5ld1N0YXRlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IFVQREFURV9BVkFUQVIsIFVQREFURV9VU0VSTkFNRSwgaHlkcmF0ZVN0YXR1cyB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5cbmV4cG9ydCBjb25zdCBIWURSQVRFX1BST0ZJTEUgPSAnSFlEUkFURV9QUk9GSUxFJztcbmV4cG9ydCBjb25zdCBQQVRDSF9QUk9GSUxFID0gJ1BBVENIX1BST0ZJTEUnO1xuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShwcm9maWxlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSFlEUkFURV9QUk9GSUxFLFxuICAgIHByb2ZpbGVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHBhdGNoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUEFUQ0hfUFJPRklMRSxcbiAgICBwYXRjaFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhdXRoKHN0YXRlPXt9LCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBIWURSQVRFX1BST0ZJTEU6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLnByb2ZpbGUsIHtcbiAgICAgICAgam9pbmVkX29uOiBtb21lbnQoYWN0aW9uLnByb2ZpbGUuam9pbmVkX29uKSxcbiAgICAgICAgc3RhdHVzOiBoeWRyYXRlU3RhdHVzKGFjdGlvbi5wcm9maWxlLnN0YXR1cylcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBQQVRDSF9QUk9GSUxFOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24ucGF0Y2gpO1xuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgaWYgKHN0YXRlLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgIGF2YXRhcnM6IGFjdGlvbi5hdmF0YXJzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlO1xuXG4gICAgY2FzZSBVUERBVEVfVVNFUk5BTUU6XG4gICAgICBpZiAoc3RhdGUuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgICAgdXNlcm5hbWU6IGFjdGlvbi51c2VybmFtZSxcbiAgICAgICAgICBzbHVnOiBhY3Rpb24uc2x1Z1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBSRVBMQUNFX1NFQVJDSCA9ICdSRVBMQUNFX1NFQVJDSCc7XG5leHBvcnQgY29uc3QgVVBEQVRFX1NFQVJDSCA9ICdVUERBVEVfU0VBUkNIJztcbmV4cG9ydCBjb25zdCBVUERBVEVfU0VBUkNIX1BST1ZJREVSID0gJ1VQREFURV9TRUFSQ0hfUFJPVklERVInO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBxdWVyeTogJycsXG4gIHByb3ZpZGVyczogW11cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVQTEFDRV9TRUFSQ0gsXG4gICAgc3RhdGU6IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBwcm92aWRlcnM6IG5ld1N0YXRlXG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1NFQVJDSCxcbiAgICB1cGRhdGU6IG5ld1N0YXRlXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQcm92aWRlcihwcm92aWRlcikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9TRUFSQ0hfUFJPVklERVIsXG4gICAgcHJvdmlkZXI6IHByb3ZpZGVyXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnRpY2lwYW50cyhzdGF0ZT17fSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUkVQTEFDRV9TRUFSQ0g6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlO1xuXG4gICAgY2FzZSBVUERBVEVfU0VBUkNIOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBhY3Rpb24udXBkYXRlKTtcblxuICAgIGNhc2UgVVBEQVRFX1NFQVJDSF9QUk9WSURFUjpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICBwcm92aWRlcnM6IHN0YXRlLnByb3ZpZGVycy5tYXAoKHByb3ZpZGVyKSA9PiB7XG4gICAgICAgICAgaWYgKHByb3ZpZGVyLmlkID09PSBhY3Rpb24ucHJvdmlkZXIuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb24ucHJvdmlkZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJpbXBvcnQgeyB0b2dnbGUgfSBmcm9tICdtaXNhZ28vdXRpbHMvc2V0cyc7XG5cbmV4cG9ydCBjb25zdCBTRUxFQ1RfQUxMID0gJ1NFTEVDVF9BTEwnO1xuZXhwb3J0IGNvbnN0IFNFTEVDVF9OT05FID0gJ1NFTEVDVF9OT05FJztcbmV4cG9ydCBjb25zdCBTRUxFQ1RfSVRFTSA9ICdTRUxFQ1RfSVRFTSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGwoaXRlbXNJZHMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfQUxMLFxuICAgIGl0ZW1zOiBpdGVtc0lkc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9uZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfTk9ORVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXRlbShpdGVtSWQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRUxFQ1RfSVRFTSxcbiAgICBpdGVtOiBpdGVtSWRcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VsZWN0aW9uKHN0YXRlPVtdLCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBTRUxFQ1RfQUxMOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcztcblxuICAgIGNhc2UgU0VMRUNUX05PTkU6XG4gICAgICByZXR1cm4gW107XG5cbiAgICBjYXNlIFNFTEVDVF9JVEVNOlxuICAgICAgcmV0dXJuIHRvZ2dsZShzdGF0ZSwgYWN0aW9uLml0ZW0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImV4cG9ydCB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICB0eXBlOiAnaW5mbycsXG4gIG1lc3NhZ2U6ICcnLFxuICBpc1Zpc2libGU6IGZhbHNlXG59O1xuXG5leHBvcnQgY29uc3QgU0hPV19TTkFDS0JBUiA9ICdTSE9XX1NOQUNLQkFSJztcbmV4cG9ydCBjb25zdCBISURFX1NOQUNLQkFSID0gJ0hJREVfU05BQ0tCQVInO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvd1NuYWNrYmFyKG1lc3NhZ2UsIHR5cGUpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTSE9XX1NOQUNLQkFSLFxuICAgIG1lc3NhZ2UsXG4gICAgbWVzc2FnZVR5cGU6IHR5cGVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVTbmFja2JhcigpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBISURFX1NOQUNLQkFSXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNuYWNrYmFyKHN0YXRlPWluaXRpYWxTdGF0ZSwgYWN0aW9uPW51bGwpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBTSE9XX1NOQUNLQkFSKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGFjdGlvbi5tZXNzYWdlVHlwZSxcbiAgICAgIG1lc3NhZ2U6IGFjdGlvbi5tZXNzYWdlLFxuICAgICAgaXNWaXNpYmxlOiB0cnVlXG4gICAgfTtcbiAgfSBlbHNlIGlmIChhY3Rpb24udHlwZSA9PT0gSElERV9TTkFDS0JBUikge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICBpc1Zpc2libGU6IGZhbHNlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBSRU1PVkVfUE9MTCwgUkVQTEFDRV9QT0xMIH0gZnJvbSAnLi9wb2xsJztcblxuZXhwb3J0IGNvbnN0IEJVU1lfVEhSRUFEID0gJ0JVU1lfVEhSRUFEJztcbmV4cG9ydCBjb25zdCBSRUxFQVNFX1RIUkVBRCA9ICdSRUxFQVNFX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgUkVQTEFDRV9USFJFQUQgPSAnUkVQTEFDRV9USFJFQUQnO1xuZXhwb3J0IGNvbnN0IFVQREFURV9USFJFQUQgPSAnVVBEQVRFX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgVVBEQVRFX1RIUkVBRF9BQ0wgPSAnVVBEQVRFX1RIUkVBRF9BQ0wnO1xuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgc3RhcnRlZF9vbjogbW9tZW50KGpzb24uc3RhcnRlZF9vbiksXG4gICAgbGFzdF9wb3N0X29uOiBtb21lbnQoanNvbi5sYXN0X3Bvc3Rfb24pLFxuICAgIGJlc3RfYW5zd2VyX21hcmtlZF9vbjoganNvbi5iZXN0X2Fuc3dlcl9tYXJrZWRfb24gPyBtb21lbnQoanNvbi5iZXN0X2Fuc3dlcl9tYXJrZWRfb24pIDogbnVsbCxcblxuICAgIGlzQnVzeTogZmFsc2VcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidXN5KCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEJVU1lfVEhSRUFEXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFTEVBU0VfVEhSRUFEXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlLCBoeWRyYXRlZD1mYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfVEhSRUFELFxuICAgIHN0YXRlOiBoeWRyYXRlZCA/IG5ld1N0YXRlIDogaHlkcmF0ZShuZXdTdGF0ZSlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShkYXRhKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1RIUkVBRCxcbiAgICBkYXRhXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBY2woZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9USFJFQURfQUNMLFxuICAgIGRhdGFcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyZWFkKHN0YXRlPXt9LCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBCVVNZX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2lzQnVzeTogdHJ1ZX0pO1xuXG4gICAgY2FzZSBSRUxFQVNFX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2lzQnVzeTogZmFsc2V9KTtcblxuICAgIGNhc2UgUkVNT1ZFX1BPTEw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtwb2xsOiBudWxsfSk7XG5cbiAgICBjYXNlIFJFUExBQ0VfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge3BvbGw6IGFjdGlvbi5zdGF0ZX0pO1xuXG4gICAgY2FzZSBSRVBMQUNFX1RIUkVBRDpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGU7XG5cbiAgICBjYXNlIFVQREFURV9USFJFQUQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5kYXRhKTtcblxuICAgIGNhc2UgVVBEQVRFX1RIUkVBRF9BQ0w6XG4gICAgICBjb25zdCBhY2wgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5hY2wsIGFjdGlvbi5kYXRhKTtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2FjbH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSAnbWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWUnO1xuXG5leHBvcnQgY29uc3QgQVBQRU5EX1RIUkVBRFMgPSAnQVBQRU5EX1RIUkVBRFMnO1xuZXhwb3J0IGNvbnN0IERFTEVURV9USFJFQUQgPSAnREVMRVRFX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgRklMVEVSX1RIUkVBRFMgPSAnRklMVEVSX1RIUkVBRFMnO1xuZXhwb3J0IGNvbnN0IEhZRFJBVEVfVEhSRUFEUyA9ICdIWURSQVRFX1RIUkVBRFMnO1xuZXhwb3J0IGNvbnN0IFBBVENIX1RIUkVBRCA9ICdQQVRDSF9USFJFQUQnO1xuZXhwb3J0IGNvbnN0IFNPUlRfVEhSRUFEUyA9ICdTT1JUX1RIUkVBRFMnO1xuXG5leHBvcnQgY29uc3QgTU9ERVJBVElPTl9QRVJNSVNTSU9OUyA9IFtcbiAgJ2Nhbl9hbm5vdW5jZScsXG4gICdjYW5fYXBwcm92ZScsXG4gICdjYW5fY2xvc2UnLFxuICAnY2FuX2hpZGUnLFxuICAnY2FuX21vdmUnLFxuICAnY2FuX21lcmdlJyxcbiAgJ2Nhbl9waW4nLFxuICAnY2FuX3Jldmlldydcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQoaXRlbXMsIHNvcnRpbmcpIHtcbiByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9USFJFQURTLFxuICAgIGl0ZW1zLFxuICAgIHNvcnRpbmdcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVRocmVhZCh0aHJlYWQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBERUxFVEVfVEhSRUFELFxuICAgIHRocmVhZFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyVGhyZWFkcyhjYXRlZ29yeSwgY2F0ZWdvcmllc01hcCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEZJTFRFUl9USFJFQURTLFxuICAgIGNhdGVnb3J5LFxuICAgIGNhdGVnb3JpZXNNYXBcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBIWURSQVRFX1RIUkVBRFMsXG4gICAgaXRlbXNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHRocmVhZCwgcGF0Y2gsIHNvcnRpbmc9bnVsbCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1RIUkVBRCxcbiAgICB0aHJlYWQsXG4gICAgcGF0Y2gsXG4gICAgc29ydGluZ1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc29ydChzb3J0aW5nKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU09SVF9USFJFQURTLFxuICAgIHNvcnRpbmdcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRocmVhZE1vZGVyYXRpb25PcHRpb25zKHRocmVhZF9hY2wpIHtcbiAgbGV0IG9wdGlvbnMgPSBbXTtcbiAgTU9ERVJBVElPTl9QRVJNSVNTSU9OUy5mb3JFYWNoKGZ1bmN0aW9uKHBlcm0pIHtcbiAgICBpZiAodGhyZWFkX2FjbFtwZXJtXSkge1xuICAgICAgb3B0aW9ucy5wdXNoKHBlcm0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvcHRpb25zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVRocmVhZCh0aHJlYWQpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRocmVhZCwge1xuICAgIHN0YXJ0ZWRfb246IG1vbWVudCh0aHJlYWQuc3RhcnRlZF9vbiksXG4gICAgbGFzdF9wb3N0X29uOiBtb21lbnQodGhyZWFkLmxhc3RfcG9zdF9vbiksXG4gICAgbW9kZXJhdGlvbjogZ2V0VGhyZWFkTW9kZXJhdGlvbk9wdGlvbnModGhyZWFkLmFjbClcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocmVhZChzdGF0ZT1bXSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQVBQRU5EX1RIUkVBRFM6XG4gICAgICBjb25zdCBtZXJnZWRTdGF0ZSA9IGNvbmNhdFVuaXF1ZShhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVUaHJlYWQpLCBzdGF0ZSk7XG4gICAgICByZXR1cm4gbWVyZ2VkU3RhdGUuc29ydChhY3Rpb24uc29ydGluZyk7XG5cbiAgICBjYXNlIERFTEVURV9USFJFQUQ6XG4gICAgICByZXR1cm4gc3RhdGUuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgIT09IGFjdGlvbi50aHJlYWQuaWQ7XG4gICAgICB9KTtcblxuICAgIGNhc2UgRklMVEVSX1RIUkVBRFM6XG4gICAgICByZXR1cm4gc3RhdGUuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgY29uc3QgaXRlbUNhdGVnb3J5ID0gYWN0aW9uLmNhdGVnb3JpZXNNYXBbaXRlbS5jYXRlZ29yeV07XG4gICAgICAgIGlmIChpdGVtQ2F0ZWdvcnkubGZ0ID49IGFjdGlvbi5jYXRlZ29yeS5sZnQgJiYgaXRlbUNhdGVnb3J5LnJnaHQgPD0gYWN0aW9uLmNhdGVnb3J5LnJnaHQpIHtcbiAgICAgICAgICAvLyBzYW1lIG9yIHN1YiBjYXRlZ29yeVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ud2VpZ2h0ID09IDIpIHtcbiAgICAgICAgICAvLyBnbG9iYWxseSBwaW5uZWRcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB0aHJlYWQgbW92ZWQgb3V0c2lkZSBkaXNwbGF5ZWQgc2NvcGUsIGhpZGUgaXRcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgY2FzZSBIWURSQVRFX1RIUkVBRFM6XG4gICAgICByZXR1cm4gYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVGhyZWFkKTtcblxuICAgIGNhc2UgUEFUQ0hfVEhSRUFEOlxuICAgICAgY29uc3QgcGF0Y2hlZFN0YXRlID0gc3RhdGUubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi50aHJlYWQuaWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwgYWN0aW9uLnBhdGNoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChhY3Rpb24uc29ydGluZykge1xuICAgICAgICByZXR1cm4gcGF0Y2hlZFN0YXRlLnNvcnQoYWN0aW9uLnNvcnRpbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhdGNoZWRTdGF0ZTtcblxuICAgIGNhc2UgU09SVF9USFJFQURTOlxuICAgICAgcmV0dXJuIHN0YXRlLnNvcnQoYWN0aW9uLnNvcnRpbmcpO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImV4cG9ydCB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICB0aWNrOiAwXG59O1xuXG5leHBvcnQgY29uc3QgVElDSyA9ICdUSUNLJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRvVGljaygpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBUSUNLXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRpY2soc3RhdGU9aW5pdGlhbFN0YXRlLCBhY3Rpb249bnVsbCkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IFRJQ0spIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgdGljazogc3RhdGUudGljayArIDFcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IFVQREFURV9BVkFUQVIsIFVQREFURV9VU0VSTkFNRSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5pbXBvcnQgY29uY2F0VW5pcXVlIGZyb20gJ21pc2Fnby91dGlscy9jb25jYXQtdW5pcXVlJztcblxuZXhwb3J0IGNvbnN0IEFERF9OQU1FX0NIQU5HRSA9ICdBRERfTkFNRV9DSEFOR0UnO1xuZXhwb3J0IGNvbnN0IEFQUEVORF9ISVNUT1JZID0gJ0FQUEVORF9ISVNUT1JZJztcbmV4cG9ydCBjb25zdCBIWURSQVRFX0hJU1RPUlkgPSAnSFlEUkFURV9ISVNUT1JZJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5hbWVDaGFuZ2UoY2hhbmdlLCB1c2VyLCBjaGFuZ2VkQnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBRERfTkFNRV9DSEFOR0UsXG4gICAgY2hhbmdlLFxuICAgIHVzZXIsXG4gICAgY2hhbmdlZEJ5XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBUFBFTkRfSElTVE9SWSxcbiAgICBpdGVtczogaXRlbXNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBIWURSQVRFX0hJU1RPUlksXG4gICAgaXRlbXM6IGl0ZW1zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlTmFtZWNoYW5nZShuYW1lY2hhbmdlKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBuYW1lY2hhbmdlLCB7XG4gICAgY2hhbmdlZF9vbjogbW9tZW50KG5hbWVjaGFuZ2UuY2hhbmdlZF9vbilcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJuYW1lKHN0YXRlPVtdLCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBRERfTkFNRV9DSEFOR0U6XG4gICAgICBsZXQgbmV3U3RhdGUgPSBzdGF0ZS5zbGljZSgpO1xuICAgICAgbmV3U3RhdGUudW5zaGlmdCh7XG4gICAgICAgIGlkOiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSwgLy8ganVzdCBzbWFsbCBoYXggZm9yIGdldHRpbmcgaWRcbiAgICAgICAgY2hhbmdlZF9ieTogYWN0aW9uLmNoYW5nZWRCeSxcbiAgICAgICAgY2hhbmdlZF9ieV91c2VybmFtZTogYWN0aW9uLmNoYW5nZWRCeS51c2VybmFtZSxcbiAgICAgICAgY2hhbmdlZF9vbjogbW9tZW50KCksXG4gICAgICAgIG5ld191c2VybmFtZTogYWN0aW9uLmNoYW5nZS51c2VybmFtZSxcbiAgICAgICAgb2xkX3VzZXJuYW1lOiBhY3Rpb24udXNlci51c2VybmFtZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG5cbiAgICBjYXNlIEFQUEVORF9ISVNUT1JZOlxuICAgICAgcmV0dXJuIGNvbmNhdFVuaXF1ZShzdGF0ZSwgYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlTmFtZWNoYW5nZSkpO1xuXG4gICAgY2FzZSBIWURSQVRFX0hJU1RPUlk6XG4gICAgICByZXR1cm4gYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlTmFtZWNoYW5nZSk7XG5cbiAgICBjYXNlIFVQREFURV9BVkFUQVI6XG4gICAgICByZXR1cm4gc3RhdGUubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pO1xuICAgICAgICBpZiAoaXRlbS5jaGFuZ2VkX2J5ICYmIGl0ZW0uY2hhbmdlZF9ieS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICAgIGl0ZW0uY2hhbmdlZF9ieSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0uY2hhbmdlZF9ieSwge1xuICAgICAgICAgICAgYXZhdGFyczogYWN0aW9uLmF2YXRhcnNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG5cbiAgICBjYXNlIFVQREFURV9VU0VSTkFNRTpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7XG4gICAgICAgIGlmIChpdGVtLmNoYW5nZWRfYnkgJiYgaXRlbS5jaGFuZ2VkX2J5LmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgICAgaXRlbS5jaGFuZ2VkX2J5ID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbS5jaGFuZ2VkX2J5LCB7XG4gICAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgICAgc2x1ZzogYWN0aW9uLnNsdWdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgIH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSAnbWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWUnO1xuXG5leHBvcnQgY29uc3QgQVBQRU5EX1VTRVJTID0gJ0FQUEVORF9VU0VSUyc7XG5leHBvcnQgY29uc3QgSFlEUkFURV9VU0VSUyA9ICdIWURSQVRFX1VTRVJTJztcbmV4cG9ydCBjb25zdCBVUERBVEVfQVZBVEFSID0gJ1VQREFURV9BVkFUQVInO1xuZXhwb3J0IGNvbnN0IFVQREFURV9VU0VSTkFNRSA9ICdVUERBVEVfVVNFUk5BTUUnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1VTRVJTLFxuICAgIGl0ZW1zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSFlEUkFURV9VU0VSUyxcbiAgICBpdGVtc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgaWYgKHN0YXR1cykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0dXMsIHtcbiAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrID8gbW9tZW50KHN0YXR1cy5sYXN0X2NsaWNrKSA6IG51bGwsXG4gICAgICBiYW5uZWRfdW50aWw6IHN0YXR1cy5iYW5uZWRfdW50aWwgPyBtb21lbnQoc3RhdHVzLmJhbm5lZF91bnRpbCkgOiBudWxsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVVc2VyKHVzZXIpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHVzZXIsIHtcbiAgICBqb2luZWRfb246IG1vbWVudCh1c2VyLmpvaW5lZF9vbiksXG4gICAgc3RhdHVzOiBoeWRyYXRlU3RhdHVzKHVzZXIuc3RhdHVzKVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUF2YXRhcih1c2VyLCBhdmF0YXJzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX0FWQVRBUixcbiAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgYXZhdGFyc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVXNlcm5hbWUodXNlciwgdXNlcm5hbWUsIHNsdWcpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfVVNFUk5BTUUsXG4gICAgdXNlcklkOiB1c2VyLmlkLFxuICAgIHVzZXJuYW1lLFxuICAgIHNsdWdcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlcihzdGF0ZT1bXSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQVBQRU5EX1VTRVJTOlxuICAgICAgcmV0dXJuIGNvbmNhdFVuaXF1ZShzdGF0ZSwgYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVXNlcikpO1xuXG4gICAgY2FzZSBIWURSQVRFX1VTRVJTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVVzZXIpO1xuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmF2YXRhcnMgPSBhY3Rpb24uYXZhdGFycztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiZXhwb3J0IGNsYXNzIEFqYXgge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9jb29raWVOYW1lID0gbnVsbDtcbiAgICB0aGlzLl9jc3JmVG9rZW4gPSBudWxsO1xuICAgIHRoaXMuX2xvY2tzID0ge307XG4gIH1cblxuICBpbml0KGNvb2tpZU5hbWUpIHtcbiAgICB0aGlzLl9jb29raWVOYW1lID0gY29va2llTmFtZTtcbiAgfVxuXG4gIGdldENzcmZUb2tlbigpIHtcbiAgICBpZiAoZG9jdW1lbnQuY29va2llLmluZGV4T2YodGhpcy5fY29va2llTmFtZSkgIT09IC0xKSB7XG4gICAgICBsZXQgY29va2llUmVnZXggPSBuZXcgUmVnRXhwKHRoaXMuX2Nvb2tpZU5hbWUgKyAnXFw9KFteO10qKScpO1xuICAgICAgbGV0IGNvb2tpZSA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChjb29raWVSZWdleClbMF07XG4gICAgICByZXR1cm4gY29va2llID8gY29va2llLnNwbGl0KCc9JylbMV0gOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXF1ZXN0KG1ldGhvZCwgdXJsLCBkYXRhKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGxldCB4aHIgPSB7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdYLUNTUkZUb2tlbic6IHNlbGYuZ2V0Q3NyZlRva2VuKClcbiAgICAgICAgfSxcblxuICAgICAgICBkYXRhOiAoZGF0YSA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogbnVsbCksXG4gICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcblxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfSxcblxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIpIHtcbiAgICAgICAgICBsZXQgcmVqZWN0aW9uID0ganFYSFIucmVzcG9uc2VKU09OIHx8IHt9O1xuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1cyA9IGpxWEhSLnN0YXR1cztcblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkxvc3QgY29ubmVjdGlvbiB3aXRoIGFwcGxpY2F0aW9uLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBpZiAoIXJlamVjdGlvbi5kZXRhaWwgfHwgcmVqZWN0aW9uLmRldGFpbCA9PT0gJ05PVCBGT1VORCcpIHtcbiAgICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJBY3Rpb24gbGluayBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNTAwICYmICFyZWplY3Rpb24uZGV0YWlsKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIlVua25vd24gZXJyb3IgaGFzIG9jY3VyZWQuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXNUZXh0ID0ganFYSFIuc3RhdHVzVGV4dDtcblxuICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkLmFqYXgoeGhyKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCh1cmwsIHBhcmFtcywgbG9jaykge1xuICAgIGlmIChwYXJhbXMpIHtcbiAgICAgIHVybCArPSAnPycgKyAkLnBhcmFtKHBhcmFtcyk7XG4gICAgfVxuXG4gICAgaWYgKGxvY2spIHtcbiAgICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgICAgLy8gdXBkYXRlIHVybCBpbiBleGlzdGluZyBsb2NrP1xuICAgICAgaWYgKHRoaXMuX2xvY2tzW2xvY2tdKSB7XG4gICAgICAgIHRoaXMuX2xvY2tzW2xvY2tdLnVybCA9IHVybDtcbiAgICAgIH1cblxuICAgICAgLy8gaW1tZWRpYXRlbHkgZGVyZWZlcmVuY2UgcHJvbWlzZSBoYW5kbGVycyB3aXRob3V0IGRvaW5nIGFueXRoaW5nXG4gICAgICAvLyB3ZSBhcmUgYWxyZWFkeSB3YWl0aW5nIGZvciBleGlzdGluZyByZXNwb25zZSB0byByZXNvbHZlXG4gICAgICBpZiAodGhpcy5fbG9ja3NbbG9ja10gJiYgdGhpcy5fbG9ja3NbbG9ja10ud2FpdGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAvLyByZXR1cm4gcHJvbWlzZSB0aGF0IHdpbGwgYmVnaW4gd2hlbiBvcmlnaW5hbCBvbmUgcmVzb2x2ZXNcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fbG9ja3NbbG9ja10gJiYgdGhpcy5fbG9ja3NbbG9ja10ud2FpdCkge1xuICAgICAgICB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBsZXQgd2FpdCA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgLy8ga2VlcCB3YWl0aW5nIG9uIHByb21pc2VcbiAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS53YWl0KSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHdhaXQodXJsKTtcbiAgICAgICAgICAgICAgfSwgMzAwKTtcblxuICAgICAgICAgICAgLy8gcG9sbCBmb3IgbmV3IHVybFxuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgIT09IHVybCkge1xuICAgICAgICAgICAgICB3YWl0KHNlbGYuX2xvY2tzW2xvY2tdLnVybCk7XG5cbiAgICAgICAgICAgIC8vIGFqYXggYmFja2VuZCBmb3IgcmVzcG9uc2VcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICBzZWxmLnJlcXVlc3QoJ0dFVCcsIHNlbGYuX2xvY2tzW2xvY2tdLnVybCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgd2FpdChzZWxmLl9sb2Nrc1tsb2NrXS51cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICByZWplY3QocmVqZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHdhaXQoc2VsZi5fbG9ja3NbbG9ja10udXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdhaXQodXJsKTtcbiAgICAgICAgICB9LCAzMDApO1xuICAgICAgICB9KTtcblxuICAgICAgLy8gc2V0dXAgbmV3IGxvY2sgd2l0aG91dCB3YWl0ZXJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2xvY2tzW2xvY2tdID0ge1xuICAgICAgICAgIHVybCxcbiAgICAgICAgICB3YWl0OiB0cnVlLFxuICAgICAgICAgIHdhaXRlcjogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgc2VsZi5yZXF1ZXN0KCdHRVQnLCB1cmwpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KHJlamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdHRVQnLCB1cmwpO1xuICAgIH1cbiAgfVxuXG4gIHBvc3QodXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnUE9TVCcsIHVybCwgZGF0YSk7XG4gIH1cblxuICBwYXRjaCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdQQVRDSCcsIHVybCwgZGF0YSk7XG4gIH1cblxuICBwdXQodXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnUFVUJywgdXJsLCBkYXRhKTtcbiAgfVxuXG4gIGRlbGV0ZSh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdERUxFVEUnLCB1cmwsIGRhdGEpO1xuICB9XG5cbiAgdXBsb2FkKHVybCwgZGF0YSwgcHJvZ3Jlc3MpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgbGV0IHhociA9IHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ1gtQ1NSRlRva2VuJzogc2VsZi5nZXRDc3JmVG9rZW4oKVxuICAgICAgICB9LFxuXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSxcbiAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuXG4gICAgICAgIHhocjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbGV0IHhociA9IG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIGlmIChldnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgICBwcm9ncmVzcyhNYXRoLnJvdW5kKGV2dC5sb2FkZWQgLyBldnQudG90YWwgKiAxMDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuIHhocjtcbiAgICAgICAgfSxcblxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUikge1xuICAgICAgICAgIGxldCByZWplY3Rpb24gPSBqcVhIUi5yZXNwb25zZUpTT04gfHwge307XG5cbiAgICAgICAgICByZWplY3Rpb24uc3RhdHVzID0ganFYSFIuc3RhdHVzO1xuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiTG9zdCBjb25uZWN0aW9uIHdpdGggYXBwbGljYXRpb24uXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MTMgJiYgIXJlamVjdGlvbi5kZXRhaWwpIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiVXBsb2FkIHdhcyByZWplY3RlZCBieSBzZXJ2ZXIgYXMgdG9vIGxhcmdlLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBpZiAoIXJlamVjdGlvbi5kZXRhaWwgfHwgcmVqZWN0aW9uLmRldGFpbCA9PT0gJ05PVCBGT1VORCcpIHtcbiAgICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJBY3Rpb24gbGluayBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNTAwICYmICFyZWplY3Rpb24uZGV0YWlsKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIlVua25vd24gZXJyb3IgaGFzIG9jY3VyZWQuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXNUZXh0ID0ganFYSFIuc3RhdHVzVGV4dDtcblxuICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkLmFqYXgoeGhyKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQWpheCgpO1xuIiwiaW1wb3J0IHsgc2lnbkluLCBzaWduT3V0IH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL2F1dGgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIEF1dGgge1xuICBpbml0KHN0b3JlLCBsb2NhbCwgbW9kYWwpIHtcbiAgICB0aGlzLl9zdG9yZSA9IHN0b3JlO1xuICAgIHRoaXMuX2xvY2FsID0gbG9jYWw7XG4gICAgdGhpcy5fbW9kYWwgPSBtb2RhbDtcblxuICAgIC8vIHRlbGwgb3RoZXIgdGFicyB3aGF0IGF1dGggc3RhdGUgaXMgYmVjYXVzZSB3ZSBhcmUgbW9zdCBjdXJyZW50IHdpdGggaXRcbiAgICB0aGlzLnN5bmNTZXNzaW9uKCk7XG5cbiAgICAvLyBsaXN0ZW4gZm9yIG90aGVyIHRhYnMgdG8gdGVsbCB1cyB0aGF0IHN0YXRlIGNoYW5nZWRcbiAgICB0aGlzLndhdGNoU3RhdGUoKTtcbiAgfVxuXG4gIHN5bmNTZXNzaW9uKCkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKS5hdXRoO1xuICAgIGlmIChzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHRoaXMuX2xvY2FsLnNldCgnYXV0aCcsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgICB1c2VybmFtZTogc3RhdGUudXNlci51c2VybmFtZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xvY2FsLnNldCgnYXV0aCcsIHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgd2F0Y2hTdGF0ZSgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0b3JlLmdldFN0YXRlKCkuYXV0aDtcbiAgICB0aGlzLl9sb2NhbC53YXRjaCgnYXV0aCcsIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgaWYgKG5ld1N0YXRlLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaWduSW4oe1xuICAgICAgICAgIHVzZXJuYW1lOiBuZXdTdGF0ZS51c2VybmFtZVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICAvLyBjaGVjayBpZiB3ZSBhcmUgYXV0aGVudGljYXRlZCBpbiB0aGlzIHRhYlxuICAgICAgICAvLyBiZWNhdXNlIHNvbWUgYnJvd3NlciBwbHVnaW5zIHBydW5lIGxvY2FsIHN0b3JlXG4gICAgICAgIC8vIGFnZ3Jlc3NpdmVseSwgZm9yY2luZyBlcnJvbmVvdXMgbWVzc2FnZSB0byBkaXNwbGF5IGhlcmVcbiAgICAgICAgLy8gdHJhY2tpbmcgYnVnICM5NTVcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbk91dCgpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cblxuICBzaWduSW4odXNlcikge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25Jbih1c2VyKSk7XG4gICAgdGhpcy5fbG9jYWwuc2V0KCdhdXRoJywge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cblxuICBzaWduT3V0KCkge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25PdXQoKSk7XG4gICAgdGhpcy5fbG9jYWwuc2V0KCdhdXRoJywge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuX21vZGFsLmhpZGUoKTtcbiAgfVxuXG4gIHNvZnRTaWduT3V0KCkge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25PdXQodHJ1ZSkpO1xuICAgIHRoaXMuX2xvY2FsLnNldCgnYXV0aCcsIHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGgoKTsiLCIvKiBnbG9iYWwgZ3JlY2FwdGNoYSAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIEJhc2VDYXB0Y2hhIHtcbiAgaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcikge1xuICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuX2FqYXggPSBhamF4O1xuICAgIHRoaXMuX2luY2x1ZGUgPSBpbmNsdWRlO1xuICAgIHRoaXMuX3NuYWNrYmFyID0gc25hY2tiYXI7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgLy8gaW1tZWRpYXRlbHkgcmVzb2x2ZSBhcyB3ZSBkb24ndCBoYXZlIGFueXRoaW5nIHRvIHZhbGlkYXRlXG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFFBQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX2FqYXguZ2V0KHNlbGYuX2NvbnRleHQuZ2V0KCdDQVBUQ0hBX0FQSScpKS50aGVuKFxuICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBzZWxmLnF1ZXN0aW9uID0gZGF0YS5xdWVzdGlvbjtcbiAgICAgICAgc2VsZi5oZWxwVGV4dCA9IGRhdGEuaGVscF90ZXh0O1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5fc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZhaWxlZCB0byBsb2FkIENBUFRDSEEuXCIpKTtcbiAgICAgICAgcmVqZWN0KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNvbXBvbmVudChrd2FyZ3MpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1Hcm91cFxuICAgICAgICBsYWJlbD17dGhpcy5xdWVzdGlvbn1cbiAgICAgICAgZm9yPVwiaWRfY2FwdGNoYVwiXG4gICAgICAgIGxhYmVsQ2xhc3M9e2t3YXJncy5sYWJlbENsYXNzIHx8IFwiXCJ9XG4gICAgICAgIGNvbnRyb2xDbGFzcz17a3dhcmdzLmNvbnRyb2xDbGFzcyB8fCBcIlwifVxuICAgICAgICB2YWxpZGF0aW9uPXtrd2FyZ3MuZm9ybS5zdGF0ZS5lcnJvcnMuY2FwdGNoYX1cbiAgICAgICAgaGVscFRleHQ9e3RoaXMuaGVscFRleHQgfHwgbnVsbH1cbiAgICAgID5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX2NhcHRjaGFfc3RhdHVzXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgIGRpc2FibGVkPXtrd2FyZ3MuZm9ybS5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgaWQ9XCJpZF9jYXB0Y2hhXCJcbiAgICAgICAgICBvbkNoYW5nZT17a3dhcmdzLmZvcm0uYmluZElucHV0KCdjYXB0Y2hhJyl9XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPXtrd2FyZ3MuZm9ybS5zdGF0ZS5jYXB0Y2hhfVxuICAgICAgICAvPlxuICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgKTtcbiAgfVxuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xufVxuXG5cbmV4cG9ydCBjbGFzcyBSZUNhcHRjaGFDb21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBncmVjYXB0Y2hhLnJlbmRlcigncmVjYXB0Y2hhJywge1xuICAgICAgJ3NpdGVrZXknOiB0aGlzLnByb3BzLnNpdGVLZXksXG4gICAgICAnY2FsbGJhY2snOiAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgLy8gZmlyZSBmYWtleSBldmVudCB0byBiaW5kaW5nXG4gICAgICAgIHRoaXMucHJvcHMuYmluZGluZyh7XG4gICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVzcG9uc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBpZD1cInJlY2FwdGNoYVwiIC8+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICB0aGlzLl9pbmNsdWRlLmluY2x1ZGUoJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS5qcycsIHRydWUpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIHZhciB3YWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ3JlY2FwdGNoYSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2FpdCgpO1xuICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgd2FpdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFsaWRhdG9yKCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY29tcG9uZW50KGt3YXJncykge1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybUdyb3VwXG4gICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUGxlYXNlIHNvbHZlIHRoZSBxdWljayB0ZXN0XCIpfVxuICAgICAgICBmb3I9XCJpZF9jYXB0Y2hhXCJcbiAgICAgICAgbGFiZWxDbGFzcz17a3dhcmdzLmxhYmVsQ2xhc3MgfHwgXCJcIn1cbiAgICAgICAgY29udHJvbENsYXNzPXtrd2FyZ3MuY29udHJvbENsYXNzIHx8IFwiXCJ9XG4gICAgICAgIHZhbGlkYXRpb249e2t3YXJncy5mb3JtLnN0YXRlLmVycm9ycy5jYXB0Y2hhfVxuICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIlRoaXMgdGVzdCBoZWxwcyB1cyBwcmV2ZW50IGF1dG9tYXRlZCBzcGFtIHJlZ2lzdHJhdGlvbnMgb24gb3VyIHNpdGUuXCIpfVxuICAgICAgPlxuICAgICAgICA8UmVDYXB0Y2hhQ29tcG9uZW50XG4gICAgICAgICAgYmluZGluZz17a3dhcmdzLmZvcm0uYmluZElucHV0KCdjYXB0Y2hhJyl9XG4gICAgICAgICAgc2l0ZUtleT17dGhpcy5fY29udGV4dC5nZXQoJ1NFVFRJTkdTJykucmVjYXB0Y2hhX3NpdGVfa2V5fVxuICAgICAgICAvPlxuICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgKTtcbiAgfVxuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xufVxuXG5leHBvcnQgY2xhc3MgQ2FwdGNoYSB7XG4gIGluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpIHtcbiAgICBzd2l0Y2goY29udGV4dC5nZXQoJ1NFVFRJTkdTJykuY2FwdGNoYV90eXBlKSB7XG4gICAgICBjYXNlICdubyc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgTm9DYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdxYSc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUUFDYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdyZSc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUmVDYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHRoaXMuX2NhcHRjaGEuaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcik7XG4gIH1cblxuICAvLyBhY2Nlc3NvcnMgZm9yIHVuZGVybHlpbmcgc3RyYXRlZ3lcblxuICBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXB0Y2hhLmxvYWQoKTtcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwdGNoYS52YWxpZGF0b3IoKTtcbiAgfVxuXG4gIGNvbXBvbmVudChrd2FyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwdGNoYS5jb21wb25lbnQoa3dhcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ2FwdGNoYSgpOyIsImV4cG9ydCBjbGFzcyBJbmNsdWRlIHtcbiAgaW5pdChzdGF0aWNVcmwpIHtcbiAgICB0aGlzLl9zdGF0aWNVcmwgPSBzdGF0aWNVcmw7XG4gICAgdGhpcy5faW5jbHVkZWQgPSBbXTtcbiAgfVxuXG4gIGluY2x1ZGUoc2NyaXB0LCByZW1vdGU9ZmFsc2UpIHtcbiAgICBpZiAodGhpcy5faW5jbHVkZWQuaW5kZXhPZihzY3JpcHQpID09PSAtMSkge1xuICAgICAgdGhpcy5faW5jbHVkZWQucHVzaChzY3JpcHQpO1xuICAgICAgdGhpcy5faW5jbHVkZShzY3JpcHQsIHJlbW90ZSk7XG4gICAgfVxuICB9XG5cbiAgX2luY2x1ZGUoc2NyaXB0LCByZW1vdGUpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAoIXJlbW90ZSA/IHRoaXMuX3N0YXRpY1VybCA6ICcnKSArIHNjcmlwdCxcbiAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgZGF0YVR5cGU6ICdzY3JpcHQnXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEluY2x1ZGUoKTsiLCJsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG5cbmV4cG9ydCBjbGFzcyBMb2NhbFN0b3JhZ2Uge1xuICBpbml0KHByZWZpeCkge1xuICAgIHRoaXMuX3ByZWZpeCA9IHByZWZpeDtcbiAgICB0aGlzLl93YXRjaGVycyA9IFtdO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCAoZSkgPT4ge1xuICAgICAgbGV0IG5ld1ZhbHVlSnNvbiA9IEpTT04ucGFyc2UoZS5uZXdWYWx1ZSk7XG4gICAgICB0aGlzLl93YXRjaGVycy5mb3JFYWNoKGZ1bmN0aW9uKHdhdGNoZXIpIHtcbiAgICAgICAgaWYgKHdhdGNoZXIua2V5ID09PSBlLmtleSAmJiBlLm9sZFZhbHVlICE9PSBlLm5ld1ZhbHVlKSB7XG4gICAgICAgICAgd2F0Y2hlci5jYWxsYmFjayhuZXdWYWx1ZUpzb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldChrZXksIHZhbHVlKSB7XG4gICAgc3RvcmFnZS5zZXRJdGVtKHRoaXMuX3ByZWZpeCArIGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgfVxuXG4gIGdldChrZXkpIHtcbiAgICBsZXQgaXRlbVN0cmluZyA9IHN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9wcmVmaXggKyBrZXkpO1xuICAgIGlmIChpdGVtU3RyaW5nKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShpdGVtU3RyaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgd2F0Y2goa2V5LCBjYWxsYmFjaykge1xuICAgIHRoaXMuX3dhdGNoZXJzLnB1c2goe1xuICAgICAga2V5OiB0aGlzLl9wcmVmaXggKyBrZXksXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgTG9jYWxTdG9yYWdlKCk7IiwiaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgTW9iaWxlTmF2YmFyRHJvcGRvd24ge1xuICBpbml0KGVsZW1lbnQpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLl9jb21wb25lbnQgPSBudWxsO1xuICB9XG5cbiAgc2hvdyhjb21wb25lbnQpIHtcbiAgICBpZiAodGhpcy5fY29tcG9uZW50ID09PSBjb21wb25lbnQpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xuICAgIH1cbiAgfVxuXG4gIHNob3dDb25uZWN0ZWQobmFtZSwgY29tcG9uZW50KSB7XG4gICAgaWYgKHRoaXMuX2NvbXBvbmVudCA9PT0gbmFtZSkge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NvbXBvbmVudCA9IG5hbWU7XG4gICAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQsIHRydWUpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xuICAgIH1cbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgJCh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgIHRoaXMuX2NvbXBvbmVudCA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1vYmlsZU5hdmJhckRyb3Bkb3duKCk7XG4iLCJpbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIE1vZGFsIHtcbiAgaW5pdChlbGVtZW50KSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICB0aGlzLl9tb2RhbCA9ICQoZWxlbWVudCkubW9kYWwoe3Nob3c6IGZhbHNlfSk7XG5cbiAgICB0aGlzLl9tb2RhbC5vbignaGlkZGVuLmJzLm1vZGFsJywgKCkgPT4ge1xuICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLl9lbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNob3coY29tcG9uZW50LCBjYWxsYmFjaykge1xuICAgIG1vdW50KGNvbXBvbmVudCwgdGhpcy5fZWxlbWVudC5pZCk7XG4gICAgdGhpcy5fbW9kYWwubW9kYWwoJ3Nob3cnKTtcbiAgICBpZihjYWxsYmFjayYmdHlwZW9mKGNhbGxiYWNrKT09PVwiZnVuY3Rpb25cIil7XG4gICAgICAgIHRoaXMuX21vZGFsLm9uKCdoaWRlLmJzLm1vZGFsJywgY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5fbW9kYWwubW9kYWwoJ2hpZGUnKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgTW9kYWwoKTtcbiIsImNvbnN0IHl0UmVnRXhwID0gbmV3IFJlZ0V4cCgnXi4qKD86KD86eW91dHVcXC5iZVxcL3x2XFwvfHZpXFwvfHVcXC9cXHdcXC98ZW1iZWRcXC8pfCg/Oig/OndhdGNoKT9cXD92KD86aSk/PXxcXCZ2KD86aSk/PSkpKFteI1xcJlxcP10qKS4qJyk7XG5cbmV4cG9ydCBjbGFzcyBPbmVCb3gge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl95b3V0dWJlID0ge307XG4gIH1cblxuICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gIHJlbmRlciA9IChkb21ub2RlKSA9PiB7XG4gICAgaWYgKCFkb21ub2RlKSByZXR1cm47XG4gICAgdGhpcy5oaWdobGlnaHRDb2RlKGRvbW5vZGUpO1xuICAgIHRoaXMuZW1iZWRZb3V0dWJlUGxheWVycyhkb21ub2RlKTtcbiAgfTtcbiAgLy8ganNoaW50IGlnbm9yZTplbmRcblxuICBoaWdobGlnaHRDb2RlKGRvbW5vZGUpIHtcbiAgICBjb25zdCBjb2RlYmxvY2tzID0gZG9tbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdwcmU+Y29kZScpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjb2RlYmxvY2tzLmxlbmd0aDsgaSsrICkge1xuICAgICAgY29uc3QgY29kZSA9IGNvZGVibG9ja3NbaV07XG4gICAgICBobGpzLmhpZ2hsaWdodEJsb2NrKGNvZGUpO1xuICAgIH1cbiAgfVxuXG4gIGVtYmVkWW91dHViZVBsYXllcnMoZG9tbm9kZSkge1xuICAgIGNvbnN0IGFuY2hvcnMgPSBkb21ub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3A+YScpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhbmNob3JzLmxlbmd0aDsgaSsrICkge1xuICAgICAgY29uc3QgYSA9IGFuY2hvcnNbaV07XG4gICAgICBjb25zdCBwID0gYS5wYXJlbnROb2RlO1xuICAgICAgY29uc3Qgb25seUNoaWxkID0gcC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMTtcblxuICAgICAgaWYgKCF0aGlzLl95b3V0dWJlW2EuaHJlZl0pIHtcbiAgICAgICAgdGhpcy5feW91dHViZVthLmhyZWZdID0gcGFyc2VZb3V0dWJlVXJsKGEuaHJlZik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHlvdXR1YmVNb3ZpZSA9IHRoaXMuX3lvdXR1YmVbYS5ocmVmXTtcbiAgICAgIGlmIChvbmx5Q2hpbGQgJiYgISF5b3V0dWJlTW92aWUgJiYgeW91dHViZU1vdmllLmRhdGEgIT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuc3dhcFlvdXR1YmVQbGF5ZXIoYSwgeW91dHViZU1vdmllKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzd2FwWW91dHViZVBsYXllcihlbGVtZW50LCB5b3V0dWJlKSB7XG4gICAgbGV0IHVybCA9ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8nO1xuICAgIHVybCArPSB5b3V0dWJlLnZpZGVvO1xuICAgIHVybCArPSAnP3JlbD0wJztcbiAgICBpZiAoeW91dHViZS5zdGFydCkge1xuICAgICAgdXJsICs9ICcmc3RhcnQ9JyArIHlvdXR1YmUuc3RhcnQ7XG4gICAgfVxuXG4gICAgY29uc3QgcGxheWVyID0gJCgnPGlmcmFtZSBjbGFzcz1cImVtYmVkLXJlc3BvbnNpdmUtaXRlbVwiIHNyYz1cIicgKyB1cmwgKyAnXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPicpO1xuICAgICQoZWxlbWVudCkucmVwbGFjZVdpdGgocGxheWVyKTtcbiAgICBwbGF5ZXIud3JhcCgnPGRpdiBjbGFzcz1cImVtYmVkLXJlc3BvbnNpdmUgZW1iZWQtcmVzcG9uc2l2ZS0xNmJ5OVwiPjwvZGl2PicpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBPbmVCb3goKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlWW91dHViZVVybCh1cmwpIHtcbiAgY29uc3QgY2xlYW5lZFVybCA9IGNsZWFuVXJsKHVybCk7XG4gIGNvbnN0IHZpZGVvID0gZ2V0VmlkZW9JZEZyb21VcmwoY2xlYW5lZFVybCk7XG5cbiAgaWYgKCF2aWRlbykgcmV0dXJuIG51bGw7XG5cbiAgbGV0IHN0YXJ0ID0gMDtcbiAgaWYgKGNsZWFuZWRVcmwuaW5kZXhPZignPycpID4gMCl7XG4gICAgY29uc3QgcXVlcnkgPSBjbGVhbmVkVXJsLnN1YnN0cihjbGVhbmVkVXJsLmluZGV4T2YoJz8nKSArIDEpO1xuICAgIGNvbnN0IHRpbWViaXQgPSBxdWVyeS5zcGxpdCgnJicpLmZpbHRlcigoaSkgPT4ge1xuICAgICAgcmV0dXJuIGkuc3Vic3RyKDAsIDIpID09PSAndD0nO1xuICAgIH0pWzBdO1xuXG4gICAgaWYgKHRpbWViaXQpIHtcbiAgICAgIGNvbnN0IGJpdHMgPSB0aW1lYml0LnN1YnN0cigyKS5zcGxpdCgnbScpO1xuICAgICAgaWYgKGJpdHNbMF0uc3Vic3RyKC0xKSA9PT0gJ3MnKSB7XG4gICAgICAgIHN0YXJ0ICs9IHBhcnNlSW50KGJpdHNbMF0uc3Vic3RyKDAsIGJpdHNbMF0ubGVuZ3RoIC0gMSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnQgKz0gcGFyc2VJbnQoYml0c1swXSkgKiA2MDtcbiAgICAgICAgaWYgKCEhYml0c1sxXSAmJiBiaXRzWzFdLnN1YnN0cigtMSkgPT09ICdzJykge1xuICAgICAgICAgIHN0YXJ0ICs9IHBhcnNlSW50KGJpdHNbMV0uc3Vic3RyKDAsIGJpdHNbMV0ubGVuZ3RoIC0gMSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydCxcbiAgICB2aWRlb1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW5VcmwodXJsKSB7XG4gIGxldCBjbGVhbiA9IHVybDtcblxuICBpZiAodXJsLnN1YnN0cigwLCA4KSA9PT0gJ2h0dHBzOi8vJykge1xuICAgIGNsZWFuID0gY2xlYW4uc3Vic3RyKDgpO1xuICB9IGVsc2UgaWYgKHVybC5zdWJzdHIoMCwgNykgPT09ICdodHRwOi8vJykge1xuICAgIGNsZWFuID0gY2xlYW4uc3Vic3RyKDcpO1xuICB9XG5cbiAgaWYgKGNsZWFuLnN1YnN0cigwLCA0KSA9PT0gJ3d3dy4nKSB7XG4gICAgY2xlYW4gPSBjbGVhbi5zdWJzdHIoNCk7XG4gIH1cblxuICByZXR1cm4gY2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWRlb0lkRnJvbVVybCh1cmwpIHtcbiAgaWYgKHVybC5pbmRleE9mKCd5b3V0dScpID09PSAtMSkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgdmlkZW8gPSB1cmwubWF0Y2goeXRSZWdFeHApO1xuICBpZiAodmlkZW8pIHtcbiAgICByZXR1cm4gdmlkZW9bMV07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59IiwiZXhwb3J0IGNsYXNzIFBhZ2VUaXRsZSB7XG4gIGluaXQoaW5kZXhUaXRsZSwgZm9ydW1OYW1lKSB7XG4gICAgdGhpcy5faW5kZXhUaXRsZSA9IGluZGV4VGl0bGU7XG4gICAgdGhpcy5fZm9ydW1OYW1lID0gZm9ydW1OYW1lO1xuICB9XG5cbiAgc2V0KHRpdGxlKSB7XG4gICAgaWYgKCF0aXRsZSkge1xuICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aGlzLl9pbmRleFRpdGxlIHx8IHRoaXMuX2ZvcnVtTmFtZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRpdGxlID09PSAnc3RyaW5nJykge1xuICAgICAgdGl0bGUgPSB7dGl0bGU6IHRpdGxlfTtcbiAgICB9XG5cbiAgICBsZXQgZmluYWxUaXRsZSA9IHRpdGxlLnRpdGxlO1xuXG4gICAgaWYgKHRpdGxlLnBhZ2UgPiAxKSB7XG4gICAgICBjb25zdCBwYWdlTGFiZWwgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KCdwYWdlOiAlKHBhZ2UpcycpLCB7XG4gICAgICAgIHBhZ2U6IHRpdGxlLnBhZ2VcbiAgICAgIH0sIHRydWUpO1xuXG4gICAgICBmaW5hbFRpdGxlICs9ICcgKCcgKyBwYWdlTGFiZWwgKyAnKSc7XG4gICAgfVxuXG4gICAgaWYgKHRpdGxlLnBhcmVudCkge1xuICAgICAgZmluYWxUaXRsZSArPSAnIHwgJyArIHRpdGxlLnBhcmVudDtcbiAgICB9XG5cbiAgICBkb2N1bWVudC50aXRsZSA9IGZpbmFsVGl0bGUgKyAnIHwgJyArIHRoaXMuX2ZvcnVtTmFtZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUGFnZVRpdGxlKCk7XG4iLCJleHBvcnQgY2xhc3MgUG9sbHMge1xuICBpbml0KGFqYXgsIHNuYWNrYmFyKSB7XG4gICAgdGhpcy5fYWpheCA9IGFqYXg7XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhcjtcblxuICAgIHRoaXMuX3BvbGxzID0ge307XG4gIH1cblxuICBzdGFydChrd2FyZ3MpIHtcbiAgICB0aGlzLnN0b3Aoa3dhcmdzLnBvbGwpO1xuXG4gICAgY29uc3QgcG9vbFNlcnZlciA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXSA9IGt3YXJncztcblxuICAgICAgdGhpcy5fYWpheC5nZXQoa3dhcmdzLnVybCwga3dhcmdzLmRhdGEgfHwgbnVsbCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXS5fc3RvcHBlZCkge1xuICAgICAgICAgIGt3YXJncy51cGRhdGUoZGF0YSk7XG5cbiAgICAgICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0udGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHBvb2xTZXJ2ZXIsIGt3YXJncy5mcmVxdWVuY3kpO1xuICAgICAgICB9XG4gICAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdLl9zdG9wcGVkKSB7XG4gICAgICAgICAgaWYgKGt3YXJncy5lcnJvcikge1xuICAgICAgICAgICAga3dhcmdzLmVycm9yKHJlamVjdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKGt3YXJncy5kZWxheWVkKSB7XG4gICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0gPSB7XG4gICAgICAgIHRpbWVvdXQ6IHdpbmRvdy5zZXRUaW1lb3V0KHBvb2xTZXJ2ZXIsIGt3YXJncy5mcmVxdWVuY3kpXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwb29sU2VydmVyKCk7XG4gICAgfVxuICB9XG5cbiAgc3RvcChwb2xsSWQpIHtcbiAgICBpZiAodGhpcy5fcG9sbHNbcG9sbElkXSkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9wb2xsc1twb2xsSWRdLnRpbWVvdXQpO1xuICAgICAgdGhpcy5fcG9sbHNbcG9sbElkXS5fc3RvcHBlZCA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQb2xscygpO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBQb2xsRm9ybSB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BvbGwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBQb3N0aW5nQ29tcG9uZW50IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Bvc3RpbmcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBQb3N0aW5nIHtcbiAgaW5pdChhamF4LCBzbmFja2JhciwgcGxhY2Vob2xkZXIpIHtcbiAgICB0aGlzLl9hamF4ID0gYWpheDtcbiAgICB0aGlzLl9zbmFja2JhciA9IHNuYWNrYmFyO1xuICAgIHRoaXMuX3BsYWNlaG9sZGVyID0gJChwbGFjZWhvbGRlcik7XG5cbiAgICB0aGlzLl9tb2RlID0gbnVsbDtcblxuICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuX2lzQ2xvc2luZyA9IGZhbHNlO1xuICB9XG5cbiAgb3Blbihwcm9wcykge1xuICAgIGlmICh0aGlzLl9pc09wZW4gPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLl9tb2RlID0gcHJvcHMubW9kZTtcbiAgICAgIHRoaXMuX2lzT3BlbiA9IHByb3BzLnN1Ym1pdDtcbiAgICAgIHRoaXMuX3JlYWxPcGVuKHByb3BzKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2lzT3BlbiAhPT0gcHJvcHMuc3VibWl0KSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IGdldHRleHQoXCJZb3UgYXJlIGFscmVhZHkgd29ya2luZyBvbiBvdGhlciBtZXNzYWdlLiBEbyB5b3Ugd2FudCB0byBkaXNjYXJkIGl0P1wiKTtcbiAgICAgIGlmICh0aGlzLl9tb2RlID09ICdQT0xMJykge1xuICAgICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIllvdSBhcmUgYWxyZWFkeSB3b3JraW5nIG9uIGEgcG9sbC4gRG8geW91IHdhbnQgdG8gZGlzY2FyZCBpdD9cIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNoYW5nZUZvcm0gPSBjb25maXJtKG1lc3NhZ2UpO1xuICAgICAgaWYgKGNoYW5nZUZvcm0pIHtcbiAgICAgICAgdGhpcy5fbW9kZSA9IHByb3BzLm1vZGU7XG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IHByb3BzLnN1Ym1pdDtcbiAgICAgICAgdGhpcy5fcmVhbE9wZW4ocHJvcHMpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5fbW9kZSA9PSAnUkVQTFknICYmIHByb3BzLm1vZGUgPT0gJ1JFUExZJykge1xuICAgICAgdGhpcy5fcmVhbE9wZW4ocHJvcHMpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgX3JlYWxPcGVuKHByb3BzKSB7XG4gICAgaWYgKHByb3BzLm1vZGUgPT0gJ1BPTEwnKSB7XG4gICAgICBtb3VudChcbiAgICAgICAgPFBvbGxGb3JtIHsuLi5wcm9wc30gLz4sXG4gICAgICAgICdwb3N0aW5nLW1vdW50J1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW91bnQoXG4gICAgICAgIDxQb3N0aW5nQ29tcG9uZW50IHsuLi5wcm9wc30gLz4sXG4gICAgICAgICdwb3N0aW5nLW1vdW50J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9wbGFjZWhvbGRlci5hZGRDbGFzcygnc2xpZGUtaW4nKTtcblxuICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgIHNjcm9sbFRvcDogdGhpcy5fcGxhY2Vob2xkZXIub2Zmc2V0KCkudG9wXG4gICAgfSwgMTAwMCk7XG4gIH1cblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNPcGVuICYmICF0aGlzLl9pc0Nsb3NpbmcpIHtcbiAgICAgIHRoaXMuX2lzQ2xvc2luZyA9IHRydWU7XG4gICAgICB0aGlzLl9wbGFjZWhvbGRlci5yZW1vdmVDbGFzcygnc2xpZGUtaW4nKTtcblxuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3N0aW5nLW1vdW50JykpO1xuICAgICAgICB0aGlzLl9pc0Nsb3NpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG4gICAgICB9LCAzMDApO1xuICAgIH1cbiAgfTtcbiAgLy8ganNoaW50IGlnbm9yZTplbmRcbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFBvc3RpbmcoKTtcbiIsImltcG9ydCB7IHNob3dTbmFja2JhciwgaGlkZVNuYWNrYmFyIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NuYWNrYmFyJztcblxuY29uc3QgSElERV9BTklNQVRJT05fTEVOR1RIID0gMzAwO1xuY29uc3QgTUVTU0FHRV9TSE9XX0xFTkdUSCA9IDUwMDA7XG5cbmV4cG9ydCBjbGFzcyBTbmFja2JhciB7XG4gIGluaXQoc3RvcmUpIHtcbiAgICB0aGlzLl9zdG9yZSA9IHN0b3JlO1xuICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xuICB9XG5cbiAgYWxlcnQobWVzc2FnZSwgdHlwZSkge1xuICAgIGlmICh0aGlzLl90aW1lb3V0KSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goaGlkZVNuYWNrYmFyKCkpO1xuXG4gICAgICB0aGlzLl90aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5hbGVydChtZXNzYWdlLCB0eXBlKTtcbiAgICAgIH0sIEhJREVfQU5JTUFUSU9OX0xFTkdUSCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNob3dTbmFja2JhcihtZXNzYWdlLCB0eXBlKSk7XG4gICAgICB0aGlzLl90aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChoaWRlU25hY2tiYXIoKSk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xuICAgICAgfSwgTUVTU0FHRV9TSE9XX0xFTkdUSCk7XG4gICAgfVxuICB9XG5cbiAgLy8gc2hvcnRoYW5kcyBmb3IgbWVzc2FnZSB0eXBlc1xuXG4gIGluZm8obWVzc2FnZSkge1xuICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgJ2luZm8nKTtcbiAgfVxuXG4gIHN1Y2Nlc3MobWVzc2FnZSkge1xuICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgJ3N1Y2Nlc3MnKTtcbiAgfVxuXG4gIHdhcm5pbmcobWVzc2FnZSkge1xuICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgJ3dhcm5pbmcnKTtcbiAgfVxuXG4gIGVycm9yKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsICdlcnJvcicpO1xuICB9XG5cbiAgLy8gc2hvcnRoYW5kIGZvciBhcGkgZXJyb3JzXG5cbiAgYXBpRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSByZWplY3Rpb24uZGV0YWlsO1xuXG4gICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIG1lc3NhZ2UgPSBnZXR0ZXh0KFwiQWN0aW9uIGxpbmsgaXMgaW52YWxpZC5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlVua25vd24gZXJyb3IgaGFzIG9jY3VyZWQuXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgbWVzc2FnZSA9PT0gXCJQZXJtaXNzaW9uIGRlbmllZFwiKSB7XG4gICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIllvdSBkb24ndCBoYXZlIHBlcm1pc3Npb24gdG8gcGVyZm9ybSB0aGlzIGFjdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5lcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgU25hY2tiYXIoKTtcbiIsImltcG9ydCB7IGNvbWJpbmVSZWR1Y2VycywgY3JlYXRlU3RvcmUgfSBmcm9tICdyZWR1eCc7XG5cbmV4cG9ydCBjbGFzcyBTdG9yZVdyYXBwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zdG9yZSA9IG51bGw7XG4gICAgdGhpcy5fcmVkdWNlcnMgPSB7fTtcbiAgICB0aGlzLl9pbml0aWFsU3RhdGUgPSB7fTtcbiAgfVxuXG4gIGFkZFJlZHVjZXIobmFtZSwgcmVkdWNlciwgaW5pdGlhbFN0YXRlKSB7XG4gICAgdGhpcy5fcmVkdWNlcnNbbmFtZV0gPSByZWR1Y2VyO1xuICAgIHRoaXMuX2luaXRpYWxTdGF0ZVtuYW1lXSA9IGluaXRpYWxTdGF0ZTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBjcmVhdGVTdG9yZShcbiAgICAgIGNvbWJpbmVSZWR1Y2Vycyh0aGlzLl9yZWR1Y2VycyksIHRoaXMuX2luaXRpYWxTdGF0ZSk7XG4gIH1cblxuICBnZXRTdG9yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmU7XG4gIH1cblxuICAvLyBTdG9yZSBBUElcblxuICBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuZ2V0U3RhdGUoKTtcbiAgfVxuXG4gIGRpc3BhdGNoKGFjdGlvbikge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5kaXNwYXRjaChhY3Rpb24pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBTdG9yZVdyYXBwZXIoKTtcbiIsIi8qIGdsb2JhbCB6eGN2Ym4gKi9cbmV4cG9ydCBjbGFzcyBaeGN2Ym4ge1xuICBpbml0KGluY2x1ZGUpIHtcbiAgICB0aGlzLl9pbmNsdWRlID0gaW5jbHVkZTtcbiAgICB0aGlzLl9pc0xvYWRlZCA9IGZhbHNlO1xuICB9XG5cbiAgc2NvcmVQYXNzd29yZChwYXNzd29yZCwgaW5wdXRzKSB7XG4gICAgLy8gMC00IHNjb3JlLCB0aGUgbW9yZSB0aGUgc3Ryb25nZXIgcGFzc3dvcmRcbiAgICBpZiAodGhpcy5faXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiB6eGN2Ym4ocGFzc3dvcmQsIGlucHV0cykuc2NvcmU7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBsb2FkKCkge1xuICAgIGlmICghdGhpcy5faXNMb2FkZWQpIHtcbiAgICAgIHRoaXMuX2luY2x1ZGUuaW5jbHVkZSgnbWlzYWdvL2pzL3p4Y3Zibi5qcycpO1xuICAgICAgcmV0dXJuIHRoaXMuX2xvYWRpbmdQcm9taXNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9sb2FkZWRQcm9taXNlKCk7XG4gICAgfVxuICB9XG5cbiAgX2xvYWRpbmdQcm9taXNlKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHdhaXQgPSBmdW5jdGlvbih0cmllcz0wKSB7XG4gICAgICAgIHRyaWVzICs9IDE7XG4gICAgICAgIGlmICh0cmllcyA+IDIwMCkge1xuICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB6eGN2Ym4gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdhaXQodHJpZXMpO1xuICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5faXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHdhaXQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9sb2FkZWRQcm9taXNlKCkge1xuICAgIC8vIHdlIGhhdmUgYWxyZWFkeSBsb2FkZWQgenhjdmJuLmpzLCByZXNvbHZlIGF3YXkhXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgWnhjdmJuKCk7IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBQcm92aWRlciwgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQmFubmVkUGFnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9iYW5uZWQtcGFnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5sZXQgc2VsZWN0ID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnRpY2s7XG59O1xuXG5sZXQgUmVkcmF3ZWRCYW5uZWRQYWdlID0gY29ubmVjdChzZWxlY3QpKEJhbm5lZFBhZ2UpO1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYmFuLCBjaGFuZ2VTdGF0ZSkge1xuICBSZWFjdERPTS5yZW5kZXIoXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+XG4gICAgICA8UmVkcmF3ZWRCYW5uZWRQYWdlIG1lc3NhZ2U9e2Jhbi5tZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzPXtiYW4uZXhwaXJlc19vbiA/IG1vbWVudChiYW4uZXhwaXJlc19vbikgOiBudWxsfSAvPlxuICAgIDwvUHJvdmlkZXI+LFxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtbW91bnQnKVxuICApO1xuXG4gIGlmICh0eXBlb2YgY2hhbmdlU3RhdGUgPT09ICd1bmRlZmluZWQnIHx8IGNoYW5nZVN0YXRlKSB7XG4gICAgbGV0IGZvcnVtTmFtZSA9IG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuZm9ydW1fbmFtZTtcbiAgICBkb2N1bWVudC50aXRsZSA9IGdldHRleHQoXCJZb3UgYXJlIGJhbm5lZFwiKSArICcgfCAnICsgZm9ydW1OYW1lO1xuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgXCJcIiwgbWlzYWdvLmdldCgnQkFOTkVEX1VSTCcpKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGxpc3QsIHJvd1dpZHRoLCBwYWRkaW5nPWZhbHNlKSB7XG4gIGxldCByb3dzID0gW107XG4gIGxldCByb3cgPSBbXTtcblxuICBsaXN0LmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJvdy5wdXNoKGVsZW1lbnQpO1xuICAgIGlmIChyb3cubGVuZ3RoID09PSByb3dXaWR0aCkge1xuICAgICAgcm93cy5wdXNoKHJvdyk7XG4gICAgICByb3cgPSBbXTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHBhZCByb3cgdG8gcmVxdWlyZWQgbGVuZ3RoP1xuICBpZiAocGFkZGluZyAhPT0gZmFsc2UgJiYgcm93Lmxlbmd0aCA+IDAgJiYgcm93Lmxlbmd0aCA8IHJvd1dpZHRoKSB7XG4gICAgZm9yIChsZXQgaSA9IHJvdy5sZW5ndGg7IGkgPCByb3dXaWR0aDsgaSArKykge1xuICAgICAgcm93LnB1c2gocGFkZGluZyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJvdy5sZW5ndGgpIHtcbiAgICByb3dzLnB1c2gocm93KTtcbiAgfVxuXG4gIHJldHVybiByb3dzO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgbGV0IGlkcyA9IFtdO1xuICByZXR1cm4gYS5jb25jYXQoYikuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBpZiAoaWRzLmluZGV4T2YoaXRlbS5pZCkgPT09IC0xKSB7XG4gICAgICBpZHMucHVzaChpdGVtLmlkKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCBjb3VudCkge1xuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fY291bnQgPSBjb3VudDtcbiAgfVxuXG4gIGNvdW50KCkge1xuICAgIHRoaXMuX2NvdW50IC09IDE7XG4gICAgaWYgKHRoaXMuX2NvdW50ID09PSAwKSB7XG4gICAgICB0aGlzLl9jYWxsYmFjaygpO1xuICAgIH1cbiAgfVxufSIsImNvbnN0IG1hcCA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjMDM5Oydcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvWyY8PlwiJ10vZywgZnVuY3Rpb24obSkgeyByZXR1cm4gbWFwW21dOyB9KTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihieXRlcykge1xuICBpZiAoYnl0ZXMgPiAxMDI0ICogMTAyNCAqIDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gKDEwMjQgKiAxMDI0ICogMTAyNCkpICsgJyBHQic7XG4gIH0gZWxzZSBpZiAoYnl0ZXMgPiAxMDI0ICogMTAyNCkge1xuICAgIHJldHVybiByb3VuZFNpemUoYnl0ZXMgLyAoMTAyNCAqIDEwMjQpKSArICcgTUInO1xuICB9IGVsc2UgaWYgKGJ5dGVzID4gMTAyNCkge1xuICAgIHJldHVybiByb3VuZFNpemUoYnl0ZXMgLyAxMDI0KSArICcgS0InO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByb3VuZFNpemUoYnl0ZXMpICsgJyBCJztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcm91bmRTaXplKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS50b0ZpeGVkKDEpO1xufSIsImNvbnN0IFVSTF9QQVRURVJOID0gbmV3IFJlZ0V4cCgnXihodHRwcz86XFxcXC9cXFxcLyk/KCgoW2EtelxcXFxkXShbYS16XFxcXGQtXSpbYS16XFxcXGRdKSopXFxcXC4pK1thLXpdezIsfXwoKFxcXFxkezEsM31cXFxcLil7M31cXFxcZHsxLDN9KSkoXFxcXDpcXFxcZCspPyhcXFxcL1stYS16XFxcXGQlXy5+K10qKSooXFxcXD9bOyZhLXpcXFxcZCVfLn4rPS1dKik/KFxcXFwjWy1hLXpcXFxcZF9dKik/JCcsJ2knKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBVUkxfUEFUVEVSTi50ZXN0KCQudHJpbShzdHIpKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihDb21wb25lbnQsIHJvb3RFbGVtZW50SWQsIGNvbm5lY3RlZD10cnVlKSB7XG4gIGxldCByb290RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJvb3RFbGVtZW50SWQpO1xuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgbGV0IGZpbmFsQ29tcG9uZW50ID0gQ29tcG9uZW50LnByb3BzID8gQ29tcG9uZW50IDogPENvbXBvbmVudCAvPjtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBpZiAocm9vdEVsZW1lbnQpIHtcbiAgICBpZiAoY29ubmVjdGVkKSB7XG4gICAgICBSZWFjdERPTS5yZW5kZXIoXG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZS5nZXRTdG9yZSgpfT5cbiAgICAgICAgICB7ZmluYWxDb21wb25lbnR9XG4gICAgICAgIDwvUHJvdmlkZXI+LFxuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgICByb290RWxlbWVudFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgUmVhY3RET00ucmVuZGVyKGZpbmFsQ29tcG9uZW50LCByb290RWxlbWVudCk7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxufVxuIiwiY2xhc3MgT3JkZXJlZExpc3Qge1xuICAgIGNvbnN0cnVjdG9yKGl0ZW1zKSB7XG4gICAgICB0aGlzLmlzT3JkZXJlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5faXRlbXMgPSBpdGVtcyB8fCBbXTtcbiAgICB9XG5cbiAgICBhZGQoa2V5LCBpdGVtLCBvcmRlcikge1xuICAgICAgdGhpcy5faXRlbXMucHVzaCh7XG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBpdGVtOiBpdGVtLFxuXG4gICAgICAgIGFmdGVyOiBvcmRlciA/IG9yZGVyLmFmdGVyIHx8IG51bGwgOiBudWxsLFxuICAgICAgICBiZWZvcmU6IG9yZGVyID8gb3JkZXIuYmVmb3JlIHx8IG51bGwgOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5faXRlbXNbaV0ua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5faXRlbXNbaV0uaXRlbTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgaGFzKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KGtleSkgIT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YWx1ZXMoKSB7XG4gICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKHRoaXMuX2l0ZW1zW2ldLml0ZW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICBvcmRlcih2YWx1ZXNfb25seSkge1xuICAgICAgaWYgKCF0aGlzLmlzT3JkZXJlZCkge1xuICAgICAgICB0aGlzLl9pdGVtcyA9IHRoaXMuX29yZGVyKHRoaXMuX2l0ZW1zKTtcbiAgICAgICAgdGhpcy5pc09yZGVyZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodmFsdWVzX29ubHkgfHwgdHlwZW9mIHZhbHVlc19vbmx5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBvcmRlcmVkVmFsdWVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMub3JkZXIodHJ1ZSk7XG4gICAgfVxuXG4gICAgX29yZGVyKHVub3JkZXJlZCkge1xuICAgICAgLy8gSW5kZXggb2YgdW5vcmRlcmVkIGl0ZW1zXG4gICAgICB2YXIgaW5kZXggPSBbXTtcbiAgICAgIHVub3JkZXJlZC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGluZGV4LnB1c2goaXRlbS5rZXkpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE9yZGVyZWQgaXRlbXNcbiAgICAgIHZhciBvcmRlcmVkID0gW107XG4gICAgICB2YXIgb3JkZXJpbmcgPSBbXTtcblxuICAgICAgLy8gRmlyc3QgcGFzczogcmVnaXN0ZXIgaXRlbXMgdGhhdFxuICAgICAgLy8gZG9uJ3Qgc3BlY2lmeSB0aGVpciBvcmRlclxuICAgICAgdW5vcmRlcmVkLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKCFpdGVtLmFmdGVyICYmICFpdGVtLmJlZm9yZSkge1xuICAgICAgICAgIG9yZGVyZWQucHVzaChpdGVtKTtcbiAgICAgICAgICBvcmRlcmluZy5wdXNoKGl0ZW0ua2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFNlY29uZCBwYXNzOiByZWdpc3RlciBpdGVtcyB0aGF0XG4gICAgICAvLyBzcGVjaWZ5IHRoZWlyIGJlZm9yZSB0byBcIl9lbmRcIlxuICAgICAgdW5vcmRlcmVkLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0uYmVmb3JlID09PSBcIl9lbmRcIikge1xuICAgICAgICAgIG9yZGVyZWQucHVzaChpdGVtKTtcbiAgICAgICAgICBvcmRlcmluZy5wdXNoKGl0ZW0ua2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFRoaXJkIHBhc3M6IGtlZXAgaXRlcmF0aW5nIGl0ZW1zXG4gICAgICAvLyB1bnRpbCB3ZSBoaXQgaXRlcmF0aW9ucyBsaW1pdCBvciBmaW5pc2hcbiAgICAgIC8vIG9yZGVyaW5nIGxpc3RcbiAgICAgIGZ1bmN0aW9uIGluc2VydEl0ZW0oaXRlbSkge1xuICAgICAgICB2YXIgaW5zZXJ0QXQgPSAtMTtcbiAgICAgICAgaWYgKG9yZGVyaW5nLmluZGV4T2YoaXRlbS5rZXkpID09PSAtMSkge1xuICAgICAgICAgIGlmIChpdGVtLmFmdGVyKSB7XG4gICAgICAgICAgICBpbnNlcnRBdCA9IG9yZGVyaW5nLmluZGV4T2YoaXRlbS5hZnRlcik7XG4gICAgICAgICAgICBpZiAoaW5zZXJ0QXQgIT09IC0xKSB7XG4gICAgICAgICAgICAgIGluc2VydEF0ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmJlZm9yZSkge1xuICAgICAgICAgICAgaW5zZXJ0QXQgPSBvcmRlcmluZy5pbmRleE9mKGl0ZW0uYmVmb3JlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaW5zZXJ0QXQgIT09IC0xKSB7XG4gICAgICAgICAgICBvcmRlcmVkLnNwbGljZShpbnNlcnRBdCwgMCwgaXRlbSk7XG4gICAgICAgICAgICBvcmRlcmluZy5zcGxpY2UoaW5zZXJ0QXQsIDAsIGl0ZW0ua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAyMDA7XG4gICAgICB3aGlsZSAoaXRlcmF0aW9ucyA+IDAgJiYgaW5kZXgubGVuZ3RoICE9PSBvcmRlcmluZy5sZW5ndGgpIHtcbiAgICAgICAgaXRlcmF0aW9ucyAtPSAxO1xuICAgICAgICB1bm9yZGVyZWQuZm9yRWFjaChpbnNlcnRJdGVtKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9yZGVyZWQ7XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0IGRlZmF1bHQgT3JkZXJlZExpc3Q7XG4iLCJleHBvcnQgZnVuY3Rpb24gaW50KG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSkgKyBtaW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYW5nZShtaW4sIG1heCkge1xuICBsZXQgYXJyYXkgPSBuZXcgQXJyYXkoaW50KG1pbiwgbWF4KSk7XG4gIGZvcihsZXQgaT0wOyBpPGFycmF5Lmxlbmd0aDsgaSsrKXtcbiAgICBhcnJheVtpXSA9IGk7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IFJvdXRlciwgYnJvd3Nlckhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtbW91bnQnKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob3B0aW9ucykge1xuICBsZXQgcm91dGVzID0ge1xuICAgIGNvbXBvbmVudDogb3B0aW9ucy5jb21wb25lbnQgfHwgbnVsbCxcbiAgICBjaGlsZFJvdXRlczogW11cbiAgfTtcblxuICBpZiAob3B0aW9ucy5yb290KSB7XG4gICAgcm91dGVzLmNoaWxkUm91dGVzID0gW1xuICAgICAge1xuICAgICAgICBwYXRoOiBvcHRpb25zLnJvb3QsXG4gICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uKG5leHRTdGF0ZSwgcmVwbGFjZVN0YXRlKSB7XG4gICAgICAgICAgcmVwbGFjZVN0YXRlKG51bGwsIG9wdGlvbnMucGF0aHNbMF0ucGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdLmNvbmNhdChvcHRpb25zLnBhdGhzKTtcbiAgfSBlbHNlIHtcbiAgICByb3V0ZXMuY2hpbGRSb3V0ZXMgPSBvcHRpb25zLnBhdGhzO1xuICB9XG5cbiAgUmVhY3RET00ucmVuZGVyKFxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+XG4gICAgICA8Um91dGVyIHJvdXRlcz17cm91dGVzfSBoaXN0b3J5PXticm93c2VySGlzdG9yeX0gLz5cbiAgICA8L1Byb3ZpZGVyPixcbiAgICByb290RWxlbWVudFxuICApO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHB1c2goYXJyYXksIHZhbHVlKSB7XG4gIGlmIChhcnJheS5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICBsZXQgY29weSA9IGFycmF5LnNsaWNlKCk7XG4gICAgY29weS5wdXNoKHZhbHVlKTtcbiAgICByZXR1cm4gY29weTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgdmFsdWUpIHtcbiAgaWYgKGFycmF5LmluZGV4T2YodmFsdWUpID49IDApIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJldHVybiBpICE9PSB2YWx1ZTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZShhcnJheSwgdmFsdWUpIHtcbiAgaWYgKGFycmF5LmluZGV4T2YodmFsdWUpID09PSAtMSkge1xuICAgIGxldCBjb3B5ID0gYXJyYXkuc2xpY2UoKTtcbiAgICBjb3B5LnB1c2godmFsdWUpO1xuICAgIHJldHVybiBjb3B5O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oaSkge1xuICAgICAgcmV0dXJuIGkgIT09IHZhbHVlO1xuICAgIH0pO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RyaW5nLCBzdWJTdHJpbmcpIHtcbiAgc3RyaW5nID0gKHN0cmluZyArIFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gIHN1YlN0cmluZyA9IChzdWJTdHJpbmcgKyBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuXG4gIGlmIChzdWJTdHJpbmcubGVuZ3RoIDw9IDApIHJldHVybiAwO1xuXG4gIGxldCBuID0gMDtcbiAgbGV0IHBvcyA9IDA7XG4gIGxldCBzdGVwID0gc3ViU3RyaW5nLmxlbmd0aDtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHBvcyA9IHN0cmluZy5pbmRleE9mKHN1YlN0cmluZywgcG9zKTtcbiAgICBpZiAocG9zID49IDApIHtcbiAgICAgIG4gKz0gMTtcbiAgICAgIHBvcyArPSBzdGVwO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbjtcbn0iLCJjb25zdCBFTUFJTCA9IC9eKChbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXStcXC4pK1tePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl17Mix9KSQvaTtcbmNvbnN0IFVTRVJOQU1FID0gbmV3IFJlZ0V4cCgnXlswLTlhLXpdKyQnLCAnaScpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZWQobWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsIHx8ICQudHJpbSh2YWx1ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZSB8fCBnZXR0ZXh0KFwiVGhpcyBmaWVsZCBpcyByZXF1aXJlZC5cIik7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZWRUZXJtc09mU2VydmljZShtZXNzYWdlKSB7XG4gIGNvbnN0IGVycm9yID0gZ2V0dGV4dChcIllvdSBoYXZlIHRvIGFjY2VwdCB0aGUgdGVybXMgb2Ygc2VydmljZS5cIik7XG4gIHJldHVybiByZXF1aXJlZChtZXNzYWdlIHx8IGVycm9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVkUHJpdmFjeVBvbGljeShtZXNzYWdlKSB7XG4gIGNvbnN0IGVycm9yID0gZ2V0dGV4dChcIllvdSBoYXZlIHRvIGFjY2VwdCB0aGUgcHJpdmFjeSBwb2xpY3kuXCIpO1xuICByZXR1cm4gcmVxdWlyZWQobWVzc2FnZSB8fCBlcnJvcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbWFpbChtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghRU1BSUwudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBtZXNzYWdlIHx8IGdldHRleHQoXCJFbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbkxlbmd0aChsaW1pdFZhbHVlLCBtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXR1cm5NZXNzYWdlID0gJyc7XG4gICAgdmFyIGxlbmd0aCA9ICQudHJpbSh2YWx1ZSkubGVuZ3RoO1xuXG4gICAgaWYgKGxlbmd0aCA8IGxpbWl0VmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBtZXNzYWdlKGxpbWl0VmFsdWUsIGxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgICAgXCJFbnN1cmUgdGhpcyB2YWx1ZSBoYXMgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgICBcIkVuc3VyZSB0aGlzIHZhbHVlIGhhcyBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgICBsaW1pdFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShyZXR1cm5NZXNzYWdlLCB7XG4gICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1heExlbmd0aChsaW1pdFZhbHVlLCBtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXR1cm5NZXNzYWdlID0gJyc7XG4gICAgdmFyIGxlbmd0aCA9ICQudHJpbSh2YWx1ZSkubGVuZ3RoO1xuXG4gICAgaWYgKGxlbmd0aCA+IGxpbWl0VmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybk1lc3NhZ2UgPSBtZXNzYWdlKGxpbWl0VmFsdWUsIGxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgICAgXCJFbnN1cmUgdGhpcyB2YWx1ZSBoYXMgYXQgbW9zdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICAgIFwiRW5zdXJlIHRoaXMgdmFsdWUgaGFzIGF0IG1vc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgICAgbGltaXRWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUocmV0dXJuTWVzc2FnZSwge1xuICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZU1pbkxlbmd0aChsZW5ndGhNaW4pIHtcbiAgdmFyIG1lc3NhZ2UgPSBmdW5jdGlvbihsZW5ndGhNaW4pIHtcbiAgICByZXR1cm4gbmdldHRleHQoXG4gICAgICBcIlVzZXJuYW1lIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nLlwiLFxuICAgICAgXCJVc2VybmFtZSBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIGxvbmcuXCIsXG4gICAgICBsZW5ndGhNaW4pO1xuICB9O1xuICByZXR1cm4gbWluTGVuZ3RoKGxlbmd0aE1pbiwgbWVzc2FnZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZU1heExlbmd0aChsZW5ndGhNYXgpIHtcbiAgdmFyIG1lc3NhZ2UgPSBmdW5jdGlvbihsZW5ndGhNYXgpIHtcbiAgICByZXR1cm4gbmdldHRleHQoXG4gICAgICBcIlVzZXJuYW1lIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyLlwiLFxuICAgICAgXCJVc2VybmFtZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMuXCIsXG4gICAgICBsZW5ndGhNYXgpO1xuICB9O1xuICByZXR1cm4gbWF4TGVuZ3RoKGxlbmd0aE1heCwgbWVzc2FnZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VybmFtZUNvbnRlbnQoKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghVVNFUk5BTUUudGVzdCgkLnRyaW0odmFsdWUpKSkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJVc2VybmFtZSBjYW4gb25seSBjb250YWluIGxhdGluIGFscGhhYmV0IGxldHRlcnMgYW5kIGRpZ2l0cy5cIik7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFzc3dvcmRNaW5MZW5ndGgobGltaXRWYWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBjb25zdCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG5cbiAgICBpZiAobGVuZ3RoIDwgbGltaXRWYWx1ZSkge1xuICAgICAgY29uc3QgcmV0dXJuTWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIlZhbGlkIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciBsb25nLlwiLFxuICAgICAgICBcIlZhbGlkIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgbG9uZy5cIixcbiAgICAgICAgbGltaXRWYWx1ZSk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShyZXR1cm5NZXNzYWdlLCB7XG4gICAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfTtcbn0iXX0=
